(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1653:function(e,t,n){"use strict";var r=n(11),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},a=n(22),c=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="BarsOutlined";t.a=o.forwardRef(c)},1924:function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function o(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function i(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return o(n.overflowY,t)||o(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,o,i,a,c){return i<e&&a>t||i>e&&a<t?0:i<=e&&c<=n||a>=t&&c>=n?i-e-r:a>t&&c<n||i<e&&c>n?a-t+o:0}var c=function(e,t){var n=window,o=t.scrollMode,c=t.block,l=t.inline,s=t.boundary,u=t.skipOverflowHiddenElements,d="function"==typeof s?s:function(e){return e!==s};if(!r(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,h=[],p=e;r(p)&&d(p);){if((p=p.parentElement)===f){h.push(p);break}null!=p&&p===document.body&&i(p)&&!i(document.documentElement)||null!=p&&i(p,u)&&h.push(p)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),w=b.height,x=b.width,_=b.top,k=b.right,C=b.bottom,R=b.left,N="start"===c||"nearest"===c?_:"end"===c?C:_+w/2,E="center"===l?R+x/2:"end"===l?k:R,O=[],D=0;D<h.length;D++){var S=h[D],B=S.getBoundingClientRect(),P=B.height,F=B.width,T=B.top,M=B.right,L=B.bottom,A=B.left;if("if-needed"===o&&_>=0&&R>=0&&C<=m&&k<=v&&_>=T&&C<=L&&R>=A&&k<=M)return O;var I=getComputedStyle(S),j=parseInt(I.borderLeftWidth,10),V=parseInt(I.borderTopWidth,10),z=parseInt(I.borderRightWidth,10),U=parseInt(I.borderBottomWidth,10),H=0,q=0,W="offsetWidth"in S?S.offsetWidth-S.clientWidth-j-z:0,Z="offsetHeight"in S?S.offsetHeight-S.clientHeight-V-U:0;if(f===S)H="start"===c?N:"end"===c?N-m:"nearest"===c?a(g,g+m,m,V,U,g+N,g+N+w,w):N-m/2,q="start"===l?E:"center"===l?E-v/2:"end"===l?E-v:a(y,y+v,v,j,z,y+E,y+E+x,x),H=Math.max(0,H+g),q=Math.max(0,q+y);else{H="start"===c?N-T-V:"end"===c?N-L+U+Z:"nearest"===c?a(T,L,P,V,U+Z,N,N+w,w):N-(T+P/2)+Z/2,q="start"===l?E-A-j:"center"===l?E-(A+F/2)+W/2:"end"===l?E-M+z+W:a(A,M,F,j,z+W,E,E+x,x);var K=S.scrollLeft,$=S.scrollTop;N+=$-(H=Math.max(0,Math.min($+H,S.scrollHeight-P+Z))),E+=K-(q=Math.max(0,Math.min(K+q,S.scrollWidth-F+W)))}O.push({el:S,top:H,left:q})}return O};function l(e){return e===Object(e)&&0!==Object.keys(e).length}t.a=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:c(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(c(e,r),r.behavior)}}},1926:function(e,t,n){"use strict";var r=n(11),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},a=n(22),c=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="QuestionCircleOutlined";t.a=o.forwardRef(c)},1975:function(e,t,n){"use strict";n.r(t),n.d(t,"createCoreEditor",(function(){return zk})),n.d(t,"createDocViewer",(function(){return XY})),n.d(t,"createMajorEditor",(function(){return QY})),n.d(t,"createMicroEditor",(function(){return tG})),n.d(t,"createMinorEditor",(function(){return eG})),n.d(t,"createNoteEditor",(function(){return nG}));var r=n(6),o=n.n(r),i=n(7),a=n.n(i),c=n(5),l=n.n(c),s=n(9),u=n.n(s),d=n(10),f=n.n(d),h=n(4),p=n.n(h),v=n(3),m=n.n(v),y=n(3079),g=n.n(y),b=n(2095),w=n(29),x=n.n(w),_=n(3212),k=n.n(_),C=n(51),R=n.n(C),N=n(19),E=n.n(N),O=n(120),D=n.n(O),S=n(24),B=n.n(S),P=n(3080),F=n(180),T=n.n(F),M=n(3220),L=n(514),A=n.n(L),I=n(106),j=n.n(I),V=n(44),z=n.n(V);const U=[/^.*?\.yuque\.com$/i,"cdn.nlark.com","yuque.antfin.com","yuque.antfin-inc.com","intranetproxy.alipay.com","lark-assets-dev-aliyun.oss-cn-hangzhou.aliyuncs.com","lark-assets-test-aliyun.oss-cn-hangzhou.aliyuncs.com"];function H(e,t,n){"string"==typeof e&&(e=new URL(e));let r=e.searchParams.get("x-oss-process");return r?r.includes(`/${t},`)||(r+=`/${t},${n}`):r=`image/${t},${n}`,e.searchParams.set("x-oss-process",r),e.toString()}function q(e,t){let n=null;try{n=new URL(e).host}catch(e){}if(!n)return!1;for(let e=0,r=t.length;e<r;e++){const r=t[e];if("string"==typeof r){if(r===n)return!0}else if(r.test&&r.test(n))return!0}return!1}"undefined"!=typeof window&&void 0!==window.location&&U.push(window.location.host);var W=n(17),Z=n(69),K=n.n(Z),$=n(340),J=n.n($),Y=n(341),G=n.n(Y),X=n(2116),Q=n.n(X),ee=n(563),te=n.n(ee),ne=n(650),re=n.n(ne),oe=n(2723),ie=n.n(oe),ae=n(2732),ce=n.n(ae),le=n(3213),se=n.n(le),ue=n(3214),de=n.n(ue),fe=n(3215),he=n.n(fe),pe=n(3216),ve=n.n(pe),me=(n(3217),n(296)),ye=n.n(me),ge=n(33),be=n.n(ge),we=n(54),xe=n.n(we),_e=n(20),ke=n.n(_e),Ce=n(0),Re=n.n(Ce),Ne=n(30),Ee=n.n(Ne),Oe=n(1),De=n.n(Oe),Se=(n(420),n(210)),Be=(n(400),n(197)),Pe=(n(1551),n(256)),Fe=n(42),Te=(n(1728),n(623)),Me=(n(356),n(134)),Le=(n(501),n(174)),Ae=n(243),Ie=n.n(Ae),je=(n(852),n(358)),Ve=n(2304),ze=n.n(Ve),Ue=n(505),He=n.n(Ue),qe=n(3090),We=n.n(qe),Ze=n(1973),Ke=n.n(Ze),$e=function(){function e(t){o()(this,e),m()(this,"_define",null),this._define="string"==typeof t?{type:t}:t}return a()(e,[{key:"getDefaultValue",value:function(){return"function"==typeof this._define.defaultValue?this._define.defaultValue():this._define.defaultValue}},{key:"parseValue",value:function(e){switch(this._define.type){case"object":if("string"==typeof e)try{return JSON.parse(e)}catch(t){console.error("parse object error",e)}return e;case"string":return"string"!=typeof e?String(e):e;case"number":return"number"!=typeof e?Number(e):e;case"boolean":return"boolean"!=typeof e?["true","True","TRUE",1].includes(e):e;case"date":return e instanceof Date?e:new Date(e);default:return e}}},{key:"_checkType",value:function(e){switch(this._define.type){case"array":return Array.isArray(e);case"object":return"object"===R()(e);case"string":return"string"==typeof e;case"number":return"number"==typeof e;case"boolean":return"boolean"==typeof e;case"date":return e instanceof Date||/\d{13}/.test(e);default:return!1}}},{key:"validate",value:function(e,t){return this._define.validate?this._define.validate(e,t):!(!this._define.allowNull&&void 0===e||void 0!==e&&this._define.type&&!this._checkType(e))}}]),e}(),Je=function(){function e(t,n){var r=this;o()(this,e),m()(this,"_define",null),m()(this,"_fieldMap",new Map),m()(this,"_data",null),this._define=t,n&&this.setData(n),Object.keys(this._define).forEach((function(e){r._fieldMap.set(e,new $e(r._define[e]))}))}return a()(e,[{key:"_getField",value:function(e){return this._fieldMap.get(e)}},{key:"_parseData",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){var o=t._getField(r),i=e[r];n[r]=o?o.parseValue(i):i})),n}},{key:"setData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._data=this._parseData(e)}},{key:"getValue",value:function(e){var t=this._getField(e);return e in this._data?this._data[e]:t.getDefaultValue()}},{key:"setValue",value:function(e,t){return this._getField(e).validate(t,this._data)?(this._data[e]=t,!0):(console.warn("validate error",e,t),!1)}},{key:"toJson",value:function(){return this._data}},{key:"toString",value:function(){return JSON.stringify(this._data)}}]),e}(),Ye=function(){function e(t){o()(this,e),m()(this,"_webProxy",null),this._webProxy=t}var t,n,r,i,c;return a()(e,[{key:"query",value:(c=xe()(ke.a.mark((function e(t){var n,r,o,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.sheetId,e.next=3,this._webProxy.datasheetRecord.find({docId:n,docType:r,sheetId:o,offset:0,limit:1});case 3:return i=e.sent,e.abrupt("return",i&&i[0]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"create",value:(i=xe()(ke.a.mark((function e(t){var n,r,o,i,a,c,l;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.sheetId,i=t.record,a=t.viewId,c=t.viewType,l=t.loadType,e.next=3,this._webProxy.datasheetRecord.create({docId:n,docType:r,sheetId:o,data:[i],viewId:a,type:c,loadType:l});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"update",value:(r=xe()(ke.a.mark((function e(t){var n,r,o,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.record,i=t.viewType,e.next=3,this._webProxy.datasheetRecord.update({docId:n,docType:r,type:i,data:[o]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"remove",value:(n=xe()(ke.a.mark((function e(t){var n,r,o,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.record,i=t.viewType,e.next=3,this._webProxy.datasheetRecord.destroy({docId:n,docType:r,type:i,ids:[o.id]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"restore",value:(t=xe()(ke.a.mark((function e(t){var n,r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.record,e.next=3,this._webProxy.datasheetRecord.restore({docId:n,docType:r,ids:[o.id]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Ge="abcdefghigklmnopqrstuvwxyz",Xe=Ge+"0123456789"+Ge.toUpperCase(),Qe=function(){function e(t,n){o()(this,e),m()(this,"_schemeDefine",null),m()(this,"_scheme",null),m()(this,"_rawWebProxy",null),m()(this,"_recordWebProxy",null),m()(this,"_rawData",{}),m()(this,"_rawRecord",null),m()(this,"_ready",!1),m()(this,"_docId",null),m()(this,"_docType",null),m()(this,"_sheetId",null),m()(this,"_viewType",null),m()(this,"_loadType",e.LOAD_TYPE.async),m()(this,"_isChanged",!1),this._schemeDefine=this.constructor.scheme,this._loadType=this.constructor.loadType||e.LOAD_TYPE.async,this._rawWebProxy=t.webProxy,this._recordWebProxy=new Ye(t.webProxy),this._docId=t.docId,this._docType=t.docType,this._sheetId=t.sheetId,this._viewType=t.viewType,this._scheme=new Je(this._schemeDefine),this.initRecordModel(n)}var t;return a()(e,[{key:"initRecordModel",value:function(e){if(this._rawRecord=e,e&&(this._ready=!0,this._uuid=e.uuid,e.data)){var t=e.data;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){t={}}this._rawData=t}this._scheme.setData(this._rawData)}},{key:"getValue",value:function(e){return this._scheme.getValue(e)}},{key:"setValue",value:function(e,t){return this.getValue(e,t)!==t&&(this._isChanged=!0),this._scheme.setValue(e,t)}},{key:"isReady",value:function(){return!0===this._ready}},{key:"getRecordData",value:function(){return{id:this._uuid,data:this._scheme.toString()}}},{key:"sync",value:function(){if(this._isChanged)return this._isChanged=!1,this._uuid?this.update():this.create()}},{key:"create",value:function(){return this._uuid=function(e){if((e=e||32)<2)throw new RangeError("n 不能小于 2");for(var t="",n=0;n<e;n++)t+=Xe.charAt(Math.floor(Math.random()*Xe.length));return t}(32),this._recordWebProxy.create({docId:this._docId,docType:this._docType,sheetId:this._sheetId,loadType:this._loadType,viewType:this._viewType,record:this.getRecordData()})}},{key:"query",value:(t=xe()(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._recordWebProxy.query({docId:this._docId,docType:this._docType,sheetId:this._sheetId});case 2:t=e.sent,this.initRecordModel(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"update",value:function(){return this._recordWebProxy.update({docId:this._docId,docType:this._docType,viewType:this._viewType,record:this.getRecordData()})}},{key:"remove",value:function(){return this._recordWebProxy.remove({docId:this._docId,docType:this._docType,viewType:this._viewType,record:this.getRecordData()})}},{key:"restore",value:function(){return this._recordWebProxy.restore({docId:this._docId,docType:this._docType,record:this.getRecordData()})}}]),e}();m()(Qe,"LOAD_TYPE",{async:0,sync:1});var et=["docId","docType","sheetId","limit"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;o()(this,e),m()(this,"_webProxy",null),m()(this,"_max",50),this._webProxy=t,this._max=n}var t,n,r,i,c,l,s;return a()(e,[{key:"query",value:(s=xe()(ke.a.mark((function e(t){var n,r,o,i,a,c;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.sheetId,i=t.limit,a=j()(t,et),e.next=3,this._webProxy.datasheetRecord.find(nt({docId:n,docType:r,sheetId:o,offset:0,limit:i||1e3},a));case 3:return c=e.sent,e.abrupt("return",c||[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"create",value:(l=xe()(ke.a.mark((function e(t){var n,r,o,i,a,c,l;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.sheetId,i=t.record,a=t.viewId,c=t.viewType,l=t.loadType,e.next=3,this.batchCreate({docId:n,docType:r,sheetId:o,records:[i],viewId:a,viewType:c,loadType:l});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"batchCreate",value:(c=xe()(ke.a.mark((function e(t){var n,r,o,i,a,c,l,s,u=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.sheetId,i=t.records,a=t.viewId,c=t.viewType,l=t.loadType,s=Ke()(i,this._max),e.next=4,We()(s.map((function(e){return xe()(ke.a.mark((function t(){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u._webProxy.datasheetRecord.create({docId:n,docType:r,sheetId:o,data:e,viewId:a,type:c,loadType:l});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"update",value:(i=xe()(ke.a.mark((function e(t){var n,r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.record,e.next=3,this.batchUpdate({docId:n,docType:r,records:[o]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"batchUpdate",value:(r=xe()(ke.a.mark((function e(t){var n,r,o,i,a=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.records,i=Ke()(o,this._max),e.next=4,We()(i.map((function(e){return xe()(ke.a.mark((function t(){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._webProxy.datasheetRecord.update({docId:n,docType:r,data:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"remove",value:(n=xe()(ke.a.mark((function e(t){var n,r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.record,e.next=3,this.batchRemove({docId:n,docType:r,records:[o]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"batchRemove",value:(t=xe()(ke.a.mark((function e(t){var n,r,o,i,a=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docId,r=t.docType,o=t.records,i=Ke()(o,this._max),e.next=4,We()(i.map((function(e){return xe()(ke.a.mark((function t(){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a._webProxy.datasheetRecord.destroy({docId:n,docType:r,data:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=function(){function e(t){o()(this,e),m()(this,"_recordModel",null),m()(this,"_baseParams",null),m()(this,"_rawWebProxy",null),m()(this,"_recordsWebProxy",null),m()(this,"_docId",null),m()(this,"_docType",null),m()(this,"_sheetId",null),m()(this,"_ready",!1),m()(this,"_rawRecords",null),m()(this,"_records",[]),this._recordModel=this.constructor.recordModel,this._baseParams=t,this._docId=t.docId,this._docType=t.docType,this._sheetId=t.sheetId,this._rawWebProxy=t.webProxy,this._recordsWebProxy=new rt(t.webProxy)}var t;return a()(e,[{key:"isReady",value:function(){return!0===this._ready}},{key:"getRecords",value:function(){return this._records}},{key:"initRecordsModel",value:function(e){var t=this;return this._rawRecords=e,e&&(this._ready=!0,this._records=this._rawRecords.map((function(e){return t.createRecord(e)}))),this.getRecords()}},{key:"query",value:(t=xe()(ke.a.mark((function e(t){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._recordsWebProxy.query(it({docId:this._docId,docType:this._docType,sheetId:this._sheetId},t));case 2:return n=e.sent,e.abrupt("return",this.initRecordsModel(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createRecord",value:function(e){return new this._recordModel(this._baseParams,e)}}]),e}(),ct=n(71),lt=n.n(ct),st=n(3218),ut=n.n(st),dt=n(266),ft=(n(597),n(279)),ht=(n(596),n(265)),pt=(n(2073),n(556)),vt=(n(835),n(276)),mt=n(8),yt=n.n(mt),gt=(n(286),n(133)),bt=n(121),wt=n(25),xt=n(26),_t=n(23),kt=n(85),Ct=n.n(kt),Rt=n(198),Nt=n(240),Et=n(239),Ot=n(237),Dt=n(81),St=n.n(Dt),Bt=(n(1555),n(506)),Pt=n(125),Ft=n.n(Pt),Tt=(n(2072),n(1722)),Mt=(n(598),n(182)),Lt=n(2305),At=n.n(Lt),It=n(2725),jt=n.n(It),Vt=n(2754),zt=n.n(Vt),Ut=n(310),Ht=(n(402),n(2760)),qt=n(1746),Wt=(n(1720),n(620)),Zt=(n(1965),n(649));function Kt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&$t(e,t)}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Xt(e){return function(e){if(Array.isArray(e))return Qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function ln(e){return Array.isArray?Array.isArray(e):"[object Array]"===vn(e)}function sn(e){return"string"==typeof e}function un(e){return"number"==typeof e}function dn(e){return!0===e||!1===e||function(e){return fn(e)&&null!==e}(e)&&"[object Boolean]"==vn(e)}function fn(e){return"object"===cn(e)}function hn(e){return null!=e}function pn(e){return!e.trim().length}function vn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var mn=function(e){return"Invalid value for key ".concat(e)},yn=function(e){return"Pattern length exceeds max of ".concat(e,".")},gn=Object.prototype.hasOwnProperty,bn=function(){function e(t){var n=this;rn(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=wn(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return an(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function wn(e){var t=null,n=null,r=null,o=1;if(sn(e)||ln(e))r=e,t=xn(e),n=_n(e);else{if(!gn.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var i=e.name;if(r=i,gn.call(e,"weight")&&(o=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(i));t=xn(i),n=_n(i)}return{path:t,id:n,weight:o,src:r}}function xn(e){return ln(e)?e:e.split(".")}function _n(e){return ln(e)?e.join("."):e}var kn={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,o,i){if(hn(t))if(o[i]){var a=t[o[i]];if(!hn(a))return;if(i===o.length-1&&(sn(a)||un(a)||dn(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(ln(a)){r=!0;for(var c=0,l=a.length;c<l;c+=1)e(a[c],o,i+1)}else o.length&&e(a,o,i+1)}else n.push(t)}(e,sn(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},Cn=tn(tn(tn(tn({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),kn),Rn=/[^ ]+/g;function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var o=t.match(Rn).length;if(n.has(o))return n.get(o);var i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear:function(){n.clear()}}}var En=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?Cn.getFn:n,o=t.fieldNormWeight,i=void 0===o?Cn.fieldNormWeight:o;rn(this,e),this.norm=Nn(i,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return an(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,sn(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();sn(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(hn(e)&&!pn(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,o){var i=n.getFn(e,t.path);if(hn(i))if(ln(i))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:i}];t.length;){var a=t.pop(),c=a.nestedArrIndex,l=a.value;if(hn(l))if(sn(l)&&!pn(l)){var s={v:l,i:c,n:n.norm.get(l)};e.push(s)}else ln(l)&&l.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[o]=e}();else if(!pn(i)){var a={v:i,n:n.norm.get(i)};r.$[o]=a}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function On(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,o=void 0===r?Cn.getFn:r,i=n.fieldNormWeight,a=void 0===i?Cn.fieldNormWeight:i,c=new En({getFn:o,fieldNormWeight:a});return c.setKeys(e.map(wn)),c.setSources(t),c.create(),c}function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,c=void 0===a?0:a,l=t.distance,s=void 0===l?Cn.distance:l,u=t.ignoreLocation,d=void 0===u?Cn.ignoreLocation:u,f=r/e.length;if(d)return f;var h=Math.abs(c-i);return s?f+h/s:h?1:f}function Sn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn.minMatchCharLength,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var c=e[i];c&&-1===r?r=i:c||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}var Bn=32;function Pn(e){for(var t={},n=0,r=e.length;n<r;n+=1){var o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}var Fn=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.location,i=void 0===o?Cn.location:o,a=r.threshold,c=void 0===a?Cn.threshold:a,l=r.distance,s=void 0===l?Cn.distance:l,u=r.includeMatches,d=void 0===u?Cn.includeMatches:u,f=r.findAllMatches,h=void 0===f?Cn.findAllMatches:f,p=r.minMatchCharLength,v=void 0===p?Cn.minMatchCharLength:p,m=r.isCaseSensitive,y=void 0===m?Cn.isCaseSensitive:m,g=r.ignoreLocation,b=void 0===g?Cn.ignoreLocation:g;if(rn(this,e),this.options={location:i,threshold:c,distance:s,includeMatches:d,findAllMatches:h,minMatchCharLength:v,isCaseSensitive:y,ignoreLocation:b},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:Pn(e),startIndex:t})},x=this.pattern.length;if(x>Bn){for(var _=0,k=x%Bn,C=x-k;_<C;)w(this.pattern.substr(_,Bn),_),_+=Bn;if(k){var R=x-Bn;w(this.pattern.substr(R),R)}}else w(this.pattern,0)}}return an(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var o={isMatch:!0,score:0};return r&&(o.indices=[[0,e.length-1]]),o}var i=this.options,a=i.location,c=i.distance,l=i.threshold,s=i.findAllMatches,u=i.minMatchCharLength,d=i.ignoreLocation,f=[],h=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,o=t.alphabet,i=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.location,i=void 0===o?Cn.location:o,a=r.distance,c=void 0===a?Cn.distance:a,l=r.threshold,s=void 0===l?Cn.threshold:l,u=r.findAllMatches,d=void 0===u?Cn.findAllMatches:u,f=r.minMatchCharLength,h=void 0===f?Cn.minMatchCharLength:f,p=r.includeMatches,v=void 0===p?Cn.includeMatches:p,m=r.ignoreLocation,y=void 0===m?Cn.ignoreLocation:m;if(t.length>Bn)throw new Error(yn(Bn));for(var g,b=t.length,w=e.length,x=Math.max(0,Math.min(i,w)),_=s,k=x,C=h>1||v,R=C?Array(w):[];(g=e.indexOf(t,k))>-1;){var N=Dn(t,{currentLocation:g,expectedLocation:x,distance:c,ignoreLocation:y});if(_=Math.min(N,_),k=g+b,C)for(var E=0;E<b;)R[g+E]=1,E+=1}k=-1;for(var O=[],D=1,S=b+w,B=1<<b-1,P=0;P<b;P+=1){for(var F=0,T=S;F<T;){Dn(t,{errors:P,currentLocation:x+T,expectedLocation:x,distance:c,ignoreLocation:y})<=_?F=T:S=T,T=Math.floor((S-F)/2+F)}S=T;var M=Math.max(1,x-T+1),L=d?w:Math.min(x+T,w)+b,A=Array(L+2);A[L+1]=(1<<P)-1;for(var I=L;I>=M;I-=1){var j=I-1,V=n[e.charAt(j)];if(C&&(R[j]=+!!V),A[I]=(A[I+1]<<1|1)&V,P&&(A[I]|=(O[I+1]|O[I])<<1|1|O[I+1]),A[I]&B&&(D=Dn(t,{errors:P,currentLocation:j,expectedLocation:x,distance:c,ignoreLocation:y}))<=_){if(_=D,(k=j)<=x)break;M=Math.max(1,2*x-k)}}if(Dn(t,{errors:P+1,currentLocation:x,expectedLocation:x,distance:c,ignoreLocation:y})>_)break;O=A}var z={isMatch:k>=0,score:Math.max(.001,D)};if(C){var U=Sn(R,h);U.length?v&&(z.indices=U):z.isMatch=!1}return z}(e,n,o,{location:a+i,distance:c,threshold:l,findAllMatches:s,minMatchCharLength:u,includeMatches:r,ignoreLocation:d}),m=v.isMatch,y=v.score,g=v.indices;m&&(p=!0),h+=y,m&&g&&(f=[].concat(Xt(f),Xt(g)))}));var v={isMatch:p,score:p?h/this.chunks.length:1};return p&&r&&(v.indices=f),v}}]),e}(),Tn=function(){function e(t){rn(this,e),this.pattern=t}return an(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return Mn(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return Mn(e,this.singleRegex)}}]),e}();function Mn(e,t){var n=e.match(t);return n?n[1]:null}var Ln=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(Tn),An=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(Tn),In=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(Tn),jn=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(Tn),Vn=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(Tn),zn=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(Tn),Un=function(e){Kt(n,e);var t=Jt(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.location,a=void 0===i?Cn.location:i,c=o.threshold,l=void 0===c?Cn.threshold:c,s=o.distance,u=void 0===s?Cn.distance:s,d=o.includeMatches,f=void 0===d?Cn.includeMatches:d,h=o.findAllMatches,p=void 0===h?Cn.findAllMatches:h,v=o.minMatchCharLength,m=void 0===v?Cn.minMatchCharLength:v,y=o.isCaseSensitive,g=void 0===y?Cn.isCaseSensitive:y,b=o.ignoreLocation,w=void 0===b?Cn.ignoreLocation:b;return rn(this,n),(r=t.call(this,e))._bitapSearch=new Fn(e,{location:a,threshold:l,distance:u,includeMatches:f,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:g,ignoreLocation:w}),r}return an(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(Tn),Hn=function(e){Kt(n,e);var t=Jt(n);function n(e){return rn(this,n),t.call(this,e)}return an(n,[{key:"search",value:function(e){for(var t,n=0,r=[],o=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);var i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(Tn),qn=[Ln,Hn,In,jn,zn,Vn,An,Un],Wn=qn.length,Zn=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Zn).filter((function(e){return e&&!!e.trim()})),r=[],o=0,i=n.length;o<i;o+=1){for(var a=n[o],c=!1,l=-1;!c&&++l<Wn;){var s=qn[l],u=s.isMultiMatch(a);u&&(r.push(new s(u,t)),c=!0)}if(!c)for(l=-1;++l<Wn;){var d=qn[l],f=d.isSingleMatch(a);if(f){r.push(new d(f,t));break}}}return r}))}var $n=new Set([Un.type,Hn.type]),Jn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,o=void 0===r?Cn.isCaseSensitive:r,i=n.includeMatches,a=void 0===i?Cn.includeMatches:i,c=n.minMatchCharLength,l=void 0===c?Cn.minMatchCharLength:c,s=n.ignoreLocation,u=void 0===s?Cn.ignoreLocation:s,d=n.findAllMatches,f=void 0===d?Cn.findAllMatches:d,h=n.location,p=void 0===h?Cn.location:h,v=n.threshold,m=void 0===v?Cn.threshold:v,y=n.distance,g=void 0===y?Cn.distance:y;rn(this,e),this.query=null,this.options={isCaseSensitive:o,includeMatches:a,minMatchCharLength:l,findAllMatches:f,ignoreLocation:u,location:p,threshold:m,distance:g},this.pattern=o?t:t.toLowerCase(),this.query=Kn(this.pattern,this.options)}return an(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var o=0,i=[],a=0,c=0,l=t.length;c<l;c+=1){var s=t[c];i.length=0,o=0;for(var u=0,d=s.length;u<d;u+=1){var f=s[u],h=f.search(e),p=h.isMatch,v=h.indices,m=h.score;if(!p){a=0,o=0,i.length=0;break}if(o+=1,a+=m,r){var y=f.constructor.type;$n.has(y)?i=[].concat(Xt(i),Xt(v)):i.push(v)}}if(o){var g={isMatch:!0,score:a/o};return r&&(g.indices=i),g}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Yn=[];function Gn(e,t){for(var n=0,r=Yn.length;n<r;n+=1){var o=Yn[n];if(o.condition(e,t))return new o(e,t)}return new Fn(e,t)}var Xn="$and",Qn="$or",er="$path",tr="$val",nr=function(e){return!(!e[Xn]&&!e[Qn])},rr=function(e){return!!e[er]},or=function(e){return!ln(e)&&fn(e)&&!nr(e)},ir=function(e){return nn({},Xn,Object.keys(e).map((function(t){return nn({},t,e[t])})))};function ar(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,o=void 0===r||r,i=function e(n){var r=Object.keys(n),i=rr(n);if(!i&&r.length>1&&!nr(n))return e(ir(n));if(or(n)){var a=i?n[er]:r[0],c=i?n[tr]:n[a];if(!sn(c))throw new Error(mn(a));var l={keyId:_n(a),pattern:c};return o&&(l.searcher=Gn(c,t)),l}var s={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];ln(r)&&r.forEach((function(t){s.children.push(e(t))}))})),s};return nr(e)||(e=ir(e)),i(e)}function cr(e,t){var n=t.ignoreFieldNorm,r=void 0===n?Cn.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,o=e.norm,i=e.score,a=n?n.weight:null;t*=Math.pow(0===i&&a?Number.EPSILON:i,(a||1)*(r?1:o))})),e.score=t}))}function lr(e,t){var n=e.matches;t.matches=[],hn(n)&&n.forEach((function(e){if(hn(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function sr(e,t){t.score=e.score}function ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,o=void 0===r?Cn.includeMatches:r,i=n.includeScore,a=void 0===i?Cn.includeScore:i,c=[];return o&&c.push(lr),a&&c.push(sr),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return c.length&&c.forEach((function(t){t(e,r)})),r}))}var dr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;rn(this,e),this.options=tn(tn({},Cn),n),this.options.useExtendedSearch,this._keyStore=new bn(this.options.keys),this.setCollection(t,r)}return an(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof En))throw new Error("Incorrect 'index' type");this._myIndex=t||On(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){hn(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,o=this.options,i=o.includeMatches,a=o.includeScore,c=o.shouldSort,l=o.sortFn,s=o.ignoreFieldNorm,u=sn(e)?sn(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return cr(u,{ignoreFieldNorm:s}),c&&u.sort(l),un(r)&&r>-1&&(u=u.slice(0,r)),ur(u,this._docs,{includeMatches:i,includeScore:a})}},{key:"_searchStringList",value:function(e){var t=Gn(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,o=e.i,i=e.n;if(hn(n)){var a=t.searchIn(n),c=a.isMatch,l=a.score,s=a.indices;c&&r.push({item:n,idx:o,matches:[{score:l,value:n,norm:i,indices:s}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=ar(e,this.options),r=function e(n,r,o){if(!n.children){var i=n.keyId,a=n.searcher,c=t._findMatches({key:t._keyStore.get(i),value:t._myIndex.getValueForItemAtKeyId(r,i),searcher:a});return c&&c.length?[{idx:o,item:r,matches:c}]:[]}for(var l=[],s=0,u=n.children.length;s<u;s+=1){var d=e(n.children[s],r,o);if(d.length)l.push.apply(l,Xt(d));else if(n.operator===Xn)return[]}return l},o=this._myIndex.records,i={},a=[];return o.forEach((function(e){var t=e.$,o=e.i;if(hn(t)){var c=r(n,t,o);c.length&&(i[o]||(i[o]={idx:o,item:t,matches:[]},a.push(i[o])),c.forEach((function(e){var t,n=e.matches;(t=i[o].matches).push.apply(t,Xt(n))})))}})),a}},{key:"_searchObjectList",value:function(e){var t=this,n=Gn(e,this.options),r=this._myIndex,o=r.keys,i=r.records,a=[];return i.forEach((function(e){var r=e.$,i=e.i;if(hn(r)){var c=[];o.forEach((function(e,o){c.push.apply(c,Xt(t._findMatches({key:e,value:r[o],searcher:n})))})),c.length&&a.push({idx:i,item:r,matches:c})}})),a}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!hn(n))return[];var o=[];if(ln(n))n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(hn(n)){var c=r.searchIn(n),l=c.isMatch,s=c.score,u=c.indices;l&&o.push({score:s,key:t,value:n,idx:i,norm:a,indices:u})}}));else{var i=n.v,a=n.n,c=r.searchIn(i),l=c.isMatch,s=c.score,u=c.indices;l&&o.push({score:s,key:t,value:i,norm:a,indices:u})}return o}}]),e}();dr.version="6.5.3",dr.createIndex=On,dr.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?Cn.getFn:n,o=t.fieldNormWeight,i=void 0===o?Cn.fieldNormWeight:o,a=e.keys,c=e.records,l=new En({getFn:r,fieldNormWeight:i});return l.setKeys(a),l.setIndexRecords(c),l},dr.config=Cn,dr.parseQuery=ar,function(){Yn.push.apply(Yn,arguments)}(Jn);var fr=n(1988),hr=n.n(fr),pr=n(28),vr=n(2283),mr=n(41),yr=n.n(mr),gr=(n(853),n(403));function br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)throw new Error("lakex_editor_assert_error ".concat(t||""," ").concat(n||""))}var wr={};function xr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36;do{e="u"+Object(b.a)().substring(0,t-1)}while(!e||wr[e]);return e}function _r(e,t){Object.assign(e.prototype,{execCommand:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=this[t])||void 0===e?void 0:e.execCommand.apply(e,r)},queryCommandState:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=this[t])||void 0===e?void 0:e.queryCommandState.apply(e,r)},queryCommandSupported:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=this[t])||void 0===e?void 0:e.queryCommandSupported.apply(e,r)},queryCommandEnabled:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=this[t])||void 0===e?void 0:e.queryCommandEnabled.apply(e,r)},queryCommandValue:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=this[t])||void 0===e?void 0:e.queryCommandValue.apply(e,r)}})}function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr={currentURL:null,disabledPlugins:[],eventEmitter:null},Nr=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=Cr(Cr({},Rr),t)}return a()(e,[{key:"disabledPlugins",get:function(){return this._option.disabledPlugins.slice()}},{key:"eventEmitter",get:function(){return this._option.eventEmitter}},{key:"currentURL",get:function(){return this._option.currentURL}}]),e}(),Er={Root:"#root",LikeRoot:"~likeRoot",VirtualLikeRoot:"~virtualLikeRoot",TextContainer:"~textContainer",Level:"~level",Text:"#text",Block:"~block",Inline:"~inline",InlineBox:"$inlineBox",Card:"~card",InlineCard:"~inlineCard",BlockCard:"~blockCard",Sticky:"~sticky",DisallowEmpty:"~disallowEmpty",Clean:"~clean",Heading:"~heading",TableHole:"~tableHole",Table:"~table",TableRow:"~tableRow",TableCell:"~tableCell",Hole:"~hole",AttrContext:"~attrContext"},Or=k()();function Dr(e){for(var t,n=[],r=0;t=Or.exec(e);){var o=t[0];n.push.apply(n,x()(e.substring(r,t.index))),n.push(o),r=t.index+o.length}return n.length?(n.push.apply(n,x()(e.substring(r))),n):x()(e)}var Sr=function(){function e(){o()(this,e)}return a()(e,null,[{key:"splitString",value:function(e,t){if(0===t)return["",e];if(t>e.length)throw new Error("invalid");return[e.substring(0,t),e.substring(t)]}},{key:"insertString",value:function(t,n,r){if(0===n)return r+t;var o=e.splitString(t,n);return o[0]+r+o[1]}},{key:"deleteChar",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=t.substring(0,n),i=t.substring(n);return"forward"===e?(o=(o=Dr(o)).slice(0,o.length-r)).join("")+i:o+(i=Dr(i).slice(r)).join("")}},{key:"deleteString",value:function(e,t,n){return e.substring(0,t)+e.substring(n)}},{key:"substring",value:function(e,t,n){return e.substring(t,n)}},{key:"replaceString",value:function(e,t,n,r){return br(t>=0&&n<=e.length,"F:strings/index;L:55"),e.substring(0,t)+r+e.substring(n)}},{key:"length",value:function(e){return e.length}}]),e}(),Br=function(){function e(t,n){o()(this,e),m()(this,"_node",null),m()(this,"_offset",0),this._node=t,this._offset=n}return a()(e,[{key:"node",get:function(){return this._node}},{key:"offset",get:function(){return this._offset}},{key:"isAtStart",get:function(){return 0===this._offset}},{key:"isAtEnd",get:function(){return this._node.isTextNode()?Sr.length(this._node.data)===this._offset:this._node.childCount===this._offset}},{key:"clone",value:function(){return new e(this._node,this._offset)}}],[{key:"equal",value:function(e,t){return e===t||e._node===t._node&&e._offset===t._offset}}]),e}();function Pr(e,t){var n={equal:!1,contains:!1,containedBy:!1,preceding:!1,following:!1};if(e===t)return n.equal=!0,n;if(e.isRootNode())return n.contains=!0,n;if(t.isRootNode())return n.containedBy=!0,n;for(var r=e.getPath(),o=t.getPath(),i=r.length,a=o.length,c=0,l=Math.min(i,a);c<l;c++){var s=r[c],u=o[c];if(s<u)return n.preceding=!0,n;if(s>u)return n.following=!0,n}return br(i!==a,"invalid compare node","F:compare-node;L:53"),r.length<o.length?n.contains=!0:n.containedBy=!0,n}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enter,r=void 0===n?null:n,o=t.leave,i=void 0===o?null:o;(r||i)&&Tr(e,r,i)}function Tr(e,t,n){if(t&&!1===t(e))return!1;if(e.isElement())for(var r=e.children,o=0,i=r.length;o<i;o++)if(!1===Tr(r[o],t,n))return!1;return(!n||!1!==n(e))&&void 0}function Mr(e,t){var n=[];for(t=t||[],Array.isArray(t)||(t=[t]);e&&(n.push(e),!t.length||!e.hasCategory(t));){if(e.isRootNode()){if(t.length)return null;break}e=e.parent}return n.reverse()}function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enter,r=void 0===n?null:n,o=t.leave,i=void 0===o?null:o;(r||i)&&Ar(e,r,i)}function Ar(e,t,n){if(t&&!1===t(e))return!1;if(e.isElement())for(var r=e.children,o=r.length-1;o>=0;o--)if(!1===Ar(r[o],t,n))return!1;return(!n||!1!==n(e))&&void 0}function Ir(e){return e.isTextNode()?0===e.dataLength:!e.isCardNode()&&!e.hasCategory([Er.Table,Er.TableRow,Er.TableCell])&&(br(e.isElement(),"F:is-like-empty-element;L:22"),!!e.isEmpty()||e.children.every((function(e){return Ir(e)})))}function jr(e){var t=[],n=null;if(e.hasCategory([Er.TableHole,Er.Hole]))return new Br(e,0);if(Fr(e,{leave:function(e){if(n)return!1;if(e.isTextNode()){if(t.push(e),!e.isEmpty())return n=new Br(e,0),!1}else if(e.hasCategory(Er.Inline)){if(t.push(e),!Ir(e))return n=new Br(e,0),!1}else{if(e.hasCategory(Er.Block))return br(e.hasCategory(Er.TextContainer),"F:get-head-input-position;L:37"),n=new Br(e,0),!1;if(e.hasCategory([Er.Root,Er.LikeRoot])&&0===e.childCount)return n=new Br(e,0),!1;if(e.hasCategory([Er.TableHole,Er.Hole]))return n=new Br(e,0),!1}}}),n)return n;if(t.length){var r=t[0];if(r.isTextNode())return br(0===r.dataLength,"F:get-head-input-position;L:59"),new Br(r,0);if(r.hasCategory([Er.TextContainer,Er.TableHole,Er.Hole,Er.Root,Er.LikeRoot]))return new Br(r,0)}return null}function Vr(e,t){var n=t.attrs,r=e.getNodeSchema(t.name);return r?"element"===r.type?function(e,t){var n=t.name,r=t.attrs,o=t.children,i=e.createElement(n,r,t.id);return o&&o.forEach((function(t){var r=Vr(e,t);r&&e.acceptNode(n,r.nodeName)&&e.appendChild(i,r)})),i}(e,t):"text"===r.type?e.createTextNode(t.data,n,t.id):(br("card"===r.type,"F:json-to-node;L:29"),e.createCardNode(t.name,t.attrs,t.id)):null}var zr=function(){function e(){o()(this,e)}return a()(e,null,[{key:"closest",value:function(e,t){for(;e;){if(e.hasCategory(t))return e;e=e.parent}return null}},{key:"jsonToNode",value:function(e,t){return function(e,t){return Vr(e,t)}(e,t)}},{key:"getAncestors",value:function(e,t){return Mr(e,t)}},{key:"getAncestor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(br(t.length>0,"invalid getAncestor","F:node/index;L:36");e;){if(e.hasCategory(t,n))return e;if(e.isRootNode())return null;e=e.parent}return null}},{key:"compare",value:function(e,t){return Pr(e,t)}},{key:"unwrapNode",value:function(e,t){return function(e,t){var n=t.parentNode;br(t.isElement()&&n,"failed to execute unwrapNode","F:unwrap-node;L:6"),t.children.forEach((function(r){e.insertBefore(n,r,t)})),e.removeChild(n,t)}(e,t)}},{key:"getHeadInputPosition",value:function(e){return jr(e)}},{key:"getTailInputPosition",value:function(e){return function(e){var t=[],n=null;if(Lr(e,{leave:function(e){if(e.isTextNode()){if(t.push(e),!e.isEmpty())return n=new Br(e,e.dataLength),!1}else e.hasCategory(Er.TextContainer)&&t.push(e)}}),n)return n;if(t.length){var r=t[0];return r.isTextNode()?(br(0===r.dataLength,"F:get-tail-input-position;L:33"),new Br(r,r.dataLength)):(br(r.isElement()&&r.hasCategory(Er.TextContainer),"F:get-tail-input-position;L:37"),new Br(r,r.childCount))}return null}(e)}},{key:"isLikeEmptyElement",value:function(e){return Ir(e)}},{key:"walkNode",value:function(e,t){return Fr(e,t)}},{key:"reverseWalkNode",value:function(e,t){return Lr(e,t)}},{key:"getTopNode",value:function(e){return function(e){if(!e.parent)return null;for(var t=e.parent,n=e;t&&!t.isRootNode();)n=t,t=t.parent;return n}(e)}}]),e}(),Ur=function(){function e(){o()(this,e),m()(this,"_start",null),m()(this,"_end",null),m()(this,"_collapsed",!0)}return a()(e,[{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"collapsed",get:function(){return this._collapsed}},{key:"commonAncestorContainer",get:function(){if(this._collapsed)return this._start.node;for(var e=zr.getAncestors(this._start.node),t=zr.getAncestors(this._end.node),n=Math.min(e.length,t.length),r=0;r<n;r++)if(e[r]!==t[r])return e[r].parentNode;return e[n-1]}},{key:"cloneRange",value:function(){var t=new e;return t._start=this._start.clone(),t._end=this._end.clone(),t._collapsed=this._collapsed,t}}],[{key:"createAt",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.clone(),r=new e;return r._start=t,r._end=n,r._collapsed=Br.equal(t,n),r}},{key:"selectNodeContents",value:function(t){return t.isElement()?e.createAt(new Br(t,0),new Br(t,t.childCount)):t.isTextNode()?e.createAt(new Br(t,0),new Br(t,t.dataLength)):t.isCardNode()?e.createAt(new Br(t,0)):void br(!1,"F:range;L:34")}},{key:"selectNode",value:function(t){return br(t.isConnected,"F:range;L:38"),t.isRootNode()?e.createAt(new Br(t,0),new Br(t,t.childCount)):e.createAt(new Br(t.parentNode,t.offset),new Br(t.parentNode,t.offset+1))}},{key:"equal",value:function(e,t){return!(!e||!t)&&(e===t||Br.equal(e.start,t.start)&&Br.equal(e.end,t.end))}}]),e}();function Hr(e,t){if(0===t.length)return e._rootNode;for(var n=e._rootNode,r=0,o=t.length;r<o;r++){var i=t[r];if(!n.children||!n.children[i])return n;n=n.children[i]}return n}var qr=function(){function e(t){o()(this,e),m()(this,"_document",null),m()(this,"_ranges",[]),m()(this,"_anchor","end"),m()(this,"_focus","start"),this._document=t}return a()(e,[{key:"destroy",value:function(){this._document=null}},{key:"document",get:function(){return this._document}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"firstRange",get:function(){return this._ranges[0]}},{key:"lastRange",get:function(){return this._ranges[this._ranges.length-1]}},{key:"isTableSelection",get:function(){return this.rangeCount>1}},{key:"isTextSelection",get:function(){return 1===this.rangeCount&&this.firstRange.start.node.isTextNode()&&this.firstRange.end.node.isTextNode()}},{key:"isCardSelection",get:function(){var e=this._ranges[0];return 1===this.rangeCount&&e.collapsed&&e.start.node.isCardNode()}},{key:"ranges",get:function(){return this._ranges.slice()}},{key:"collapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].collapsed}},{key:"isCollapsed",get:function(){return this.collapsed}},{key:"focus",get:function(){return this._focus}},{key:"anchor",get:function(){return this._anchor}},{key:"cloneSelection",value:function(){var t=new e(this._document);return t._ranges=this._ranges.map((function(e){return e.cloneRange()})),t._anchor=this._anchor,t._focus=this._focus,t}},{key:"cloneByRange",value:function(e){Array.isArray(e)||(e=[e]);var t=this.cloneSelection();return t._ranges=e,t}},{key:"toJSON",value:function(){var e=this.ranges,t=this.anchor,n=this.focus;return e?{ranges:e.map((function(e){var t=e.start,n=e.end,r=e.collapsed;return{start:{nodePath:t.node.getPath(!1),offset:t.offset,isText:t.node.isTextNode()},end:{nodePath:n.node.getPath(!1),offset:n.offset,isText:t.node.isTextNode()},collapsed:r}})),anchor:t,focus:n}:null}}],[{key:"createBy",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"end";Array.isArray(n)||(n=[n]),br(n.length,"F:selection;L:31");var i=new e(t);return i._ranges=Wr(n.slice()),i._anchor=r,i._focus=o,"topRight"!==r&&"bottomLeft"!==r&&"topRight"!==o&&"bottomLeft"!==o||br(i._ranges.length>1,"F:selection;L:41"),i}},{key:"fromJson",value:function(t,n){var r=n.ranges,o=n.anchor,i=n.focus;br(r.length,"F:selection;L:49");var a=new e(t);return a._ranges=r.map((function(e){var n=e.start,r=e.end;return n.nodePath&&(n.node=Hr(t,n.nodePath)),r.nodePath&&(r.node=Hr(t,r.nodePath)),br(n.node&&r.node,"F:selection;L:61"),n.node.isTextNode()?n.offset=Math.min(n.node.data.length,n.offset):n.offset=Math.min(n.node.childCount||0,n.offset),r.node.isTextNode()?r.offset=Math.min(r.node.data.length,r.offset):r.offset=Math.min(r.node.childCount||0,r.offset),Ur.createAt(new Br(n.node,n.offset),new Br(r.node,r.offset))})),a.collapsed?(a._anchor="start",a._focus="start"):(a._anchor=o,a._focus=i),a}},{key:"equal",value:function(e,t){return!(!e||!t)&&e.rangeCount===t.rangeCount&&e._ranges.every((function(e,n){return Ur.equal(e,t._ranges[n])}))}}]),e}();function Wr(e){return 1===e.length?e:e.map((function(e,t){var n=e.start,r=e.end,o=e.collapsed;return{start:n=[].concat(x()(n.node.getPath()),[n.offset]),end:o?n:[].concat(x()(r.node.getPath()),[r.offset]),index:t}})).sort((function(e,t){var n=function(e,t){for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;o++){var a=e[o],c=t[o];if(a<c)return-1;if(a>c)return 1}return n<r?-1:n>r?1:0}(e.start,t.start);return-1===n?-1:1===n?1:0})).map((function(t){var n=t.index;return e[n]}))}function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];br(e&&e.node.isConnected,"F:verify-position;L:8"),e.node.isCardNode()?br(0===e.offset,"F:verify-position;L:11"):e.node.isTextNode()?br(e.offset>=0&&e.offset<=e.node.data.length,"F:verify-position;L:16"):(br(e.node.isElement()&&e.offset>=0&&e.offset<=e.node.childCount,"F:verify-position;L:18"),!0===t||0!=(3&t)?br(e.node.hasCategory([Er.TextContainer,Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole]),"F:verify-position;L:22"):t&&(0!=(1&t)?br(e.node.hasCategory(Er.TextContainer),"F:verify-position;L:26"):0!=(2&t)&&br(e.node.hasCategory([Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole]),"F:verify-position;L:29")))}function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,r=e.end,o=e.collapsed;if(Zr(n,t),!o){if(Zr(r,t),n.node!==r.node){var i=Pr(n.node,r.node);return br(!i.equal,"F:verify-range;L:21"),!i.following&&(!!i.preceding||(i.contains?$r(n,r.node):(br(i.containedBy,"F:verify-range;L:35"),Jr(r,n.node))))}br(r.offset>n.offset,"F:verify-range;L:17")}}function $r(e,t){var n=Yr(t,e.node);return br(n,"F:verify-range;L:44"),n.offset>=e.offset}function Jr(e,t){var n=Yr(t,e.node);return br(n,"F:verify-range;L:52"),n.offset<=e.offset}function Yr(e,t){for(;e;){if(e.parentNode===t)return e;e=e.parentNode}return null}function Gr(e,t){if(!t.collapsed&&!(t=function(e,t){var n=t,r=n.start,o=n.end;br(!n.collapsed,"F:format-inline-boundary;L:25");var i=r.node,a=r.offset,c=o.node,l=o.offset;return i.isTextNode()&&0===a&&(a=i.offset,i=i.parentNode),c.isTextNode()&&l===c.dataLength&&(l=l.offset,c=c.parentNode),0===a&&i.hasCategory(Er.Inline)&&!i.hasCategory(Er.InlineBox)&&(br(!i.parentNode.hasCategory(Er.Inline)||i.parentNode.hasCategory(Er.InlineBox),"F:format-inline-boundary;L:47"),r=e.newPosition(i.parentNode,i.offset)),l===c.childCount&&c.hasCategory(Er.Inline)&&!c.hasCategory(Er.InlineBox)&&(br(!c.parentNode.hasCategory(Er.Inline)||c.parentNode.hasCategory(Er.InlineBox),"F:format-inline-boundary;L:52"),o=e.newPosition(c.parentNode,c.offset)),Kr(t=e.newRange(r,o)),t}(e,t)).collapsed)return t;var n=function(e,t){var n=t.node,r=t.offset;if(n.isTextNode())if(0===r)r=n.offset,n=n.parentNode;else{if(r!==n.dataLength)return t;r=n.offset+1,n=n.parentNode}return!n.hasCategory(Er.Inline)||n.hasCategory(Er.InlineBox)?t:0===r?(br(!n.parentNode.hasCategory(Er.Inline)||n.parentNode.hasCategory(Er.InlineBox),"F:format-inline-boundary;L:84"),e.newPosition(n.parentNode,n.offset)):r===n.childCount?(br(!n.parentNode.hasCategory(Er.Inline)||n.parentNode.hasCategory(Er.InlineBox),"F:format-inline-boundary;L:89"),e.newPosition(n.parentNode,n.offset+1)):t}(e,t.start);return e.newRange(n)}var Xr=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isInTable",value:function(e){return!!zr.closest(e.firstRange.commonAncestorContainer,Er.Table)}},{key:"isInvalidTablePosition",value:function(e){var t=e.node;return"table"===t.nodeName||"tr"===t.nodeName}},{key:"normalizeTdPosition",value:function(e,t){var n=t.node,r=t.offset;return"table"===n.nodeName&&(n=n.children[r]&&n.children[r].firstChild?n.children[r].firstChild:n.children[r-1]&&n.children[r-1].firstChild?n.children[r-1].firstChild:n.firstChild.firstChild,r=0),"tr"===n.nodeName&&(n=n.children[r]?n.children[r]:n.children[r-1]?n.children[r-1]:n.firstChild?n.firstChild:n.parent.firstChild.firstChild,r=0),e.newPosition(n,r)}},{key:"isSelectAllTable",value:function(e){var t=zr.closest(e.firstRange.commonAncestorContainer,Er.TableCell),n=zr.closest(e.lastRange.commonAncestorContainer,Er.TableCell),r=t.parentNode.parentNode,o=t.attrs.col,i=t.parentNode.offset,a=t.attrs.colSpan||1,c=n.attrs.col,l=n.parentNode.offset,s=n.attrs.colSpan||1;return i<=l?(br("end"===e.focus||"bottomLeft"===e,"F:table-selection/index;L:64"),0===o&&0===i&&c+s===r.attrs.columnCount&&l===r.attrs.rowCount-1):(br("start"===e.focus||"topRight"===e,"F:table-selection/index;L:70"),0===c&&0===l&&t+a===r.attrs.columnCount&&i===r.attrs.rowCount-1)}},{key:"isSelectColumn",value:function(e){var t=zr.closest(e.firstRange.commonAncestorContainer,Er.Table);if(!t)return!1;var n=t.attrs.rowCount,r=[],o=-1,i=-1;if(!e.ranges.every((function(e){var t=zr.closest(e.commonAncestorContainer,Er.TableCell),n=t.parentNode.offset,a=t.attrs,c=a.col,l=a.colSpan,s=void 0===l?1:l;if(!r[n]){if(-1===o)o=c;else if(o!==c)return!1;i=c-1,r[n]=0}return c===i+1&&(i+=s,r[n]+=s,!0)})))return!1;if(!r[0]||!r[n-1])return!1;var a=r[0];return r.every((function(e){return e===a}))}},{key:"isSelectRow",value:function(e){var t=zr.closest(e.firstRange.commonAncestorContainer,Er.Table);if(!t)return!1;if(t!==zr.closest(e.lastRange.commonAncestorContainer,Er.Table))return!1;var n={},r=new WeakSet;e.ranges.forEach((function(e){var t=zr.closest(e.commonAncestorContainer,Er.TableCell),o=t.parentNode.offset;n[o]=!0,r.add(t)}));var o=Object.keys(n);return 0!==o.length&&o.every((function(e){return t.children[e].children.every((function(e){return r.has(e)}))}))}},{key:"selectTableCells",value:function(e,t){br(t.hasCategory(Er.Table),"F:table-selection/index;L:170");var n=[];return t.children.forEach((function(e){e.children.forEach((function(e){n.push(Ur.selectNodeContents(e))}))})),e.newSelection(n)}}]),e}();function Qr(e,t){var n=[t.start];t.collapsed||n.push(t.end);var r=function(e,t){var n=[];return t.forEach((function(e){var t=e.node,r=e.offset,o=t;if(!t.hasCategory([Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole])){t.isElement()&&(o=t.getChildByOffset(r)||t);var i=zr.getAncestors(o,Er.Block)[0];br(i,"F:optimize-range;L:235"),-1===n.indexOf(i)&&n.push(i)}})),n}(0,n);return r.forEach((function(t){n=function(e,t,n){return Fr(t,{leave:function(r){if(r!==t&&"*"!==r.nodeName){if(r.isTextNode()){if(""!==r.data||function(e,t){return e.some((function(e){return e.node===t}))}(n,r))return}else{if(!r.isElement())return;if(r.childCount>0)return}(function(e,t){for(var n=t.parentNode;n;){if(n.childCount>1)return!1;if(n===e)return!0;n=n.parentNode}return!0})(t,r)||r.hasCategory(Er.InlineBox)||(n=n.map((function(t){var n=t.node,o=t.offset;return r===n?e.newPosition(n.parentNode,n.offset):r.parentNode!==n?t:o>r.offset?(br(o-1>=0,"F:optimize-range;L:80"),e.newPosition(n,o-1)):t})),e.removeChild(r.parentNode,r))}}}),n}(e,t,n)})),r.forEach((function(t){n=function e(t,n,r){if(!n.isElement())return r;for(var o=n.firstChild;o&&o.nextSibling;){var i=o.nextSibling;eo(o,i)?(r=to(t,o,i,r),br(!i.isConnected,"F:optimize-range;L:111"),br(o.isConnected,"F:optimize-range;L:112")):o=i}return n.children.forEach((function(n){r=e(t,n,r)})),r}(e,t,n)})),Kr(t=e.newRange.apply(e,x()(n))),t}function eo(e,t){return!(!e.isTextNode()||!t.isTextNode())&&function e(t,n){if(t===n)return!0;if(Array.isArray(t)&&Array.isArray(n))return t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"!==R()(t)&&"object"!==R()(n))return!1;if(t&&n){br(no(t)&&no(n),"F:optimize-range;L:291");var r=Object.keys(t),o=Object.keys(n);return r.length===o.length&&r.every((function(r){return e(t[r],n[r])}))}return!1}(e.attrs,t.attrs)}function to(e,t,n,r){return br(t.isTextNode(),"F:optimize-range;L:132"),t.isTextNode()?function(e,t,n,r){br(t.parentNode===n.parentNode,"F:optimize-range;L:142");var o=t.data,i=n.data;return e.setTextNodeData(t,o+i),r=r.map((function(r){var a=r.node,c=r.offset;if(a===n)return e.newPosition(t,Sr.length(o)+c);if(n.parentNode===a){if(n.offset<c)return br(c-1>=0,"F:optimize-range;L:158"),e.newPosition(a,c-1);if((t.offset+1===c||n.offset===c)&&i)return e.newPosition(t,Sr.length(o))}return r})),e.removeChild(n.parentNode,n),r.forEach((function(e){return Zr(e)})),r}(e,t,n,r):function(e,t,n,r){br(t.nextSibling===n,"F:optimize-range;L:178");var o=t.childCount,i=n.childCount;return n.children.forEach((function(n){e.appendChild(t,n)})),r=r.map((function(r){var a=r.node,c=r.offset;if(a===n)return e.newPosition(t,o+c);if(n.parent===a){if(br(t.parent===a,"F:optimize-range;L:195"),n.offset<c)return br(c-1>=0,"F:optimize-range;L:198"),e.newPosition(a,c-1);if((t.offset+1===c||n.offset===c)&&i>0)return e.newPosition(t,o)}return r})),e.removeChild(n.parentNode,n),r.forEach((function(e){return Zr(e)})),r}(e,t,n,r)}function no(e){return"[object Object]"===Object.prototype.toString.call(e)}function ro(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t,o=r.start,i=r.end,a=r.collapsed;return o.node.isCardNode()?(br(a,"F:normalize-range;L:13"),t):(o=io(e,o,a),i=io(e,i,!0),Xr.isInvalidTablePosition(o)&&(o=Xr.normalizeTdPosition(e,o),i=Xr.normalizeTdPosition(e,i)),o.node.hasCategory([Er.TableHole,Er.Hole])||(o=oo(e,o,a)),a?t=e.newRange(o):(i.node.hasCategory([Er.TableHole,Er.Hole])||(i=oo(e,i,!0)),t=e.newRange(o,i)),t=Gr(e,t),n&&(t=Qr(e,t)),Kr(t,!0),t)}function oo(e,t,n){var r=function(e,t,n){var r=t.node;return r.isTextNode()?t:(br(r.isElement()&&r.hasCategory([Er.TextContainer,Er.Root,Er.LikeRoot]),"F:normalize-range;L:100"),n?function(e,t){var n=t.node,r=t.offset;br(!n.isTextNode(),"F:normalize-range;L:112");var o=n.getChildByOffset(r-1);if(o){if(o.isElement())return o.hasCategory([Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole])||o.hasCategory(Er.InlineBox)?t:(br(o.hasCategory([Er.TextContainer]),"F:normalize-range;L:127"),zr.getTailInputPosition(o));if(o.isTextNode()){if(!o.isEmpty())return e.newPosition(o,o.dataLength)}else br(o.isCardNode(),"F:normalize-range;L:134")}var i=n.getChildByOffset(r);if(i){if(i.isElement())return i.hasCategory(Er.Table)?(br(i.firstChild.firstChild.hasCategory(Er.TableCell),"F:normalize-range;L:143"),zr.getHeadInputPosition(i.firstChild.firstChild)):i.hasCategory(Er.InlineBox)?t:(br(i.hasCategory([Er.TextContainer,Er.LikeRoot,Er.TableHole,Er.Hole]),"F:normalize-range;L:149"),zr.getHeadInputPosition(i));if(i.isTextNode()){if(!i.isEmpty()||!o||o.isCardNode())return e.newPosition(i,0)}else if(!o)return br(i.isCardNode(),"F:normalize-range;L:156"),t}return o?(br(!o.hasCategory(Er.InlineBox),"F:normalize-range;L:163"),br((!i||i.isEmpty())&&(o.isCardNode()||o.isEmpty()),"F:normalize-range;L:164"),o.isCardNode()?t:e.newPosition(o,0)):(br(n.isEmpty(),"F:normalize-range;L:173"),t)}(e,t):function(e,t){var n=t.node,r=t.offset;br(!n.isTextNode(),"F:normalize-range;L:181");var o=n.getChildByOffset(r);if(o){if(o.isElement())return o.hasCategory([Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole])?t:(br(o.hasCategory(Er.TextContainer),"F:normalize-range;L:192"),zr.getHeadInputPosition(o));if(o.isTextNode()){if(!o.isEmpty())return e.newPosition(o,0)}else br(o.isCardNode(),"F:normalize-range;L:199")}var i=n.getChildByOffset(r-1);if(i){if(i.isElement())return i.hasCategory(Er.Table)?(br(i.lastChild.lastChild.hasCategory(Er.TableCell),"F:normalize-range;L:208"),zr.getTailInputPosition(i.lastChild.lastChild)):(br(i.hasCategory(Er.TextContainer),"F:normalize-range;L:212"),zr.getTailInputPosition(i));if(i.isTextNode()){if(!i.isEmpty()||!o||o.isCardNode())return e.newPosition(i,i.dataLength)}else if(!o)return br(i.isCardNode(),"F:normalize-range;L:219"),t}return o?(br((!i||i.isEmpty())&&(o.isCardNode()||o.isEmpty()),"F:normalize-range;L:226"),o.isCardNode()?t:e.newPosition(o,0)):(br(n.isEmpty(),"F:normalize-range;L:235"),t)}(e,t))}(e,t,n),o=r.node,i=r.offset;return o.isTextNode(),e.newPosition(o,i)}function io(e,t,n){var r=t.node,o=t.offset,i=[Er.TextContainer,Er.Root,Er.LikeRoot,Er.Text,Er.Hole,Er.TableHole];if(r.hasCategory(i))return t;if(br(r.isElement(),"F:normalize-range;L:72"),n){for(;0===o&&!r.hasCategory(i);)o=r.offset,r=r.parentNode;return e.newPosition(r,o)}for(;o===r.childCount&&!r.hasCategory(i);)o=r.offset+1,r=r.parentNode;return e.newPosition(r,o)}function ao(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.ranges.length>1;return e.newSelection(t.ranges.map((function(t){if(r){var o=zr.closest(t.start.node,Er.TableCell);return br(o,"F:normalize-selection;L:14"),Ur.selectNodeContents(o)}return ro(e,t,n)})),t.anchor,t.focus)}var co=function(){function e(t,n){o()(this,e),m()(this,"_jobMode",null),m()(this,"_type",null),this._jobMode=t,this._type=n}return a()(e,[{key:"jobMode",get:function(){return this._jobMode}},{key:"type",get:function(){return this._type}},{key:"apply",value:function(e){br(!1,"F:operation;L:40")}},{key:"reverse",value:function(e){br(!1,"F:operation;L:45")}}]),e}();m()(co,"INSERT","insert"),m()(co,"REMOVE","remove"),m()(co,"MOVE","move"),m()(co,"UPDATE_TEXT","update_text"),m()(co,"ADD_ATTR","add_attr"),m()(co,"REMOVE_ATTR","remove_attr"),m()(co,"UPDATE_ATTR","update_attr");var lo=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a,c,s,u){var d;return o()(this,i),d=r.call(this,e,co.MOVE),m()(l()(d),"_parentNode",null),m()(l()(d),"_oldParentNode",null),m()(l()(d),"_childNode",null),m()(l()(d),"_offset",-1),m()(l()(d),"_oldOffset",-1),m()(l()(d),"_realOffset",-1),br(t.childCount>u,"F:move;L:19"),d._parentNode=t,d._oldParentNode=n,d._childNode=a,d._offset=c,d._oldOffset=s,d._realOffset=u,d}return a()(i,[{key:"parentNode",get:function(){return this._parentNode}},{key:"offset",get:function(){return this._offset}},{key:"childNode",get:function(){return this._childNode}},{key:"oldParentNode",get:function(){return this._oldParentNode}},{key:"oldOffset",get:function(){return this._oldOffset}},{key:"apply",value:function(e){br(this._oldParentNode.getChildByOffset(this._oldOffset)===this._childNode,"F:move;L:50"),e.insertByOffset(this._parentNode,this._offset,this._childNode),br(this._parentNode.getChildByOffset(this._realOffset)===this._childNode,"F:move;L:52")}},{key:"reverse",value:function(e){var t=this._oldOffset;this._oldParentNode===this._parentNode&&this._realOffset<this._oldOffset&&(t=this._oldOffset+1),e.insertByOffset(this._oldParentNode,t,this._childNode),br(this._oldParentNode.getChildByOffset(this._oldOffset)===this._childNode,"F:move;L:66")}}]),i}();var so=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,co.INSERT),m()(l()(c),"_parentNode",null),m()(l()(c),"_childNode",null),m()(l()(c),"_offset",-1),br(t.childCount>=a,"F:insert;L:13"),c._parentNode=t,c._childNode=n,c._offset=a,c}return a()(i,[{key:"parentNode",get:function(){return this._parentNode}},{key:"childNode",get:function(){return this._childNode}},{key:"offset",get:function(){return this._offset}},{key:"apply",value:function(e){br(this._parentNode.childCount>=this._offset&&!this._childNode.parentNode,"F:insert;L:33"),e.insertByOffset(this._parentNode,this._offset,this._childNode),br(this._childNode.offset===this._offset&&this._childNode.parentNode===this._parentNode,"F:insert;L:35")}},{key:"reverse",value:function(e){br(this._parentNode.getChildByOffset(this._offset)===this._childNode,"F:insert;L:39"),e.removeChild(this._parentNode,this._childNode)}}]),i}();var uo=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,co.REMOVE),m()(l()(c),"_parentNode",null),m()(l()(c),"_childNode",null),m()(l()(c),"_offset",-1),br(t.childCount+1>=a,"F:remove;L:13"),c._parentNode=t,c._childNode=n,c._offset=a,c}return a()(i,[{key:"parentNode",get:function(){return this._parentNode}},{key:"childNode",get:function(){return this._childNode}},{key:"offset",get:function(){return this._offset}},{key:"apply",value:function(e){br(this._parentNode.getChildByOffset(this._offset)===this._childNode,"F:remove;L:33"),e.removeChild(this._parentNode,this._childNode)}},{key:"reverse",value:function(e){br(this._parentNode.childCount>=this._offset&&!this._childNode.parentNode,"F:remove;L:38"),e.insertByOffset(this._parentNode,this._offset,this._childNode),br(this._childNode.offset===this._offset&&this._childNode.parentNode===this._parentNode,"F:remove;L:40")}}]),i}();var fo=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,co.UPDATE_TEXT),m()(l()(c),"_node",null),m()(l()(c),"_text",null),m()(l()(c),"_oldText",null),c._node=t,c._text=n,c._oldText=a,c}return a()(i,[{key:"node",get:function(){return this._node}},{key:"text",get:function(){return this._text}},{key:"oldText",get:function(){return this._oldText}},{key:"apply",value:function(e){e.setTextNodeData(this._node,this._text)}},{key:"reverse",value:function(e){e.setTextNodeData(this._node,this._oldText)}}]),i}();var ho=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,co.ADD_ATTR),m()(l()(c),"_node",null),m()(l()(c),"_attrName",null),m()(l()(c),"_attrValue",null),c._node=t,c._attrName=n,c._attrValue=a,c}return a()(i,[{key:"node",get:function(){return this._node}},{key:"attrName",get:function(){return this._attrName}},{key:"attrValue",get:function(){return this._attrValue}},{key:"apply",value:function(e){e.setAttribute(this._node,this._attrName,this._attrValue)}},{key:"reverse",value:function(e){e.removeAttribute(this._node,this._attrName)}}]),i}();var po=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a,c){var s;return o()(this,i),s=r.call(this,e,co.UPDATE_ATTR),m()(l()(s),"_node",null),m()(l()(s),"_attrName",null),m()(l()(s),"_attrValue",null),m()(l()(s),"_oldAttrValue",null),s._node=t,s._attrName=n,s._attrValue=a,s._oldAttrValue=c,s}return a()(i,[{key:"node",get:function(){return this._node}},{key:"attrName",get:function(){return this._attrName}},{key:"attrValue",get:function(){return this._attrValue}},{key:"oldAttrValue",get:function(){return this._oldAttrValue}},{key:"apply",value:function(e){e.setAttribute(this._node,this._attrName,this._attrValue)}},{key:"reverse",value:function(e){e.setAttribute(this._node,this._attrName,this._oldAttrValue)}}]),i}();var vo=function(e){u()(i,co);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,co.REMOVE_ATTR),m()(l()(c),"_node",null),m()(l()(c),"_attrName",null),m()(l()(c),"_oldAttrValue",null),c._node=t,c._attrName=n,c._oldAttrValue=a,c}return a()(i,[{key:"node",get:function(){return this._node}},{key:"attrName",get:function(){return this._attrName}},{key:"oldAttrValue",get:function(){return this._oldAttrValue}},{key:"apply",value:function(e){e.removeAttribute(this._node,this._attrName)}},{key:"reverse",value:function(e){e.setAttribute(this._node,this._attrName,this._oldAttrValue)}}]),i}();function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e,t){if(t){var n=t.type,r=t.data,o=null;switch(n){case"document.node.move":o=new lo(e.mode,r.parentNode,r.oldParent,r.childNode,r.offset,r.oldOffset,r.realOffset);break;case"document.node.insert":o=new so(e.mode,r.parentNode,r.childNode,r.offset);break;case"document.node.remove":o=new uo(e.mode,r.parentNode,r.childNode,r.offset);break;case"document.node.text.change":o=new fo(e.mode,r.node,r.text,r.oldText);break;case"document.node.attr.add":o=new ho(e.mode,r.node,r.name,r.value);break;case"document.node.attr.change":o=new po(e.mode,r.node,r.name,r.value,r.oldValue);break;case"document.node.attr.remove":o=new vo(e.mode,r.node,r.name,r.value);break;default:throw new Error("invalid operation type")}e._unSyncOperations.push(o),function(e,t){var n=t.type,r=t.data;switch(n){case"document.node.move":wo(e,r.childNode,"remove"),go(e,r.oldParent),wo(e,r.childNode,"insert"),go(e,r.parentNode);break;case"document.node.insert":wo(e,r.childNode,"insert"),go(e,r.parentNode);break;case"document.node.remove":wo(e,r.childNode,"remove"),go(e,r.parentNode);break;case"document.node.text.change":!function(e,t){e._iEditing.emit("nodechange",{type:"text",job:e,node:t})}(e,r.node);break;case"document.node.attr.add":bo(e,{subType:"add",node:r.node,attrName:r.name,value:r.value});break;case"document.node.attr.change":bo(e,{subType:"update",node:r.node,attrName:r.name,oldValue:r.oldValue,value:r.value});break;case"document.node.attr.remove":bo(e,{subType:"remove",node:r.node,attrName:r.name,oldValue:r.value});break;default:throw new Error("invalid operation type")}}(e,t)}}function go(e,t){e._iEditing.emit("nodechange",{type:"children",job:e,node:t})}function bo(e,t){e._iEditing.emit("nodechange",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"attribute",job:e},t))}function wo(e,t,n){e._iEditing.emit("nodechange",{type:n,job:e,node:t})}function xo(e){var t=R()(e);if(null===e||"string"===t||"number"===t||"undefined"===t||"boolean"===t||"function"===t)return e;if(br("object"===t,"F:clone-object;L:15"),Array.isArray(e))return e.map((function(e){return xo(e)}));br("[object Object]"===Object.prototype.toString.call(e),"F:clone-object;L:21");var n={};return Object.keys(e).forEach((function(t){n[t]=xo(e[t])})),n}var _o=function(){function e(){o()(this,e)}return a()(e,null,[{key:"assertAcceptNode",value:function(e,t,n){if(!e.acceptNode(t,n))throw new Error("invalid node insert: ".concat(t," can't contain ").concat(n))}},{key:"prependChild",value:function(t,n,r){return 0===n.childCount?e.appendChild(t,n,r):e.insertBefore(t,n,r,n.firstChild)}},{key:"appendChild",value:function(e,t,n){if(n._parent!==t||n._offset+1!==t.childCount){var r=n._parent,o=n._offset,i=t.children.length;return r&&ko(e,r,n),Co(e,"insert",{parentNode:t,childNode:n,offset:t._children.length}),n._offset=t._children.length,n._parent=t,t._children.push(n),r?{type:"document.node.move",data:{oldParent:r,oldOffset:o,parentNode:t,offset:i,realOffset:n._offset,childNode:n}}:{type:"document.node.insert",data:{parentNode:t,childNode:n,offset:n._offset}}}}},{key:"removeChild",value:function(e,t,n){var r=n._offset;return ko(e,t,n),{type:"document.node.remove",data:{parentNode:t,childNode:n,offset:r}}}},{key:"insertBefore",value:function(e,t,n,r){br(r.parent===t&&n!==r,"F:node;L:93");var o=n.parent,i=n._offset,a=r.offset;o&&ko(e,o,n);var c=t._children,l=c.indexOf(r);Co(e,"insert",{parentNode:t,childNode:n,offset:l});for(var s=c.length-1;s>=l;s--)c[s]._offset++,c[s+1]=c[s];return n._offset=l,n._parent=t,c[l]=n,o?{type:"document.node.move",data:{oldParent:o,oldOffset:i,parentNode:t,offset:a,realOffset:n._offset,childNode:n}}:{type:"document.node.insert",data:{parentNode:t,childNode:n,offset:n._offset}}}},{key:"insertAfter",value:function(t,n,r,o){if(o.parent!==n)throw new Error("invalid referenceElement");br(r!==o,"F:node;L:150");var i=o.nextSibling;return i?e.insertBefore(t,n,r,i):e.appendChild(t,n,r)}},{key:"insertByOffset",value:function(t,n,r,o){if(o.parent===n&&o.offset===r)return null;if(br(r<=n._children.length,"F:node;L:167"),r===n._children.length)return e.appendChild(t,n,o);var i=n._children[r];return i?e.insertBefore(t,n,o,i):e.appendChild(t,n,o)}},{key:"setTextNodeData",value:function(e,t,n){if(n=n||"",t.data!==n){Co(e,"changeText",{node:t,text:n});var r=t.data;return t._data=n,{type:"document.node.text.change",data:{node:t,text:n,oldText:r}}}}},{key:"removeAttribute",value:function(e,t,n){br(t.hasAttribute(n),"F:node;L:209"),Co(e,"removeAttr",{node:t,attrName:n});var r=t._attrs[n];return delete t._attrs[n],{type:"document.node.attr.remove",data:{node:t,name:n,value:r}}}},{key:"setAttribute",value:function(e,t,n,r){if(br(e.acceptAttr(t.nodeName,n,r),"F:node;L:230"),t.hasAttribute(n)){var o=t._attrs[n];if(o===r)return;return Co(e,"changeAttr",{node:t,attrName:n,attrValue:xo(r)}),t._attrs[n]=r,{type:"document.node.attr.change",data:{node:t,name:n,value:r,oldValue:o}}}return Co(e,"addAttr",{node:t,attrName:n,attrValue:xo(r)}),t._attrs[n]=r,{type:"document.node.attr.add",data:{node:t,name:n,value:r}}}}]),e}();function ko(e,t,n){var r=t._children.indexOf(n);if(-1===r)throw new Error("invalid child");Co(e,"remove",{parentNode:t,childNode:n});var o=t._children;o.splice(r,1);for(var i=r,a=t._children.length;i<a;i++)o[i]._offset-=1;return n._parent=null,n._offset=-1,n}function Co(e,t,n){e._iEditing.emit("node.will.change",{jobMode:e.mode,type:t,data:n})}function Ro(e){e._committed=!0}function No(e){return e._committed}function Eo(e){return e._flush()}var Oo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.MODE_USER;o()(this,e),m()(this,"_iEditing",null),m()(this,"_model",null),m()(this,"_document",null),m()(this,"_mode",""),m()(this,"_cachedSelection",null),m()(this,"_syncedOperations",[]),m()(this,"_unSyncOperations",[]),m()(this,"_committed",!1),this._iEditing=t,this._model=n,this._document=n.document,this._mode=r,this._cachedSelection=this._document.selection}return a()(e,[{key:"destroy",value:function(){this._model=null,this._document=null,this._syncedOperations=null,this._unSyncOperations=null}},{key:"mode",get:function(){return this._mode}},{key:"document",get:function(){return this._document}},{key:"defaultElementName",get:function(){return this._model.schema.defaultElementName}},{key:"textAttrs",get:function(){return this._model.schema.textAttrs}},{key:"operations",get:function(){return this._syncedOperations.concat(this._unSyncOperations)}},{key:"cachedSelection",get:function(){return this._cachedSelection}},{key:"isUserMode",value:function(){return this._mode===e.MODE_USER}},{key:"isHistoryMode",value:function(){return this._mode===e.MODE_HISTORY}},{key:"isAutoMode",value:function(){return this._mode===e.MODE_AUTO}},{key:"isOTMode",value:function(){return this._mode===e.MODE_OT}},{key:"isSilentMode",value:function(){return this._mode===e.MODE_SILENT}},{key:"getNodeById",value:function(e){return this._document.getNodeById(e)}},{key:"getNodesByName",value:function(e){return this._document.getNodesByName(e)}},{key:"getNodeByPath",value:function(e){return this._document.getNodeByPath(e)}},{key:"applyOperation",value:function(e){e.apply(this)}},{key:"hasCategory",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._model.hasCategory(e,t,n)}},{key:"getNodeSchema",value:function(e){return this._model.getNodeSchema(e)}},{key:"isStandardAttr",value:function(e,t){return this._model.isStandardAttr(e,t)}},{key:"getAttrSchema",value:function(e){return this._model.getAttrSchema(e)}},{key:"isEmpty",value:function(){return 0===this._unSyncOperations.length}},{key:"_flush",value:function(){if(0===this._unSyncOperations.length)return null;var e=this._unSyncOperations.slice();return this._syncedOperations=this._syncedOperations.concat(this._unSyncOperations),this._unSyncOperations=[],e}},{key:"setSelectionWithoutOptimize",value:function(e){Array.isArray(e)&&(e=qr.createBy(this._document,e)),this._document.selection=ao(this,e,!1)}},{key:"setSelection",value:function(e){Array.isArray(e)&&(e=qr.createBy(this._document,e)),this._document.selection=ao(this,e)}},{key:"execCommand",value:function(){var e;return(e=this._model).execCommand.apply(e,arguments)}},{key:"dangerDirectSetSelection",value:function(e){Array.isArray(e)&&(e=qr.createBy(this._document,e)),this._document.selection=e}},{key:"getSelection",value:function(){return this._document.selection}},{key:"acceptNode",value:function(){var e;return(e=this._model).acceptNode.apply(e,arguments)}},{key:"acceptAttr",value:function(){var e;return(e=this._model.schema).acceptAttr.apply(e,arguments)}},{key:"acceptAttrName",value:function(){var e;return(e=this._model.schema).acceptAttrName.apply(e,arguments)}},{key:"isContextAttr",value:function(e){return this._model.schema.isContextAttr(e)}},{key:"supportContextAttr",value:function(e,t){return this._model.schema.supportContextAttr(e,t)}},{key:"processContextAttr",value:function(e,t,n){return this._model.schema.processContextAttr(e,t,n)}},{key:"newPosition",value:function(e,t){return new Br(e,t)}},{key:"newRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Ur.createAt(e,t)}},{key:"newSelection",value:function(e,t,n){return qr.createBy(this._document,e,t,n)}},{key:"newSelectionFromJson",value:function(e){return qr.fromJson(this._document,e)}},{key:"setSelectionFromJson",value:function(e){var t=qr.fromJson(this._document,e);this.setSelection(t)}},{key:"selectNodeContents",value:function(e){return qr.createBy(this._document,[Ur.selectNodeContents(e)])}},{key:"selectNode",value:function(e){return qr.createBy(this._document,[Ur.selectNode(e)])}},{key:"createElement",value:function(e,t,n){var r=this;return t&&Object.keys(t).forEach((function(n){br(r.acceptAttr(e,n,t[n]),"F:job;L:261")})),this._document.createElement(e,t,n)}},{key:"createTextNode",value:function(e,t,n){var r=this;return t&&Object.keys(t).forEach((function(e){br(r.acceptAttr(Er.Text,e,t[e]),"F:job;L:272")})),this._document.createTextNode(e,t,n)}},{key:"createCardNode",value:function(e,t,n){var r=this;return t&&Object.keys(t).forEach((function(n){br(r.acceptAttr(e,n,t[n]),"F:job;L:283")})),this._document.createCardNode(e,t,n)}},{key:"isValidAttr",value:function(e,t){return this._model.schema.isValidAttr(e,t)}},{key:"removeAttribute",value:function(e,t){e.hasAttribute(t)&&yo(this,_o.removeAttribute(this,e,t))}},{key:"setAttribute",value:function(e,t,n){if(e.attrs[t]!==n){var r=_o.setAttribute(this,e,t,n);r&&yo(this,r)}}},{key:"insertNodeByPosition",value:function(e,t){_o.assertAcceptNode(this._model,e.node.nodeName,t.nodeName);var n=_o.insertByOffset(this,e.node,e.offset,t);return n&&yo(this,n),br(t.parentNode===e.node,"F:job;L:322"),new Br(e.node,t.offset+1)}},{key:"cloneNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n)return e.cloneNode(!1);var r=e.cloneNode(!1);return e.children.forEach((function(e){e=t.cloneNode(e,!0),t.appendChild(r,e)})),r}},{key:"appendChild",value:function(e,t){_o.assertAcceptNode(this._model,e.nodeName,t.nodeName),yo(this,_o.appendChild(this,e,t))}},{key:"prependChild",value:function(e,t){_o.assertAcceptNode(this._model,e.nodeName,t.nodeName),yo(this,_o.prependChild(this,e,t))}},{key:"replaceChild",value:function(e,t,n){_o.assertAcceptNode(this._model,e.nodeName,t.nodeName),br(t!==n,"F:job;L:354");var r=n.offset;yo(this,_o.removeChild(this,e,n)),yo(this,_o.insertByOffset(this,e,r,t))}},{key:"removeChild",value:function(e,t){yo(this,_o.removeChild(this,e,t))}},{key:"insertBefore",value:function(e,t,n){_o.assertAcceptNode(this._model,e.nodeName,t.nodeName),yo(this,_o.insertBefore(this,e,t,n))}},{key:"insertAfter",value:function(e,t,n){_o.assertAcceptNode(this._model,e.nodeName,t.nodeName),yo(this,_o.insertAfter(this,e,t,n))}},{key:"insertByOffset",value:function(e,t,n){_o.assertAcceptNode(this._model,e.nodeName,n.nodeName);var r=_o.insertByOffset(this,e,t,n);r&&yo(this,r)}},{key:"setTextNodeData",value:function(e,t){yo(this,_o.setTextNodeData(this,e,t))}}]),e}();m()(Oo,"MODE_USER","user"),m()(Oo,"MODE_INIT","init"),m()(Oo,"MODE_AUTO","auto"),m()(Oo,"MODE_HISTORY","history"),m()(Oo,"MODE_OT","ot"),m()(Oo,"MODE_SILENT","silent");var Do,So=Object.prototype.hasOwnProperty;function Bo(e,t){return!!e&&So.call(e,t)}var Po=(m()(Do={},"inline","inline"),m()(Do,"block","block"),Do);function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mo=function(){function e(){o()(this,e)}return a()(e,null,[{key:"createFragment",value:function(e,t){return{type:"fragment",name:"#fragment",children:x()(e||[]),attrs:t}}},{key:"isEmptyNode",value:function(e){return"element"===e.type||"fragment"===e.type?!e.children||0===e.children.length:(br("text"===e.type,"F:inode-helper;L:21"),!e.data)}},{key:"isElementNode",value:function(e){return"element"===e.type}},{key:"isTextNode",value:function(e){return"text"===e.type}},{key:"isCardNode",value:function(e){return"card"===e.type}},{key:"isFragmentNode",value:function(e){return"fragment"===e.type}},{key:"createElement",value:function(e,t,n){var r={type:"element",name:e};return t&&(r.attrs=To({},t)),n&&(r.id=n),r}},{key:"createCard",value:function(e,t,n){var r={type:"card",name:e};return t&&(r.attrs={value:t}),n&&(r.id=n),r}},{key:"isLikeEmpty",value:function(t){return"text"===t.type?0===t.data.length:"element"===t.type&&(0===t.children.length||t.children.every((function(t){return e.isLikeEmpty(t)})))}},{key:"createTextNode",value:function(e,t,n){var r={type:"text",name:"#text",data:"string"!=typeof e?"":e};return t&&(r.attrs=To({},t)),n&&(r.id=n),r}},{key:"appendChild",value:function(e,t){e.children?e.children.push(t):e.children=[t]}},{key:"prependChild",value:function(e,t){e.children?e.children.unshift(t):e.children=[t]}},{key:"setChildByOffset",value:function(e,t,n){e.children||(e.children=[]),e.children[t]=n}},{key:"setChildren",value:function(e,t){e.children=x()(t)}},{key:"removeChild",value:function(e,t){var n=e.children.indexOf(t);br(-1!==n,"F:inode-helper;L:145"),e.children.splice(n,1)}},{key:"unwrapNode",value:function(e,t){var n,r=e.children.indexOf(t);br(-1!==r,"F:inode-helper;L:152"),(n=e.children).splice.apply(n,[r,1].concat(x()(t.children||[])))}},{key:"cloneNode",value:function(e){var t={type:e.type,id:e.id,name:e.name};return Bo(e,"data")&&(t.data=e.data),e.attrs&&(t.attrs=To({},e.attrs)),t}},{key:"setAttribute",value:function(e,t,n){"string"==typeof t&&(t=m()({},t,n)),e.attrs=To(To({},e.attrs),t)}},{key:"removeAttribute",value:function(e,t){e.attrs&&delete e.attrs[t]}},{key:"toCardFallback",value:function(t){var n=Po[t.cardType]||"block";return e.createCard(n,{name:t.name,value:t.value},t.id)}}]),e}(),Lo=function(){function e(){o()(this,e)}return a()(e,null,[{key:"createCardNode",value:function(e,t,n,r){var o=e.createCardNode(t,n,r);if(e.hasCategory(t,Er.BlockCard)){var i=e.createElement("hole");return e.appendChild(i,o),i}return br(e.hasCategory(t,Er.InlineCard),"F:card-helper;L:16"),o}}]),e}();function Ao(e,t){var n=t.node,r=t.offset;return n.hasCategory(Er.Inline)?0===r?e.newPosition(n.parentNode,n.offset):r===n.childCount?e.newPosition(n.parentNode,n.offset+1):function(e,t,n){var r=t.cloneNode(!1);return t.children.slice(n).forEach((function(t){e.appendChild(r,t)})),br(r.childCount>0&&t.childCount>0,"F:split-inline-node;L:30"),e.insertAfter(t.parentNode,r,t),e.newPosition(r.parentNode,r.offset)}(e,n,r):t}function Io(e,t,n,r){if(br(0===n||1===n||-1===n||2===n,"F:break-block-content;L:15"),br(!t.node.isCardNode(),"F:break-block-content;L:20"),r&&br(!Br.equal(t,r.position),"F:break-block-content;L:24"),t.node.hasCategory([Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole,Er.Card]))return t;if(br(t.node.isTextNode()||t.node.hasCategory(Er.Block),"F:break-block-content;L:31"),t.node.isTextNode()&&(t=function(e,t,n){var r=t.node,o=t.offset;if(br(r.isTextNode(),"F:break-block-content;L:83"),o===r.dataLength)return e.newPosition(r.parentNode,r.offset+1);if(0===o)return e.newPosition(r.parentNode,r.offset);var i=Sr.splitString(r.data,o),a=E()(i,2),c=a[0],l=a[1],s=r.cloneNode();return e.setTextNodeData(r,c),e.setTextNodeData(s,l),e.insertAfter(r.parentNode,s,r),n&&function(e,t,n){var r=e.node,o=e.offset,i=n.position,a=i.node,c=i.offset;if(a===r){if(c<=o)return;n.position=new Br(t,c-o)}else if(a===r.parentNode){if(c<=r.offset)return;n.position=new Br(a,c+1)}}(t,s,n),e.newPosition(s.parentNode,s.offset)}(e,t,r)),br(!t.node.isTextNode(),"F:break-block-content;L:38"),t.node.hasCategory(Er.Inline))t=Ao(e,t);else{if(t.node.isEmpty())return t;br(t.node.firstChild.isTextNode()||t.node.firstChild.hasCategory(Er.Inline)||t.node.firstChild.isCardNode(),"F:break-block-content;L:47")}return br(t.node.hasCategory(Er.Block),"F:break-block-content;L:52"),2===n?(br(t.node.hasCategory(Er.Block),"F:break-block-content;L:55"),t):-1===n?(br(!r,"F:break-block-content;L:62"),function(e,t){var n=t.node,r=t.offset,o=n.getChildByOffset(r-1);if(o)return o.isCardNode()&&br(!1,"F:break-block-content;L:115"),e.newPosition(o,o.dataLength);if(br(o=n.getChildByOffset(r),"F:break-block-content;L:123"),o.isCardNode()&&br(!1,"F:break-block-content;L:126"),o.isEmpty())return e.newPosition(o,0);var i=o.cloneNode();return e.setTextNodeData(i,""),e.insertBefore(i,o),e.newPosition(i,0)}(e,t)):1===n?(br(!r,"F:break-block-content;L:68"),function(e,t){var n=t.node,r=t.offset,o=n.getChildByOffset(r);if(o&&!o.isCardNode())return e.newPosition(o,0);if(!(o=n.getChildByOffset(r-1)))return t;if(br(o,"F:break-block-content;L:158"),o.isCardNode())return t;if(o.isEmpty())return e.newPosition(o,0);var i=o.cloneNode();return e.setTextNodeData(i,""),e.insertAfter(o.parentNode,i,o),e.newPosition(i,0)}(e,t)):(br(0===n,"F:break-block-content;L:72"),Zr(t=function(e,t,n){var r=t.node,o=t.offset,i=r.getChildByOffset(o)||r.getChildByOffset(o-1);return br(i,"F:break-block-content;L:180"),i.isEmpty()||(i=i.cloneNode(),e.setTextNodeData(i,""),e.insertByOffset(r,o,i),n&&n.node===r&&n.offset>o&&(n.position=e.newPosition(r,n.offset+1))),e.newPosition(i,0)}(e,t,r)),t)}function jo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"between",r=t.node,o=t.offset;return r.isTextNode()?0===o?Vo(e,r,n):o===Sr.length(r.data)?zo(e,r,n):Uo(e,r,o,n):t}function Vo(e,t,n){if("between"===n)return e.newPosition(t.parentNode,t.offset);if("front"===n||"behind"===n)return e.newPosition(t,0);br("empty_text"===n,"F:split-text-node;L:36");var r=t.cloneNode(!1);return e.setTextNodeData(r,""),e.insertBefore(t.parentNode,r,t),e.newPosition(r,0)}function zo(e,t,n){if("between"===n)return e.newPosition(t.parentNode,t.offset+1);if("front"===n||"behind"===n)return e.newPosition(t,0);br("empty_text"===n,"F:split-text-node;L:55");var r=t.cloneNode(!1);return e.setTextNodeData(r,""),e.insertAfter(t.parentNode,r,t),e.newPosition(r,0)}function Uo(e,t,n,r){var o=Sr.splitString(t.data,n),i=E()(o,2),a=i[0],c=i[1];br(a&&c,"F:split-text-node;L:68");var l=t.cloneNode(!1);if(e.setTextNodeData(t,a),e.setTextNodeData(l,c),e.insertAfter(t.parentNode,l,t),"between"===r)return e.newPosition(t.parentNode,t.offset+1);if("front"===r)return e.newPosition(t,n);if("behind"===r)return e.newPosition(l,0);br("empty_text"===r,"F:split-text-node;L:88");var s=t.cloneNode(!1);return e.setTextNodeData(s,""),e.insertAfter(t.parentNode,s,t),e.newPosition(s,0)}function Ho(e,t,n){var r=function(e,t){var n=new Set,r={recordCheckNode:function(e){n.add(e)}};return Mo.isFragmentNode(t)?function e(t,n,r){return r.forEach((function(r){if(zr.isLikeEmptyElement(r))if(r.parentNode){var o=[r.parentNode];t.removeChild(r.parentNode,r),e(t,n,o)}else{var i=n.indexOf(r);-1!==i&&n.splice(i,1)}})),n}(e,qo(r,e,null,t.children),Array.from(n)):null}(e,n);return r?function(e,t,n){return 1!==n.length||n[0].nodeName!==e.defaultElementName||e.acceptNode(t.node.nodeName,e.defaultElementName)||(n=n[0].children),t=n.some((function(e){return!e.hasCategory([Er.Text,Er.Inline])}))?Io(e,t,2):jo(e,t),t=function(e,t){if(!t.node.isElement())return t;for(var n=t.node,r=n.children,o=t.offset,i=o,a=r.length;i<a&&r[i].isTextNode()&&0===r[i].dataLength;i++)e.removeChild(n,r[i]);for(var c=o-1;c>=0&&r[c].isTextNode()&&0===r[c].dataLength;c--)e.removeChild(n,r[c]),o--;return e.newPosition(n,o)}(e,t),$o({isTopProcessContext:!0,needBreak:!1,allowMergeFirstLine:!0},e,t,n)}(e,t,r):t}function qo(e,t,n,r){var o=[];return r&&r.forEach((function(r){(function(e,t,n,r){var o=t.getNodeSchema(r.name);return o?o.category.includes(Er.Table)?function(e,t,n,r){if(null==n||!n.hasCategory(Er.TableHole)){var o=t.createElement("tableHole");return Wo(e,t,o,r),br(o.firstChild.hasCategory(Er.Table),"F:insert-inode-by-position;L:159"),n?Ko(e,t,n,o,r):[o]}return Wo(e,t,n,r)}(e,t,n,r):"element"===o.type?Wo(e,t,n,r):"text"===o.type?function(e,t,n,r){var o=Zo(t,r.name,r.attrs),i=t.createTextNode(r.data,o,r.id);return n?Ko(e,t,n,i,r):[i]}(e,t,n,r):(br("card"===o.type,"F:insert-inode-by-position;L:100"),function(e,t,n,r){var o=Lo.createCardNode(t,r.name,Zo(t,r.name,r.attrs),r.id);return null!=n&&n.hasCategory(Er.Hole)?Ko(e,t,n,o.firstChild,r):Ko(e,t,n,o,r)}(e,t,n,r)):r.children?qo(e,t,n,r.children):[]})(e,t,n,r).forEach((function(e){o.push(e)}))})),o}function Wo(e,t,n,r){var o=t.createElement(r.name,Zo(t,r.name,r.attrs),r.id),i=Ko(e,t,n,o,r),a=[];return o.parentNode||i.includes(o)?a=qo(e,t,o,r.children):n?a=qo(e,t,n,r.children):(i.push(o),a=qo(e,t,o,r.children)),a.forEach((function(e){i.push(e)})),i}function Zo(e,t,n){var r={};return n?(Object.keys(n).forEach((function(o){var i=n[o];e.acceptAttr(t,o,i)&&(r[o]=i)})),r):r}function Ko(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(n&&t.acceptNode(n.nodeName,r.nodeName))return e.wrapNode=null,t.appendChild(n,r),[];if(e.wrapNode){if(t.acceptNode(e.wrapNode.nodeName,r.nodeName))return t.appendChild(e.wrapNode,r),[];e.wrapNode=null}if(!n)return[r];var i=t.defaultElementName;if(t.acceptNode(i,r.nodeName)&&t.acceptNode(n.nodeName,i)){var a=o?Zo(t,i,o.attrs):{},c=t.createElement(i,a);return e.wrapNode=c,t.appendChild(c,r),t.appendChild(n,c),[]}if(r.nodeName===t.defaultElementName&&n.nodeName!==r.nodeName&&n.hasCategory(Er.Block)){var l,s=[];return null===(l=r.children)||void 0===l||l.forEach((function(r){Ko(e,t,n,r,null).forEach((function(e){s.push(e)}))})),s}return e.recordCheckNode(n),n.parentNode?Ko(e,t,n.parentNode,r,o):[r]}function $o(e,t,n,r){var o=e.isTopProcessContext&&function(e){var t=e.node,n=e.offset;if(t.isTextNode()&&n!==t.dataLength)return!0;var r=zr.closest(t,Er.Block);if(!r)return!1;for(;t!==r;){if(n!==t.childCount)return!0;n=(t=t.parentNode).offset+1}return br(t===r,"F:insert-inode-by-position;L:504"),n<r.childCount}(n);return e.isTopProcessContext=!1,r.forEach((function(r){e.needBreak&&(br(n.node.isElement(),"F:insert-inode-by-position;L:301"),n=function(e,t){br(!t.node.isRootNode(),"F:insert-inode-by-position;L:444"),t.node.isTextNode()&&(t=Io(e,t,2));var n=t,r=n.node,o=n.offset;if(zr.isLikeEmptyElement(r))return t=e.newPosition(r.parentNode,r.offset),e.removeChild(r.parentNode,r),t;if(0===o)return e.newPosition(r.parentNode,r.offset);if(o===r.childCount)return e.newPosition(r.parentNode,r.offset+1);var i=r.cloneNode(!1);return r.children.slice(o).forEach((function(t){e.appendChild(i,t)})),br(r.childCount>0,"F:insert-inode-by-position;L:474"),br(i.childCount>0,"F:insert-inode-by-position;L:475"),e.insertAfter(r.parentNode,i,r),e.newPosition(i.parentNode,i.offset)}(t,n),e.needBreak=!1),br(n.node.isElement(),"F:insert-inode-by-position;L:308"),n=function e(t,n,r,o){var i=r.node;if(br(i.isElement(),"F:insert-inode-by-position;L:326"),i.hasCategory([Er.Hole,Er.TableHole])&&(o.hasCategory([Er.Hole,Er.TableHole])||i.childCount>0)){var a=n.newPosition(i.parentNode,0===r.offset?i.offset:i.offset+1);return e(t,n,a,o)}if(n.acceptNode(i.nodeName,o.nodeName))return n.insertNodeByPosition(r,o);if(i.hasCategory([Er.Root,Er.LikeRoot])){var c=function(e,t,n){var r=e.defaultElementName;return e.acceptNode(r,n.nodeName)?e.createElement(r):null}(n,0,o);if(c)return n.insertNodeByPosition(r,c),e(t,n,n.newPosition(c,0),o);if(!i.hasCategory(Er.VirtualLikeRoot))return o.isElement()&&!o.isEmpty()?$o(t,n,r,o.children):r}return t.allowMergeFirstLine&&(i.nodeName===o.nodeName||o.nodeName===n.defaultElementName&&i.hasCategory(Er.TextContainer))?(o.children.forEach((function(e){r=n.insertNodeByPosition(r,e)})),function(e,t,n){var r=n.attrs,o=t.nodeName;Object.keys(r).forEach((function(n){var i=r[n];!e.isStandardAttr(o,n)&&e.acceptAttr(o,n,i)&&e.setAttribute(t,n,i)}))}(n,i,o),t.needBreak=!0,r):(t.needBreak=!0,$o(t,n,r,[o]))}(e,t,n,r),e.allowMergeFirstLine=!1})),o?function e(t,n){var r=n,o=r.node,i=r.offset;if(!o.isElement())return n;if(o.hasCategory(Er.Block)&&i===o.childCount)return e(t,t.newPosition(o.parentNode,o.offset+1));var a=o.getChildByOffset(i-1),c=o.getChildByOffset(i);if(!a||!c)return n;if(a.nodeName!==c.nodeName||!a.isElement())return n;var l=t.newPosition(a,a.childCount);return n=l.clone(),c.children.forEach((function(e){n=t.insertNodeByPosition(n,e)})),t.removeChild(c.parentNode,c),l}(t,n):n}function Jo(e){br(e.length>1,"F:multiple-ranges;L:6");var t={},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=e[0].start.node.parentNode.parentNode;e.forEach((function(e){var a=e.start.node;br(a.hasCategory(Er.TableCell),"F:multiple-ranges;L:19");var c=a.parentNode.offset,l=a.attrs.col,s=a.attrs.rowSpan||1,u=a.attrs.colSpan||1;t[c]||(t[c]={}),br(!t[c][l],"F:multiple-ranges;L:30"),t[c][l]=e,n=Math.min(n,c),r=Math.max(r,c+s-1),o=Math.min(o,l),i=Math.max(i,l+u-1)})),br(n>=0&&o>=0,"F:multiple-ranges;L:40"),br(r<a.attrs.rowCount&&i<a.attrs.colCount,"F:multiple-ranges;L:41");for(var c=[],l=n;l<=r;l++){for(var s=[],u=xo(a.children[l].attrs),d=o;d<=i;d++){var f=(t[l]||{})[d];f&&s.push({range:f,colIndex:d-o})}c.push({attrs:u,cells:s})}return br(c.length,"F:multiple-ranges;L:67"),{minCol:o,maxCol:i,minRow:n,maxRow:r,rowLayout:c,colWidths:a.attrs.colWidths.slice(o,i+1)}}var Yo=["cellBgColor","verticalAlign"];function Go(e,t,n){br("td"===t.name,"F:sync-cell-node-attrs;L:7");var r=t.attrs||{};Yo.forEach((function(t){Bo(r,t)&&e.setAttribute(n,t,r[t])}))}function Xo(e,t,n){var r=Jo(t),o=r.rowLayout,i=r.minCol,a=r.maxCol,c=r.minRow,l=function(e,t,n,r){br("table"===t.name,"F:insert-inode-to-table;L:81");var o=t.children.filter((function(e){return e.children&&e.children.length>0}));if(!o.length)return null;for(var i=[],a=0;a<n;a++){for(var c=o[a%o.length],l=c.children.length,s=[],u=0;u<r;u++)s.push(c.children[u%l]);i.push(s)}return i}(0,n,r.maxRow-c+1,a-i+1);if(!l)return t;var s=[];return o.forEach((function(t,n){var r=t.cells;br(l[n],"F:insert-inode-to-table;L:60"),r.forEach((function(t,r){br(t.range.collapsed,"F:insert-inode-to-table;L:63"),br(l[n][r],"F:insert-inode-to-table;L:64"),Ho(e,t.range.start,Mo.createFragment([l[n][r]])),Go(e,l[n][r],t.range.start.node);var o=t.range.start.node;s.push(e.newRange(e.newPosition(o,0),e.newPosition(o,o.childCount)))}))})),s}var Qo=function(){function e(t){o()(this,e),m()(this,"_layout",null),br(t&&"table"===t.nodeName,"F:parse-table-layout;L:11"),this._layout=this._analyzeLayout(t)}return a()(e,[{key:"layout",get:function(){return this.layout}},{key:"_analyzeLayout",value:function(t){for(var n=[],r=0,o=t.childCount;r<o;r++)n.push([]);return t.children.forEach((function(t){var r=t.offset;t.children.forEach((function(t){for(var o=t.attrs,i=o.col,a=o.rowSpan,c=void 0===a?1:a,l=o.colSpan,s=void 0===l?1:l,u=0;u<c;u++)for(var d=0;d<s;d++)n[r+u][i+d]={node:t,row:r,col:i,type:0===u&&0===d?e.TYPE_NODE:e.TYPE_REF}}))})),n}}]),e}();m()(Qo,"TYPE_REF","#ref"),m()(Qo,"TYPE_NODE","#node");var ei=function(){function e(){o()(this,e)}return a()(e,null,[{key:"parseTableLayout",value:function(e){return function(e){return new Qo(e)._layout}(e)}}]),e}();function ti(e,t){br(!e.collapsed,"walkRange error","F:walk-range;L:5");var n,r=e.start,o=r.node,i=r.offset,a=function(e){var t=e.node,n=e.offset;if(t.isElement()){if(n<t.childCount)return t.getChildByOffset(n)}else br(t.isTextNode(),"invalid node type","F:walk-range;L:156");for(var r=t;r&&!r.isRootNode();){if(r.nextSibling)return r.nextSibling;r=r.parent}return null}(e.end);br(n=o.isTextNode()?o:o.getChildByOffset(i)||ri(o),"F:walk-range;L:17");var c=ni(),l=E()(c,2),s=l[0];if(t(n,l[1]),!s.stopped){if(s.skipped){if(!(n=ri(n)))return;if(a){var u=zr.compare(n,a);if(br(!u.containedBy,"invalid stopNode","F:walk-range;L:39"),u.equal||u.following)return}}else n=oi(n);for(var d=new Map;n&&n!==a;){var f=ni(),h=E()(f,2),p=h[0],v=h[1];if(br(!d.has(n),"F:walk-range;L:55"),d.set(n,1),t(n,v),p.stopped)return;if(p.skipped){if(!(n=ri(n)))return;if(a){var m=zr.compare(n,a);if(br(!m.containedBy,"invalid stopNode","F:walk-range;L:75"),m.equal||m.following)return}}else n=oi(n)}}}function ni(){var e={stopped:!1,skipped:!1};return[e,{stop:function(){e.stopped=!0},skip:function(){e.skipped=!0}}]}function ri(e){for(;e&&!e.isRootNode();){if(e.nextSibling)return e.nextSibling;e=e.parent}return null}function oi(e){if(e.isTextNode()){for(var t=e;t&&!t.isRootNode();){if(t.nextSibling)return t.nextSibling;t=t.parent}return null}if(e.childCount)return e.firstChild;for(var n=e;n&&!n.isRootNode();){if(n.nextSibling)return n.nextSibling;n=n.parent}return null}function ii(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.start,o=t.end;return o=ai(e,o,n,!1),t.collapsed?e.newRange(o):(r=ai(e,r,n,!0),Ur.createAt(r,o))}function ai(e,t,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.node.isElement();){var o=t,i=o.node,a=o.offset;if(i.hasCategory([Er.TableHole,Er.Hole]))return t;if(r){var c=i.children[a];if(!c||c.isCardNode())return t;if(c.hasCategory(Er.Inline)&&!n)return t;t=e.newPosition(c,0)}else{var l=i.children[a-1];if(!l||l.isCardNode())return t;if(l.hasCategory(Er.Inline)&&!n)return t;if(l.isTextNode())return e.newPosition(l,l.dataLength);br(l.isElement(),"F:shrink-range;L:54"),t=e.newPosition(l,l.childCount)}}return t}function ci(e,t,n){var r=t.node,o=t.offset;if(!r.isTextNode())return{position:t,hasNewNode:!1};if(0===o)return n&&Ir(r)?{position:e.newPosition(r.parentNode,r.offset+1),hasNewNode:!1}:{position:e.newPosition(r.parentNode,r.offset),hasNewNode:!1};if(o===Sr.length(r.data))return{position:e.newPosition(r.parentNode,r.offset+1),hasNewNode:!1};var i=Sr.splitString(r.data,o),a=E()(i,2),c=a[0],l=a[1];br(c&&l,"F:split-text-node-by-range;L:70");var s=r.cloneNode(!1);return e.setTextNodeData(r,c),e.setTextNodeData(s,l),e.insertAfter(r.parentNode,s,r),{position:e.newPosition(r.parentNode,r.offset+1),hasNewNode:!0}}function li(e,t){for(t=t||[],Array.isArray(t)||(t=[t]);e;){if(e.hasCategory(t))return e;e=e.parentNode}return null}function si(e,t){var n=t||{},r=n.enter,o=n.leave;(r||o)&&(r=r||function(){},o=o||function(){},e.collapsed?function(e,t,n){for(var r=Mr(e.node,[Er.Root,Er.LikeRoot]),o=[],i=0,a=r.length;i<a;i++){var c=r[i];if(o.push(c),!1===t(c))break}o.reverse().forEach((function(e){n(e)}))}(e.start,r,o):function(e,t,n){var r=e.commonAncestorContainer,o=function(e,t){if(e===t)return[e];for(var n=[];e!==t;)n.push(e),e=e.parentNode;return n.push(t),n.reverse()}(r,li(r,[Er.Root,Er.LikeRoot]));br(o[o.length-1]===r,"F:full-walk-range;L:47"),function(e,t,n,r){var o=new Set,i=new Set,a=e.pop(),c=t.start.node.getPath(),l=t.end.node.getPath(),s=n,u=r;n=function(e){return br(!o.has(e),"F:full-walk-range;L:63"),o.add(e),s(e)},r=function(e){return br(!i.has(e)&&o.has(e),"F:full-walk-range;L:71"),i.add(e),u(e)},t.start.node.isElement()?c.push(t.start.offset):c.push(t.start.node.offset),t.end.node.isElement()?l.push(t.end.offset):l.push(t.end.node.offset+1);for(var d=[],f=!0,h=0,p=e.length;h<p;h++){var v=e[h];if(d.push(v),!1===n(v)){f=!1;break}}f&&function(e,t,n,r,o){for(var i=[e],a=e;a;){if(!1!==r(a)){var c=di(a,t,n);if(c){a=c,i.push(c);continue}}for(a=null;i.length;){var l=i.pop();o(l);var s=ui(l,t,n);if(s){a=s,i.push(s);break}}}br(0===i.length,"F:full-walk-range;L:146")}(a,c,l,n,r);for(var m=d.length-1;m>=0;m--)r(d[m]);br(o.size===i.size,"F:full-walk-range;L:112")}(o,e,t,n)}(e,r,o))}function ui(e,t,n){var r=e.nextSibling;return r&&fi(r,t,n)?r:null}function di(e,t,n){if(!e.isElement())return null;for(var r=e.firstChild;r;){if(fi(r,t,n))return r;r=r.nextSibling}return r}function fi(e,t,n){for(var r=e.getPath(),o=0,i=Math.min(r.length,t.length);o<i;o++){if(r[o]<t[o])return!1;if(r[o]>t[o])break}for(var a=n[n.length-1],c=n.slice(0,-1),l=0,s=Math.min(r.length,c.length);l<s;l++){if(r[l]<c[l])return!0;if(r[l]!==c[l])return!1}var u=r[n.length-1];return void 0===u||u<a}function hi(e,t){Kr(t);var n=t.start,r=t.end;if(t.collapsed)return n.node.isTextNode()?(n=pi(e,n,!1).position,e.newRange(n)):t.cloneRange();if(r.node.isTextNode()&&(r=pi(e,r,!0).position),n.node.isTextNode()){var o=pi(e,n,!1);n=o.position,o.childrenChanged&&n.node===r.node&&(r=e.newPosition(r.node,r.offset+1))}var i=e.newRange(n,r);return br(!i.collapsed,"F:split-text-content;L:36"),Kr(i),i}function pi(e,t,n){var r=t.node,o=t.offset;if(0===o)return n&&Ir(r)?{position:e.newPosition(r.parentNode,r.offset+1),childrenChanged:!1}:{position:e.newPosition(r.parentNode,r.offset),childrenChanged:!1};if(o===r.dataLength)return{position:e.newPosition(r.parentNode,r.offset+1),childrenChanged:!1};var i=Sr.splitString(r.data,o),a=E()(i,2),c=a[0],l=a[1],s=r.cloneNode(!1);return e.setTextNodeData(s,l),e.setTextNodeData(r,c),e.insertAfter(r.parentNode,s,r),{position:e.newPosition(r.parentNode,r.offset+1),childrenChanged:!0}}function vi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t,i=o.collapsed;if(t.collapsed){var a=mi(e,t.start,n,r);t=e.newRange(a)}else t=yi(e,t,n,r);return br(i===t.collapsed,"F:update-attribute;L:21"),Kr(t),Qr(e,t)}function mi(e,t,n,r){if(r){var o=zr.closest(t.node,Er.Block);if(o&&o.hasCategory(r))return t}var i=Mr((t=jo(e,t,"empty_text")).node),a=e.textAttrs,c=n.some((function(e){var t=e.name;return a.includes(t)}));return i.forEach((function(t){n.forEach((function(n){var r=n.name,o=n.value;e.acceptAttrName(t.nodeName,r)&&(null==o?e.removeAttribute(t,r):e.setAttribute(t,r,o))}))})),gi(e,t.node,n,c)||t}function yi(e,t,n,r){var o=[],i=[];return n.forEach((function(e){null!==e.value&&void 0!==e.value?o.push(e):i.push(e)})),function(e,t,n,r){si(t,{enter:function(t){if(r&&t.hasCategory(Er.Block)&&t.hasCategory(r))return!1;n.forEach((function(n){var r=n.name;e.removeAttribute(t,r)}))}})}(e,t=hi(e,t),i,r),function(e,t,n,r){var o=e.textAttrs,i=n.some((function(e){var t=e.name;return o.includes(t)}));si(t,{enter:function(t){if(r&&t.hasCategory(Er.Block)&&t.hasCategory(r))return!1;n.forEach((function(n){var r=n.name,o=n.value;e.acceptAttrName(t.nodeName,r)&&e.setAttribute(t,r,o)}))},leave:function(t){gi(e,t,n,i)}})}(e,t,o,r),t}function gi(e,t,n,r){var o=e.defaultElementName;if(t.isEmpty()&&t.hasCategory([Er.Root,Er.LikeRoot])){var i=e.createElement(o),a=null;return e.appendChild(t,i),r&&(a=e.createTextNode(""),e.appendChild(i,a)),n.forEach((function(t){var n=t.name,r=t.value;e.acceptAttr(i.nodeName,n,r)&&e.setAttribute(i,n,r),a&&e.acceptAttr(a.nodeName,n,r)&&e.setAttribute(a,n,r)})),a?e.newPosition(a,0):e.newPosition(i,0)}if(r&&t.isEmpty()&&t.hasCategory(Er.TextContainer)){var c=e.createTextNode("");return e.appendChild(t,c),n.forEach((function(t){var n=t.name,r=t.value;c&&e.acceptAttr(c.nodeName,n,r)&&e.setAttribute(c,n,r)})),e.newPosition(c,0)}return null}function bi(e){var t=e.node,n=e.offset;if(Ir(t))return!0;if(t.isTextNode()){if(n<t.dataLength)return!1;n=t.offset+1,t=t.parentNode}return n===t.childCount}function wi(e){var t=e.node,n=e.offset;if(t.isTextNode()){if(0!==n)return!1;n=t.offset}return 0===n}function xi(e,t,n){var r={};return Object.keys(n).forEach((function(o){e.acceptAttr(t,o,n[o])&&(r[o]=n[o])})),r}function _i(e,t){var n=t.node.closest(Er.Inline);return n&&!n.hasCategory(Er.InlineBox)&&Ir(n)?(t=e.newPosition(n.parentNode,n.offset),e.removeChild(n.parentNode,n),t):t}function ki(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Ci(e,t,n,r)}function Ci(e,t,n,r){Zr(t,!0);var o=t.node;return t=o.isTextNode()?Ri(e,t,r):o.hasCategory([Er.TableHole,Er.Hole])?function(e,t,n){return n?function(e,t){var n=t.node,r=t.offset;if(1===r){var o=e.createElement(e.defaultElementName);return e.insertBefore(n.parentNode,o,n),e.removeChild(n.parentNode,n),e.newPosition(o,0)}br(0===r,"F:delete-content-by-position;L:90");var i=n.previousSibling;return i?Ir(i)||i.hasCategory(Er.Hole)?(e.removeChild(n.parentNode,i),t):e.newPosition(i,i.childCount):t}(e,t):function(e,t){var n=t.node,r=t.offset;if(0===r){var o=e.createElement(e.defaultElementName);return e.insertBefore(n.parentNode,o,n),e.removeChild(n.parentNode,n),e.newPosition(o,0)}br(1===r,"F:delete-content-by-position;L:120");var i=n.nextSibling;return i?Ir(i)||i.hasCategory(Er.Hole)?(e.removeChild(n.parentNode,i),t):e.newPosition(i,0):t}(e,t)}(e,t,r):Ni(e,t,r),n&&(t=_i(e,t)),Zr(t,!0),t}function Ri(e,t,n){var r=t,o=r.node,i=r.offset;if(0===o.dataLength)return t=e.newPosition(o.parentNode,o.offset),e.removeChild(o.parentNode,o),Ni(e,t,n);if(n){if(0===i)return Ni(e,e.newPosition(o.parentNode,o.offset),n);var a=Sr.deleteChar("forward",o.data,i),c=o.data.length-a.length;return e.setTextNodeData(o,a),e.newPosition(o,i-c)}return i===o.dataLength?Ni(e,e.newPosition(o.parentNode,o.offset+1,n)):(e.setTextNodeData(o,Sr.deleteChar("backward",o.data,i)),e.newPosition(o,i))}function Ni(e,t,n){return n?function e(t,n){var r=n,o=r.node,i=r.offset;if(br(o.hasCategory([Er.Block,Er.Inline,Er.Root,Er.LikeRoot]),"F:delete-content-by-position;L:149"),o.hasCategory([Er.Root,Er.LikeRoot])&&!o.hasCategory(Er.VirtualLikeRoot))return n.clone();if(o.hasCategory(Er.Inline)&&Ir(o))return n=t.newPosition(o.parentNode,o.offset),t.removeChild(o.parentNode,o),n;if(0===i){if(o.hasCategory(Er.Level)){var a;if(br(o.hasCategory(Er.Block),"F:delete-content-by-position;L:165"),null!==(a=o.attrs)&&void 0!==a&&a.level){var c=o.attrs.level-1;return c>0?t.setAttribute(o,"level",c):t.removeAttribute(o,"level"),n}var l=t.createElement(t.defaultElementName);return o.children.forEach((function(e){br(t.acceptNode(l.nodeName,e.nodeName),"F:delete-content-by-position;L:182"),t.appendChild(l,e)})),t.insertBefore(o.parentNode,l,o),t.removeChild(o.parentNode,o),t.newPosition(l,0)}if(o.attrs.textIndent>0)return t.removeAttribute(o,"textIndent"),n;if(o.attrs.indent>0)return 1===o.attrs.indent?t.removeAttribute(o,"indent"):t.setAttribute(o,"indent",o.attrs.indent-1),n;if("center"===o.attrs.alignment||"right"===o.attrs.alignment)return t.removeAttribute(o,"alignment"),t.newPosition(o,0);var s=o.parentNode,u=o.previousSibling,d=Ir(o);if(d&&s.hasCategory(Er.VirtualLikeRoot)){if(1===s.childCount){var f=t.createElement(t.defaultElementName);return t.replaceChild(s.parentNode,f,s),t.newPosition(f,0)}if(t.removeChild(s,o),!u){var h=t.createElement(t.defaultElementName);return t.insertBefore(s.parentNode,h,s),t.newPosition(h,0)}return t.newPosition(u,u.childCount)}if(o.hasCategory(Er.Inline)&&!u)return n=t.newPosition(o.parentNode,o.offset),Ir(o)&&t.removeChild(o.parentNode,o),e(t,n);if(!u){var p=o.parentNode;if(!p.hasCategory(Er.VirtualLikeRoot)){if(d&&o.hasCategory(Er.Block)&&o.nodeName!==t.defaultElementName){var v=t.createElement(t.defaultElementName);return t.replaceChild(p,v,o),t.newPosition(v,0)}return n.clone()}if(!(u=p.previousSibling))return Ir(p)?(n=t.newPosition(p.parentNode,p.offset),t.removeChild(p.parentNode,p),n):n.clone()}if(u.hasCategory(Er.VirtualLikeRoot)){if(!u.lastChild||1===u.childCount&&Ir(u.lastChild))return t.removeChild(u.parentNode,u),n.clone();u=u.lastChild}if(u.isTextNode()||u.hasCategory(Er.Inline))return br(o.hasCategory(Er.Inline),"F:delete-content-by-position;L:302"),Ir(o)&&t.removeChild(o.parentNode,o),u.isTextNode()?Ri(t,t.newPosition(u,u.dataLength),!0):e(t,t.newPosition(u,u.childCount));if(u.hasCategory([Er.TableHole,Er.Hole]))return br(1===u.childCount,"F:delete-content-by-position;L:317"),Ir(o)?(t.removeChild(o.parentNode,o),t.newPosition(u,1)):(t.replaceChild(u.parentNode,o,u),n.clone());if(!u.hasCategory(Er.Block))return n.clone();if(Ir(u)&&!u.hasCategory(Er.Level))return t.removeChild(u.parentNode,u),n.clone();var m=t.newPosition(u,u.childCount),y=m.clone();return o.children.forEach((function(e){br(t.acceptNode(u.nodeName,e.nodeName),"F:delete-content-by-position;L:346"),y=t.insertNodeByPosition(y,e)})),o.parentNode.hasCategory(Er.VirtualLikeRoot)&&Ir(o.parentNode)?t.removeChild(o.parentNode.parentNode,o.parentNode):t.removeChild(o.parentNode,o),m}var g=o.getChildByOffset(i-1);return br(g,"F:delete-content-by-position;L:364"),g.isTextNode()?Ri(t,t.newPosition(g,g.dataLength),!0):g.hasCategory(Er.Inline)?(Ir(g)?(n=t.newPosition(g.parentNode,g.offset),t.removeChild(o,g)):n=t.newPosition(g,g.childCount),e(t,n)):(br(g.isCardNode(),"F:delete-content-by-position;L:381"),t.removeChild(o,g),t.newPosition(o,i-1))}(e,t):function e(t,n){var r=n,o=r.node,i=r.offset;if(br(o.hasCategory([Er.Block,Er.Inline,Er.Root,Er.LikeRoot]),"F:delete-content-by-position;L:391"),o.hasCategory([Er.Root,Er.LikeRoot])&&!o.hasCategory(Er.VirtualLikeRoot))return n.clone();if(Ir(o)){if(1===o.parentNode.childCount&&o.parentNode.hasCategory(Er.VirtualLikeRoot)){n=t.newPosition(o.parentNode.parentNode,o.parentNode.offset);var a=o.parentNode.nextSibling;return t.removeChild(o.parentNode.parentNode,o.parentNode),a?jr(a):e(t,n)}var c=o.nextSibling;return o.hasCategory(Er.Block)?c?(t.removeChild(o.parentNode,o),jr(c)):n.clone():(br(o.hasCategory(Er.Inline),"F:delete-content-by-position;L:430"),o.hasCategory(Er.InlineBox)?(n=t.newPosition(o.parentNode,o.offset),t.removeChild(o.parentNode,o),n):c?(t.removeChild(o.parentNode,o),c.isTextNode()?Ri(t,t.newPosition(c,0),!1):(br(c.hasCategory(Er.Inline),"F:delete-content-by-position;L:454"),e(t,t.newPosition(c,0)))):(n=t.newPosition(o.parentNode,o.offset),t.removeChild(o.parentNode,o),e(t,n)))}if(i===o.childCount){var l=o.nextSibling;return l&&l.hasCategory(Er.VirtualLikeRoot)&&(br(l.firstChild,"F:delete-content-by-position;L:464"),l=l.firstChild),o.hasCategory(Er.Inline)?l?l.isTextNode()?Ri(t,t.newPosition(l,0),!1):(br(l.hasCategory(Er.Inline),"F:delete-content-by-position;L:477"),e(t,t.newPosition(l,0))):e(t,t.newPosition(o.parentNode,o.offset+1)):(br(o.hasCategory(Er.Block),"F:delete-content-by-position;L:482"),l&&l.hasCategory(Er.TextContainer)?(br(l.hasCategory(Er.Block),"F:delete-content-by-position;L:489"),l.children.forEach((function(e){t.appendChild(o,e)})),1===l.parentNode.childCount&&l.parentNode.hasCategory(Er.VirtualLikeRoot)?t.removeChild(l.parentNode.parentNode,l.parentNode):t.removeChild(l.parentNode,l),n.clone()):n.clone())}var s=o.getChildByOffset(i);return s.isCardNode()?(br(s.hasCategory(Er.InlineCard),"F:delete-content-by-position;L:509"),t.removeChild(o,s),n.clone()):s.isTextNode()?Ri(t,t.newPosition(s,0),!1):(br(s.hasCategory(Er.Inline),"F:delete-content-by-position;L:520"),e(t,t.newPosition(s,0)))}(e,t)}var Ei=function(){function e(){o()(this,e)}return a()(e,null,[{key:"insertNodeToOffset",value:function(t,n,r){br("*"===r.nodeName&&t.isElement()&&n>=0&&n<=t.childCount,"failed to execute insertNodeToOffset","F:dangerous-node-helper;L:10"),r._parent&&e.removeChild(r);var o=t._children;o.splice(n,0,r),r._parent=t,r._dirty=!0;for(var i=0,a=o.length;i<a;i++)o[i]._offset=i}},{key:"appendChild",value:function(t,n){return e.insertNodeToOffset(t,t.childCount,n)}},{key:"removeChild",value:function(e){br("*"===e.nodeName,"F:dangerous-node-helper;L:35");var t=e._parent;br(t&&e._dirty,"failed to execute removeChild","F:dangerous-node-helper;L:39"),e._parent=null,e._offset=-1;var n=t._children,r=n.indexOf(e);n.splice(r,1);for(var o=r,i=n.length;o<i;o++)n[o]._offset=o}},{key:"markRange",value:function(e,t){var n=t.start,r=t.end,o={needMerge:n.node.isTextNode()&&0!==n.offset&&n.offset!==n.node.dataLength,node:e.createElement("*")},i=t.collapsed?null:{needMerge:r.node.isTextNode()&&0!==r.offset&&r.offset!==r.node.dataLength,node:e.createElement("*")};return n.node.isCardNode()&&(n=e.newPosition(n.node.parentNode,n.node.offset)),t.collapsed?r=n:r.node.isCardNode()&&(r=e.newPosition(r.node.parentNode,r.node.offset+1)),i&&(r=jo(e,r),e.insertNodeByPosition(r,i.node)),o&&(n=jo(e,n)),e.insertNodeByPosition(n,o.node),n=e.newPosition(o.node.parentNode,o.node.offset),r=i?e.newPosition(i.node.parentNode,i.node.offset):n,{range:e.newRange(n,r),startSentry:o,endSentry:i}}},{key:"recoverRange",value:function(e,t){var n=t.startSentry,r=t.endSentry,o=e.newPosition(n.node.parentNode,n.node.offset);e.removeChild(n.node.parentNode,n.node),n.needMerge&&(o=Oi(e,o));var i=o;r&&(i=e.newPosition(r.node.parentNode,r.node.offset),e.removeChild(r.node.parentNode,r.node),r.needMerge&&(i=Oi(e,i)));var a=e.newRange(o,i);return Kr(a),a}}]),e}();function Oi(e,t){var n=t.node,r=t.offset;br(!n.isTextNode(),"F:dangerous-node-helper;L:136");var o=n.getChildByOffset(r-1),i=n.getChildByOffset(r);br(o&&i&&o.isTextNode()&&i.isTextNode(),"F:dangerous-node-helper;L:141"),br(D()(o.attrs,i.attrs),"F:dangerous-node-helper;L:142");var a=o,c=o.dataLength;return e.setTextNodeData(o,o.data+i.data),e.removeChild(i.parentNode,i),e.newPosition(a,c)}function Di(e,t,n){if(Kr(t,!0),function(e){var t=e.start,n=e.end;return t.node===n.node&&t.node.isTextNode()}(t))return function(e,t){var n=t,r=n.start,o=n.end,i=r.node.data,a=i.substr(0,r.offset)+i.substr(o.offset);return e.setTextNodeData(r.node,a),e.newRange(e.newPosition(r.node,r.offset))}(e,t);if(t=hi(e,t),(t=function(e,t){if(t.collapsed)return t;var n=t,r=n.start,o=n.end;return r.node.hasCategory([Er.TableHole,Er.Hole])&&(0===r.offset?r=e.newPosition(r.node.parentNode,r.node.offset):(br(1===r.offset,"F:delete-content-by-range;L:178"),r=e.newPosition(r.node.parentNode,r.node.offset+1))),o.node.hasCategory([Er.TableHole,Er.Hole])&&(1===o.offset?o=e.newPosition(o.node.parentNode,o.node.offset+1):(br(0===o.offset,"F:delete-content-by-range;L:187"),o=e.newPosition(o.node.parentNode,o.node.offset))),Kr(t=e.newRange(r,o)),t}(e,t)).collapsed){var r=ki(e,t.start,n,!0);if(r instanceof Br)return e.newRange(r)}var o=t,i=o.start,a=o.end;br(i.node.isElement()&&a.node.isElement(),"F:delete-content-by-range;L:33");var c=e.createElement("*");Ei.insertNodeToOffset(a.node,a.offset,c);var l=[],s=[];ti(t,(function(e,t){var n=zr.compare(e,c);n.equal?t.stop():n.preceding?e.hasCategory([Er.TableRow,Er.TableCell])?s.push(e):(l.push(e),t.skip()):e.hasCategory(Er.Inline)||(br(n.contains,"F:delete-content-by-range;L:60"),s.push(e))})),Ei.removeChild(c),l.length&&l.forEach((function(t){var n=t.parentNode;e.removeChild(n,t)})),Zr(i,!0);var u=!i.node.hasCategory([Er.Root,Er.LikeRoot]);return s.length&&(u?function(e,t,n){if(br(n.isElement(),"F:delete-content-by-range;L:110"),br(t.node.isElement(),"F:delete-content-by-range;L:111"),Zr(t,!0),!function(e,t,n){return Si(t.node)===Si(n)}(0,t,n))return br(!1,"F:delete-content-by-range;L:116"),t;t.node.hasCategory(Er.Inline)&&(br(t.offset===t.node.childCount,"F:delete-content-by-range;L:121"),t=e.newPosition(t.node.parentNode,t.node.offset+1)),br(!n.hasCategory(Er.Inline),"F:delete-content-by-range;L:125"),n.children.forEach((function(n){br(e.acceptNode(t.node.nodeName,n.nodeName),"F:delete-content-by-range;L:127"),t=e.insertNodeByPosition(t,n)})),e.removeChild(n.parentNode,n)}(e,i,s.pop()):i=e.newPosition(s.pop(),0)),u?n&&(i=_i(e,i)):e.acceptNode(i.node.nodeName,e.defaultElementName)&&(i=e.insertNodeByPosition(i,e.createElement(e.defaultElementName))),Zr(i,1),Kr(t=e.newRange(i),!0),t}function Si(e){var t=zr.closest(e,[Er.Root,Er.LikeRoot]);return br(t,"F:delete-content-by-range;L:144"),t.hasCategory(Er.VirtualLikeRoot)?Si(t.parentNode):t}function Bi(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.collapsed&&t.start.node.isCardNode()){br(0===t.start.offset,"F:delete-content;L:11");var o=t.start.node;t=e.newRange(e.newPosition(o.parentNode,r?o.offset+1:o.offset))}if(Kr(t,!0),t.collapsed){var i=ki(e,t.start,n,r);t=i instanceof Ur?i:e.newRange(i)}else br((t=Di(e,t,n)).collapsed,"F:delete-content;L:29");return ii(e,t)}function Pi(e,t){t.collapsed||(t=Bi(e,t)),br(t.collapsed,"F:split-block-content;L:13");var n=Io(e,t.start,2);return e.newRange(n)}function Fi(e,t,n){var r=e.createElement("*"),o=r.cloneNode(!1),i=!t.start.node.isTextNode(),a=!t.end.node.isTextNode(),c=t.start,l=t.end;a&&Ei.insertNodeToOffset(l.node,l.offset,o),i&&Ei.insertNodeToOffset(c.node,c.offset,r),a&&(l=e.newPosition(o.parentNode,o.offset+1)),i&&(c=e.newPosition(r.parentNode,r.offset));var s=[];return si(e.newRange(c,l),{enter:function(e){e.nodeName===n&&s.push(e)}}),s.forEach((function(t){!function(e,t){var n=t.parentNode,r=t.children,o=t.offset;r.reverse().forEach((function(t){e.insertByOffset(n,o,t)})),e.removeChild(n,t)}(e,t)})),c=t.start,l=t.end,i&&(c=e.newPosition(r.parentNode,r.offset),Ei.removeChild(r)),a&&(l=e.newPosition(o.parentNode,o.offset),Ei.removeChild(o)),Kr(t=e.newRange(c,l)),t}function Ti(e,t,n){var r=-1;for(br(n!==e,"F:compare-position;L:55");n!==e;)r=n.offset,n=n.parentNode;return r>=t}var Mi=function(){function e(){o()(this,e),m()(this,"_sections",[]),m()(this,"_section",null),m()(this,"_textFragment",null),m()(this,"_stopped",!1)}return a()(e,[{key:"isStopped",get:function(){return this._stopped}},{key:"stop",value:function(){this._stopped=!0}},{key:"nextSection",value:function(){this._section?br(this._sections[this._sections.length-1]===this._section,"F:get-text-sections;L:26"):br(0===this._sections.length,"F:get-text-sections;L:24"),this._section=[],this._textFragment=null,this._sections.push(this._section)}},{key:"break",value:function(){this._section||this.nextSection(),this._section.push(null),this.nextText()}},{key:"nextText",value:function(){this._textFragment=null}},{key:"pushText",value:function(e,t,n){this._section||this.nextSection(),this._textFragment||(this._textFragment={text:"",fragments:[]},this._section.push(this._textFragment)),this._textFragment.text=this._textFragment.text+e,this._textFragment.fragments.push({text:e,start:t,end:n})}},{key:"getResult",value:function(){return this._sections}}]),e}();function Li(e,t){if(Kr(t),t.collapsed)return[];var n=t.start,r=t.end,o=new Mi;return function(e,t,n,r){for(;!e.isStopped;)n=Ai(e,t,n,r)}(o,e,n,r),o.getResult()}function Ai(e,t,n,r){var o=n.node,i=n.offset;if(o.isTextNode())return function(e,t,n,r){var o=n.node,i=n.offset,a=r.node,c=r.offset;return o===a?(br(i<=c,"F:get-text-sections;L:171"),e.pushText(Sr.substring(o.data,i,c),n,r),e.stop(),null):(e.pushText(Sr.substring(o.data,i),n,t.newPosition(o,o.dataLength)),t.newPosition(o.parentNode,o.offset+1))}(e,t,n,r);br(o.isElement(),"F:get-text-sections;L:105");var a,c=o.getChildByOffset(i);if(c)c.hasCategory(Er.BlockCard)?(e.nextSection(),a=t.newPosition(o,i+1)):c.isTextNode()?(e.nextText(),a=t.newPosition(c,0)):c.hasCategory(Er.InlineCard)?(e.break(),a=t.newPosition(o,i+1)):(br(c.isElement(),"F:get-text-sections;L:141"),c.hasCategory(Er.Block)?(e.nextSection(),a=t.newPosition(c,0)):a=t.newPosition(c,0));else{if(o.isRootNode())return e.stop(),null;a=t.newPosition(o.parentNode,o.offset+1)}return-1!==function(e,t){if(Br.equal(e,t))return 0;var n=e.node,r=e.offset,o=t.node,i=t.offset;if(n===o)return r<i?-1:(br(r>i,"F:compare-position;L:22"),1);var a=Pr(n,o);return a.preceding?-1:a.following?1:a.contains?Ti(n,r,o)?-1:1:(br(a.containedBy,"F:compare-position;L:46"),Ti(o,i,n)?1:-1)}(a,r)?(e.stop(),null):a}function Ii(e,t,n,r){for(var o=null,i=null,a=-1,c=-1,l=0,s=0,u=r.length;s<u;s++){var d=r[s];if(br(d.start.node.isTextNode(),"F:search-text;L:106"),d.offset===t||d.offset<t&&d.offset+d.count>t){var f=d.start.node;c=s,a=t-l,o=e.newPosition(f,a)}else l+=d.count}var h=n;if(a+h<=r[c].count)i=e.newPosition(r[c].end.node,a+h);else{h-=r[c].count-a;for(var p=c+1,v=r.length;p<v;p++){var m=r[p];if(br(h>0,"F:search-text;L:129"),m.count>=h){i=e.newPosition(m.end.node,h);break}h-=m.count}}br(o,i,"F:search-text;L:141");var y=e.newRange(o,i);return Kr(y),y}function ji(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;br("string"==typeof n,"F:insert-text;L:6");var o=t,i=o.node,a=o.offset;if(i.isTextNode())return e.setTextNodeData(i,Sr.insertString(i.data,a,n)),e.newPosition(i,a+Sr.length(n));var c=e.createTextNode(n,r);return e.insertByOffset(i,a,c),Zr(t=e.newPosition(c,Sr.length(n)),1),t}function Vi(e,t){var n=Ui(e,t.node,t.offset),r=n.node,o=n.offset;return e.newPosition(r,o)}function zi(e,t){var n=function e(t,n,r){var o={node:n,offset:r};return n.isCardNode()?o:n.isTextNode()?r!==n.dataLength?o:e(t,n.parentNode,n.offset+1):(br(n.isElement(),"F:enlarge-range-contains-block-node;L:119"),n.hasCategory(Er.Block)?r!==n.childCount?o:{node:n.parentNode,offset:n.offset+1}:Ui(t,n.parentNode,n.offset+1))}(e,t.node,t.offset),r=n.node,o=n.offset;return e.newPosition(r,o)}function Ui(e,t,n){var r={node:t,offset:n};return 0!==n||t.isCardNode()?r:t.hasCategory(Er.Block)?{node:t.parentNode,offset:t.offset}:Ui(e,t.parentNode,t.offset)}function Hi(e){var t=e.start,n=e.end,r=e.collapsed;return!!qi(t)&&(!!r||!!qi(n)&&-1===function(e,t){for(var n=[].concat(x()(e.node.getPath()),[e.offset]),r=[].concat(x()(t.node.getPath()),[t.offset]),o=0,i=n.length;o<i;o++){var a=n[o],c=r[o];if(void 0===c)return 1;if(a<c)return-1;if(a>c)return 1}return n.length===r.length?0:-1}(t,n))}function qi(e){var t=e.node,n=e.offset;return!(!t.isConnected||n<0||0!==n&&!(t.isTextNode()?n<=t.dataLength:t.isElement()?n<=t.childCount:(br(t.isCardNode(),"F:is-valid-range;L:45"),!1)))}function Wi(e,t){if(t.collapsed)return t;var n=t,r=n.start,o=n.end,i=zr.closest(r.node,Er.Block),a=zr.closest(o.node,Er.Block);return i||a?(i&&(r=function(e,t){var n=Zi(e,t.node,t.offset),r=n.node,o=n.offset;return e.newPosition(r,o)}(e,r)),a&&(o=function(e,t){var n=function e(t,n,r){var o={node:n,offset:r};return n.isCardNode()?o:n.isTextNode()?r!==n.dataLength?o:e(t,n.parentNode,n.offset+1):(br(n.isElement(),"F:enlarge-range-in-block-node;L:83"),n.hasCategory(Er.Block)?o:Zi(t,n.parentNode,n.offset+1))}(e,t.node,t.offset),r=n.node,o=n.offset;return e.newPosition(r,o)}(e,o)),br(!(t=e.newRange(r,o)).collapsed,"F:enlarge-range-in-block-node;L:32"),Hi(t),t):t}function Zi(e,t,n){var r={node:t,offset:n};return 0!==n||t.isCardNode()||t.hasCategory(Er.Block)?r:Zi(e,t.parentNode,t.offset)}function Ki(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;n&&br(e.hasCategory(n,Er.Block),"F:replace-block-node-and-content-text-attr;L:12");var i=new Set,a=e.defaultElementName,c=!(!n||n===a&&!r);if(si(t,{enter:function(e){if(e.hasCategory(Er.Block))return i.add(e),!1},leave:function(t){if(c&&t.isEmpty()&&t.hasCategory([Er.Root,Er.LikeRoot])){var n=e.createElement(a);e.appendChild(t,n),i.add(n)}}}),!i.size)return t;var l=Ei.markRange(e,t);return i.forEach((function(t){$i(e,t,n,r,o)})),Kr(t=Ei.recoverRange(e,l)),t}function $i(e,t,n,r,o){var i=!!o,a=t;if(n)if(br(e.acceptNode(t.parentNode.nodeName,n),"F:replace-block-node-and-content-text-attr;L:60"),t.nodeName!==n){var c=e.createElement(n,r);a=c,e.replaceChild(t.parentNode,c,t),t.children.forEach((function(t){e.appendChild(c,t)}))}else{var l=t.attrs;Object.keys(l).forEach((function(n){e.removeAttribute(t,n)})),r&&Object.keys(r).forEach((function(n){e.setAttribute(t,n,r[n])}))}i&&function(e){var t=e.childCount;return 0===t||1===t&&"*"===e.firstChild.nodeName}(a)&&e.appendChild(a,e.createTextNode("")),a.children.forEach((function(t){if(t.isTextNode()){var n=t.attrs;Object.keys(n).forEach((function(n){e.removeAttribute(t,n)})),o&&Object.keys(o).forEach((function(n){e.setAttribute(t,n,o[n])}))}}))}function Ji(e,t){var n=li(e,Er.Block);if(!n)return null;if(e.isTextNode()&&(0===t?(t=e.offset,e=e.parentNode):t===e.dataLength?(t=e.offset+1,e=e.parentNode):t=-1),-1===t)return{blockNode:n,offset:t};for(;e!==n;){var r=e.parentNode,o=r.childCount;if(0===t)t=e.offset,e=r;else{if(t!==o){t=-1;break}t=e.offset+1,e=r}}return{blockNode:n,offset:t}}var Yi=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isValidRange",value:function(e){return Hi(e)}},{key:"isEqualRange",value:function(e,t){return function(e,t){return e.start.node===t.start.node&&e.start.offset===t.start.offset&&e.end.node===t.end.node&&e.end.offset===t.end.offset}(e,t)}},{key:"deleteContent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Bi(e,t,n,r)}},{key:"walkRange",value:function(e,t){return ti(e,t)}},{key:"fullWalkRange",value:function(e,t){return si(e,t)}},{key:"shrinkRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ii(e,t,n)}},{key:"shrinkBlockNodeBoundary",value:function(e,t){return function(e,t){var n,r;if(t.collapsed)return t;var o=Ji(t.start.node,t.start.offset);if(!o)return t;var i=Ji(t.end.node,t.end.offset);if(!i)return t;if(o.blockNode===i.blockNode)return t;var a={node:t.start.node,offset:t.start.offset};o.offset===o.blockNode.childCount&&null!==(n=o.blockNode.nextSibling)&&void 0!==n&&n.hasCategory(Er.Block)&&(a.node=o.blockNode.nextSibling,a.offset=0);var c={node:t.end.node,offset:t.end.offset};0===i.offset&&null!==(r=i.blockNode.previousSibling)&&void 0!==r&&r.hasCategory(Er.Block)&&(c.node=i.blockNode.previousSibling,c.offset=c.node.childCount);var l=e.newRange(e.newPosition(a.node,a.offset),e.newPosition(c.node,c.offset));return Hi(l)?l:t}(e,t)}},{key:"setAttribute",value:function(e,t,n,r){return function(e,t,n,r){return vi(e,t,[{name:n,value:r}])}(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){return function(e,t,n){if(Array.isArray(n)||(n=[n]),t.collapsed){var r=function(e,t,n){return Mr((t=jo(e,t,"empty_text")).node).forEach((function(t){n.forEach((function(n){e.removeAttribute(t,n)}))})),t}(e,t.start,n);t=e.newRange(r)}else t=function(e,t,n){return t=function(e,t){br(!t.collapsed,"F:split-text-node-by-range;L:12");var n=ci(e,t.end,!0);Zr(t.start);var r=ci(e,t.start,!1);r.position.node===n.position.node&&r.hasNewNode&&(n.position=e.newPosition(n.position.node,n.position.offset+1));var o=e.newRange(r.position,n.position);return Kr(o),br(!o.collapsed&&!o.start.node.isTextNode()&&!o.end.node.isTextNode(),"F:split-text-node-by-range;L:29"),o}(e,t),Kr(t),si(t,{enter:function(t){n.forEach((function(n){e.removeAttribute(t,n)}))}}),t}(e,t,n);return Kr(t),Qr(e,t)}(e,t,n)}},{key:"updateAttribute",value:function(e,t,n){vi(e,t,n)}},{key:"enlargeRangeContainsBlockNode",value:function(e,t){return function(e,t){if(t.collapsed)return t;var n=t,r=n.start,o=n.end,i=zr.closest(r.node,Er.Block),a=zr.closest(o.node,Er.Block);return i||a?i===a?function(e,t,n){var r=n.parentNode;if(!r)return t;var o=t,i=o.start,a=o.end;return i=Vi(e,i),a=zi(e,a),i.node!==r||a.node!==r||Kr(t=e.newRange(i,a)),t}(e,t,i):(i&&(r=Vi(e,r)),a&&(o=zi(e,o)),br(!(t=e.newRange(r,o)).collapsed,"F:enlarge-range-contains-block-node;L:42"),Kr(t),t):t}(e,t)}},{key:"enlargeRangeInBlockNode",value:function(e,t){return Wi(e,t)}},{key:"enlargeRangeToCommonAncestor",value:function(e,t){return function(e,t){br(!t.collapsed,"F:enlarge-range-to-common-ancestor;L:10");for(var n=t.commonAncestorContainer,r=t.start.node,o=t.start.offset;r!==n;)o=r.offset,r=r.parentNode;for(var i=t.end.node,a=t.end.offset;i!==n;)a=i.offset+1,i=i.parentNode;return br(r===i&&o<a,"F:enlarge-range-to-common-ancestor;L:30"),Kr(t=e.newRange(e.newPosition(r,o),e.newPosition(i,a))),t}(e,t)}},{key:"splitTextContent",value:function(e,t){return hi(e,t)}},{key:"splitBlock",value:function(e,t){return function(e,t){t.collapsed||(t=Bi(e,t)),br(t.collapsed,"F:split-block;L:11");var n=function(e,t){var n=t.node;return br(li(t.node,Er.Block),"F:split-block-by-position;L:14"),Zr(t=Ir(n)?function(e,t){var n=li(t.node,Er.Block),r=n.firstChild,o=n.hasCategory(Er.Clean);r&&br(1===n.childCount,"F:split-block-by-position;L:33");var i=e.defaultElementName,a=o?{}:xi(e,i,n.attrs),c=e.createElement(i,a);return r&&!o&&e.acceptNode(c.nodeName,r.nodeName)&&e.appendChild(c,r.cloneNode(!1)),e.insertAfter(n.parentNode,c,n),n.hasCategory(Er.KeepEmpty)||e.removeChild(n.parentNode,n),e.newPosition(c,0)}(e,t):function(e,t){var n=t=Io(e,t,1),r=n.node,o=n.offset;r.isTextNode()&&(o=r.offset,r=r.parentNode);var i=li(t.node,Er.Block),a=function(e,t){var n=li(t.node,Er.Block);if(bi(t)&&!n.hasCategory(Er.Sticky)){var r=n.hasCategory(Er.Clean)?{}:t.node.attrs,o=e.defaultElementName,i=xi(e,o,r);return e.createElement(o,i)}return t.node.isTextNode()?t.node.parentNode.cloneNode(!1):t.node.cloneNode(!1)}(e,t),c=null,l=null;if(wi(t)?(r.children.slice(0,o).forEach((function(t){e.appendChild(a,t)})),e.insertBefore(r.parentNode,a,r),c=a,l=r):(r.children.slice(o).forEach((function(t){e.appendChild(a,t)})),e.insertAfter(r.parentNode,a,r),c=r,l=a,Ir(a)&&i.hasCategory(Er.Clean)&&a.children.reverse().forEach((function(t){e.removeChild(a,t)}))),l.isEmpty())return e.newPosition(l,0);if(l.firstChild.isCardNode())return e.newPosition(l,0);if(br(l.firstChild.isTextNode(),"F:split-block-by-position;L:106"),c.isEmpty()){var s=l.firstChild.cloneNode();e.setTextNodeData(s,""),e.appendChild(c,s)}return e.newPosition(l.firstChild,0)}(e,t),!0),t}(e,t.start);return Zr(n,!0),e.newRange(n)}(e,t)}},{key:"splitBlockContent",value:function(e,t){return Pi(e,t)}},{key:"wrapInlineNode",value:function(e,t,n){return function(e,t,n){br(e.hasCategory(n.nodeName,[Er.Inline,Er.TextContainer],!0),"F:wrap-inline-node;L:11"),br(li(t.commonAncestorContainer,Er.Block),"F:wrap-inline-node;L:12"),t=hi(e,t),br((t=Fi(e,t,n.nodeName)).start.node.isElement()&&t.end.node.isElement(),"F:wrap-inline-node;L:19"),br(t.start.node===t.end.node,"F:wrap-inline-node;L:21");var r=[];return ti(t,(function(e,t){r.push(e),t.skip()})),br(r.length>0,"F:wrap-inline-node;L:30"),e.insertNodeByPosition(t.start,n),r.forEach((function(t){e.appendChild(n,t)})),Kr(t=Ur.selectNodeContents(n)),t}(e,t,n)}},{key:"unwrapInlineNode",value:function(e,t,n){return function(e,t,n){br(e.hasCategory(n.nodeName,Er.Inline),"F:unwrap-inline-node;L:8"),br(li(t.commonAncestorContainer,Er.Block),"F:unwrap-inline-node;L:9");var r=Ei.markRange(e,t);return n.children.forEach((function(t){e.insertBefore(n.parentNode,t,n)})),e.removeChild(n.parentNode,n),Kr(t=Ei.recoverRange(e,r)),t}(e,t,n)}},{key:"getTextSections",value:function(e,t){return Li(e,t)}},{key:"searchText",value:function(e,t,n,r){return function(e,t,n,r){return n?function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).isIgnoreCase,o=void 0===r||r,i=n.map((function(e){var t=[],n=null;return e.forEach((function(e){e?(br(1===e.fragments.length,"F:search-text;L:35"),n?(n.positions.push({offset:Sr.length(n.text),count:Sr.length(e.text),start:e.fragments[0].start,end:e.fragments[0].end}),n.text+=e.text):(n={positions:[],text:""},t.push(n),n.text=e.text,n.positions.push({offset:0,count:Sr.length(e.text),start:e.fragments[0].start,end:e.fragments[0].end}))):n=null})),t})),a=[],c=Sr.length(t);return o&&(t=t.toLowerCase()),i.forEach((function(n){n.forEach((function(n){var r=n.text,i=n.positions,l=0;o&&(r=r.toLowerCase());do{if(-1===(l=r.indexOf(t,l)))return;a.push(Ii(e,l,c,i)),l+=c}while(l>0)}))})),a}(e,n,Li(e,t),r):[]}(e,t,n,r)}},{key:"getTextContent",value:function(e,t){return function(e,t){return Li(e,t).map((function(e){return e.map((function(e){return e?e.text:""})).join("")})).join("\n")}(e,t)}},{key:"wrapRootNode",value:function(e,t,n){return function(e,t,n){br(n.hasCategory(Er.LikeRoot)&&!n.isConnected,"F:wrap-root-node;L:8"),t=Fi(e,t,n.nodeName);var r=e.createElement("*"),o=r.cloneNode(!1),i=!t.start.node.isTextNode(),a=!t.end.node.isTextNode(),c=t,l=c.start,s=c.end;a&&e.insertNodeByPosition(t.end,o),i&&e.insertNodeByPosition(t.start,r),a&&(s=e.newPosition(t.end.node,o.offset+1));var u=[];return si(e.newRange(l,s),{enter:function(e){if(e.parentNode&&e.parentNode.hasCategory([Er.Root,Er.LikeRoot]))return u.push(e),!1}}),br(u.length>0,"F:wrap-root-node;L:43"),e.insertBefore(u[0].parentNode,n,u[0]),u.forEach((function(t){e.appendChild(n,t)})),i&&(br(r.isConnected,"F:wrap-root-node;L:52"),l=e.newPosition(r.parentNode,r.offset),e.removeChild(r.parentNode,r)),a&&(br(o.isConnected,"F:wrap-root-node;L:58"),s=e.newPosition(o.parentNode,o.offset),e.removeChild(o.parentNode,o)),Kr(t=e.newRange(l,s)),t}(e,t,n)}},{key:"unwrapNode",value:function(e,t,n){return Fi(e,t,n)}},{key:"deleteNode",value:function(e,t){return function(e,t){var n=e.getSelection();br(1===n.rangeCount&&t.isConnected,"F:delete-node;L:8");var r=n.firstRange,o=Ei.markRange(e,r);return e.removeChild(t.parentNode,t),Kr(r=Ei.recoverRange(e,o)),r}(e,t)}},{key:"replaceText",value:function(e,t,n){return function(e,t,n){for(var r=null,o=t.length-1;o>=0;o--){var i=Bi(e,t[o]);br(i.collapsed,"F:replace-text;L:13"),r=n?ji(e,i.start,n):i.start}return br(r,"F:replace-text;L:22"),e.newRange(r)}(e,t,n)}},{key:"replaceBlockNodeAndContentTextAttr",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Ki(e,t,n,r,o)}}]),e}();function Gi(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(br(t.ranges.length,"F:delete-content;L:6"),t.isTableSelection){var a=t.firstRange.start.node.parentNode.parentNode;if(br(a.hasCategory(Er.Table),"F:delete-content;L:10"),t.firstRange.start.node===a.firstChild.firstChild&&t.lastRange.end.node===a.lastChild.lastChild)return Xi(e,a,o,i)||t}var c=t.ranges.map((function(t){return Yi.deleteContent(e,t,n,r)}));return e.newSelection([c[0]])}function Xi(e,t,n,r){if(!n){var o=!0;if(t.children.forEach((function(t){t.children.forEach((function(t){zr.isLikeEmptyElement(t)||(o=!1,t.children.forEach((function(n){e.removeChild(t,n)})))}))})),!o)return null}if(!r)return null;var i=t.parentNode;br(i.hasCategory(Er.TableHole),"F:delete-content;L:53");var a=e.createElement(e.defaultElementName);return e.insertBefore(i.parentNode,a,i),e.removeChild(i.parentNode,i),e.newSelection(e.newRange(e.newPosition(a,0)))}function Qi(e,t,n){if(n=function(e,t){br(Mo.isFragmentNode(t),"F:normalize-inode-tree;L:6");var n=Mo.createFragment();return function e(t,n,r){r.forEach((function(r){var o;if(null!==(o=r.children)&&void 0!==o&&o.length||!t.hasCategory(r.name,[Er.TableHole,Er.Hole])){var i=Mo.cloneNode(r);Mo.appendChild(n,i),Mo.isElementNode(r)&&r.children&&e(t,i,r.children)}}))}(e,n,t.children),n}(e,n),(t.isCardSelection||!t.isTableSelection&&!t.isCollapsed)&&(t=Gi(e,t)),1===t.rangeCount){br(t.firstRange.collapsed,"F:insert-inode;L:19");var r=t.firstRange.start,o=zr.closest(r.node,Er.TableCell);if(1===n.children.length&&"table"===n.children[0].name&&o){var i=function(e,t,n){var r=t.attrs.col,o=t.parentNode.offset,i=t.parentNode.parentNode;return n.children.forEach((function(t,n){var a,c=i.children[o+n];!c&&t&&(c=function(e,t,n,r){var o={};n.attrs.height&&(o.height=n.attrs.height);var i=e.createElement("tr",o);e.appendChild(t,i);for(var a=0,c=r;a<c;a++)e.appendChild(i,e.createElement("td",{col:a}));return i}(e,i,t,r+1)),null===(a=t.children)||void 0===a||a.forEach((function(t,n){var o=function(e,t,n){var r=t.children,o=r[r.length-1];if(o&&o.attrs.col<n){br(o.attrs.col+(o.attrs.colSpan||1)===n,"F:insert-inode-to-table-cell;L:115");var i=e.createElement("td",{col:n});return e.appendChild(t,i),i}for(var a=0,c=r.length;a<c;a++){var l=r[a];if(l.attrs.col>=n)return l}br(!1,"F:insert-inode-to-table-cell;L:134")}(e,c,r+n);return function(e,t,n){Array.from(t.children).reverse().forEach((function(n){e.removeChild(t,n)})),Go(e,n,t),Ho(e,e.newPosition(t,0),Mo.createFragment(n.children))}(e,o,t),o}))})),function(e,t,n){var r=t.attrs.colCount,o=t.attrs,i=o.colWidths,a=o.rowCount,c=o.colCount;if(t.children.forEach((function(e){if(e.lastChild){var t=e.lastChild.attrs,n=t.col,o=t.colSpan,i=void 0===o?1:o;r=Math.max(r,n+i)}})),ei.parseTableLayout(t).forEach((function(n,o){for(var i=n.length;i<r;i++)e.appendChild(t.children[o],e.createElement("td",{col:i}))})),a!==t.children.length&&e.setAttribute(t,"rowCount",t.children.length),c!==r){br(r>c,"F:insert-inode-to-table-cell;L:67"),e.setAttribute(t,"colCount",r);var l=n.attrs.colWidths.slice(c-r);br(l.length===r-c,"F:insert-inode-to-table-cell;L:72"),e.setAttribute(t,"colWidths",i.concat(l))}}(e,i,n),Ur.selectNodeContents(t)}(e,o,n.children[0]);return e.newSelection([i])}var a=Ho(e,r,n);return e.newSelection([e.newRange(a)])}var c=function(e,t,n){if(t=function(e,t){return t.map((function(t){br(t.start.node.hasCategory(Er.TableCell),"F:insert-inode-to-table;L:142"),br(t.start.node===t.end.node,"F:insert-inode-to-table;L:143");var n=t.start.node;return n.children.forEach((function(t){e.removeChild(n,t)})),e.newRange(e.newPosition(n,0))}))}(e,t),1===n.children.length){var r;if("table"===n.children[0].name)return Xo(e,t,n.children[0]);if(1===(null===(r=n.children[0].children)||void 0===r?void 0:r.length)&&"table"===n.children[0].children[0].name)return Xo(e,t,n.children[0].children[0])}return function(e,t,n){var r=function(e,t,n){var r=[],o=null;return t.children.forEach((function(t){e.hasCategory(t.name,[Er.Text,Er.InlineCard])?(o||(o=Mo.createElement(n)),Mo.appendChild(o,t)):(o&&(r.push(o),o=null),r.push(t))})),o&&(r.push(o),o=null),r}(e,n,e.defaultElementName),o=Jo(t).rowLayout,i=[];return o.forEach((function(t,n){var o=t.cells,a=r[n%r.length];br(a,"F:insert-inode-to-table;L:33"),o.forEach((function(t){br(t.range.collapsed,"F:insert-inode-to-table;L:36"),Ho(e,t.range.start,Mo.createFragment([a]));var n=t.range.start.node;i.push(e.newRange(e.newPosition(n,0),e.newPosition(n,n.childCount)))}))})),i}(e,t,n)}(e,t.ranges,n);return e.newSelection(c)}var ea=function(){function e(){o()(this,e)}return a()(e,null,[{key:"setINode",value:function(e,t){!function(e,t){br(Mo.isFragmentNode(t),"F:set-inode;L:6");var n=e.document.rootNode;t.attrs&&Object.keys(t.attrs).forEach((function(r){"id"!==r&&e.setAttribute(n,r,t.attrs[r])})),n.children.forEach((function(t){e.removeChild(n,t)}));var r=e.newSelection(e.newRange(e.newPosition(n,0)));Qi(e,r,t)}(e,t)}}]),e}(),ta={"#root":{type:"element",category:[Er.Root],defaultElementName:"p"},"#text":{type:"text",category:[Er.Text],parents:[Er.TextContainer]},hole:{type:"element",category:[Er.Hole],parents:[Er.Root,Er.LikeRoot],excludes:[Er.VirtualLikeRoot]},tableHole:{type:"element",category:[Er.TableHole],parents:[Er.Root]},"*":{type:"element"}},na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function oa(){for(var e="",t=na.charAt(Math.floor(Math.random()*na.length)),n=1;n<5;n++)e+=ra.charAt(Math.floor(Math.random()*ra.length));return t+e}var ia={type:"card",id:oa,category:[Er.Card,Er.BlockCard],parents:[Er.Hole]},aa={type:"card",id:oa,category:[Er.Card,Er.InlineCard],parents:[Er.TextContainer]},ca={value:{targets:[Er.Card]},cardType:{targets:[Er.Card]}};function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ua=function(){function e(){o()(this,e),m()(this,"_rawSchemas",{}),m()(this,"_elementSchemas",{}),m()(this,"_attrSchemas",{}),m()(this,"_textAttrNames",new Set),m()(this,"_contextAttrs",[])}return a()(e,[{key:"destroy",value:function(){this._rawSchemas=null,this._elementSchemas=null,this._attrSchemas=null,this._textAttrNames=null,this._contextAttrs=null}},{key:"defaultElementName",get:function(){return this._rawSchemas[Er.Root].defaultElementName}},{key:"textAttrs",get:function(){return Array.from(this._textAttrNames)}},{key:"registerElement",value:function(e){var t=this,n=this._elementSchemas;this._rawSchemas=sa(sa({},e),this._rawSchemas),Object.keys(e).forEach((function(r){var o=e[r],i={type:o.type,parents:{},category:{},excludes:[]};o.parents&&o.parents.forEach((function(e){i.parents[e]=!0})),o.category&&o.category.forEach((function(e){i.category[e]=!0})),o.excludes&&(i.excludes=o.excludes.slice()),o.children&&(i.children={},o.children.forEach((function(e){i.children[e]=!0}))),o.contextAttr&&Object.keys(o.contextAttr).forEach((function(e){t._contextAttrs.push(e)})),o.standardAttrs&&(i.standardAttrs=x()(o.standardAttrs)),i.category[r]=!0,n[r]=i}))}},{key:"registerAttr",value:function(e,t){var n=this;t="string"==typeof e?m()({},e,t):e;var r=this._attrSchemas;Object.keys(t).forEach((function(e){var o=t[e];r[e]=o,o.default&&br(!1,"F:schema;L:109"),br(o.targets,"F:schema;L:112"),o.targets.includes(Er.Text)&&n._textAttrNames.add(e)}))}},{key:"registerInlineCard",value:function(e){var t=xo(aa);this.registerElement(m()({},e,t)),this.registerAttr(xo(ca))}},{key:"registerBlockCard",value:function(e){var t=xo(ia);this.registerElement(m()({},e,t)),this.registerAttr(xo(ca))}},{key:"getNodeSchema",value:function(e){return this._rawSchemas[e]}},{key:"isStandardAttr",value:function(e,t){var n=this._rawSchemas[e];return!(null==n||!n.standardAttrs)&&n.standardAttrs.includes(t)}},{key:"getAttrSchema",value:function(e){return this._attrSchemas[e]}},{key:"allowCloneAttr",value:function(e){var t=this._attrSchemas[e];return!!t&&!1!==t.allowClone}},{key:"acceptNode",value:function(e,t){if("*"===t&&"*"!==e)return!0;var n=this._elementSchemas[t],r=this._elementSchemas[e];if(!n||!r)return!1;if(n.excludes&&n.excludes.some((function(e){return r.category[e]})))return!1;if(r.children&&!Object.keys(n.category).some((function(e){return!!r.children[e]})))return!1;var o=Object.keys(n.parents).some((function(t){return t.startsWith("~")?!!r.category[t]:e===t}));return o||!1}},{key:"isValidAttr",value:function(e,t){if("id"===e&&"string"==typeof t)return!0;var n=this._attrSchemas[e];if(!n||void 0===t)return!1;if(n.values)if("function"==typeof n.values){if(!n.values(t))return!1}else if(-1===n.values.indexOf(t))return!1;return!0}},{key:"acceptAttr",value:function(e,t,n){return"id"===t&&"string"==typeof n||!!this.isValidAttr(t,n)&&this.acceptAttrName(e,t)}},{key:"acceptAttrName",value:function(e,t){if("id"===t)return!0;if(!this._elementSchemas[e])return!1;var n=this._attrSchemas[t];return br(n&&n.targets,"F:schema;L:261"),(!n.excludes||!this.hasCategory(e,n.excludes,!1))&&this.hasCategory(e,n.targets,!1)}},{key:"hasCategory",value:function(e,t,n){"string"==typeof t&&(t=[t]);var r=this._elementSchemas[e];if(!r)return!1;var o=r.category;if(n){for(var i=0,a=t.length;i<a;i++)if(!o[t[i]])return!1;return!0}for(var c=0,l=t.length;c<l;c++)if(o[t[c]])return!0;return!1}},{key:"isContextAttr",value:function(e){return this._contextAttrs.includes(e)}},{key:"supportContextAttr",value:function(e,t){return!!this._contextAttrs.includes(t)&&Bo(this._rawSchemas[e].contextAttr,t)}},{key:"processContextAttr",value:function(e,t,n){var r=this._rawSchemas[e];return br(r.contextAttr&&r.contextAttr[t],"F:schema;L:318"),r.contextAttr[t](n,t,e)}},{key:"getCategoryByNodeName",value:function(e){var t=this._elementSchemas[e];return br(t&&t.category,"F:schema;L:326"),t.category}},{key:"getNodeTypeByNodeName",value:function(e){var t=this._elementSchemas[e];return t?t.type:null}}]),e}();function da(){return xr(9)}function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ha=function(){function e(t,n,r,i){o()(this,e),m()(this,"_category",{}),m()(this,"_parent",null),m()(this,"_id",null),m()(this,"_docVersion",-1),m()(this,"_nodeName",null),m()(this,"_document",null),m()(this,"_offset",-1),m()(this,"_attrs",{}),r=xo(r),this._id=function e(t,n,r,o){var i=null;if(o)i=o,delete r.id;else if(r&&r.id)i=r.id,delete r.id;else{var a=t.schema.getNodeSchema(n);i=a.id?a.id():da()}return t.getNodeById(i)?e(t,n):i}(t,n,r,i),this._document=t,this._nodeName=n,this._docVersion=t.version,this._category=t.schema.getCategoryByNodeName(n),this._attrs=r||{},this._document.indexNode(this)}return a()(e,[{key:"destroy",value:function(){this._document.unIndexNode(this)}},{key:"id",get:function(){return this._id}},{key:"document",get:function(){return this._document}},{key:"rootNode",get:function(){return this._document.rootNode}},{key:"attrs",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs)}},{key:"isConnected",get:function(){for(var e=this;e;){if(e.isRootNode())return!0;e=e.parent}return!1}},{key:"parent",get:function(){return this._parent}},{key:"parentNode",get:function(){return this._parent}},{key:"nodeName",get:function(){return this._nodeName}},{key:"nodeValue",get:function(){return null}},{key:"nodeType",get:function(){return this._nodeType}},{key:"offset",get:function(){return this._offset}},{key:"previousSibling",get:function(){if(!this._parent)return null;var e=this._parent.getChildByOffset(this._offset-1);return br(e!==this,"F:node;L:127"),e}},{key:"nextSibling",get:function(){if(!this._parent)return null;var e=this._parent.getChildByOffset(this._offset+1);return br(e!==this,"F:node;L:139"),e}},{key:"category",get:function(){return this._category}},{key:"isEmpty",value:function(){return!0}},{key:"getPath",value:function(){if(this.isRootNode())return[];for(var e=this,t=[e._offset];(e=e._parent)&&!e.isRootNode();)t.push(e._offset);return t.reverse()}},{key:"getSchema",value:function(){return this._document.model.schema.getNodeSchema(this._nodeName)}},{key:"hasAttribute",value:function(e){return Bo(this._attrs,e)}},{key:"getAttribute",value:function(e){return this._attrs[e]}},{key:"hasCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._category;Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++)if(n[e[r]]){if(!t)return!0}else if(t)return!1;return!!t}},{key:"isRootNode",value:function(){return!1}},{key:"isElement",value:function(){return!1}},{key:"isTextNode",value:function(){return!1}},{key:"isCardNode",value:function(){return!1}},{key:"closest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||[],Array.isArray(e)||(e=[e]);for(var n=this;n;){if(n.hasCategory(e,t))return n;n=n.parentNode}return null}},{key:"cloneNode",value:function(){}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.toData(e)}},{key:"toData",value:function(){var e={id:this._id,name:this._nodeName};return Object.keys(this._attrs).length?e.attrs=xo(this._attrs):e.attrs={},e}},{key:"toString",value:function(){return"[node toString]"}}]),e}();var pa=function(e){u()(i,ha);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_children",[]),e}return a()(i,[{key:"children",get:function(){return this._children.slice()}},{key:"childCount",get:function(){return this._children.length}},{key:"firstChild",get:function(){return this._children[0]||null}},{key:"lastChild",get:function(){return this._children[this._children.length-1]||null}},{key:"isEmpty",value:function(){return 0===this._children.length}},{key:"getChildByOffset",value:function(e){return this._children[e]||null}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.toData(e)}},{key:"toData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=B()(p()(i.prototype),"toData",this).call(this,e);return e&&this._children.length?t.children=this._children.map((function(t){return t.toJSON(e)})):t.children=[],t}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodeName,n=this.attrs,r=[];Object.keys(n).forEach((function(e){var t=n[e];"object"===R()(t)?t=JSON.stringify(t):t+="",r.push("".concat(e,'="').concat(t,'"'))}));var o="";return e&&(o=this._children.map((function(t){return t.toString(e)})).join("")),"<".concat(t).concat(r.length?" "+r.join(" "):"",">").concat(o,"</").concat(t,">")}}]),i}();var va=function(e){u()(i,pa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getAttribute",value:function(e){return this._attrs[e]||null}},{key:"cloneNode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=xo(this._attrs);Object.keys(n).forEach((function(t){e._document.schema.allowCloneAttr(t)||delete n[t]}));var r=new i(this._document,this._nodeName,n);return t&&(r._children=this._children.map((function(e){return e.cloneNode(!0)}))),r}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=B()(p()(i.prototype),"toData",this).call(this,e);return t.type="element",t}},{key:"isElement",value:function(){return!0}}]),i}();var ma=function(e){u()(i,va);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){return o()(this,i),r.call(this,e,"#root",t,n)}return a()(i,[{key:"isRootNode",value:function(){return!0}},{key:"cloneNode",value:function(){throw new Error("can not clone rootNode")}}]),i}();var ya=function(e){u()(i,ha);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,"#text",n,a),m()(l()(c),"_data",""),c._data=t||"",c}return a()(i,[{key:"data",get:function(){return this._data}},{key:"dataLength",get:function(){return Sr.length(this._data)}},{key:"isEmpty",value:function(){return!this._data}},{key:"cloneNode",value:function(){var e=this,t=xo(this._attrs);return Object.keys(t).forEach((function(n){e._document.schema.allowCloneAttr(n)||delete t[n]})),new i(this._document,this._data,t)}},{key:"isTextNode",value:function(){return!0}},{key:"toString",value:function(){var e=this.attrs,t=[];return Object.keys(e).forEach((function(n){var r=e[n];r?"object"===R()(r)?r=JSON.stringify(r):r+="":r="",t.push("".concat(n,'="').concat(r,'"'))})),"<#text".concat(t.length?" "+t.join(" "):"",">").concat(this._data,"</#text>")}},{key:"toJSON",value:function(){var e=this.toData();return e.type="text",e}},{key:"toData",value:function(){B()(p()(i.prototype),"toData",this).call(this);var e=B()(p()(i.prototype),"toData",this).call(this);return e.data=this._data,e}}]),i}();function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ba=function(e){u()(i,ha);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),(c=r.call(this,e,t,n,a))._attrs.cardType=e.model.hasCategory(t,Er.BlockCard)?"block":"inline",c}return a()(i,[{key:"cardType",get:function(){return this._attrs.cardType}},{key:"cardValue",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs.value)}},{key:"toString",value:function(){var e=this.nodeName,t=this.attrs,n=[];return Object.keys(t).forEach((function(e){if("cardType"!==e){var r=t[e];r?"object"===R()(r)?r=JSON.stringify(r):r+="":r="",n.push("".concat(e,'="').concat(r,'"'))}})),"<".concat(e).concat(n.length?" "+n.join(" "):"","></").concat(e,">")}},{key:"toJSON",value:function(){var e=this.toData();return e.type="card",e}},{key:"isCardNode",value:function(){return!0}}]),i}();var wa=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_id",null),m()(l()(a),"_model",null),m()(l()(a),"_rootNode",null),m()(l()(a),"_allNodes",new Map),m()(l()(a),"_nameNodes",{}),m()(l()(a),"_selection",null),m()(l()(a),"_version",-1),m()(l()(a),"_entryPoint",null),m()(l()(a),"_ready",!1),a._id=xr(12),a._model=e,a._rootNode=new ma(l()(a),t),a._selection=qr.createBy(l()(a),Ur.createAt(new Br(a._rootNode,0))),n&&(a._entryPoint=n.replace(/^#/,"")),a}return a()(i,[{key:"destroy",value:function(){this._allNodes.clear(),this._nameNodes=null,this._selection.destroy(),this._selection=null,this._rootNode=null,this.removeAllListeners()}},{key:"id",get:function(){return this._id}},{key:"model",get:function(){return this._model}},{key:"schema",get:function(){return this._model.schema}},{key:"version",get:function(){return this._version}},{key:"rootNode",get:function(){return this._rootNode}},{key:"selection",get:function(){return this._selection},set:function(e){this._selection=e.cloneSelection()}},{key:"entryPoint",get:function(){return this._entryPoint}},{key:"ready",value:function(){this._ready||(this._ready=!0,this.emit("ready"))}},{key:"isReady",value:function(){return this._ready}},{key:"getData",value:function(){return this._rootNode.toData(!0)}},{key:"getINode",value:function(e){if(e&&e.beforeIndex)return this.getINodeBefore(e.beforeIndex);var t=this._rootNode.toJSON(!0);return Mo.createFragment(t.children)}},{key:"getINodeBefore",value:function(e){var t=this._rootNode.toJSON(!0);return Mo.createFragment(t.children.slice(0,e))}},{key:"getNodeById",value:function(e){return e?this._allNodes.get(e):null}},{key:"getNodesByName",value:function(e){return this._nameNodes[e]?Array.from(this._nameNodes[e]):[]}},{key:"getNodeByPath",value:function(e){if(0===e.length)return this._rootNode;for(var t=this._rootNode,n=0,r=e.length;n<r;n++){var o=e[n];if(!t.children||!t.children[o])return null;t=t.children[o]}return t}},{key:"indexNode",value:function(e){var t=e.id,n=e.nodeName;this._allNodes.set(t,e),this._nameNodes[n]||(this._nameNodes[n]=new Set),this._nameNodes[n].add(e)}},{key:"unIndexNode",value:function(e){var t=e.id,n=e.nodeName;this._allNodes.delete(t),this._nameNodes[n]&&this._nameNodes[n].delete(e)}},{key:"submitOperations",value:function(e,t,n){this._version++,this.emit("contentchange",{mode:n,operations:e,selection:t})}},{key:"selectionChange",value:function(e){this.emit("selectionchange",e)}},{key:"createElement",value:function(e,t,n){return new va(this,e,t,n)}},{key:"createTextNode",value:function(e,t,n){return new ya(this,e,t,n)}},{key:"createCardNode",value:function(e,t,n){return new ba(this,e,t,n)}}]),i}();var xa=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_$extendMethods",{}),m()(l()(e),"_$extends",{}),m()(l()(e),"_pluginEventEmitter",new g.a),e}return a()(i,[{key:"destroy",value:function(){this._pluginEventEmitter.removeAllListeners(),this.removeAllListeners(),this._pluginEventEmitter=null,this._$extendMethods=null,this._$extends=null}},{key:"extendMethods",value:function(e){var t=this,n=this._$extendMethods;Object.keys(e).forEach((function(r){br("function"==typeof e[r],"F:hub;L:27"),br(!Bo(n,r),"F:hub;L:28"),br(!t[r],"F:hub;L:29"),t[r]=function(){return e[r].apply(e,arguments)},n[r]=e[r]}))}},{key:"hasExtendMethod",value:function(e){return Bo(this._$extendMethods,e)}},{key:"extend",value:function(e,t){var n=this._$extends;br(void 0===this.propertyName,"F:hub;L:45"),br(!Bo(n,e),"F:hub;L:46"),n[e]=t,this[e]=t}},{key:"hasExtend",value:function(e){return Bo(this._$extends,e)}},{key:"emitPluginEvent",value:function(e,t){this._pluginEventEmitter.emit(e,t)}},{key:"onPluginEvent",value:function(e,t){var n=this;return this._pluginEventEmitter.on(e,t),function(){n._pluginEventEmitter.off(e,t)}}}]),i}();function _a(e){return e._jobs}function ka(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(t)return e._jobs.forEach((function(e){e.destroy()})),void(e._jobs=[]);e._jobs.forEach((function(e){No(e)||e.isEmpty()?e.destroy():n.push(e)})),br(n.length<=1,"F:iediting;L:37"),e._jobs=n}var Ca=function(e){u()(i,xa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_editing",null),m()(l()(n),"_model",null),m()(l()(n),"_jobs",[]),n._editing=e,n._model=t,n}return a()(i,[{key:"destroy",value:function(){this.removeAllListeners()}},{key:"job",get:function(){0===this._jobs.length&&this._jobs.push(new Oo(this,this._model));var e=this._jobs[this._jobs.length-1];return No(e)&&(e=new Oo(this,this._model),this._jobs.push(e)),e}},{key:"newJob",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo.MODE_USER,t=this._jobs[this._jobs.length-1];return t&&(t.isEmpty()?(this._jobs.pop(),br(!(t=this._jobs[this._jobs.length-1])||!t.isEmpty(),"F:iediting;L:91")):No(t)||Ro(t)),t=new Oo(this,this._model,e),this.emit("job.created",{job:t}),this._jobs.push(t),t}},{key:"commitJob",value:function(e){Ro(e),this._editing.requestFlush()}},{key:"cancelJob",value:function(e){}}]),i}(),Ra=function(){function e(t){o()(this,e),m()(this,"_commitCb",null),m()(this,"_rollbackCb",null),br("function"==typeof t.commit,"F:transaction;L:9"),br("function"==typeof t.rollback,"F:transaction;L:10"),this._commitCb=t.commit,this._rollbackCb=t.rollback}return a()(e,[{key:"commit",value:function(){this._commitCb()}},{key:"rollback",value:function(){this._rollbackCb()}}]),e}(),Na=function(){function e(t,n){o()(this,e),m()(this,"_kernel",null),m()(this,"_model",null),m()(this,"_iEditing",null),m()(this,"_transaction",null),m()(this,"_isFlushing",!1),m()(this,"_flushAgain",!1),this._kernel=t,this._model=n,this._iEditing=new Ca(this,n)}return a()(e,[{key:"destroy",value:function(){this._iEditing.destroy(),this._kernel=null,this._model=null,this._iEditing=null,this._transaction=null}},{key:"iEditing",get:function(){return this._iEditing}},{key:"startTransaction",value:function(){var e=this;return br(!this._transaction,"F:editing/index;L:55"),this._transaction=new Ra({commit:function(){e._transaction=null,e._flush()},rollback:function(){e._transaction=null,e._rollback()}}),this._transaction}},{key:"requestFlush",value:function(){this._transaction||this._flush()}},{key:"_flush",value:function(){if(this._isFlushing)this._flushAgain=!0;else{this._isFlushing=!0,this._flushAgain=!1;var e=2;try{for(this._doFlush();this._flushAgain;){if(this._flushAgain=!1,--e<0)throw new Error("failed to execute flush");this._doFlush()}}finally{this._isFlushing=!1}}}},{key:"_rollback",value:function(){var e=_a(this._iEditing),t=[];if(0!==e.length){var n=e[0].cachedSelection;e.forEach((function(e){var n=Eo(e);n&&n.length&&n.forEach((function(e){t.push(e)}))}));var r=this._iEditing.newJob("auto");t.reverse().forEach((function(e){e.reverse(r)})),ka(this._iEditing,!0),this._model.document.selection=n.cloneSelection(),this._iEditing.emit("operationRollback")}else this._iEditing.emit("operationRollback")}},{key:"_doFlush",value:function(){var e=this;this._hasContentChange()&&this._iEditing.emit("beforecontentchange");var t=_a(this._iEditing),n=[],r=[],o=null,i=null,a=null;t.forEach((function(e,c){if(!e.isEmpty()){var l;o?"auto"!==e.mode&&br(o===e.mode,"F:editing/index;L:164"):o=e.mode,No(e)?(l=n,i||(i=e.cachedSelection)):(br(t.length===c+1,"F:editing/index;L:171"),l=r,a||(a=e.cachedSelection));var s=Eo(e);s&&s.length&&s.forEach((function(e){l.push(e)}))}})),ka(this._iEditing);var c=n.concat(r);if(c.length){br(t.length>0,"F:editing/index;L:199"),br(0===n.length||0===r.length,"F:editing/index;L:201");var l=this._model.document.selection,s={selection:l.cloneSelection(),mode:o,isCommitted:n.length>0};n.length?(br(i,"F:editing/index;L:211"),s.operations=n,s.previousSelection=i):(br(0===n.length&&a,"F:editing/index;L:216"),s.operations=r,s.previousSelection=a),this._iEditing.emit("contentchange",s),"init"!==s.mode&&"ot"!==s.mode&&Promise.resolve().then((function(){e._iEditing.emit("operation.submitted",{operations:c,selection:l.cloneSelection()})}));try{this._model.document.submitOperations(c,l.cloneSelection(),s.mode)}finally{this._iEditing.emit("aftercontentchange")}}else{var u=null;n.length?(br(i,"F:editing/index;L:245"),u=i):u=a;var d=this._model.document.selection;0!==c.length||qr.equal(d,u)||(this._iEditing.emit("selectionchange",{selection:d.cloneSelection()}),this._model.document.selectionChange({selection:d.cloneSelection()}))}}},{key:"_hasContentChange",value:function(){return _a(this._iEditing).some((function(e){return!e.isEmpty()}))}}]),e}(),Ea=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getSnapshot",value:function(e){var t=e.selection,n=e.rootNode;return{selection:{anchor:t.anchor,focus:t.focus,ranges:t.ranges.map((function(e){return{collapsed:e.collapsed,start:{node:e.start.node.id,offset:e.start.offset},end:{node:e.end.node.id,offset:e.end.offset}}}))},content:[n.toData(!0)]}}}]),e}(),Oa=function(){function e(){o()(this,e),m()(this,"iKernel",null),m()(this,"editing",null)}return a()(e,[{key:"init",value:function(e,t){this.iKernel=e,this.iEditing=t}},{key:"destroy",value:function(){}},{key:"getState",value:function(e){return-1}},{key:"isEnabled",value:function(e){return-1!==this.getState(e)}},{key:"execute",value:function(e){return!1}},{key:"getValue",value:function(e){return!1}}]),e}();m()(Oa,"UNAVAILABLE",-1),m()(Oa,"EXECUTED",1),m()(Oa,"NOT_EXECUTED",0),m()(Oa,"UNKNOWN",2);var Da=function(){function e(t,n){o()(this,e),m()(this,"_model",null),m()(this,"_kernel",null),m()(this,"_commands",{}),this._model=t,this._kernel=n}return a()(e,[{key:"destroy",value:function(){var e=this;Object.keys(this._commands).forEach((function(t){e._commands[t].destroy()})),this._model=null,this._kernel=null,this._commands=null}},{key:"registerCommand",value:function(e,t){var n=this,r={};"string"==typeof e?r[e]=t:r=e,Object.keys(r).forEach((function(e){var t=r[e];br(t instanceof Oa,"F:command-manager;L:40"),t.init(n._model.kernel.iKernel,n._model.editing),n._commands[e]=t}))}},{key:"hasCommand",value:function(e){return Object.prototype.hasOwnProperty.call(this._commands,e)}},{key:"getCommandState",value:function(e){var t=this._commands[e];return t?t.getState(this._getJob()):-1}},{key:"queryCommandEnabled",value:function(e){var t=this._commands[e];return!!t&&t.isEnabled(this._getJob())}},{key:"execute",value:function(e){var t=this._commands[e];if(!t)return!1;for(var n,r=+new Date,o=this._model.editing.startTransaction(),i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];try{n=t.execute.apply(t,[this._model.editing.iEditing].concat(a))}catch(t){o.rollback();var l=a.map((function(e){try{return JSON.stringify(e)}catch(e){return"#error"}})),s=Ea.getSnapshot(this._model.document);throw this._kernel.emitEvent("commandExecuteError",{error:t,detail:{commandName:e,args:l,selection:s.selection,content:s.content}}),t}return o.commit(),this._model.editing.iEditing.emit("afterExecCommand",{commandName:e,args:a,result:n}),this._kernel.emitEvent("commandEnd",{commandName:e,useTime:+new Date-r}),n}},{key:"getCommandValue",value:function(e){var t=this._commands[e];if(!t)return!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.getValue.apply(t,[this._getJob()].concat(r))}},{key:"_getJob",value:function(){return this._model.editing.iEditing.job}}]),e}();function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pa=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_kernel",null),m()(l()(t),"_document",null),m()(l()(t),"_schema",null),m()(l()(t),"_editing",null),m()(l()(t),"_commandManager",null),m()(l()(t),"_disabled",!0),t._kernel=e,t._schema=new ua,t._schema.registerElement(ta),t._editing=new Na(e,l()(t)),t._commandManager=new Da(l()(t),e),t}return a()(i,[{key:"destroy",value:function(){this._document&&this._document.destroy(),this._document=null,this._commandManager.destroy(),this._commandManager=null,this._editing.destroy(),this._editing=null,this._schema.destroy(),this._schema=null,this.removeAllListeners()}},{key:"document",get:function(){return this._document}},{key:"editing",get:function(){return this._editing}},{key:"disabled",get:function(){return this._disabled}},{key:"enabled",get:function(){return!this._disabled}},{key:"schema",get:function(){return this._schema}},{key:"kernel",get:function(){return this._kernel}},{key:"enable",value:function(){this._disabled&&(this._disabled=!1,this.emit("disable.state.change",!1))}},{key:"disable",value:function(){this._disabled||(this._disabled=!0,this.emit("disable.state.change",!0))}},{key:"reset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._document&&(this.emit("document.destroy",this._document),this._document.destroy());var n=new wa(this,null==e?void 0:e.attrs,null==t?void 0:t.entryPoint);this._document=n,this.emit("document.create",this._document,t);var r,o=this._editing.iEditing,i=o.newJob(Oo.MODE_INIT);return e&&ea.setINode(i,e),n.entryPoint&&(r=dc.moveToNodeById(i,n.entryPoint)),r||(r=dc.toStart(i.getSelection())),i.setSelection(r),o.commitJob(i),n.ready(),this.emit("document.ready",n),this._document}},{key:"registerElement",value:function(e,t){var n={};t="string"==typeof e?m()({},e,t):e,Object.keys(t).forEach((function(e){n[e]=Ba(Ba({},t[e]),{},{type:"element"})})),this._schema.registerElement(n)}},{key:"registerAttr",value:function(e,t){this._schema.registerAttr(e,t)}},{key:"registerInlineCard",value:function(e,t){this._schema.registerInlineCard(e,t)}},{key:"registerBlockCard",value:function(e,t){this._schema.registerBlockCard(e,t)}},{key:"registerCommand",value:function(e,t){this._commandManager.registerCommand(e,t)}},{key:"acceptNode",value:function(e,t){return this._schema.acceptNode(e,t)}},{key:"acceptAttr",value:function(e,t,n){return this._schema.acceptAttr(e,t,n)}},{key:"hasCategory",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._schema.hasCategory(e,t,n)}},{key:"getNodeSchema",value:function(e){return this._schema.getNodeSchema(e)}},{key:"isStandardAttr",value:function(e,t){return this._schema.isStandardAttr(e,t)}},{key:"getAttrSchema",value:function(e){return this._schema.getAttrSchema(e)}},{key:"connectDocument",value:function(){throw new Error("can't support connect document")}},{key:"execCommand",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._commandManager).execute.apply(t,[e].concat(r))}},{key:"queryCommandState",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._commandManager).getCommandState.apply(t,[e].concat(r))}},{key:"queryCommandSupported",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._commandManager).hasCommand.apply(t,[e].concat(r))}},{key:"queryCommandEnabled",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._commandManager).queryCommandEnabled.apply(t,[e].concat(r))}},{key:"queryCommandValue",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._commandManager).getCommandValue.apply(t,[e].concat(r))}}]),i}(),Fa=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e){return e}},{key:"write",value:function(e){}}]),e}();var Ta=function(e){u()(i,Fa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"read",value:function(e){br("#root"===(e=this._iKernel.readData("text/ne-inode",e)).name,"F:json-data-source;L:17");var t=function e(t,n){var r=[];return n.forEach((function(n){var o=t.getNodeSchema(n.name);if(!o)return n.children&&e(t,n.children).forEach((function(e){r.push(e)})),r;var i=null;switch(o.type){case"element":i=Mo.createElement(n.name,n.attrs,n.id);break;case"card":i=Mo.createCard(n.name,(n.attrs||{}).value,n.id);break;case"text":i=Mo.createTextNode(n.data,n.attrs,n.id);break;default:throw new Error("invalid data")}n.children&&Mo.setChildren(i,e(t,n.children)),r.push(i)})),r}(this._iKernel,[e]),n=E()(t,1)[0];return Mo.createFragment(n.children,n.attrs)}},{key:"write",value:function(e){return e.document.getData()}}]),i}();var Ma=function(e){u()(i,xa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_kernel",null),t._kernel=e,t}return a()(i,[{key:"id",get:function(){return this._kernel.id}},{key:"option",get:function(){return this._kernel.option}},{key:"kernel",get:function(){return this._kernel}},{key:"document",get:function(){return this._kernel.model.document}},{key:"defaultElementName",get:function(){return this._kernel.model.schema.defaultElementName}},{key:"emitEvent",value:function(){var e;(e=this._kernel).emitEvent.apply(e,arguments)}},{key:"sendMessage",value:function(){var e;(e=this._kernel).sendMessage.apply(e,arguments)}},{key:"registerDataSource",value:function(e,t){this._kernel.registerDataSource(e,t)}},{key:"registerMetaFilter",value:function(e,t){this._kernel.registerMetaFilter(e,t)}},{key:"registerCommand",value:function(e,t){this._kernel.model.registerCommand(e,t)}},{key:"registerWriter",value:function(e,t){this._kernel.registerWriter(e,t)}},{key:"getSupportedWriterTypes",value:function(){return this._kernel.getSupportedWriterTypes()}},{key:"writeData",value:function(e,t,n){return this._kernel.writeData(e,t,n)}},{key:"registerReader",value:function(e,t){this._kernel.registerReader(e,t)}},{key:"getSupportedReaderTypes",value:function(){return this._kernel.getSupportedReaderTypes()}},{key:"readData",value:function(e,t,n){return this._kernel.readData(e,t,n)}},{key:"getNodeSchema",value:function(e){return this._kernel.model.getNodeSchema(e)}},{key:"hasCategory",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._kernel.model.hasCategory(e,t,n)}},{key:"registerElement",value:function(e,t){this._kernel.model.registerElement(e,t)}},{key:"registerAttr",value:function(e,t){this._kernel.model.registerAttr(e,t)}},{key:"registerInlineCard",value:function(e,t){this._kernel.model.registerInlineCard(e,t)}},{key:"registerBlockCard",value:function(e,t){this._kernel.model.registerBlockCard(e,t)}},{key:"setDocument",value:function(){var e;return(e=this._kernel).setDocument.apply(e,arguments)}},{key:"createModelRange",value:function(e,t){return e=e?new Br(e.node,e.offset):null,t=t?new Br(t.node,t.offset):null,Ur.createAt(e,t)}}]),i}();_r(Ma,"_kernel");var La=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t,n){}}]),e}(),Aa=function(){function e(t){o()(this,e),m()(this,"_iKernel",null),m()(this,"_writers",{}),this._iKernel=t}return a()(e,[{key:"destroy",value:function(){this._iKernel=null,this._writers=null}},{key:"register",value:function(e,t){br(t instanceof La,"F:writer-manager;L:19"),this._writers[e]=t}},{key:"types",get:function(){return Object.keys(this._writers)}},{key:"matchType",value:function(e){return!!this._writers[e]}},{key:"getData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._writers[e];return r?r.write(this._iKernel,t,n):null}}]),e}(),Ia=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){}}]),e}(),ja=function(){function e(t){o()(this,e),m()(this,"_iKernel",null),m()(this,"_readers",{}),this._iKernel=t}return a()(e,[{key:"destroy",value:function(){this._iKernel=null,this._readers=null}},{key:"register",value:function(e,t){br(t instanceof Ia,"F:reader-manager;L:19"),this._readers[e]=t}},{key:"types",get:function(){return Object.keys(this._readers)}},{key:"getINode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._readers[e];return r?r.read(this._iKernel,t,n):null}}]),e}(),Va=function(){function e(){o()(this,e)}return a()(e,[{key:"filter",value:function(e,t){return null}}]),e}(),za=function(){function e(){o()(this,e),m()(this,"_dataSource",{}),m()(this,"_metaFilters",{})}return a()(e,[{key:"destroy",value:function(){this._dataSource=null,this._metaFilters=null}},{key:"register",value:function(e,t){br(!this._dataSource[e],"F:data-source-manager;L:16"),br(t instanceof Fa,"F:data-source-manager;L:17"),this._dataSource[e]=t}},{key:"registerMetaFilter",value:function(e,t){br(t instanceof Va,"F:data-source-manager;L:23"),this._metaFilters[e]=t}},{key:"matchType",value:function(e){return!!this._dataSource[e]}},{key:"read",value:function(e,t,n){var r=this._dataSource[e].read(t,n);return r.attrs&&r.attrs.meta&&(r.attrs.meta=this._filterMeta(r.attrs.meta)),r}},{key:"write",value:function(e,t,n){return this._dataSource[e].write(t,n)}},{key:"_filterMeta",value:function(e){var t={},n=this._metaFilters;return Object.keys(e).forEach((function(r){if(n[r]){var o=n[r].filter(r,e[r]);o&&(t[r]=o)}})),t}}]),e}(),Ua=function(){function e(t,n,r){o()(this,e),m()(this,"iKernel",null),m()(this,"iEditing",null),m()(this,"option",null),this.option=r,this.iKernel=t,this.iEditing=n}return a()(e,[{key:"init",value:function(e,t){}},{key:"destroy",value:function(){}},{key:"sync",value:function(){return!0}}]),e}();function Ha(e,t){var n=t.node,r=t.offset;if(br(!n.isCardNode(),"F:split-element;L:7"),Ir(n))return e.newPosition(n.parentNode,n.offset+1);if(0===r)return e.newPosition(n.parentNode,n.offset);if(r===n.childCount)return e.newPosition(n.parentNode,n.offset+1);var o=n.cloneNode(!1);return n.children.slice(r).forEach((function(t){e.appendChild(o,t)})),e.insertAfter(n.parentNode,o,n),e.newPosition(o.parentNode,o.offset)}var qa=function(){function e(){o()(this,e)}return a()(e,null,[{key:"insertCardNode",value:function(e,t,n,r){br(1===t.rangeCount,"F:card/index;L:15");var o=t.firstRange;if(t.isCollapsed&&!t.isCardSelection||(o=Bi(e,o)),br(o.collapsed,"F:card/index;L:23"),o.start.node.hasCategory(Er.Hole)){var i=o.start.node;o=0===o.start.offset?e.newRange(e.newPosition(i.parentNode,i.offset)):e.newRange(e.newPosition(i.parentNode,i.offset+1))}var a,c=r?{value:r}:void 0,l=Lo.createCardNode(e,n,c);return e.hasCategory(n,Er.InlineCard)?a=function(e,t,n){br(n.hasCategory(Er.InlineCard),"F:card/index;L:58");var r=Pi(e,e.newRange(t));if(r.start.node.hasCategory([Er.Root,Er.LikeRoot])){var o=e.createElement(e.defaultElementName);e.insertNodeByPosition(r.start,o),r=e.newRange(e.newPosition(o,0))}return br(r.collapsed,"F:card/index;L:70"),e.insertNodeByPosition(r.start,n)}(e,o.start,l):(br(e.hasCategory(n,Er.BlockCard),"F:card/index;L:46"),a=function(e,t,n){br(n.hasCategory(Er.Hole),"F:card/index;L:76");var r=li(t.node,Er.Block);if(r){if(r.parentNode.hasCategory(Er.VirtualLikeRoot))return br((t=Wa(e,t)).node.hasCategory(Er.VirtualLikeRoot),"F:card/index;L:91"),br((t=Wa(e,t)).node.hasCategory(Er.Root),"F:card/index;L:93"),e.insertNodeByPosition(t,n),e.newPosition(n,n.childCount);br(e.acceptNode(r.parentNode.nodeName,n.nodeName),"F:card/index;L:100")}else br(t.node.hasCategory([Er.Root,Er.LikeRoot]),"F:card/index;L:81"),t.node.hasCategory(Er.VirtualLikeRoot)&&br((t=Wa(e,t)).hasCategory(Er.Root),"F:card/index;L:86");return r?Ir(r)?(e.replaceChild(r.parentNode,n,r),e.newPosition(n,n.childCount)):(t=Wa(e,t),br(e.acceptNode(t.node.nodeName,n.nodeName),"F:card/index;L:115"),e.insertNodeByPosition(t,n),e.newPosition(n,n.childCount)):(e.insertNodeByPosition(t,n),e.newPosition(n,n.childCount))}(e,o.start,l)),{selection:e.newSelection(e.newRange(a)),cardNode:l.hasCategory(Er.Hole)?l.firstChild:l}}}]),e}();function Wa(e,t){return Ha(e,Ao(e,jo(e,t)))}function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e,t){var n=t.node;return n.hasCategory([Er.Root,Er.LikeRoot])?t=function(e,t){var n=e.createElement(e.defaultElementName);return t.node.isEmpty()&&(t=e.insertNodeByPosition(t,n.cloneNode(!1))),e.insertNodeByPosition(t,n),e.newPosition(n,0)}(e,t):n.hasCategory([Er.TableHole,Er.Hole])?t=function(e,t){var n=t.node,r=t.offset,o=e.createElement(e.defaultElementName);return 1===r?(e.insertAfter(n.parentNode,o,n),e.newPosition(o,0)):(br(0===r,"F:break-line;L:155"),e.insertBefore(n.parentNode,o,n),t)}(e,t):(br(n.hasCategory([Er.TextContainer,Er.Text]),"F:break-line;L:22"),t=Ir(n.closest(Er.Block))?function(e,t){var n=li(t.node,Er.Block),r=n.attrs.level;if(r)return r>1?e.setAttribute(n,"level",r-1):e.removeAttribute(n,"level"),e.newPosition(n,0);var o=e.defaultElementName;if(n.nodeName===o&&Ir(n)&&n.parentNode.hasCategory(Er.VirtualLikeRoot))return Ir(n.parentNode)?(e.replaceChild(n.parentNode.parentNode,n,n.parentNode),e.newPosition(n,0)):(t=Ha(e,e.newPosition(n.parentNode,n.offset+1)),e.insertNodeByPosition(t,n),e.newPosition(n,0));var i=t.node.closest(Er.Text),a=n.hasCategory(Er.Clean),c=a?{}:xi(e,o,n.attrs),l=e.createElement(o,c);return i&&!a&&e.acceptNode(l.nodeName,i.nodeName)&&e.appendChild(l,i.cloneNode(!1)),e.insertAfter(n.parentNode,l,n),n.hasCategory(Er.DisallowEmpty)&&e.removeChild(n.parentNode,n),e.newPosition(l,0)}(e,t):function(e,t){var n=function(e){return function e(t,n){if(t.isTextNode())return t.cloneNode(!1);if(!t.childCount)return null;var r=t.getChildByOffset(n-1),o=!1;return r||(o=!0,r=t.getChildByOffset(n)),r.isTextNode()?r.cloneNode(!1):r.hasCategory(Er.Inline)?e(r,o?0:r.childCount):null}(e.node,e.offset)}(t),r=t=Ao(e,jo(e,t)),o=r.node,i=r.offset;br(o.hasCategory(Er.Block),"F:break-line;L:45");var a=function(e,t){var n=li(t.node,Er.Block);if(bi(t)&&!n.hasCategory(Er.Sticky)){var r=n.hasCategory(Er.Clean)?{}:n.attrs,o=e.defaultElementName,i=xi(e,o,r);return e.createElement(o,i)}var a=n.cloneNode(!1),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.attrs);return Object.keys(c).forEach((function(t){var n=e.getAttrSchema(t);null!=n&&n.cleanByBreakLine&&e.removeAttribute(a,t)})),a}(e,t),c=null;return wi(t)?(e.insertBefore(o.parentNode,a,o),c=o,o.children.forEach((function(t){br(t.hasCategory([Er.Inline,Er.InlineCard,Er.Text]),"F:break-line;L:57"),Ir(t)&&e.removeChild(o,t)}))):(o.children.slice(i).forEach((function(t){br(t.hasCategory([Er.Inline,Er.InlineCard,Er.Text]),"F:break-line;L:67"),Ir(t)?e.removeChild(o,t):e.appendChild(a,t)})),o.children.slice(0,i).forEach((function(t){br(t.hasCategory([Er.Inline,Er.InlineCard,Er.Text]),"F:break-line;L:79"),Ir(t)&&e.removeChild(o,t)})),e.insertAfter(o.parentNode,a,o),c=a),!n||o.hasCategory(Er.Clean)||a.isEmpty()&&(e.setTextNodeData(n,""),e.appendChild(a,n)),e.newPosition(c,0)}(e,t)),Zr(t,!0),t}function $a(e,t){var n=Gr(e,e.newRange(function(e,t){var n=t,r=n.node,o=n.offset;if(r.hasCategory(Er.Text)){if(r.parentNode.hasCategory(Er.Inline)&&!r.parentNode.hasCategory(Er.InlineBox)){if(0===o&&0===r.offset)return $a(e,e.newPosition(r.parentNode.parentNode,r.parentNode.offset));if(o===r.dataLength&&r.offset===r.parentNode.childCount)return $a(e,e.newPosition(r.parentNode.parentNode,r.parentNode.offset+1))}return t}if(r.hasCategory(Er.TextContainer)){if(r.hasCategory(Er.Inline)&&!r.hasCategory(Er.InlineBox)){if(0===o)return e.newPosition(t.node.parentNode,t.node.offset);if(o===r.childCount)return e.newPosition(t.node.parentNode,t.node.offset+1)}var i=r.getChildByOffset(o-1);if(i&&i.isTextNode())return e.newPosition(i,i.dataLength);var a=r.getChildByOffset(o);return a&&a.isTextNode()?e.newPosition(a,0):t}if(r.hasCategory([Er.Root,Er.LikeRoot])){if(0===o&&r.firstChild&&r.firstChild.hasCategory(Er.TextContainer))return $a(e,e.newPosition(r.firstChild,0));if(o===r.childCount&&r.lastChild&&r.lastChild.hasCategory(Er.TextContainer))return $a(e,e.newPosition(r.lastChild,r.lastChild.childCount))}r.hasCategory([Er.TableHole,Er.Hole])&&(0===o?t=e.newPosition(r.parentNode,r.offset):(br(1===o,"F:make-sure-at-input;L:75"),t=e.newPosition(r.parentNode,r.offset+1)),r=t.node,o=t.offset),br(r.hasCategory([Er.Root,Er.LikeRoot]),"F:make-sure-at-input;L:83");var c=e.createElement(e.defaultElementName);return e.insertNodeByPosition(t,c),e.newPosition(c,0)}(e,t)));return br(n.collapsed,"F:make-sure-at-input;L:8"),n.start}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ya(e,t,n){var r=t,o=r.node,i=r.offset;if(!e.acceptNode(o.nodeName,n.nodeName)){if(o.hasCategory([Er.Root,Er.LikeRoot])){if(!e.acceptNode(e.defaultElementName,n.nodeName))return o.hasCategory(Er.VirtualLikeRoot)?Ya(e,t=Ha(e,t),n):t;var a=e.createElement(e.defaultElementName);return e.insertNodeByPosition(t,a),t=e.newPosition(a,0),Ya(e,t,n)}return Ya(e,t=Ha(e,t),n)}return e.insertNodeByPosition(e.newPosition(o,i),n)}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,r=n.offset;return Zr(e=0===r?Qa(e,t):Xa(e,t)),e}function Xa(e,t){var n=e,r=n.node,o=n.offset;if(r.isTextNode()||r.isCardNode()||o!==r.childCount)return e;br(r.isElement(),"F:shrink-position;L:28");var i=r.lastChild;return!i||i.isCardNode()||i.hasCategory(Er.Inline)&&!t?e:(i.isElement()?e=new Br(i,i.childCount):(br(i.isTextNode(),"F:shrink-position;L:43"),e=new Br(i,i.dataLength)),Xa(e,t))}function Qa(e,t){var n=e.node;if(0!==e.offset||n.isCardNode()||n.isTextNode())return e;br(n.isElement(),"F:shrink-position;L:58");var r=n.firstChild;return!r||r.isCardNode()||r.hasCategory(Er.Inline)&&!t?e:Qa(new Br(r,0),t)}var ec=function(){function e(){o()(this,e)}return a()(e,null,[{key:"breakLine",value:function(e,t){return Ka(e,t)}},{key:"insertNodes",value:function(e,t,n){return function(e,t,n){t=jo(e,t);var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ja(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n);try{for(o.s();!(r=o.n()).done;)t=Ya(e,t,r.value)}catch(e){o.e(e)}finally{o.f()}return Zr(t),t}(e,t,n)}},{key:"makeSureAtInput",value:function(e,t){return $a(e,t)}},{key:"insertText",value:function(e,t,n,r){return ji(e,t,n,r)}},{key:"getPreviousText",value:function(e){return function(e){var t=e.node,n=e.offset;if(!t.hasCategory([Er.TextContainer,Er.Text]))return null;var r=t.isTextNode(),o=r?Sr.substring(t.data,0,n):"",i=null;if(r)i=t.previousNode;else{if(!t.hasCategory(Er.Block))return null;i=t.children[n-1]}if(!i||!i.isTextNode())return o||null;for(var a=[],c=!1;i&&i.isTextNode();){if(a.push(i.data),!i.previousNode){c=!0;break}i=i.previousNode}return{text:a.reverse().join("")+o,atStart:c}}(e)}},{key:"insertInlineNode",value:function(e,t,n){return function(e,t,n){if(br(t.node.hasCategory([Er.Root,Er.LikeRoot])||t.node.closest(Er.Block),"F:insert-inline-node;L:6"),(t=jo(e,t)).node.hasCategory([Er.Root,Er.LikeRoot])){var r=e.createElement(e.defaultElementName);e.appendChild(r,n),e.insertNodeByPosition(t,r)}else br(e.acceptNode(t.node.nodeName,n.nodeName),"F:insert-inline-node;L:17"),e.insertNodeByPosition(t,n);br(n.isConnected,"F:insert-inline-node;L:21")}(e,t,n)}},{key:"alignmentToElement",value:function(e,t,n,r){return function(e,t,n,r){var o=t.node;if(o.isCardNode())return t;var i=li(o,n);return i&&i!==o?"right"===r?function(e,t,n){var r=t.node,o=t.offset;if(r.isTextNode()){if(o!==r.dataLength)return t;o=r.offset+1,r=r.parentNode}for(br(r.isElement(),"F:alignment-to-element;L:64");r!==n&&o===r.parentNode.childCount;)o=r.offset+1,r=r.parentNode;return e.newPosition(r,o)}(e,t,i):(br("left"===r,"F:alignment-to-element;L:22"),function(e,t,n){var r=t.node,o=t.offset;if(r.isTextNode()){if(0!==o)return t;o=r.offset,r=r.parentNode}for(br(r.isElement(),"F:alignment-to-element;L:38");r!==n&&0===o;)o=r.offset,r=r.parentNode;return e.newPosition(r,o)}(e,t,i)):t}(e,t,n,r)}},{key:"shrinkPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ga(e,t)}}]),e}();function tc(e,t){var n;br(!t.collapsed,"F:extract-inode;L:39");var r=function(e){var t=e.node,n=e.offset;return br(!t.isCardNode(),"F:extract-inode;L:137"),t.isTextNode()?t:t.getChildByOffset(n)||t}(t.start),o=function(e){var t=e.node,n=e.offset;return br(!t.isCardNode(),"F:extract-inode;L:147"),t.isTextNode()?t:t.getChildByOffset(n-1)||t}(t.end),i=function(e){var t=e.commonAncestorContainer;return t.isTextNode()||br(t.isElement(),"F:extract-inode;L:163"),t}(t),a={nodes:[],map:new Map},c=!1;ti(t,(function(e){c?e!==o?nc(a,i,e):(br(e!==r,"F:extract-inode;L:62"),function(e,t,n){br(!e.map.has(n),"F:extract-inode;L:211");var r=Mr(n),o=!1;r.forEach((function(n){o||n===t&&(o=!0),o&&!e.map.has(n)&&nc(e,t,n)})),br(o,"F:extract-inode;L:228")}(a,i,e)):(br(e===r,"F:extract-inode;L:53"),br(0===a.nodes.length,"F:extract-inode;L:54"),c=!0,function(e,t,n){var r=Mr(n),o=!1;r.forEach((function(n){o||n===t&&(o=!0),o&&nc(e,t,n)})),br(o,"F:extract-inode;L:207")}(a,i,e))})),br(1===a.nodes.length,"F:extract-inode;L:68"),function(e,t,n,r){if(n!==r)n.isTextNode()&&(t.start.node===n?rc(e,n,t.start.offset,n.dataLength):br(t.start.node.getChildByOffset(t.start.offset)===n,"F:extract-inode;L:261")),r.isTextNode()&&(t.end.node===r?rc(e,r,0,t.end.offset):br(t.end.node.getChildByOffset(t.end.offset-1)===r,"F:extract-inode;L:269"));else if(n.isTextNode()){var o=t.start.offset,i=t.end.offset;if(t.start.node!==n&&(o=0),t.end.node!==r&&(i=r.dataLength),0===o&&i===r.dataLength)return;rc(e,n,o,i)}}(a,t,r,o),null===(n=a.map)||void 0===n||n.clear(),br(1===a.nodes.length,"F:extract-inode;L:74");var l=a.nodes[0];if("#root"===l.name)return l.children;if(!i.hasCategory(Er.Block)||l.id!==i.id)return[l];var s=Wi(e,t);return s.start.node===i&&0===s.start.offset&&s.end.node===i&&s.end.offset===i.childCount?[l]:l.children}function nc(e,t,n){var r=e.nodes,o=e.map,i=n.parentNode,a=n.toJSON();if(o.set(n,a),n!==t){br(o.has(i),"F:extract-inode;L:180");var c=o.get(i);c.children||(c.children=[]),c.children.push(a)}else r.push(a)}function rc(e,t,n,r){br(t.isTextNode(),"F:extract-inode;L:275");var o=e.map.get(t);br(o,"F:extract-inode;L:279"),o.data=o.data.substring(n,r)}function oc(e,t){e.ranges.forEach((function(e){si(e,t)}))}function ic(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=new Set;if(si(t,{enter:function(e){if(e.hasCategory(Er.Block))return i.add(e),!1},leave:function(t){if(t.isEmpty()&&t.hasCategory([Er.Root,Er.LikeRoot])){var n=e.createElement(e.defaultElementName);e.appendChild(t,n),i.add(n)}}}),!i.size)return t;var a=Ei.markRange(e,t);return i.forEach((function(t){ac(e,n?n.cloneNode(!1):n,t,r,o)})),Kr(t=Ei.recoverRange(e,a)),t}function ac(e,t,n,r,o){if(t&&br(e.acceptNode(n.parentNode.nodeName,t.nodeName),"F:replace-block-node-by-range;L:45"),r)"function"==typeof r?r(e,t,n):Object.keys(n.attrs||{}).forEach((function(r){var o=n.attrs[r];e.acceptAttr(t.nodeName,r,o)&&!t.hasAttribute(r)&&e.setAttribute(t,r,o)}));else if(!t){var i=n.nodeName;Object.keys(n.attrs||{}).forEach((function(t){e.isStandardAttr(i,t)||e.removeAttribute(n,t)}))}t?(e.replaceChild(n.parentNode,t,n),n.children.forEach((function(n){e.appendChild(t,n)})),cc(e,t.children,o)):cc(e,n.children,o)}function cc(e,t,n){t.forEach((function(t){t.isElement()?cc(e,t.children,n):t.isTextNode()&&Object.keys(t.attrs).forEach((function(r){n?Array.isArray(n)?n.includes(r)||e.removeAttribute(t,r):"boolean"==typeof n&&(n||e.removeAttribute(t,r)):e.removeAttribute(t,r)}))}))}function lc(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;n&&br(e.hasCategory(n.nodeName,[Er.Block,Er.TextContainer],!0),"F:replace-block-node;L:7");var i=t.ranges.map((function(t){return ic(e,t,n,r,o)}));return t.cloneByRange(i)}function sc(e){for(var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.document.rootNode,o=n?function(e){return e.firstChild}:function(e){return e.lastChild},i=r;i.childCount;){var a=o(i);if(a.isTextNode()){i=a;break}if(a.isCardNode()){a.hasCategory(Er.BlockCard)?br(i.hasCategory(Er.Hole),"F:move-to;L:20"):br(i.hasCategory(Er.TextContainer),"F:move-to;L:22");break}if(br(i.isElement(),"F:move-to;L:27"),a.hasCategory(Er.Table)){br(i.hasCategory(Er.TableHole),"F:move-to;L:30");break}if(a.hasCategory(Er.InlineBox))break;i=a}return i.isTextNode()?t=Ur.createAt(new Br(i,n?0:i.dataLength)):(br(i.isElement(),"F:move-to;L:46"),t=Ur.createAt(new Br(i,n?0:i.childCount))),Kr(t,!0),e.cloneByRange(t)}function uc(e){var t=e.node,n=e.offset;return t.isTextNode()?0===n?new Br(t.parentNode,t.offset):n===t.dataLength?new Br(t.parentNode,t.offset+1):e:e}var dc=function(){function e(){o()(this,e)}return a()(e,null,[{key:"toStart",value:function(e){return sc(e,!0)}},{key:"toEnd",value:function(e){return sc(e,!1)}},{key:"moveToNodeById",value:function(e,t){var n=e.getNodeById(t);return n?(br(n.hasCategory(Er.TextContainer),"F:selection/index;L:31"),e.newSelection(e.newRange(e.newPosition(n,0)))):null}},{key:"shrinkToElement",value:function(e){return function(e){var t=e.ranges.map((function(e){return function(e){return Kr(e=e.collapsed?Ur.createAt(uc(e.start)):Ur.createAt(uc(e.start),uc(e.end)),!0),e}(e)}));return e.cloneByRange(t)}(e)}},{key:"setAttribute",value:function(t,n,r,o,i){return e.updateAttribute(t,n,[{name:r,value:o}],i)}},{key:"removeAttribute",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e.updateAttribute(t,n,[{name:r,value:null}],o)}},{key:"updateAttribute",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.ranges.map((function(t){return vi(e,t,n,r)}));return e.newSelection(o)}},{key:"fullWalkSelection",value:function(e,t){return oc(e,t)}},{key:"allBlockNodeHasCategory",value:function(e,t){return function(e,t){var n=[];return oc(e,{enter:function(e){if(e.hasCategory(Er.Block))return n.push(e),!1}}),!!n.length&&n.every((function(e){return e.hasCategory(t)}))}(e,t)}},{key:"deleteContent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Gi(e,t,n,r,o,i)}},{key:"extractINode",value:function(e,t){return function(e,t){if(1===t.length&&t[0].collapsed)return t[0].start.node.isCardNode()?Mo.createFragment([t[0].start.node.toJSON()]):null;var n=Mo.createFragment();if(n.children=[],1===t.length){var r=tc(e,t[0]);Mo.setChildren(n,r)}else{var o=function(e,t){var n=Jo(t),r=n.rowLayout,o=n.colWidths,i=n.minCol,a=n.maxCol,c=r.length,l=Mo.createElement("table",{rowCount:c,colCount:a-i+1,colWidths:o});return r.forEach((function(t){var n=Mo.createElement("tr",t.attrs);return Mo.appendChild(l,n),t.cells.forEach((function(t){var r,o,i=t.range,a=t.colIndex;br("td"===(r=i.collapsed?i.start.node.toJSON():null===(o=r=tc(e,i))||void 0===o?void 0:o[0]).name,"F:extract-inode;L:123"),Mo.setAttribute(r,"col",a),Mo.appendChild(n,r)})),n})),l}(e,t);br("table"===o.name,"F:extract-inode;L:31"),n.children.push(o)}return n}(e,t.ranges)}},{key:"insertINode",value:function(e,t,n){return Qi(e,t,n)}},{key:"replaceBlockNode",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return lc(e,t,n,r,o)}},{key:"isInCard",value:function(e){return e.isCardSelection}},{key:"isInHole",value:function(e){return 1===e.rangeCount.length&&!!e.firstRange.commonAncestorContainer.closest([Er.TableHole,Er.Hole])}}]),e}();g.a.defaultMaxListeners=99999999;var fc=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,i),e=r.call(this),m()(l()(e),"_id",xr(16)),m()(l()(e),"_option",null),m()(l()(e),"_model",null),m()(l()(e),"_iKernel",null),m()(l()(e),"_writerManager",null),m()(l()(e),"_readerManager",null),m()(l()(e),"_dataSourceManager",null),m()(l()(e),"_plugins",[]),e._option=new Nr(t),e._iKernel=new Ma(l()(e)),e._model=new Pa(l()(e)),e._dataSourceManager=new za,e._writerManager=new Aa(e._iKernel),e._readerManager=new ja(e._iKernel);var n=e._model.editing.iEditing;e._dataSourceManager.register("json",new Ta(e._iKernel)),e._model.on("document.create",(function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e._iKernel).emit.apply(t,["document.create"].concat(r))})),e._model.on("document.beforeReady",(function(){e._iKernel.emit("document.beforeReady")})),e._model.on("document.ready",(function(){e._iKernel.emit("document.ready"),e._iKernel.emitEvent("document.ready")})),e._model.on("document.destroy",(function(){e._iKernel.emit("document.destroy")}));for(var a=e._option.disabledPlugins,c=0,s=Object.values(i.Plugins);c<s.length;c++){var u=s[c],d=u.PluginOption,f=u.PluginName;if(!a.includes(f)){var h=null;if(d){if(!d.OptionName)throw new Error("missing OptionName");h=new d(t[d.OptionName])}h&&(h.kernelOption=e._option);var p=new u(e._iKernel,n,h);p.init(e._iKernel,n),e._plugins.push(p),br(void 0===e._plugins[f],"F:kernel/index;L:144"),e._plugins[f]=p}}return e}return a()(i,[{key:"destroy",value:function(){this.emit("beforedestroy"),this.removeAllListeners(),this._plugins.forEach((function(e){e.destroy()})),this._iKernel.destroy(),this._iKernel=null,this._readerManager.destroy(),this._readerManager=null,this._writerManager.destroy(),this._writerManager=null,this._dataSourceManager.destroy(),this._dataSourceManager=null,this._model.destroy(),this._model=null,this._option=null,this._plugins=[]}},{key:"id",get:function(){return this._id}},{key:"model",get:function(){return this._model}},{key:"option",get:function(){return this._option}},{key:"iKernel",get:function(){return this._iKernel}},{key:"iEditing",get:function(){return this._model.editing.iEditing}},{key:"dataSourceManager",get:function(){return this._dataSourceManager}},{key:"plugins",get:function(){return this._plugins}},{key:"disabled",get:function(){return this._model.disabled}},{key:"emitEvent",value:function(){var e;(e=this._option.eventEmitter||this).emit.apply(e,arguments)}},{key:"sendMessage",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._option.eventEmitter||this).emit.apply(e,["message"].concat(n))}},{key:"onMessage",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._option.eventEmitter||this).on.apply(e,["message"].concat(n))}},{key:"enable",value:function(){this._model.enable()}},{key:"disable",value:function(){this._model.disable()}},{key:"setDocument",value:function(e,t){var n=null,r=null;if(e&&("string"==typeof e?(br(void 0!==t,"F:kernel/index;L:253"),n=e,r=t,t=arguments.length<=2?void 0:arguments[2]):(n=e.type,r=e.value)),"lake"===n&&(n="text/lake"),n&&!this._dataSourceManager.matchType(n))throw new Error("illegal data type");var o=this._model,i=null;this._iKernel.emit("beforeSetDocument",n,r,t),n&&(i=this._dataSourceManager.read(n,r,t)),o.reset(i,t)}},{key:"canGetDocument",value:function(){var e=!1;return this._plugins.forEach((function(t){t.sync()||(e=!0)})),!e}},{key:"getDocument",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this._model.document)return null;if("lake"===e&&(e="text/lake"),!this._dataSourceManager.matchType(e))throw new Error("illegal data type");var n=this._model.editing.iEditing.newJob(Oo.MODE_SILENT);return this._dataSourceManager.write(e,n,t)}},{key:"registerDataSource",value:function(e,t){return this._dataSourceManager.register(e,t)}},{key:"registerMetaFilter",value:function(e,t){this._dataSourceManager.registerMetaFilter(e,t)}},{key:"registerWriter",value:function(e,t){this._writerManager.register(e,t)}},{key:"registerReader",value:function(e,t){this._readerManager.register(e,t)}},{key:"getSupportedWriterTypes",value:function(){return this._writerManager.types}},{key:"getSupportedReaderTypes",value:function(){return this._readerManager.types}},{key:"writeData",value:function(e,t,n){return this._writerManager.getData(e,t,n)}},{key:"readData",value:function(e,t,n){return this._readerManager.getINode(e,t,n)}}],[{key:"registerPlugin",value:function(e){var t=this,n=Array.from(e);return n.forEach((function(e){if(!e.PluginName)throw new Error("missing PluginName");t.Plugins[e.PluginName]=e})),n}}]),i}();m()(fc,"Plugins",{}),_r(fc,"model");var hc=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){return!0}}]),e}(),pc=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){return!0}}]),e}(),vc=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){return!0}}]),e}(),mc=function(){function e(t){o()(this,e),m()(this,"_option",null),m()(this,"_state",{}),this._option=t}return a()(e,[{key:"from",get:function(){var e;return null===(e=this._option)||void 0===e?void 0:e.from}},{key:"parentNode",get:function(){return this._parentNode}},{key:"hasState",value:function(e){return!!this._state[e]}},{key:"getState",value:function(e){return this._state[e]}},{key:"setState",value:function(e,t){this._state[e]=t}}]),e}();function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gc=function(e){u()(i,mc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getChildContext",value:function(e){var t=new i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._option));return t._state=this._state,t._parentNode=e,t}}]),i}();function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wc=function(e){u()(i,mc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getChildContext",value:function(e){var t=new i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._option));return t._state=this._state,t._parentNode=e,t}},{key:"node",get:function(){return this._node}},{key:"setNode",value:function(e){this._node=e}}]),i}(),xc=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){return!0}}]),e}();function _c(e){return"nodeName"!==e}var kc=function(e){u()(i,Ia);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),m()(l()(t),"_cardPreReaders",{}),m()(l()(t),"_cardReader",{}),m()(l()(t),"_nodePreReaders",{}),m()(l()(t),"_nodeReaders",{}),t._iKernel=e,t}return a()(i,[{key:"destroy",value:function(){this._iKernel=null,this._cardPreReaders=null,this._cardReader=null,this._nodePreReaders=null,this._nodeReaders=null}},{key:"registerNodePreReader",value:function(e,t){var n=this;br(t instanceof pc,"F:inode-reader;L:34"),Array.isArray(e)||(e=[e]),e.forEach((function(e){n._nodePreReaders[e]||(n._nodePreReaders[e]=[]),n._nodePreReaders[e].push(t)}))}},{key:"registerNodeReader",value:function(e,t){var n=this;br(t instanceof vc,"F:inode-reader;L:50"),Array.isArray(e)||(e=[e]),e.forEach((function(e){n._nodeReaders[e]||(n._nodeReaders[e]=[]),n._nodeReaders[e].push(t)}))}},{key:"registerCardPreReader",value:function(e,t){br(t instanceof hc,"F:inode-reader;L:66"),this._cardPreReaders[e]=t}},{key:"registerCardReader",value:function(e,t){br(t instanceof xc,"F:inode-reader;L:72"),this._cardReader[e]=t}},{key:"read",value:function(e,t,n){var r=this,o=t;"string"==typeof t&&(o=JSON.parse(t));var i=Array.isArray(o);i||(o=[o]);var a=Mo.createFragment(o);return o.map((function(e){return r._walkNode(new gc(n),new wc(n),a,e)})),i?a.children:a.children[0]}},{key:"_walkNode",value:function(e,t,n,r){if(r.id&&!_c(r.id)&&delete r.id,"text"!==r.type)return"card"!==r.type?this._walkElement(e,t,n,r):this._walkCard(e,t,n,r)}},{key:"_walkElement",value:function(e,t,n,r){var o=this,i=r.name,a=this._nodePreReaders[i];if(a&&a.some((function(t){return!1===t.read(e.getChildContext(n),r)})))Mo.removeChild(n,r);else{var c=this._nodeReaders[i];c&&c.some((function(e){return!1===e.read(t.getChildContext(n),r)}))?Mo.removeChild(n,r):r.children&&r.children.forEach((function(i){o._walkNode(e.getChildContext(n),t.getChildContext(n),r,i)}))}}},{key:"_walkCard",value:function(e,t,n,r){var o=r.name,i=this._cardPreReaders[o];i&&!1===i.read(e.getChildContext(n),r)&&Mo.removeChild(n,r);var a=this._cardReader[o]||this._cardReader["*"];if(a){var c=t.getChildContext(n);if(!1===a.read(c,r)||c._node){var l=n.children.indexOf(r);c._node?n.children.splice(l,1,c._node):n.children.splice(l,1)}}else Mo.removeChild(n,r)}}]),i}();var Cc=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_reader",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this._reader=new kc(e),e.registerReader("text/ne-inode",this._reader),e.extendMethods({registerINodeCardPreReader:function(e,n){t._reader.registerCardPreReader(e,n)},registerINodeCardReader:function(e,n){t._reader.registerCardReader(e,n)},registerINodeNodePreReader:function(e,n){t._reader.registerNodePreReader(e,n)},registerINodeNodeReader:function(e,n){t._reader.registerNodeReader(e,n)}})}}]),i}();m()(Cc,"PluginName","inodeReader");var Rc=function(e){u()(i,La);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){return JSON.stringify(t)}}]),i}();var Nc=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_writer",new Rc),e}return a()(i,[{key:"init",value:function(e){e.registerWriter("text/ne-inode",this._writer)}}]),i}();m()(Nc,"PluginName","inodeWriter");var Ec=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e){throw new Error("invalid invoke")}}]),e}();var Oc=function(e){u()(i,Ia);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_readers",[]),e}return a()(i,[{key:"destroy",value:function(){this._readers=null}},{key:"register",value:function(e){br(e instanceof Ec,"F:text-reader-manager;L:15"),this._readers.push(e)}},{key:"read",value:function(e,t){for(var n=this._readers,r=t.replace(/[\u200B\uFEFF]/g,"").replace(/\r\n/g,"\n").replace(/\r/g,"").split("\n").map((function(e){for(var t=0,r=n.length;t<r;t++){var o=n[t].read(e);if(o)return o}return[Mo.createTextNode(e)]})),o=[],i=0,a=r.length;i<a;i++)if(0===i||i===a-1&&a>2)r[i].forEach((function(e){o.push(e)}));else{var c=Mo.createElement("p");Mo.setChildren(c,r[i]),o.push(c)}return Mo.createFragment(o)}}]),i}();var Dc=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_readerManager",new Oc),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerReader("text/plain",this._readerManager),e.extendMethods({registerTextReader:function(e){t._readerManager.register(e)}})}},{key:"destroy",value:function(){this._readerManager.destroy(),this._readerManager=null,B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(Dc,"PluginName","textReader");var Sc=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t){throw new Error("invalid")}}]),e}(),Bc=function(){function e(t){o()(this,e),m()(this,"_rootNode",null),m()(this,"_rootBuffer",[]),m()(this,"_currentBuffer",[]),this._rootNode=t,this._rootBuffer.context={parent:null,offset:-1,index:-1},this._currentBuffer=this._rootBuffer}return a()(e,[{key:"rootNode",get:function(){return this._rootNode}},{key:"append",value:function(e){var t=this._currentBuffer.context;-1===t.index&&(t.index=0),this._currentBuffer[t.index]=(this._currentBuffer[t.index]||"")+e}},{key:"newline",value:function(e){this._currentBuffer.context.index++,this._currentBuffer[this._currentBuffer.context.index]=e||""}},{key:"newGroup",value:function(){var e=[];this._currentBuffer.context.index++,e.context={parent:this._currentBuffer,offset:this._currentBuffer.context.index,index:-1},this._currentBuffer[this._currentBuffer.context.index]=e,this._currentBuffer=e}},{key:"closeGroup",value:function(){br(this._currentBuffer.context.parent,"F:text-builder;L:54"),this._currentBuffer=this._currentBuffer.context.parent}},{key:"toString",value:function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n";return t.map((function(t){return Array.isArray(t)?e(t,"\n"===n?"\t":"\n"):(br("string"==typeof t,"F:text-builder;L:69"),t)})).join(n)}(this._rootBuffer)}}]),e}();var Pc=function(e){u()(i,La);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_writers",{}),e}return a()(i,[{key:"destroy",value:function(){this._writers=null}},{key:"write",value:function(e,t){var n=new Bc(t);return Tc(this._writers,n,e,t),n.toString()}},{key:"register",value:function(e,t){var n=this;br(t instanceof Sc,"F:text-writer-manager;L:25"),Array.isArray(e)?e.forEach((function(e){n._writers[e]=t})):this._writers[e]=t}}]),i}(),Fc=function(){function e(t,n,r){o()(this,e),m()(this,"_writers",null),m()(this,"_builder",null),m()(this,"_iKernel",null),this._writers=t,this._builder=n,this._iKernel=r}return a()(e,[{key:"rootNode",get:function(){return this._builder.rootNode}},{key:"write",value:function(e){Tc(this._writers,this._builder,this._iKernel,e)}},{key:"newline",value:function(e){this._builder.newline(e)}},{key:"newGroup",value:function(e){this._builder.newGroup(e)}},{key:"append",value:function(e){this._builder.append(e)}},{key:"closeGroup",value:function(){this._builder.closeGroup()}},{key:"isStop",value:function(){return this._stopped}},{key:"stop",value:function(){this._stopped=!0}}]),e}();function Tc(e,t,n,r){if(Mo.isFragmentNode(r))r.children.forEach((function(r){return Tc(e,t,n,r)}));else{var o=n.getNodeSchema(r.name);if("text"!==o.type){var i=e[r.name];if(i){var a=new Fc(e,t,n);return i.write(a,r),void(a.isStop()||Mo.isElementNode(r)&&r.children&&r.children.forEach((function(r){Tc(e,t,n,r)})))}if("element"===o.type)return o.category.includes(Er.Block)&&t.newline(),void(r.children&&r.children.forEach((function(r){return Tc(e,t,n,r)})));br("card"===o.type,"F:text-writer-manager;L:126"),o.category.includes(Er.BlockCard)&&t.newline()}else t.append(r.data.replace(/\u00a0/g," "))}}var Mc=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_textWriterManager",new Pc),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerWriter("text/plain",this._textWriterManager),e.extendMethods({registerTextWriter:function(e,n){t._textWriterManager.register(e,n)}})}},{key:"destroy",value:function(){this._textWriterManager.destroy(),this._textWriterManager=null,B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(Mc,"PluginName","textWriter");var Lc=function(){function e(){o()(this,e)}return a()(e,[{key:"preReadFile",value:function(e,t){throw new Error("invalid invoke")}}]),e}(),Ac=function(){function e(){o()(this,e)}return a()(e,[{key:"readFile",value:function(e){throw new Error("invalid invoke")}}]),e}(),Ic=P.b.getFileSize,jc=P.b.getFileExtname,Vc=P.b.isSizeLimit,zc=P.b.isImage,Uc=P.b.isFile,Hc=P.b.isTextFile,qc=P.b.isVideo,Wc=P.b.isOffice,Zc=P.b.isMacOffice,Kc=P.b.isPdf,$c=P.b.isAudio,Jc=P.b.isPresentation,Yc=P.b.isSheet,Gc=P.b.isMMap,Xc=P.b.isCompressed,Qc=P.b.isExt,el=P.b.isFileCanPreview,tl=Object.freeze({__proto__:null,EXTS:P.a,getFileSize:Ic,getFileExtname:jc,isSizeLimit:Vc,isImage:zc,isFile:Uc,isTextFile:Hc,isVideo:qc,isOffice:Wc,isMacOffice:Zc,isPdf:Kc,isAudio:$c,isPresentation:Jc,isSheet:Yc,isMMap:Gc,isCompressed:Xc,isExt:Qc,isFileCanPreview:el});var nl=function(e){u()(i,Ia);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),m()(l()(t),"_preReaders",{}),m()(l()(t),"_readers",{}),t._plugin=e,t}return a()(i,[{key:"registerPreFileReader",value:function(e,t){br(t instanceof Lc,"F:file-reader-manager;L:20"),Array.isArray(e)||(e=[e]),this._register(this._preReaders,e,t)}},{key:"registerFileReader",value:function(e,t){br(t instanceof Ac,"F:file-reader-manager;L:30"),Array.isArray(e)||(e=[e]),this._register(this._readers,e,t)}},{key:"read",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this._preReaders,i=this._readers,a=this._getPreReaderContext(),c=t.map((function(e){return{type:e.type,extName:jc((e.name||"").toLowerCase()),file:e}})).map((function(e){var t=e.type,c=e.extName,l=n._getReader(o,t,c),s=!0;l&&!1===l.preReadFile(a,e,r)&&(s=!1);var u=n._getReader(o,"*");if(s&&u&&!1===u.preReadFile(a,e,r))return null;var d=null,f=n._getReader(i,t,c);if(f&&(d=f.readFile(e,r)),d)return d;var h=n._getReader(i,"*");return h?h.readFile(e,r):null})).filter(Boolean);return c.length?Mo.createFragment(c):null}},{key:"_getPreReaderContext",value:function(){var e=this;return{checkFileSize:function(t,n){return e._plugin.option.checkFileSize(t,n)},getErrorMessageByCode:function(t,n){return e._plugin.option.getErrorMessageByCode(t,n)}}}},{key:"_register",value:function(e,t,n){t.forEach((function(t){br(!e[t],"F:file-reader-manager;L:112"),e[t]=n}))}},{key:"_getReader",value:function(e,t,n){return t&&e[t]?e[t]:n?e[n=n.toLowerCase()]||e["."+n]:null}}]),i}();var rl={checkFileSize:function(){return null},getMessageByCode:function(){}},ol=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},rl,e),t}return a()(i,[{key:"checkFileSize",value:function(e,t){return this._option.checkFileSize(e,t)}},{key:"getErrorMessageByCode",value:function(e){return this._option.getMessageByCode(e)}}]),i}();m()(ol,"OptionName","fileReader");var il=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_fileReaderManager",null),e}return a()(i,[{key:"init",value:function(e,t){var n=this;this._fileReaderManager=new nl(this),e.registerReader("Files",this._fileReaderManager),e.extendMethods({insertFiles:function(r,o){var i=n.iEditing.newJob(),a=e.readData("Files",r,o);a?(i.setSelection(dc.insertINode(i,i.getSelection(),a)),t.commitJob(i)):n.iEditing.cancelJob(i)},registerPreFileReader:function(e,t){n._fileReaderManager.registerPreFileReader(e,t)},registerFileReader:function(e,t){n._fileReaderManager.registerFileReader(e,t)}})}}]),i}();m()(il,"PluginName","fileReader"),m()(il,"PluginOption",ol);var al={},cl={},ll={},sl={},ul=["h1","h2","h3","h4","h5","h6"],dl=["html","body","address","article","aside","blockquote","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","hr","legend","menu","nav","ol","optgroup","option","p","pre","section","summary","ul","table","tbody","thead","tr","li"].concat(ul);function fl(e){var t=!1,n=!e||e.isStrictModel();return{stop:function(){t=!0},isStopped:function(){return t},setStrictMode:function(e){n=!!e},isStrictModel:function(){return n}}}function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ul.forEach((function(e){sl[e]=!0})),dl.forEach((function(e){al[e]=!0})),["a","abbr","acronym","area","audio","b","base","basefont","bdi","bdo","big","body","br","button","canvas","caption","cite","code","col","colgroup","datalist","del","dfn","em","embed","font","frame","frameset","head","html","i","iframe","img","input","ins","kbd","keygen","label","link","map","mark","meta","meter","noframes","object","output","param","progress","q","rp","rt","ruby","s","samp","select","small","source","span","strike","strong","sub","sup","td","textarea","tfoot","th","time","title","track","tt","u","var","video","wbr","applet"].forEach((function(e){cl[e]=!0})),["svg","script","noscript","style"].forEach((function(e){ll[e]=!0}));var vl={head:!0,link:!0,meta:!0,script:!0},ml=function(){function e(t,n){o()(this,e),m()(this,"_strictMode",!0),m()(this,"_parentNode",null),m()(this,"_walkContext",null),m()(this,"_state",{}),m()(this,"_attrs",null),m()(this,"_ignoreAttrs",null),m()(this,"_mainNode",null),m()(this,"_contentNode",null),m()(this,"_anonymousNode",null),m()(this,"_isFreeze",!1),br(t,"F:transform;L:34"),this._parentNode=t,this._walkContext=n}return a()(e,[{key:"parentNode",get:function(){return this._parentNode}},{key:"newChildContext",value:function(t){var n=new e(this._contentNode||this._anonymousNode,t);return n._attrs=pl(pl({},this._contentNode?this._contentNode.attrs:{}),this._attrs),n._state=pl({},this._state),n._strictMode=this._strictMode,n}},{key:"getState",value:function(e,t){return Bo(this._state,e)?this._state[e]:t}},{key:"freeze",value:function(){this._isFreeze=!0}},{key:"setStrictMode",value:function(e){var t;e=!!e,this._strictMode=e,null===(t=this._walkContext)||void 0===t||t.setStrictMode(e)}},{key:"isStrictMode",value:function(){return this._strictMode}},{key:"setIgnoreAttrs",value:function(){var e=this;this._ignoreAttrs||(this._ignoreAttrs=new Set);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e._ignoreAttrs.add(t),e._attrs[t]&&delete e._attrs[t]}))}},{key:"clearState",value:function(e){delete this._state[e]}},{key:"setState",value:function(e,t){this._state[e]=t}},{key:"addAttr",value:function(e,t){this._ignoreAttrs&&this._ignoreAttrs.has(e)||(this._attrs||(this._attrs={}),this._attrs[e]=t)}},{key:"removeAttr",value:function(e){this._attrs&&delete this._attrs[e]}},{key:"getAttr",value:function(e){return this._attrs?this._attrs[e]:this._mainNode&&this._mainNode.attrs?this._mainNode.attrs[e]:void 0}},{key:"setNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this._mainNode=e,this._contentNode=t}},{key:"getParentNode",value:function(){return this._parentNode}},{key:"getNode",value:function(){return this._mainNode}},{key:"isAnonymousNode",value:function(e){return"#block"===e.name}},{key:"isInlineNode",value:function(e){return!al[e]}},{key:"isBlockNode",value:function(e){return!!al[e]}},{key:"stop",value:function(){this._walkContext.stop()}},{key:"_attachNode",value:function(e){this._mainNode?(this._attrs&&!this._isFreeze&&Mo.setAttribute(this._mainNode,this._attrs),Mo.appendChild(this._parentNode,this._mainNode)):this._addAnonymousNode(e,this._attrs)}},{key:"_addAnonymousNode",value:function(e,t){"#text"===e.name?(this._strictMode&&function(e,t){t.data=t.data.replace(/[\r]+/,"").replace(/\s/g,(function(e){return"\t"===e||"\n"===e||" "===e?e:" "})).replace(/ +/g," ").replace(/\u00a0/g," "),t.data=t.data.replace(/\n +/g,"\n"),function(e){var t=e.getParentNode(),n=t.children||[];return!(!al[t.name]||0!==n.length)}(e)&&(t.data=t.data.replace(/^ +/,""))}(this,e),this._anonymousNode=Mo.createTextNode(e.data,this._isFreeze?null:t),Mo.appendChild(this._parentNode,this._anonymousNode)):al[e.name]?(this._anonymousNode=Mo.createElement("#block",this._isFreeze?null:t),Mo.appendChild(this._parentNode,this._anonymousNode)):this._anonymousNode=this._parentNode}}]),e}();function yl(e,t,n){var r=Mo.createFragment(),o=[function(e){var t=new ml(e,null);return t._mainNode=e,t._contentNode=e,t}(r)];return function(e,t,n){Array.from(e).forEach((function(r){!function e(t,n,r,o,i){if("#text"===r.name){var a=r.data;if(""===a||null!=t&&t.isStrictModel()&&""===a.replace(/\s/g,(function(e){return"\t"===e||"\n"===e||" "===e?e:""}))){var c=n.children.indexOf(r);if(br(-1!==c,"F:walk-html-nodes;L:25"),0===c)return void n.children.splice(c,1);if("#text"!==n.children[c-1].name)return void n.children.splice(c,1)}}var l=fl(t);o(l,r),l.isStopped()?i(r):r.children?(Array.from(r.children).forEach((function(t){e(l,r,t,o,i)})),i(r)):i(r)}(fl(),{children:e},r,t,n)}))}(n,(function(e,n){var r=n.name;if(!vl[r]){var i=o[o.length-1].newChildContext(e,n);o.push(i);var a=t.getPreNodeReaders(r);a&&a.forEach((function(e){e.readNode(i,n)}));var c=n.attrs,l=n.style,s=t.getNodeReaders(r);s&&s.some((function(e){return i._leaveHook=function(){e.leaveNode(i),i.isStrictMode()&&function(e){if(e._parentNode!==(e._mainNode||e._anonymousNode)){var t=e._contentNode||e._mainNode||e._anonymousNode;if(br(t,"F:transform;L:356"),"table"!==t.name&&"tr"!==t.name&&"td"!==t.name&&"th"!==t.name&&function(e){var t;return Mo.isTextNode(e)?0===e.data.length:!Mo.isCardNode(e)&&(null===(t=e.children)||void 0===t||!t.length)}(t)){var n=e._parentNode.children.indexOf(t);n>-1&&e._parentNode.children.splice(n,1)}}}(i)},!1!==e.readNode(i,n)})),c&&Object.keys(c).forEach((function(e){var r=t.getPreAttrReaders(e),o=t.getAttrReaders(e),a=c[e];r&&r.forEach((function(t){a=t.readAttr(e,a,n)})),o&&o.some((function(t){return t.readAttr(i,e,a,n)}))})),l&&Object.keys(l).forEach((function(e){var r=t.getPreStyleReaders(e),o=t.getStyleReaders(e),a=l[e];r&&r.forEach((function(t){a=t.readStyle(e,a,n)})),o&&o.some((function(t){return t.readStyle(i,e,a,n)}))})),i._attachNode(n)}}),(function(e){if(!vl[e.name]){var t=o.pop();t._leaveHook&&t._leaveHook()}})),br(1===o.length,"F:transform;L:301"),function(e,t,n){for(var r=Mo.createFragment(),o=new gl(t),i=0;i<t.children.length;i++)bl(e,o,r,r,t,t.children[i]);return function e(t,n){t.forEach((function(t){if("#block"===t.name){if(!t.children||0===t.children.length)return;t.name=n}t.children&&e(t.children,n)}))}(r.children,n),r}(e,r,e.defaultElementName)}var gl=function(){function e(t){o()(this,e),m()(this,"_rootNode",null),this._rootNode=t}return a()(e,[{key:"getSourceRoot",value:function(){return this._rootNode}},{key:"newChildContext",value:function(t){return new e(t||this._rootNode)}}]),e}();function bl(e,t,n,r,o,i){if("br"!==i.name){if(r===n||"#block"!==i.name){var a=Mo.cloneNode(i);return Mo.appendChild(r,a),void wl(e,t,n,a,i)}if("#block"===r.name){var c=Mo.cloneNode(i);Mo.appendChild(r,c),"element"===i.type&&i.children&&wl(e,t,n,c,i),br(o,"F:transform;L:433");var l=function(e,t){var n=e.children,r=n.indexOf(t);return br(-1!==r,"F:transform;L:464"),r+=1,e.children=n.slice(0,r),n.slice(r)}(o,i);if(l.length){var s=Mo.cloneNode(o);Mo.appendChild(t.getSourceRoot(),s),l.forEach((function(e){Mo.appendChild(s,e)}))}}else if(e.hasCategory(r.name,Er.Block))wl(e,t,n,r,i);else{var u=Mo.cloneNode(i);Mo.appendChild(r,u),wl(e,t,n,u,i)}}else Mo.appendChild(r,Mo.createTextNode("\n"))}function wl(e,t,n,r,o){if("element"===o.type&&o.children)for(var i=o.name,a=e.hasCategory(i,[Er.Root,Er.LikeRoot])?o:n,c=t.newChildContext(a),l=0;l<o.children.length;l++)bl(e,c,n,r,o,o.children[l])}var xl=function(e){u()(i,Ia);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_htmlReaderManager",null),t._htmlReaderManager=e,t}return a()(i,[{key:"destroy",value:function(){this._htmlReaderManager=null}},{key:"read",value:function(e,t){var n=function(e){var t=0,n={children:[]};e=e.replace(/\n+/g," ").replace(/<\/br[^>]*?>/g,"").replace(/<br[^>]*?>/g,"\n");var r=new M.Parser({onopentag:function(e,r){if(ll[e])t++;else if(t)t++;else{var o=function(e){var t={};return e?(e.toLowerCase().split(";").forEach((function(e){var n=e.split(":"),r=n[0].trim(),o=(2===n.length?n[1]:n.slice(1).join(":")).trim();r&&o&&(t[r]=o)})),t):t}(r.style);if("none"!==o.display){delete r.style;var i={name:e,attrs:r,style:o,children:[],parent:n};n.children.push(i),n=i}else t++}},ontext:function(e){if(!t&&(e=e.replace(/\u200b/g,""))){n.children||(n.children=[]);var r=n.children[n.children.length-1];"#text"===(null==r?void 0:r.name)?r.data+=e:n.children.push({name:"#text",data:e,parent:n})}},onclosetag:function(){t?t--:n=n.parent}},{decodeEntities:!0,lowerCaseTags:!0,lowerCaseAttributeNames:!0});return r.write(e),r.end(),n.children}(t.trim());return yl(e,this._htmlReaderManager,function e(t){var n=[];return t.forEach((function(t){"html"===t.name?n=n.concat(e(t.children)||[]):"head"===t.name||("body"===t.name?n=n.concat(t.children||[]):n.push(t))})),n}(n))}}]),i}(),_l=function(){function e(){o()(this,e)}return a()(e,[{key:"readNode",value:function(e,t){throw new Error("invalid invoke")}}]),e}(),kl=function(){function e(){o()(this,e),m()(this,"_nodeReaders",{}),m()(this,"_attrReaders",{}),m()(this,"_styleReaders",{}),m()(this,"_preNodeReaders",{}),m()(this,"_preAttrReaders",{}),m()(this,"_preStyleReaders",{})}return a()(e,[{key:"destroy",value:function(){this._nodeReaders=null,this._attrReaders=null,this._styleReaders=null,this._preNodeReaders=null,this._preAttrReaders=null,this._preStyleReaders=null}},{key:"registerNodeReader",value:function(e,t){this._addReader(this._nodeReaders,e,t)}},{key:"registerAttrReader",value:function(e,t){this._addReader(this._attrReaders,e,t)}},{key:"registerStyleReader",value:function(e,t){this._addReader(this._styleReaders,e,t)}},{key:"registerPreNodeReader",value:function(e,t){br(t instanceof _l,"F:html-reader-manager;L:39"),this._addReader(this._preNodeReaders,e,t)}},{key:"registerPreAttrReader",value:function(e,t){this._addReader(this._preAttrReaders,e,t)}},{key:"registerPreStyleReader",value:function(e,t){this._addReader(this._preStyleReaders,e,t)}},{key:"getNodeReaders",value:function(e){return this._getReader(this._nodeReaders,e)}},{key:"getAttrReaders",value:function(e){return this._getReader(this._attrReaders,e)}},{key:"getStyleReaders",value:function(e){return this._getReader(this._styleReaders,e)}},{key:"getPreNodeReaders",value:function(e){return this._getReader(this._preNodeReaders,e)}},{key:"getPreAttrReaders",value:function(e){return this._getReader(this._preAttrReaders,e)}},{key:"getPreStyleReaders",value:function(e){return this._getReader(this._preStyleReaders,e)}},{key:"_addReader",value:function(e,t,n){(t=Array.isArray(t)?t:[t]).forEach((function(t){e[t]||(e[t]=[]),e[t].push(n)}))}},{key:"_getReader",value:function(e,t){return e[t]||null}}]),e}();var Cl=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_htmlReaderManager",new kl),m()(l()(e),"_reader",new xl(e._htmlReaderManager)),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerReader("text/html",this._reader),e.extendMethods({registerHTMLNodeReader:function(e,n){t._htmlReaderManager.registerNodeReader(e,n)},registerHTMLAttributeReader:function(e,n){t._htmlReaderManager.registerAttrReader(e,n)},registerHTMLStyleReader:function(e,n){t._htmlReaderManager.registerStyleReader(e,n)},registerPreHTMLNodeReader:function(e,n){t._htmlReaderManager.registerPreNodeReader(e,n)},registerPreHTMLAttributeReader:function(e,n){t._htmlReaderManager.registerPreAttrReader(e,n)},registerPreHTMLStyleReader:function(e,n){t._htmlReaderManager.registerPreStyleReader(e,n)}})}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),this._reader.destroy(),this._htmlReaderManager.destroy()}}]),i}();m()(Cl,"PluginName","htmlReader");var Rl=function(){function e(){o()(this,e),m()(this,"_nodeWriters",{}),m()(this,"_attrWriters",{}),m()(this,"_preTextWriters",[])}return a()(e,[{key:"destroy",value:function(){this._nodeWriters=null,this._attrWriters=null,this._preTextWriters=null}},{key:"registerNodeWriter",value:function(e,t){var n=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){br(!n._nodeWriters[e],"F:html-writer-manager;L:22"),n._nodeWriters[e]=t}))}},{key:"registerAttrWriter",value:function(e,t){var n=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){br(!n._attrWriters[e],"F:html-writer-manager;L:33"),n._attrWriters[e]=t}))}},{key:"registerPreTextWriter",value:function(e){this._preTextWriters.push(e)}},{key:"getNodeWriter",value:function(e){return this._nodeWriters[e]||null}},{key:"getAttrWriter",value:function(e){return this._attrWriters[e]||null}},{key:"getPreTextWriters",value:function(){return this._preTextWriters}}]),e}(),Nl=function(){function e(){o()(this,e)}return a()(e,null,[{key:"encodeHTML",value:function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},{key:"decodeHTML",value:function(e){return"string"!=typeof e?e:e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}}]),e}();function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dl=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Sl=function(){function e(){o()(this,e)}return a()(e,null,[{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.attrs,r=t.style,o=t.className;return{type:"element",name:e,attrs:n,style:r,className:o}}},{key:"createTextNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.attrs,r=t.style,o=t.className;return{type:"text",name:"#text",plain:!1,data:e,attrs:n,style:r,className:o}}},{key:"createPlainTextNode",value:function(t){var n=e.createTextNode(t);return n.plain=!0,n}},{key:"updateAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.attrs,r=t.style,o=t.className;n&&(e.attrs=Ol(Ol({},e.attrs),n)),r&&(e.style=Ol(Ol({},e.style),r)),o&&(Array.isArray(o)||(o=[o]),o=Array.from(new Set([].concat(x()(e.className||[]),x()(o)))),e.className=o)}},{key:"appendChild",value:function(e,t){br("#text"!==e.name,"F:html-node-helper;L:94"),e.children||(e.children=[]),e.children.push(t)}},{key:"setChildren",value:function(e,t){e.children=x()(t)}},{key:"isLikeEmpty",value:function(t){return"text"===t.type?0===t.data.length:"element"===t.type&&(0===t.children.length||t.children.every((function(t){return e.isLikeEmpty(t)})))}},{key:"toHTML",value:function(e){return function e(t){if("text"===t.type)return function(e){var t=e.data,n=void 0===t?"":t;n=Nl.encodeHTML(n),e.plain||(n=n.replace(/\n/g,"<br />"));var r=Bl(e.attrs,e.style,e.className);return r?"<span ".concat(r,">").concat(n,"</span>"):n||""}(t);var n;br("element"===t.type,"F:html-node-helper;L:175"),t.children&&(n=t.children.map((function(t){return e(t)})));var r=function(e){var t=e.name,n=e.attrs,r=e.style,o=e.className;br(t,"F:html-node-helper;L:192");var i=["<".concat(t)],a=Bl(n,r,o);return a&&i.push(" "+a),i.push(">"),Dl.includes(t)?[i.join(""),""]:[i.join(""),"</".concat(t,">")]}(t),o=E()(r,2),i=o[0],a=o[1];return i+(n?n.join(""):"")+a}(e)}},{key:"setAttribute",value:function(e,t,n){e.attrs||(e.attrs={}),e.attrs[t]=n}},{key:"removeAttribute",value:function(e,t){e.attrs&&delete e.attrs[t]}},{key:"removeAllAttribute",value:function(e){delete e.attrs}},{key:"removeAllStyle",value:function(e){delete e.style}},{key:"cloneNode",value:function(e){var t={type:e.type,name:e.name,attrs:xo(e.attrs),style:xo(e.style),className:xo(e.className)};return e.data&&(t.data=e.data),t}},{key:"formatStyleName",value:function(e){return Pl(e)}}]),e}();function Bl(e,t,n){var r=[],o=[];e&&Object.keys(e).forEach((function(t){if("class"!==t&&"style"!==t){var n=e[t];void 0!==n&&r.push(Nl.encodeHTML(t)+'="'+Nl.encodeHTML(n+"")+'"')}})),t&&Object.keys(t).forEach((function(e){var n=t[e];void 0!==n?o.push("".concat(Pl(e),": ").concat(n)):console.warn("warning: invalid style value for "+e)})),n&&n.length&&(Array.isArray(n)?(n=n.filter((function(e){return!!e})).map((function(e){return e.trim()})),r.push('class="'.concat(Nl.encodeHTML(n.join(" ")),'"'))):(n=n.trim())&&r.push('class="'.concat(Nl.encodeHTML(n),'"')));var i=[];return r.length&&i.push(r.join(" ")),o.length&&i.push('style="'+Nl.encodeHTML(o.join("; "))+'"'),i.join(" ")}function Pl(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ml={mode:"clean"},Ll=function(){function e(t,n,r){o()(this,e),m()(this,"_parentContext",null),m()(this,"_inode",null),m()(this,"_children",[]),m()(this,"_option",null),m()(this,"_mainNode",null),m()(this,"_wrapNode",[]),m()(this,"_contentNode",null),m()(this,"_attrs",null),m()(this,"_style",null),m()(this,"_virtual",!1),m()(this,"_state",{}),this._parentContext=t,this._inode=n,this._option=Tl(Tl({},Ml),r||{});var i=this._option.mode;br("inline"===i||"clean"===i,"F:writer-context;L:36")}return a()(e,[{key:"isInlineMode",value:function(){return"inline"===this._option.mode}},{key:"isCleanMode",value:function(){return"clean"===this._option.mode}},{key:"isExport",value:function(){return!0===this._option.isExport}},{key:"getExportType",value:function(){return this._option.exportType}},{key:"getDocMaxWidth",value:function(){return this._option.docMaxWidth}},{key:"previousSiblingContext",get:function(){if(!this._parentContext)return null;var e=this._parentContext._children,t=e.indexOf(this);return br(-1!==t,"F:writer-context;L:67"),e[t-1]||null}},{key:"nextSiblingContext",get:function(){if(!this._parentContext)return null;var e=this._parentContext._children,t=e.indexOf(this);return br(-1!==t,"F:writer-context;L:80"),e[t+1]||null}},{key:"inode",get:function(){return this._inode}},{key:"mainNode",get:function(){return this._mainNode}},{key:"contentNode",get:function(){return this._contentNode||this._mainNode}},{key:"since",get:function(){return this._option.since}},{key:"setVirtual",value:function(){this._virtual=!0}},{key:"setState",value:function(e,t){this._state[e]=t}},{key:"getState",value:function(e){return this._state[e]}},{key:"setNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this._mainNode=e,this._contentNode=t}},{key:"addAttr",value:function(e,t){br(this._mainNode===this._contentNode,"F:writer-context;L:121"),this._attrs||(this._attrs={}),this._attrs[e]=t}},{key:"addStyle",value:function(e,t){this._style||(this._style={}),this._style[e]=t}},{key:"wrapNode",value:function(e){br(this._mainNode,"F:writer-context;L:139"),this._wrapNode.push(e)}},{key:"newChildContext",value:function(t){var n=new e(this,t,this._option);return n._state=Tl({},this._state),this._children.push(n),n}},{key:"clear",value:function(){this._attrs=null,this._style=null,this._mainNode=null,this._contentNode=null}},{key:"close",value:function(){(this._attrs||this._style)&&(this._mainNode?Sl.updateAttribute(this._mainNode,{attrs:this._attrs,style:this._style}):this._mainNode=Sl.createElement("span",{attrs:this._attrs,style:this._style}))}},{key:"_appendTo",value:function(e){if(this._virtual)this._handleAppend(e);else if(this._mainNode){var t=this._mainNode;this._wrapNode.forEach((function(e){Sl.appendChild(e,t),t=e})),Sl.appendChild(e,t)}e=this._contentNode||this._mainNode||e,this._children.forEach((function(t){t._appendTo(e)}))}},{key:"_handleAppend",value:function(e){throw new Error("invalid invoke")}},{key:"createElement",value:function(){return Sl.createElement.apply(Sl,arguments)}},{key:"createTextNode",value:function(){return Sl.createTextNode.apply(Sl,arguments)}},{key:"createPlainTextNode",value:function(){return Sl.createPlainTextNode.apply(Sl,arguments)}},{key:"appendChild",value:function(){return Sl.appendChild.apply(Sl,arguments)}}]),e}();var Al=function(e){u()(i,La);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_htmlWriterManager",null),t._htmlWriterManager=e,t}return a()(i,[{key:"destroy",value:function(){this._htmlWriterManager=null}},{key:"write",value:function(e,t,n){var r=this;br(Mo.isFragmentNode(t),"F:html-writer;L:22");var o=Sl.createElement("#root"),i=new Ll(null,t,n);if(t.children.forEach((function(t){!function e(t,n,r,o){br(!Mo.isFragmentNode(o),"F:html-writer;L:59");var i=t.newChildContext(o),a=o.name,c=o.id,l=n.getNodeSchema(a),s=r.getNodeWriter(a);if(c&&(l.category.includes(Er.Block)||l.category.includes(Er.Card)||l.category.includes(Er.Table))&&i.addAttr("id",c),s)s.write(i,o);else if("text"===l.type){r.getPreTextWriters().forEach((function(e){e.preWrite({setAttribute:function(e,t){Mo.setAttribute(o,e,t)}},o)}));var u=Sl.createElement("span",{className:"ne-text"});i.appendChild(u,Sl.createTextNode(o.data)),i.setNode(u)}else l.category.includes(Er.Block)&&i.setNode(Sl.createElement("div"));var d=o.attrs;d&&Object.keys(d).forEach((function(e){!function(e,t,n,r){var o=t.getAttrWriter(n);o&&o.write(e,n,r)}(i,r,e,d[e])})),Mo.isElementNode(o)&&o.children&&o.children.forEach((function(t){e(i,n,r,t)})),s&&s.leaveNode(i),i.close()}(i,e,r._htmlWriterManager,t)})),i.close(),i._appendTo(o),!o.children)return"";var a=o.children.map((function(e){return Sl.toHTML(e)})).join(""),c="";return e.hasExtendMethod("getTypographyName")&&(c=(c=e.getTypographyName())?' typography="'.concat(c,'"'):""),'<div class="lake-content"'.concat(c,">").concat(a,"</div>")}}]),i}();var Il=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_htmlWriterManager",new Rl),m()(l()(e),"_writer",new Al(e._htmlWriterManager)),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerWriter("text/html",this._writer),e.extendMethods({registerNodeHTMLWriter:function(e,n){t._htmlWriterManager.registerNodeWriter(e,n)},registerAttrHTMLWriter:function(e,n){t._htmlWriterManager.registerAttrWriter(e,n)},registerPreTextWriter:function(e){t._htmlWriterManager.registerPreTextWriter(e)}})}},{key:"destroy",value:function(){this._htmlWriterManager.destroy(),this._writer.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(Il,"PluginName","htmlWriter");var jl=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){return!0}}]),e}(),Vl=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t,n,r){}}]),e}(),zl=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t,n,r){}}]),e}(),Ul=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t,n,r){}}]),e}(),Hl=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t){return!0}}]),e}(),ql=function(){function e(){o()(this,e)}return a()(e,[{key:"read",value:function(e,t,n,r){return!0}}]),e}();function Wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zl=function(){function e(t){o()(this,e),this._option=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)}return a()(e,[{key:"from",get:function(){return this._option.from}},{key:"createElement",value:function(){return Sl.createElement.apply(Sl,arguments)}},{key:"setAttribute",value:function(){return Sl.setAttribute.apply(Sl,arguments)}},{key:"removeAttribute",value:function(){return Sl.removeAttribute.apply(Sl,arguments)}}]),e}();function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o()(this,e),m()(this,"_dataSource",null),m()(this,"_node",null),m()(this,"_inode",null),m()(this,"_parent",null),m()(this,"_stopped",!1),m()(this,"_attrs",{}),m()(this,"_state",{}),m()(this,"_children",[]),this._dataSource=t,n&&(this._attrs=$l({},n))}return a()(e,[{key:"node",get:function(){return this._node}},{key:"inode",get:function(){return this._inode}},{key:"parent",get:function(){return this._parent}},{key:"isStopped",value:function(){return this._stopped}},{key:"stop",value:function(){this._stopped=!0}},{key:"getChildContext",value:function(t){var n=new e(this._dataSource);return n._parent=this,n._inode=t,n._attrs=$l({},this._attrs),delete n._attrs.id,n._state=$l({},this._state),this._children.push(n),n}},{key:"readByNodes",value:function(e){return this._dataSource.readByNodes(e,this._attrs)}},{key:"setNode",value:function(e){this._setNode(e)}},{key:"setText",value:function(e,t){this._setNode(Mo.createTextNode(e,null,t))}},{key:"hasState",value:function(e){return Bo(this._state,e)}},{key:"clearState",value:function(e){delete this._state[e]}},{key:"setState",value:function(e,t){this._state[e]=t}},{key:"getState",value:function(e,t){return Bo(this._state,e)?this._state[e]:t}},{key:"setAttr",value:function(e,t){br(!this._node,"F:lake-read-context;L:102"),this._attrs[e]=t}},{key:"createElement",value:function(e,t,n){return Mo.createElement(e,t,n)}},{key:"createCard",value:function(e,t,n){return Mo.createCard(e,t,n)}},{key:"createTextNode",value:function(e,t,n){return Mo.createTextNode(e,t,n)}},{key:"_setNode",value:function(e){br(null===this._node,"F:lake-read-context;L:119"),this._node=e}},{key:"close",value:function(e){var t=this,n=this._node,r=[];if(this._children.forEach((function(t){t.close(e).forEach((function(e){r.push(e)}))})),!n)return r;Object.keys(this._attrs).forEach((function(e){Mo.setAttribute(n,e,t._attrs[e])}));var o=e.getNodeSchema(n.name);if(null!=o&&o.category.includes(Er.Block)){var i=r[r.length-1];i&&"text"===i.type&&i.data.endsWith("\n")&&(i.data=i.data.substring(0,i.data.length-1))}return r.forEach((function(e){Mo.appendChild(n,e)})),[n]}}]),e}();function Yl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Jl(e,t);return n._node=Mo.createFragment(),n}function Gl(e){for(var t=/(name|content)="([^"]*?)"/g,n=null,r={};n=t.exec(e);)"content"===n[1]?r.value=n[2]:r.name=n[2];return r}var Xl=function(){function e(){o()(this,e),m()(this,"_lists",{})}return a()(e,[{key:"addToList",value:function(e,t){t.attrs.list=e;var n=this._lists,r=function(e){return e.attrs["data-lake-indent"]||0}(t);n[e]||(n[e]={});var o=function(e){return Math.max(parseInt(e.attrs.start,10)||0,0)}(t);0===o?delete t.attrs.start:t.attrs.start=o;var i=n[e];if(r<function(e){var t=Object.keys(e).map((function(e){return Number(e)})).filter(Boolean);return Math.min.apply(Math,x()(t))}(i)){var a=da();return t.attrs.list=a,void(this._lists[a]=m()({},r,[t]))}if(i[r])if(o===this._getNextStart(i[r])){i[r].push(t);var c=i[r][0].attrs.start;c?t.attrs.start=c:delete t.attrs.start}else{var l=da();t.attrs.list=l,this._lists[l]=m()({},r,[t])}else if(0!==o){var s=da();t.attrs.list=s,this._lists[s]=m()({},r,[t])}else i[r]=[t],t.attrs.fid=da()}},{key:"_getNextStart",value:function(e){var t=e[0].attrs.start,n=void 0===t?0:t;return e.reduce((function(e,t){var n;return e+((null===(n=t.children)||void 0===n?void 0:n.length)||0)}),n)}}]),e}();function Ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var es=function(e){u()(i,Ia);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"iKernel",null),m()(l()(t),"_nodeReaders",{}),m()(l()(t),"_nodePreReaders",{}),m()(l()(t),"_attrReaders",{}),m()(l()(t),"_styleReaders",{}),m()(l()(t),"_cardReaders",{}),m()(l()(t),"_cardPreReaders",{}),t.iKernel=e,t}return a()(i,[{key:"destroy",value:function(){this.iKernel=null,this._nodeReaders=null,this._nodePreReaders=null,this._attrReaders=null,this._styleReaders=null,this._cardReaders=null,this._cardPreReaders=null}},{key:"registerNodePreReader",value:function(e,t){var n=this;br(t instanceof Hl,"F:lake-reader;L:49"),Array.isArray(e)||(e=[e]),e.forEach((function(e){n._nodePreReaders[e]||(n._nodePreReaders[e]=[]),n._nodePreReaders[e].push(t)}))}},{key:"registerNodeReader",value:function(e,t){var n=this;br(t instanceof jl,"F:lake-reader;L:65"),Array.isArray(e)||(e=[e]),e.forEach((function(e){n._nodeReaders[e]||(n._nodeReaders[e]=[]),n._nodeReaders[e].push(t)}))}},{key:"registerAttrReader",value:function(e,t){var n=this;br(t instanceof Vl,"F:lake-reader;L:81"),"string"==typeof e&&(e=[e]),e.forEach((function(e){n._attrReaders[e]||(n._attrReaders[e]=[]),n._attrReaders[e].push(t)}))}},{key:"registerStyleReader",value:function(e,t){var n=this;br(t instanceof zl,"F:lake-reader;L:97"),"string"==typeof e&&(e=[e]),e.forEach((function(e){n._styleReaders[e]||(n._styleReaders[e]=[]),n._styleReaders[e].push(t)}))}},{key:"registerCardPreReader",value:function(e,t){br(t instanceof ql,"F:lake-reader;L:113"),br("string"==typeof e,"F:lake-reader;L:114"),this._cardPreReaders[e]=t}},{key:"registerCardReader",value:function(e,t){var n=this;br(t instanceof Ul,"F:lake-reader;L:120"),Array.isArray(e)||(e=[e]),e.forEach((function(e){n._cardReaders[e]=t}))}},{key:"read",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._parseLakeAsHTML(t),o=r.nodes,i=r.meta,a=Yl(this);return this._walkNodes(a,o,n),a.close(e),Mo.createFragment(a._node.children,{meta:i})}},{key:"readByNodes",value:function(e,t){if(!e.length)return[];var n=Yl(this,t);return this._walkNodes(n,e),n.close(this.iKernel),n._node.children}},{key:"_parseLakeAsHTML",value:function(e){var t={};e=function(e,t){return e?e=function(e){return(e=(e=e.replace(/\r/gi,"").replace(/<\/br>/gi,"").replace(/<br\s*\/>/gi,"<br>")).replace(/\n*<br>\n*/gi,"<br>")).replace(/\n+/g," ")}(e=function(e){return e.replace(/<card [^>]*?><\/card>/g,(function(e){var t=/\bname="table"[\s\S]*?\bvalue="data:([^"]*?)"[^>]*?><\/card>$/.exec(e);if(!t)return e;try{var n=JSON.parse(decodeURIComponent(t[1]));if(!n.html||!n.html.startsWith("<table "))return"";var r=[];return n.id&&r.push("id=".concat(n.id)),n.hideBorder&&r.push('hide-border="true"'),r.push('margin="'.concat(!1!==n.margin,'"')),n.widthMode&&r.push('width-mode="'.concat(n.widthMode,'"')),n.html.replace(/^<table /,"<table ".concat(r.join(" ")," "))}catch(e){console.error(e)}return""}))}(e=function(e,t){return e.replace(/^(<meta[^>]*?>)*/,(function(e){return function(e,t){for(var n,r=/<meta([^>]*?)>/g;n=r.exec(e);){var o=Gl(n[1]),i=o.name,a=o.value;i&&a&&(t[i]=a)}}(e,t),""}))}(e=e.replace(/^<!doctype[^>]*?>/,"").replace(/<(focus|anchor|cursor)( ?\/)?>/gi,""),t))):""}(e,t);var n={name:"#root",children:[]},r=[],o=[],i=[],a=[],c=n,l=!1,s=0,u=new M.Parser({onopentag:function(e,t){if(l)s++;else{var n,u,d,f=function(e,t){var n;return"card"===e?{name:t.name,type:Po[null===(n=t.type)||void 0===n?void 0:n.toLowerCase()],value:t.value}:t["data-ready-card"]&&t["data-card-value"]?{name:t["data-ready-card"],value:t["data-card-value"]}:null}(e,t);if(f){var h;l=!0,br(0===s,"F:lake-reader;L:187");var p=f.value;if(p){p=p.replace(/^data:/,"");try{p=JSON.parse(decodeURIComponent(p))}catch(e){}}else p={};n={type:"card",cardType:f.type,name:f.name,value:p},null!==(h=p)&&void 0!==h&&h.id&&(n.id=p.id,delete p.id)}else n={type:"element",name:e,attrs:t,children:[]},t.style&&(n.style=(u=t.style,d={},u?(u.split(";").forEach((function(e){var t=e.split(":"),n=A()(t),r=n[0],o=n.slice(1),i=r.trim(),a=o.join(":").trim();i&&a&&(d[i]=a)})),d):d),delete t.style);"br"===e?r.push({node:n,parentNode:c}):"ul"===e||"ol"===e?o.push({node:n,parentNode:c}):"a"===e&&i.push({node:n,parentNode:c}),c.children.push(n),a.push(c),c=n}},ontext:function(e){if(!l){c.children||(c.children=[]);var t=c.children[c.children.length-1];"text"===(null==t?void 0:t.type)?t.data+=e:c.children.push({type:"text",data:e})}},onclosetag:function(e){l&&s>0?s--:(br(c.name===e||"card"===c.type,"F:lake-reader;L:277"),"card"===c.type&&(l=!1),c=a.pop())}},{decodeEntities:!0,lowerCaseTags:!0,lowerCaseAttributeNames:!0,recognizeSelfClosing:!0});return u.write(e),u.end(),br(0===a.length,"F:lake-reader;L:294"),r.forEach((function(e){var t=e.node,n=e.parentNode,r=n.children.indexOf(t);if(r===n.children.length-1&&al[n.name])n.children.length-=1;else{var o=n.children[r-1];o&&"text"===o.type?(n.children.splice(r,1),o.data+="\n"):n.children[r]={type:"text",data:"\n"}}})),function(e,t){var n=t.filter((function(e){var t=e.node,n=e.parentNode;return!t.attrs.list&&(t.children=t.children.filter((function(e){var r="li"===e.name;if(!r){var o=n.children.indexOf(t);n.children.splice(o,0,e)}return r})),!0)})),r=new Xl;n.forEach((function(e,t){!function(e,t,n){var r=t.node;if(n&&function(e,t){var n=e.node,r=e.parentNode;if(r!==t.parentNode)return!1;var o=r.children;if(0===o.length)return!1;var i=o.indexOf(n),a=o.indexOf(t.node);br(-1!==a&&a<i,"F:reflow-list;L:164");for(var c=i-1;c>=a;c--){var l,s=o[c];if(s===t.node)return!0;if("element"!==s.type||null!==(l=s.children)&&void 0!==l&&l.length)return!1}return!1}(t,n)){var o=n.node.attrs.list;br(o,"F:reflow-list;L:144"),e.addToList(o,r)}else e.addToList(da(),r)}(r,e,n[t-1]);var o=e.node,i=o.attrs,a=i.list,c=i.start;o.children.forEach((function(e){e.attrs.list=a,c?e.attrs.start=c:delete e.attrs.start}))}))}(0,o),i.forEach((function(e){var t,n,r=e.node,o=e.parentNode,i=[],a=!1;if(Array.from(r.children||[]).forEach((function(e){var t;if("code"===e.name){var n=e,o=r.children.indexOf(n);if(r.children.splice(o,1),null!==(t=n.children)&&void 0!==t&&t.length){var c=Mo.cloneNode(r);Mo.setChildren(c,n.children),n.children=[c],a=!0,i.push(n)}}else if(a){var l=r.children.indexOf(e);r.children.splice(l,1);var s=Mo.cloneNode(r);s.children=[e],i.push(s)}})),i.length){var c=o.children.indexOf(r);(t=o.children).splice.apply(t,[c+1,0].concat(i)),null!==(n=r.children)&&void 0!==n&&n.length||Mo.removeChild(o,r)}})),{nodes:n.children,meta:t}}},{key:"_walkNodes",value:function(e,t,n){var r=this;t.forEach((function(t){if("text"===t.type){var o;if((null===(o=t.data)||void 0===o||!o.trim())&&e._node&&Mo.isFragmentNode(e._node))return;return r._walkTextNode(e,t)}return"card"===t.type?r._walkCardNode(e,t,n):r._walkElement(e,t,n)}))}},{key:"_walkTextNode",value:function(e,t){var n,r,o,i=e.getChildContext(t),a=t.data.replace(/[\u200B\uFEFF]/g,"");e&&e.inode&&"span"===e.inode.name&&1===(null===(n=e.inode.children)||void 0===n?void 0:n.length)&&(r=null===(o=e.inode.attrs)||void 0===o?void 0:o.id),_c(r)||(r=null),i.setText(a||"",r)}},{key:"_walkElement",value:function(e,t,n){var r=this,o=t.name,i=this._nodePreReaders[o];if(i)for(var a=new Zl,c=0,l=i.length;c<l;c++)if(!1===i[c].read(a,t))return;var s=e.getChildContext(t),u=t.style,d=t.attrs||{},f=d.id;d["data-lake-id"]&&!sl[t.name]&&(f=d["data-lake-id"]),f&&_c(f)&&s.setAttr("id",f),u&&Object.keys(u).forEach((function(e){var n=r._styleReaders[e];n&&n.forEach((function(n){n.read(s,e,u[e],t)}))})),Object.keys(d).forEach((function(e){var n=r._attrReaders[e];n&&n.forEach((function(n){n.read(s,e,d[e],t)}))}));var h=this._nodeReaders[o];h&&(h.some((function(e){return!1===e.read(s,t)})),s.isStopped())||t.children&&this._walkNodes(s,t.children,n)}},{key:"_walkCardNode",value:function(e,t,n){var r=this._cardPreReaders[t.name];if(!r||!1!==r.read(new Zl(n),t.name,t.value,t.id)){var o=e.getChildContext(t),i=this._cardReaders[t.name]||this._cardReaders["*"];if(i){var a=t.value;"object"===R()(t.value)&&(t.value=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a)),t.value&&(delete t.value.margin,"image"!==t.name&&delete t.value.height);var c=_c(t.id)?t.id:null;i.read(o,t.name,t.value,c),function(e,t){var n=t||{},r=n.margin,o=n.height,i=n.widthMode;o&&"image"!==e.node.name&&(e.node.attrs.value.__height=o),r&&(!0===r||r.top&&r.bottom?e.node.attrs.value.__spacing="both":r.top?e.node.attrs.value.__spacing="top":r.bottom&&(e.node.attrs.value.__spacing="bottom")),i&&(e.node.attrs.value.__widthMode="contain"===i?"contain":"normal")}(o,a)}}}}]),i}();var ts=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){this._reader=new es(e);var t=this._reader;e.registerReader("text/lake",t),e.extendMethods({registerLakeNodePreReader:function(e,n){t.registerNodePreReader(e,n)},registerLakeNodeReader:function(e,n){t.registerNodeReader(e,n)},registerLakeCardPreReader:function(e,n){t.registerCardPreReader(e,n)},registerLakeCardReader:function(e,n){t.registerCardReader(e,n)},registerLakeAttrReader:function(e,n){t.registerAttrReader(e,n)},registerLakeStyleReader:function(e,n){t.registerStyleReader(e,n)}})}},{key:"destroy",value:function(){this._reader.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(ts,"PluginName","lakeReader");var ns=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t){}},{key:"leaveNode",value:function(e,t){}}]),e}(),rs=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t,n,r){throw new Error("failed to execute LakeAttrWriter.write()")}}]),e}(),os=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t,n,r){}}]),e}();function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cs=function(){function e(t,n,r){o()(this,e),m()(this,"_parentContext",null),m()(this,"_inode",null),m()(this,"_children",[]),m()(this,"_option",null),m()(this,"_wrapNode",[]),m()(this,"_classNames",new Set),m()(this,"_mainNode",null),m()(this,"_contentNode",null),m()(this,"_attrs",null),m()(this,"_style",null),m()(this,"_virtual",!1),this._parentContext=t,this._inode=n,this._option=as({},r||{})}return a()(e,[{key:"previousSiblingContext",get:function(){if(!this._parentContext)return null;var e=this._parentContext._children,t=e.indexOf(this);return br(-1!==t,"F:lake-writer-context;L:34"),e[t-1]||null}},{key:"nextSiblingContext",get:function(){if(!this._parentContext)return null;var e=this._parentContext._children,t=e.indexOf(this);return br(-1!==t,"F:lake-writer-context;L:47"),e[t+1]||null}},{key:"inode",get:function(){return this._inode}},{key:"mainNode",get:function(){return this._mainNode}},{key:"contentNode",get:function(){return this._contentNode||this._mainNode}},{key:"setVirtual",value:function(){this._virtual=!0}},{key:"reset",value:function(){this._children=[],this._attrs=null,this._style=null,this._classNames.clear(),this._mainNode=null,this._contentNode=null}},{key:"setNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this._mainNode=e,this._contentNode=t}},{key:"replaceNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this._mainNode=e,this._contentNode=t}},{key:"wrapNode",value:function(e){br(this._mainNode,"F:lake-writer-context;L:90"),this._wrapNode.push(e)}},{key:"setAttr",value:function(e,t){br(this._mainNode===this._contentNode,"F:lake-writer-context;L:95"),this._attrs||(this._attrs={}),this._attrs[e]=t}},{key:"setStyle",value:function(e,t){this._style||(this._style={}),this._style[e]=t}},{key:"hasStyle",value:function(e){var t;return!(null===(t=this._style)||void 0===t||!t[e])}},{key:"getStyle",value:function(e){var t;return null===(t=this._style)||void 0===t?void 0:t[e]}},{key:"removeStyle",value:function(e){this._style&&delete this._style[e]}},{key:"addClassName",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){t&&e._classNames.add(t)}))}},{key:"newChildContext",value:function(t){var n=new e(this,t,this._option);return this._children.push(n),n}},{key:"close",value:function(){if(this._attrs||this._style||this._classNames.size>0){var e=as({},this._attrs);this._mainNode?Sl.updateAttribute(this._mainNode,{attrs:e,style:this._style,className:Array.from(this._classNames)}):this._virtual||(this._mainNode=Sl.createElement("span",{attrs:e,style:this._style,className:Array.from(this._classNames)}))}}},{key:"_appendTo",value:function(e){this._virtual?this._handleAppend(e):this._mainNode&&(this._wrapNode.length&&this._wrapNode.forEach((function(t){Sl.appendChild(e,t),e=t})),Sl.appendChild(e,this._mainNode)),e=this._contentNode||this._mainNode||e,this._children.forEach((function(t){t._appendTo(e)}))}},{key:"_handleAppend",value:function(e){throw new Error("invalid invoke")}},{key:"isLikeEmpty",value:function(e){return Sl.isLikeEmpty(e)}},{key:"createElement",value:function(){return Sl.createElement.apply(Sl,arguments)}},{key:"createInlineCard",value:function(e,t,n,r){return this._createCardElement("inline",e,t,n,r)}},{key:"createBlockCard",value:function(e,t,n,r){return this._createCardElement("block",e,t,n,r)}},{key:"appendChild",value:function(e,t){return Sl.appendChild(e,t)}},{key:"_createCardElement",value:function(e,t,n,r,o){return n&&"object"===R()(n)&&r&&(n.id=r),Sl.createElement("card",{attrs:as(as({type:e,name:t},o),{},{value:n})})}},{key:"toHTML",value:function(){br(this._mainNode,"F:lake-writer-context;L:231"),this.close();var e=this.createElement("*");return this._appendTo(e),e.children.map((function(e){return Sl.toHTML(e)})).join("")}}]),e}();var ls=function(e){u()(i,La);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),m()(l()(t),"_nodeWriters",{}),m()(l()(t),"_cardWriters",{}),m()(l()(t),"_attrWriters",{}),t._iKernel=e,t}return a()(i,[{key:"destroy",value:function(){this._iKernel=null,this._nodeWriters=null,this._cardWriters=null,this._attrWriters=null}},{key:"registerNodeWriter",value:function(e,t){var n=this;br(t instanceof ns,"F:lake-writer;L:32"),"string"==typeof e?this._nodeWriters[e]=t:e.forEach((function(e){n._nodeWriters[e]=t}))}},{key:"registerAttrWriter",value:function(e,t){var n=this;br(t instanceof rs,"F:lake-writer;L:44"),"string"==typeof e&&(e=[e]),e.forEach((function(e){n._attrWriters[e]=t}))}},{key:"registerCardWriter",value:function(e,t){var n=this;br(t instanceof os,"F:lake-writer;L:56"),Array.isArray(e)||(e=[e]),e.forEach((function(e){n._cardWriters[e]=t}))}},{key:"getNodeWriter",value:function(e){return this._nodeWriters[e]}},{key:"getCardWriter",value:function(e){return this._cardWriters[e]}},{key:"getAttrWriter",value:function(e){return this._attrWriters[e]}},{key:"write",value:function(e,t,n){var r=this;br(Mo.isFragmentNode(t),"F:lake-writer;L:80");var o,i=Sl.createElement("#root"),a=new cs(null,t,n);t.children.forEach((function(t){!function e(t,n,r,o){br(!Mo.isFragmentNode(o),"F:lake-writer;L:133");var i=t.newChildContext(o),a=o.name,c=o.attrs,l=o.id;if("br"===a)return i.setNode(i.createElement("br")),void i.close();var s=n.getNodeSchema(a),u=r.getCardWriter(a);if(s.category.includes(Er.Card)){if(u&&(u.write(i,a,o.attrs?o.attrs.value:null,o.id),i.mainNode)){var d=i.mainNode.attrs.value;if(null==d)return void delete i.mainNode.attrs.value;!function(e,t){if(t.value){var n=t.value,r=n.__spacing,o=n.__height,i=n.__widthMode,a=null;"both"===r?a={top:!0,bottom:!0}:"top"===r?a={top:!0}:"bottom"===r&&(a={bottom:!0}),a&&(e.margin=a),o&&(e.height=o),i&&(e.widthMode=i)}}(d,c),i.mainNode.attrs.value="data:".concat(encodeURIComponent(JSON.stringify(d)))}i.close()}else{l&&(i.setAttr("data-lake-id",l),i.setAttr("id",l));var f=r.getNodeWriter(a);if("text"===s.type)i.setNode(Sl.createTextNode(o.data||"​"));else if(f&&(f.write(i,o),s.category.includes(Er.Block)))if(br(i.contentNode,"F:lake-writer;L:183"),i.isLikeEmpty(o))!function(e,t){for(;t;){var n,r=null===(n=t.children)||void 0===n?void 0:n[t.children.length-1];if(!r)break;if("text"===r.type)break;t=r}e.appendChild(t,e.createElement("br"))}(i,o);else{var h=function e(t){var n=t.children||[],r=n[n.length-1];return r?"text"===r.type?r:e(r):null}(o);h&&"text"===h.type&&h.data.endsWith("\n")&&(h.data+="\n")}o.attrs&&(o.attrs.color&&ss(i,r,"color",o.attrs.color),Object.keys(o.attrs).forEach((function(e){"color"!==e&&ss(i,r,e,o.attrs[e])}))),Mo.isElementNode(o)&&o.children&&o.children.forEach((function(t){e(i,n,r,t)})),f&&f.leaveNode(i,o),i.close()}}(a,e,r,t)})),a.close(),a._appendTo(i),o=i.children&&0!==i.children.length?i.children.map((function(e){return Sl.toHTML(e)})).join(""):"<p><br /></p>";var c=this._iKernel,l=null,s=null;c.hasExtendMethod("getTypographyName")&&(s=c.getTypographyName()),c.hasExtendMethod("getLayout")&&(l=c.getLayout());var u=[];return n&&n.includeMeta&&(u.push('<!doctype lake><meta name="doc-version" content="1" />'),s&&u.push('<meta name="typography" content="'.concat(s,'" />')),l&&u.push('<meta name="viewport" content="'.concat(l,'" />'))),u.join("")+o}}]),i}();function ss(e,t,n,r){var o=t.getAttrWriter(n);o&&o.write(e,n,r)}var us=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_writer",null),e}return a()(i,[{key:"init",value:function(e){var t=new ls(e);this._writer=t,e.registerWriter("text/lake",t),e.extendMethods({registerLakeNodeWriter:function(e,n){t.registerNodeWriter(e,n)},registerLakeCardWriter:function(e,n){t.registerCardWriter(e,n)},registerLakeAttrWriter:function(e,n){t.registerAttrWriter(e,n)}})}},{key:"destroy",value:function(){this._writer.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(us,"PluginName","lakeWriter");var ds=function(e){u()(i,Fa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._iKernel.readData("text/html",e,t)}},{key:"write",value:function(e,t){var n=e.document.getINode(t);return this._iKernel.writeData("text/html",n,t)}}]),i}();var fs=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_dataSource",null),e}return a()(i,[{key:"init",value:function(e){this._dataSource=new ds(e),e.registerDataSource("text/html",this._dataSource)}}]),i}();m()(fs,"PluginName","htmlDataSource");var hs=function(e){u()(i,Fa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"destroy",value:function(){this._iKernel=null}},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._iKernel.readData("text/plain",e,t)}},{key:"write",value:function(e,t){var n=e.document.getINode(t);return this._iKernel.writeData("text/plain",n,t)}}]),i}();var ps=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_dataSource",null),e}return a()(i,[{key:"init",value:function(e){this._dataSource=new hs(e),e.registerDataSource("text/plain",this._dataSource)}},{key:"destroy",value:function(){this._dataSource.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(ps,"PluginName","textDataSource");var vs=function(e){u()(i,Fa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"destroy",value:function(){this._iKernel=null}},{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._iKernel.readData("text/lake",e,t)}},{key:"write",value:function(e,t){var n=e.document.getINode(t);return this._iKernel.writeData("text/lake",n,t)}}]),i}();var ms=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_dataSource",null),e}return a()(i,[{key:"init",value:function(e){this._dataSource=new vs(e),e.registerDataSource("text/lake",this._dataSource)}},{key:"destroy",value:function(){this._dataSource.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(ms,"PluginName","lakeDataSource");var ys=function(){function e(){o()(this,e)}return a()(e,[{key:"needPersistent",value:function(){return!1}},{key:"formatValue",value:function(e,t){return e}},{key:"validate",value:function(e,t){return!0}}]),e}();var gs=function(e){u()(i,Va);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_cacheMetaHandler",null),m()(l()(n),"_metaDescriptor",null),n._cacheMetaHandler=e,n._metaDescriptor=t,n}return a()(i,[{key:"filter",value:function(e,t){var n=this._metaDescriptor;return t=n.formatValue(t,e),n.needPersistent()?t:(this._cacheMetaHandler(e,t),null)}}]),i}(),bs={targets:[Er.Root]},ws=function(){function e(t){o()(this,e),m()(this,"_metaPlugin",null),this._metaPlugin=t}return a()(e,[{key:"setMeta",value:function(e,t){return this._metaPlugin.setMeta(e,t)}},{key:"getMeta",value:function(e){return this._metaPlugin.getMeta(e)}}]),e}(),xs=["node","type","job"];function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cs=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_descriptors",{}),m()(l()(e),"_metaStorage",{}),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerAttr("meta",bs),e.on("document.create",(function(){t._metaStorage={}})),e.extend("meta",new ws(this)),e.extendMethods({registerMeta:function(e,n){br(n instanceof ys,"F:kernel/index;L:27"),t.iKernel.registerMetaFilter(e,new gs((function(e,n){t._metaStorage[e]=n}),n)),t._descriptors[e]=n}}),this.iEditing.on("nodechange",(function(e){var n=e.node,r=e.type,o=e.job,i=j()(e,xs);n.isRootNode()&&"attribute"===r&&"meta"===i.attrName&&"ot"===o.mode&&t.iEditing.emit("metachange",i.value,i.oldValue)}))}},{key:"setMeta",value:function(e,t){var n=this._descriptors[e];if(n)if(n.validate(t,e)){var r=this.getMeta(e);if(n.beforeSetMeta&&n.beforeSetMeta(t),n.needPersistent()){var o=this.iEditing.newJob("user"),i=o.document.rootNode;o.setAttribute(i,"meta",ks(ks({},(i.attrs||{}).meta),{},m()({},e,t))),this.iEditing.commitJob(o)}else this._metaStorage[e]=t;r!==t&&this.iKernel.emitEvent("metaChange",{value:t,oldValue:r})}else console.warn("invalid meta value: ".concat(e,"=").concat(t));else console.warn("invalid meta: ".concat(e))}},{key:"getMeta",value:function(e){var t,n,r,o=this._descriptors[e];if(o)return o.getMeta?o.getMeta():this._metaStorage[e]||(null===(t=this.iKernel.document.rootNode)||void 0===t||null===(n=t.attrs)||void 0===n||null===(r=n.meta)||void 0===r?void 0:r[e])}}]),i}();m()(Cs,"PluginName","meta");var Rs=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){if("start"===t||"end"===t){var n,r=e.newJob();n="start"===t?dc.toStart(r.getSelection()):dc.toEnd(r.getSelection()),r.setSelection(n),e.commitJob(r)}}}]),i}();var Ns=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("focus",new Rs)}}]),i}();m()(Ns,"PluginName","focus");var Es=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e,t){var n=e.newJob(),r=this.iKernel.readData("Files",t,{from:"drop",autoRecognition:!1});if(r){var o=dc.insertINode(n,n.getSelection(),r);n.setSelection(o),e.commitJob(n)}}}]),i}();var Os=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("dropFile",new Es)}}]),i}();m()(Os,"PluginName","dropFile");var Ds=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+|(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/g,Ss=/--+/g,Bs=/\s+/;var Ps=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return function(e){if(!e)return 0;var t=0;return(e=(e=e.replace(Ds,(function(e){return e.codePointAt(0)>127?(t+=x()(e).length," "):e})).replace(Ss,(function(e,n,r){return Bs.test(r[n-1])&&t++," "}))).trim())&&(t+=e.split(Bs).length),t}(this.iKernel.kernel.getDocument("text/plain"))}}]),i}();var Fs=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(){var e=this.iKernel.kernel.model.document.rootNode,t=e.childCount;if(0===t)return!0;if(1===t&&"p"===e.firstChild.nodeName){if(e.firstChild.isEmpty())return!0;if(1===e.firstChild.childCount&&e.firstChild.firstChild.isTextNode()&&e.firstChild.firstChild.isEmpty())return!0}return!1}}]),i}();var Ts=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this;e.registerCommand("wordCount",new Ps),e.registerCommand("isEmpty",new Fs),e.on("document.ready",(function(){t.on("contentchange",(function(){setTimeout((function(){n._change()}))}))})),e.on("document.destroy",(function(){t.off("contentchange",(function(){setTimeout((function(){n._change()}))}))}))}},{key:"_change",value:function(){this.iKernel.emitEvent("change")}}]),i}();m()(Ts,"PluginName","content");var Ms=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_whiteSpaceMatchers",[]),m()(l()(e),"_enterMatchers",[]),m()(l()(e),"registerMarkdownMatcher",(function(t,n){("whiteSpace"===t?e._whiteSpaceMatchers:e._enterMatchers).push(n)})),m()(l()(e),"getMarkdownMatchContext",(function(t,n){var r=n.node,o=zr.closest(r,Er.Block);if(!o)return null;var i=e.iEditing.newJob("silent"),a=i.newRange(i.newPosition(o,0),n);if(a.collapsed)return null;var c=Yi.getTextSections(i,a);return c.length?(c=c[0],e._execMatch(t,c)):null})),e}return a()(i,[{key:"init",value:function(e){e.extendMethods({registerMarkdownMatcher:this.registerMarkdownMatcher,getMarkdownMatchContext:this.getMarkdownMatchContext})}},{key:"_execMatch",value:function(e,t){for(var n="whiteSpace"===e?this._whiteSpaceMatchers:this._enterMatchers,r=0,o=n.length;r<o;r++){var i=n[r].match(t);if(i)return{matcher:n[r],info:i}}return null}}]),i}();function Ls(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];br("function"==typeof e.destroy,"F:bind-event;L:4"),br("function"==typeof t.on,"F:bind-event;L:5"),br("function"==typeof t.off,"F:bind-event;L:6");var c="function"==typeof e.$attached,l=e.destroy,s=function(){c&&!e.isAttached||r.apply(void 0,arguments)};t.on.apply(t,[n,s].concat(i)),e.destroy=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];l.apply.apply(l,[e].concat(o)),t.off.apply(t,[n,s].concat(i))}}m()(Ms,"PluginName","markdown");var As=function(){function e(){o()(this,e),m()(this,"_index",-1),m()(this,"_lockIndex",-1),m()(this,"_preventForward",!1),m()(this,"_capacity",0),m()(this,"_stack",[]),m()(this,"_frameClosed",!1)}return a()(e,[{key:"lock",value:function(){this._preventForward=!0,this._lockIndex=this._index}},{key:"unlock",value:function(){this._preventForward=!1,this._lockIndex=-1}},{key:"clear",value:function(){this._index=-1,this._lockIndex=-1,this._capacity=0,this._stack=[],this._frameClosed=!1}},{key:"canForward",value:function(){return this._index+1<this._capacity&&!this._preventForward}},{key:"canBackward",value:function(){return this._index>-1&&this._index>this._lockIndex}},{key:"add",value:function(e){this._addFrame(e),this._frameClosed=!0}},{key:"append",value:function(e){if(this._frameClosed||-1===this._index)return this._addFrame(e),void(this._frameClosed=!1);var t=this._stack[this._index];t.operations=t.operations.concat(e.operations),t.range=e.range}},{key:"closeFrame",value:function(){this._frameClosed=!0}},{key:"_addFrame",value:function(e){this._index++,this._preventForward=!1,this._stack[this._index]=e,this._capacity=this._index+1}},{key:"forward",value:function(){return this.canForward()?(this._frameClosed=!0,this._index++,this._stack[this._index]):null}},{key:"backward",value:function(){if(!this.canBackward())return null;this._frameClosed=!0;var e=this._stack[this._index];return this._index--,e}},{key:"rollback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(br(e>=1,"F:stack;L:91"),-1===this._index)return null;this._frameClosed=!0;for(var t=[],n=0;n<e;n++)t.push(this._stack.pop()),this._index--;return this._capacity=this._index+1,t}}]),e}();var Is=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_stack",null),t._stack=e,t}return a()(i,[{key:"getState",value:function(){return this._stack.canBackward()?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=this._stack;if(!t.canBackward())return!1;var n=t.backward(),r=e.newJob("history");return n.operations.slice().reverse().forEach((function(e){return e.reverse(r)})),r.dangerDirectSetSelection(n.previousSelection),e.commitJob(r),!0}}]),i}();var js=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_stack",null),t._stack=e,t}return a()(i,[{key:"getState",value:function(){return this._stack.canForward()?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=this._stack;if(!t.canForward())return!1;var n=t.forward(),r=e.newJob("history");return n.operations.forEach((function(e){return e.apply(r)})),r.dangerDirectSetSelection(n.selection),e.commitJob(r),!0}}]),i}();var Vs=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_stack",null),t._stack=e,t}return a()(i,[{key:"getState",value:function(){return this._stack.canBackward()?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._stack;if(!n.canBackward())return!1;var r=n.rollback(t),o=e.newJob("history");return r.forEach((function(e){e.operations.slice().reverse().forEach((function(e){return e.reverse(o)})),o.dangerDirectSetSelection(e.previousSelection)})),e.commitJob(o),!0}}]),i}();var zs=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_stack",new As),e}return a()(i,[{key:"init",value:function(e,t){var n=this,r=this._stack,o={destroy:function(){}};e.extendMethods({disableHistory:function(){var e;null===(e=o.destroy)||void 0===e||e.call(o),n._stack.clear(),delete o.destroy},lockHistory:function(){n._stack.lock()},unlockHistory:function(){n._stack.unlock()}}),e.registerCommand("undo",new Is(r)),e.registerCommand("redo",new js(r)),e.registerCommand("rollbackHistory",new Vs(r)),Ls(o,e,"document.destroy",(function(){n._stack.clear()})),Ls(o,t,"contentchange",(function(e){"user"===e.mode&&(e.isCommitted?r.add({operations:e.operations,selection:e.selection,previousSelection:e.previousSelection}):r.append({operations:e.operations,selection:e.selection,previousSelection:e.previousSelection}))})),Ls(o,t,"selectionchange",(function(e){e.pure&&n._stack.closeFrame()}))}},{key:"disable",value:function(){}}]),i}();m()(zs,"PluginName","history");var Us=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fixed";o()(this,e),m()(this,"_layout","fixed"),this._layout=t}return a()(e,[{key:"layout",get:function(){return this._layout}}]),e}();m()(Us,"OptionName","layout");var Hs=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"getState",value:function(){return 0}},{key:"getValue",value:function(){return this._plugin.getLayout()}},{key:"execute",value:function(e,t){return this._plugin.setLayout(t)}}]),i}();var qs=function(e){u()(i,ys);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_cachedValue",null),t._cachedValue=e,t}return a()(i,[{key:"needPersistent",value:function(){return!0}},{key:"validate",value:function(e){return"fixed"===e||"adapt"===e}},{key:"beforeSetMeta",value:function(e){this._cachedValue=e}},{key:"getMeta",value:function(){return this._cachedValue}}]),i}();var Ws=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;br(e.hasExtend("meta"),"F:kernel/index;L:14"),e.registerCommand("layout",new Hs(this)),e.hasExtendMethod("registerMeta")&&e.registerMeta("viewport",new qs(this.option.layout)),e.extendMethods({getLayout:function(){return t.getLayout()},setLayout:function(e){return t.setLayout(e)}})}},{key:"setLayout",value:function(e){if("adapt"!==e&&"fixed"!==e)return!1;var t=this.getLayout();this.iKernel.meta.setMeta("viewport",e),t!==e&&(this.iKernel.emitEvent("layoutChange",e,t),this.iKernel.emitPluginEvent("layoutChange",{current:e,prev:t}))}},{key:"getLayout",value:function(){return this.iKernel.meta.getMeta("viewport")}}]),i}();m()(Ws,"PluginName","layout"),m()(Ws,"PluginOption",Us);var Zs=function(e){u()(i,ys);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"needPersistent",value:function(){return!0}},{key:"validate",value:function(e){return"traditional"===e||"classic"===e}}]),i}(),Ks=function(){function e(t){o()(this,e),m()(this,"_typography","traditional"),this._typography="traditional"!==t&&"classic"!==t?"traditional":t}return a()(e,[{key:"typography",get:function(){return this._typography}}]),e}();m()(Ks,"OptionName","typography");var $s,Js=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return this._plugin.getTypographyName()}},{key:"execute",value:function(e,t){return this._plugin.setTypography(t)}}]),i}();var Ys=(m()($s={},"traditional",{fontSize:14,color:"#262626",lineHeight:1.16,h1:28,h2:24,h3:20,h4:16,h5:14,h6:14}),m()($s,"classic",{fontSize:15,color:"#404040",lineHeight:1.16,h1:28,h2:24,h3:20,h4:16,h5:14,h6:14}),$s),Gs=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;br(this.iKernel.hasExtend("meta"),"F:kernel/index;L:22"),e.registerCommand("typography",new Js(this)),e.hasExtendMethod("registerMeta")&&e.registerMeta("typography",new Zs),e.extendMethods({getTypographyName:function(){return t.getTypographyName()},getTypographyDetail:function(){return t.getTypographyDetail()}}),this.iEditing.on("metachange",(function(e,n){var r=null==e?void 0:e.typography,o=null==n?void 0:n.typography;r&&(t.iKernel.emitPluginEvent("typographyChange",{current:r,old:o}),t.iKernel.emitEvent("typographyChange",r,o))}))}},{key:"getTypographyName",value:function(){return this.iKernel.meta.getMeta("typography")||this.option.typography}},{key:"getTypographyDetail",value:function(){var e=this.getTypographyName();return Ys[e]}},{key:"setTypography",value:function(e){if("classic"===e||"traditional"===e){var t=this.getTypographyName();if(t===e)return!1;this.iKernel.meta.setMeta("typography",e),this.iKernel.emitPluginEvent("typographyChange",{current:e,old:t}),this.iKernel.emitEvent("typographyChange",e,t)}}}]),i}();m()(Gs,"PluginName","typography"),m()(Gs,"PluginOption",Ks);var Xs=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n,r){br("boolean"==typeof t,"F:set-card-value-command;L:8");var o=e.newJob(t?"auto":"user"),i=o.getNodeById(n);return i&&i.isConnected&&i.hasCategory(Er.Card)?(o.setAttribute(i,"value",r),e.commitJob(o),!0):(e.cancelJob(o),!1)}}]),i}();var Qs=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.newJob(),i=this.getState(o);if(i===Oa.UNAVAILABLE)return e.cancelJob(o),!1;var a=qa.insertCardNode(o,o.getSelection(),t,n),c=a.selection,l=a.cardNode;return r?o.setSelection([o.newRange(o.newPosition(l,0))]):o.setSelection(c),e.commitJob(o),l.id}}]),i}();var eu=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"card",r=e.newJob(),o=r.getNodeById(t);return o&&o.isConnected&&o.isCardNode()?("card"===n?r.setSelection(r.newSelection(r.newRange(r.newPosition(o,0)))):"after"===n?r.setSelection(r.newSelection(r.newRange(r.newPosition(o.parentNode,o.offset+1)))):"before"===n&&r.setSelection(r.newSelection(r.newRange(r.newPosition(o.parentNode,o.offset)))),e.commitJob(r),!0):(e.cancelJob(r),!1)}}]),i}();var tu=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n=e.newJob(),r=n.getNodeById(t),o=n.getSelection();if(r&&r.hasCategory(Er.Card)&&1===o.rangeCount){var i=n.newSelection(Ur.selectNodeContents(r));i=dc.deleteContent(n,i,!0,!0),n.setSelection(i),e.commitJob(n)}else e.cancelJob(n)}}]),i}();var nu=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return 0}},{key:"getValue",value:function(e,t){var n=e.getNodeById(t);return n&&n.isConnected&&n.isCardNode()?n.attrs.value:null}}]),i}();var ru=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){var r=e.newJob(),o=r.getNodeById(t);if(o&&o.isConnected&&o.hasCategory(Er.Card)){if(o.hasCategory(Er.BlockCard)){var i=o.parentNode;br(i.hasCategory(Er.Hole),"F:move-card-command;L:18"),ec.insertNodes(r,n,[i])}else ec.insertNodes(r,n,[o]);r.setSelection([r.newRange(r.newPosition(o.parentNode,o.offset+1))]),e.commitJob(r)}else e.cancelJob(r)}}]),i}();var ou=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return 0}},{key:"getValue",value:function(e,t){return!!t&&e.getNodesByName(t).some((function(e){return e.isConnected}))}},{key:"execute",value:function(e,t){return this.getValue(e.job,t)}}]),i}();var iu=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){e.setVirtual(),e._handleAppend=function(){}}}]),i}();m()(iu,"NodeNames",["hole"]);var au=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("setCardValue",new Xs),e.registerCommand("insertCard",new Qs),e.registerCommand("focusCard",new eu),e.registerCommand("deleteCard",new tu),e.registerCommand("cardValue",new nu),e.registerCommand("moveCard",new ru),e.registerCommand("cardIsExist",new ou),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(iu.NodeNames,new iu)}}]),i}();function cu(e,t,n){var r=Sr.length(n);if(0===r)return t.clone();for(var o=t.node,i=t.offset,a=zr.closest(t.node,Er.Block),c=o,l=i,s=0;s<r;s++){var u=lu(c,l);br(u,"F:match-descriptor;L:65"),c=u.node,l=u.offset}br(a===c||zr.compare(a,c).contains,"F:match-descriptor;L:71");var d=e.newPosition(c,l),f=Yi.getTextSections(e,e.newRange(d,t));return br(1===f.length&&1===f[0].length&&f[0][0].text===n,"F:match-descriptor;L:78"),d}function lu(e,t){if(0===t)return e.hasCategory([Er.Root,Er.LikeRoot])?null:lu(e.parentNode,e.offset);if(e.isTextNode())return{node:e,offset:t-1};var n=e.childNodes[t-1];return n.isCardNode()?null:n.isTextNode()?lu(n,n.dataLength):(br(n.isElement(),"F:match-descriptor;L:111"),lu(e,e.childCount))}m()(au,"PluginName","card");var su=function(){function e(){o()(this,e)}return a()(e,null,[{key:"match",value:function(e,t){if(!t.length)return null;var n=e.getSelection().firstRange.start,r=function(e){var t=e.node,n=e.offset;if(t.hasCategory([Er.Root,Er.LikeRoot]))return{text:"",atStart:!0,blockNode:null,position:e};if(!t.hasCategory([Er.TextContainer,Er.Text]))return null;if(t.isTextNode())return function(e,t,n){if(!t.parentNode.hasCategory(Er.Block))return null;for(var r=[],o=t.previousSibling,i=!1;;){if(!o){i=!0;break}if(!o.isTextNode())break;r.push(o.data),o=o.previousSibling}var a=r.reverse().join("")+n;return br(Sr.length(a)>=0,"F:get-previous-text-info;L:103"),{atStart:i,text:a,blockNode:t.parentNode,position:e}}(e,t,Sr.substring(t.data,0,n));if(!t.hasCategory(Er.Block))return null;if(0===n)return{text:"",atStart:!0,blockNode:t,position:e.clone()};var r=t.children[n-1];if(br(r,"F:get-previous-text-info;L:38"),!r.isTextNode())return{text:"",atStart:!1,blockNode:t,position:e.clone()};for(var o=[],i=!1;r&&r.isTextNode();){if(o.push(r.data),!r.previousSibling){i=!0;break}r=r.previousSibling}var a=o.reverse().join("");return br(Sr.length(a)>=0,"F:get-previous-text-info;L:66"),{text:a,atStart:i,blockNode:t,position:e}}(n);if(!r)return null;var o=null;return t.some((function(t){var i=t.descriptor,a=t.handler,c=function(e,t,n,r){var o=n.atStart,i=n.text,a=n.blockNode,c=n.position;return t.match?t.match(r,a)||!1:(!a||a.nodeName===e.defaultElementName)&&!(t.matchPosition&&!t.matchPosition(e,r,a))&&!(t.atStart&&!o)&&!(t.mustEmpty&&a&&!zr.isLikeEmptyElement(a))&&!(t.pattern&&!t.pattern.test(i))&&{matchedText:i,blockNode:a,start:cu(e,c,i),end:c}}(e,i,r,n);return!!c&&(o={info:c,handler:a},!0)}))?o:null}}]),e}();var uu=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){var e=this.iEditing;e.extendMethods({matchQuickInput:function(t){var n=e.newJob(),r=n.getSelection();if(!r.isCollapsed)return!1;var o=r.firstRange.start.node;return o.isTextNode()&&(o=o.parentNode),!!o.hasCategory([Er.Block,Er.Root,Er.LikeRoot])&&su.match(n,t,o)}})}}]),i}();m()(uu,"PluginName","quickInput");var du={parents:[Er.Root,Er.LikeRoot],category:[Er.Block,Er.TextContainer]},fu=function(){function e(){o()(this,e)}return a()(e,[{key:"readNode",value:function(e,t){throw new Error("invalid invoke")}},{key:"leaveNode",value:function(e){}}]),e}();var hu=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e){e.setNode(Mo.createElement("p"))}}]),i}();m()(hu,"NodeNames",["p"]);var pu=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e){e.setNode(Mo.createElement("p"))}}]),i}(),vu=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t){throw new Error("invalid invoke")}},{key:"leaveNode",value:function(e){}}]),e}();var mu=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n={};e.isInlineMode()&&(n={margin:"0",padding:"0",minHeight:"24px"});var r=e.createElement("p",{className:"ne-p",style:n});0===t.children.length&&e.appendChild(r,e.createElement("br")),e.setNode(r)}}]),i}();m()(mu,"NodeNames",["p"]);var yu=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){var t=e.createElement("p");e.setNode(t)}}]),i}();var gu=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerElement("p",du),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader("p",new pu),e.hasExtendMethod("registerHTMLNodeReader")&&e.registerHTMLNodeReader(hu.NodeNames,new hu),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(mu.NodeNames,new mu),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter("p",new yu)}}]),i}();m()(gu,"PluginName","paragraph");var bu=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isTableSelection||t.isCardSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=e.newJob();if(this.getState(t)===Oa.UNAVAILABLE)return e.cancelJob(t),!1;var n=t.getSelection();n.collapsed||(n=dc.deleteContent(t,n)),br(n.collapsed,"F:break-line-command;L:30");var r=ec.breakLine(t,n.firstRange.start);return t.setSelection([t.newRange(r)]),e.commitJob(t),!0}}]),i}();var wu=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("breakLine",new bu)}}]),i}();m()(wu,"PluginName","breakLine");var xu=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=null;switch(t){case"bold":n="strong";break;case"italic":n="em";break;case"underline":n="u";break;case"strikethrough":n="del";break;default:br(!1,"F:lake-basic-text-style-attr-writer;L:30")}"u"!==n&&"del"!==n||!e.hasStyle("color")||(e.wrapNode(Sl.createElement("span",{style:{color:e.getStyle("color")}})),e.removeStyle("color")),e.wrapNode(Sl.createElement(n))}}]),i}();m()(xu,"AttrNames",["bold","italic","underline","strikethrough"]);var _u=function(){function e(){o()(this,e)}return a()(e,[{key:"match",value:function(e,t,n){throw new Error("failed to execute MarkdownMatcher.match()")}},{key:"exec",value:function(e){throw new Error("failed to execute MarkdownMatcher.exec()")}}]),e}();var ku=function(e){u()(i,_u);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_iEditing",null),m()(l()(a),"_patternStr",null),m()(l()(a),"_handler",null),a._iEditing=e,a._patternStr=t,a._handler=n,a}return a()(i,[{key:"match",value:function(e){var t=this._doMatch(e);if(!t)return null;for(var n=t.start,r=t.end.node;r;){if(Cu(r))return null;if(r===n.node)break;r=r.previousSibling}return t}},{key:"_doMatch",value:function(e){var t=this._patternStr,n=t.length,r=e[e.length-1];if(!r)return null;if(!r.text.endsWith(t))return null;var o=e.map((function(e){return e?e.text:" "})).join(""),i=o.lastIndexOf(t,o.length-n-1);if(-1===i||i+n+n>=o.length)return null;if(r.text.length>n){var a=r.text.lastIndexOf(t,r.text.length-n-1);if(br(1===r.fragments.length,"F:pair-markdown-matcher;L:78"),-1!==a){var c=r.fragments[0];return{start:{node:c.start.node,offset:a+c.start.offset},end:{node:c.end.node,offset:c.end.offset}}}}for(var l=e.length-2;l>=0;l--){var s=e[l];if(s){var u=s.text.lastIndexOf(t);if(-1!==u)return br(1===s.fragments.length,"F:pair-markdown-matcher;L:110"),{start:{node:s.fragments[0].start.node,offset:s.fragments[0].start.offset+u},end:{node:r.fragments[0].end.node,offset:r.fragments[0].end.offset}}}}return null}},{key:"exec",value:function(e){var t=this._iEditing.newJob("user"),n=e.start,r=e.end,o=this._patternStr.length;if(n.node===r.node){var i=n.node,a=i.data.substring(0,n.offset),c=i.data.substring(r.offset),l=i.data.substring(n.offset+o,r.offset-o);t.setTextNodeData(i,a+l+c),this._handler(t,t.newRange(t.newPosition(i,a.length),t.newPosition(i,a.length+l.length)))}else{var s=n.node.data.substring(0,n.offset)+n.node.data.substring(n.offset+o),u=r.node.data.substring(0,r.offset-o)+r.node.data.substring(r.offset);t.setTextNodeData(n.node,s),t.setTextNodeData(r.node,u),this._handler(t,t.newRange(t.newPosition(n.node,n.offset),t.newPosition(r.node,r.offset-o)))}this._iEditing.commitJob(t)}}]),i}();function Cu(e){return!!zr.closest(e,Er.InlineBox)}function Ru(e,t,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=t.ranges,a=new Set,c=!t.collapsed,l=function(t,l){var s=i[t],u=s.start.node,d=s.end.node;return Nu(c,e,s.start,n,r,o).forEach((function(e){a.add(e)})),a.size>1?{v:Array.from(a)}:s.collapsed?"continue":(u!==d&&Nu(c,e,s.end,n,r,o).forEach((function(e){a.add(e)})),a.size>1?{v:Array.from(a)}:(Yi.walkRange(s,(function(t,i){if(t===u||t===d)return i.skip();if(o){var l=zr.closest(t,Er.Block);if(l&&l.hasCategory(o))return i.skip()}Eu(c,a,e,t,n,r),a.size>1&&i.stop()})),a.size>1?{v:Array.from(a)}:void 0))},s=0,u=i.length;s<u;s++){var d=l(s);if("continue"!==d&&"object"===R()(d))return d.v}return Array.from(a)}function Nu(e,t,n,r,o,i){if(n.node.hasCategory([Er.Root,Er.LikeRoot,Er.TableHole,Er.Hole]))return[];if(i){var a=zr.closest(n.node,Er.Block);if(a&&a.hasCategory(i))return[]}for(var c=new Set,l=zr.getAncestors(n.node,Er.Block),s=l.length-1;s>=0;s--)Eu(e,c,t,l[s],r,o);return Array.from(c)}function Eu(e,t,n,r,o,i){if(n.acceptAttrName(r.nodeName,o)&&!(e&&r.isTextNode()&&r.isEmpty())){if(!i&&n.isContextAttr(o)){var a=zr.closest(r,Er.AttrContext);if(a&&n.supportContextAttr(a.nodeName,o)){var c=n.processContextAttr(a.nodeName,o,r.getAttribute(o));return void t.add(c)}}r.hasAttribute(o)?t.add(r.attrs[o]):r.isTextNode()&&t.add(null)}}var Ou=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getAttrValue",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Ru(e,t,n,r,o)}}]),e}();var Du=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","none"),e}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();if(dc.isInCard(t))return Oa.UNAVAILABLE;var n=Ou.getAttrValue(e,this._formatSelection(e,t),this.attrName,!1);return n.length>1?Oa.UNKNOWN:1===n.length&&n[0]?Oa.EXECUTED:Oa.NOT_EXECUTED}},{key:"getValue",value:function(e,t){return Ou.getAttrValue(e,this._formatSelection(e,e.getSelection()),this.attrName,!1,t)}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.newJob(),r=n.getSelection();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;r=this._formatSelection(n,r);var o=Ou.getAttrValue(n,r,this.attrName,!0,t);return r=o[0]?dc.removeAttribute(n,n.getSelection(),this.attrName,t):dc.setAttribute(n,n.getSelection(),this.attrName,!0,t),n.setSelection(r),e.commitJob(n),!0}},{key:"_formatSelection",value:function(e,t){if(t.rangeCount>1)return t;var n=t.ranges.map((function(t){return Yi.shrinkRange(e,t,!0)}));return t.cloneByRange(n)}}]),i}();var Su=function(e){u()(i,Du);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this)).attrName=e,t}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return"bold"===this.attrName&&dc.allBlockNodeHasCategory(t,Er.Heading)?-1:B()(p()(i.prototype),"getState",this).call(this,e)}},{key:"getValue",value:function(e){return"bold"===this.attrName?B()(p()(i.prototype),"getValue",this).call(this,e,Er.Heading):B()(p()(i.prototype),"getValue",this).call(this,e)}},{key:"execute",value:function(e){return"bold"===this.attrName?B()(p()(i.prototype),"execute",this).call(this,e,Er.Heading):B()(p()(i.prototype),"execute",this).call(this,e)}}]),i}(),Bu={bold:{targets:[Er.Text],values:[!0]},italic:{targets:[Er.Text],values:[!0]},underline:{targets:[Er.Text],values:[!0]},strikethrough:{targets:[Er.Text],values:[!0]}};var Pu=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e,t){switch(t.name){case"strong":case"b":e.addAttr("bold",!0);break;case"i":case"em":e.addAttr("italic",!0);break;case"u":e.addAttr("underline",!0);break;case"del":case"s":e.addAttr("strikethrough",!0)}}}]),i}();m()(Pu,"NodeNames",["strong","b","i","em","u","s","del"]);var Fu=function(){function e(){o()(this,e)}return a()(e,[{key:"readStyle",value:function(e,t,n,r){throw new Error("invalid invoke")}}]),e}();var Tu=function(e){u()(i,Fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readStyle",value:function(e,t,n){switch(t){case"font-weight":(n>=500||"bold"===n||"bolder"===n)&&e.addAttr("bold",!0);break;case"font-style":"italic"!==n&&"oblique"!==n||e.addAttr("italic",!0);break;case"text-decoration":"underline"===n?e.addAttr("underline",!0):"line-through"===n&&e.addAttr("strikethrough",!0)}}}]),i}();m()(Tu,"StyleNames",["font-weight","font-style","text-decoration"]);var Mu=function(){function e(){o()(this,e)}return a()(e,[{key:"write",value:function(e,t,n){throw new Error("invalid invoke")}}]),e}();var Lu=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){if(n){switch(t){case"bold":return void e.wrapNode(e.createElement("strong"));case"italic":return void e.wrapNode(e.createElement("em"))}var r=e.inode.attrs,o=r.underline,i=r.strikethrough;o&&i?e.addStyle("text-decoration","underline line-through"):o?e.addStyle("text-decoration","underline"):i&&e.addStyle("text-decoration","line-through")}}}]),i}();m()(Lu,"AttrNames",["bold","italic","underline","strikethrough"]);var Au=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){var n=null;switch(t.name){case"strong":case"b":n="bold";break;case"em":case"i":n="italic";break;case"u":n="underline";break;case"del":n="strikethrough";break;default:br(!1,"F:lake-basic-text-style-node-reader;L:29")}e.setAttr(n,!0)}}]),i}();var Iu={"**":"bold",__:"bold","~~":"strikethrough",_:"italic","*":"italic"},ju=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttr(Bu),e.registerCommand({bold:new Su("bold"),italic:new Su("italic"),underline:new Su("underline"),strikethrough:new Su("strikethrough")}),e.hasExtendMethod("registerHTMLNodeReader")&&(e.registerHTMLNodeReader(Pu.NodeNames,new Pu),e.registerHTMLStyleReader(Tu.StyleNames,new Tu)),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(Lu.AttrNames,new Lu),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader(["strong","b","em","i","del","u"],new Au),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(xu.AttrNames,new xu),this._initMarkdownShortcutKey()}},{key:"_initMarkdownShortcutKey",value:function(){var e=this,t=this.iKernel;t.hasExtendMethod("registerMarkdownMatcher")&&Object.keys(Iu).forEach((function(n){t.registerMarkdownMatcher("whiteSpace",new ku(e.iEditing,n,(function(t,r){e._handlerMarkdown(t,Iu[n],r)})))}))}},{key:"_handlerMarkdown",value:function(e,t,n){n=Yi.setAttribute(e,n,t,!0);var r=e.createTextNode("");e.insertNodeByPosition(n.end,r),e.setSelection([e.newRange(e.newPosition(r,0))])}}]),i}();m()(ju,"PluginName","basicTextStyle");var Vu={targets:[Er.Text],values:function(){return!0}};var zu=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","none"),e}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();if(dc.isInCard(t))return-1;var n=Ou.getAttrValue(e,this._formatSelection(t),this.attrName,!1);return n.length>1?Oa.UNKNOWN:1===n.length&&n[0]?Oa.EXECUTED:Oa.NOT_EXECUTED}},{key:"getValue",value:function(e){var t=e.getSelection();if(dc.isInCard(t))return null;var n=Ou.getAttrValue(e,this._formatSelection(t),this.attrName,!1);return 1===n.length&&n[0]||n.length>1?n[0]:null}},{key:"execute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.newJob();if(this.getState(r)===Oa.UNAVAILABLE)return e.cancelJob(r),!1;var o=null;return o=t?dc.setAttribute(r,this._formatSelection(r.getSelection()),this.attrName,t,n):dc.removeAttribute(r,this._formatSelection(r.getSelection()),this.attrName,n),r.setSelection(o),e.commitJob(r),!0}},{key:"_formatSelection",value:function(e){return e.isCollapsed?e:dc.shrinkToElement(e)}}]),i}();var Uu=function(e){u()(i,zu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","color"),e}return a()(i)}();var Hu=function(e){u()(i,zu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","color"),e}return a()(i,[{key:"execute",value:function(e){return B()(p()(i.prototype),"execute",this).call(this,e,null)}}]),i}();var qu=function(e){u()(i,Fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readStyle",value:function(e,t,n){n&&e.addAttr("color",n)}}]),i}();m()(qu,"StyleNames",["color"]);var Wu=function(e){u()(i,zl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){e.setAttr("color",n)}}]),i}();var Zu=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){n&&e.addStyle("color",n)}}]),i}();m()(Zu,"AttrNames",["color"]);var Ku=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){n&&e.setStyle("color",n)}}]),i}();m()(Ku,"AttrNames",["color"]);var $u=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand({color:new Uu,clearColor:new Hu}),e.registerAttr("color",Vu),e.hasExtendMethod("registerHTMLStyleReader")&&e.registerHTMLStyleReader(qu.StyleNames,new qu),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(Zu.AttrNames,new Zu),e.hasExtendMethod("registerLakeStyleReader")&&e.registerLakeStyleReader("color",new Wu),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(Ku.AttrNames,new Ku)}}]),i}();m()($u,"PluginName","color");var Ju={targets:[Er.Text],values:function(){return!0}};var Yu=function(e){u()(i,zu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","bgColor"),e}return a()(i)}();var Gu=function(e){u()(i,zu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","bgColor"),e}return a()(i,[{key:"execute",value:function(e){return B()(p()(i.prototype),"execute",this).call(this,e,null)}}]),i}(),Xu={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Qu={table:!0,tbody:!0,thead:!0,tfoot:!0,tr:!0,th:!0,td:!0},ed=function(e){u()(i,Fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readStyle",value:function(e,t,n,r){var o=r.name;n&&"rgb(255, 255, 255)"!==n&&"#fff"!==n&&(Xu[n.toLowerCase()]&&(n=Xu[n.toLowerCase()]),(n.startsWith("rgb(")||n.startsWith("#")&&(7!==n.length||4!==n.length))&&(Qu[o]?e.addAttr("cellBgColor",n):e.addAttr("bgColor",n)))}}]),i}();m()(ed,"StyleNames",["background-color","background"]);var td=function(e){u()(i,zl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){e.setAttr("bgColor",n)}}]),i}();var nd=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){n&&e.addStyle("background-color",n)}}]),i}();m()(nd,"AttrNames",["bgColor"]);var rd=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){e.setStyle("background-color",n)}}]),i}();m()(rd,"AttrNames",["bgColor"]);var od=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttr("bgColor",Ju),e.registerCommand({bgColor:new Yu,clearBgColor:new Gu}),e.hasExtendMethod("registerHTMLStyleReader")&&e.registerHTMLStyleReader(ed.StyleNames,new ed),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(nd.AttrNames,new nd),e.hasExtendMethod("registerLakeStyleReader")&&e.registerLakeStyleReader("background-color",new td),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(rd.AttrNames,new rd)}}]),i}();m()(od,"PluginName","bgColor");var id={targets:[Er.Text],values:function(e){return(e=Number(e))>=12&&e<=48},toHTMLAttribute:function(e,t){return t?{style:{"font-size":t}}:null}};var ad=function(e){u()(i,zu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","fontsize"),e}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return dc.allBlockNodeHasCategory(t,Er.Heading)?-1:B()(p()(i.prototype),"getState",this).call(this,e)}},{key:"getValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=B()(p()(i.prototype),"getValue",this).call(this,e);return t||null!==n?n:(br(this.iKernel.hasExtendMethod("getTypographyDetail"),"F:fontsize-command;L:33"),this.iKernel.getTypographyDetail().fontSize)}},{key:"execute",value:function(e,t){return B()(p()(i.prototype),"execute",this).call(this,e,t,Er.Heading)}}]),i}(),cd=/([a-zA-Z]+)\s*$/;function ld(e){return 72*e}function sd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:96;return e*t/72}var ud={PC:function(e){return 12*e},CM:function(e){return ld(e*(1/2.54))},MM:function(e){return ld(e*(1/2.54*.1))},IN:ld,Q:function(e){return ld(e*(1/2.54*.1*.25))},PT:function(e){return e}},dd=[12,13,14,15,16,19,22,24,29,32,40,48];var fd={px:!0,in:!0,cm:!0,mm:!0,q:!0,pt:!0,pc:!0},hd=function(e){u()(i,Fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readStyle",value:function(e,t,n){var r=this._formatFontSize(n);r&&e.addAttr("fontsize",r)}},{key:"_formatFontSize",value:function(e){var t=function(e){var t=e.match(cd);return t&&t[1]}(e);return fd[t]?(e=parseFloat(e,10),Number.isNaN(e)?null:(e>48?e=48:e<12&&(e=12),function(e){if(isNaN(e)||e<=0)return null;if(e>=48)return 48;if(e<=12)return 12;for(var t=0,n=dd.length-1;n>t;)Math.abs(e-dd[t])<=Math.abs(e-dd[n])?n--:t++;return dd[n]}(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:96;if(t=t.toUpperCase(),ud[t]){var r=ud[t](e);return sd(r,n)}return"PX"===t?e:null}(e,t)||e))):null}}]),i}();m()(hd,"StyleNames",["font-size"]);var pd={9:12,10:13,11:14,12:16,14:19,16:22,18:24,22:29,24:32,30:40,36:48,1515:15};var vd=/^lake-fontsize-(\d{1,4})$/,md=function(e){u()(i,Vl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){(n=n.split(" ")).forEach((function(t){if(vd.test(t)){var n=pd[RegExp.$1];n&&e.setAttr("fontsize",Number.parseInt(n))}}))}}]),i}();var yd=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){n&&e.addStyle("font-size","".concat(n,"px"))}}]),i}();m()(yd,"AttrNames",["fontsize"]);var gd={};Object.keys(pd).forEach((function(e){gd[pd[e]]=e}));var bd=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){var r=gd[n];r&&e.addClassName("lake-fontsize-".concat(r))}}]),i}();m()(bd,"AttrNames",["fontsize"]);var wd=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("fontsize",new ad),e.registerAttr("fontsize",id),e.hasExtendMethod("registerHTMLStyleReader")&&e.registerHTMLStyleReader(hd.StyleNames,new hd),e.hasExtendMethod("registerLakeAttrReader")&&e.registerLakeAttrReader("class",new md),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(yd.AttrNames,new yd),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(bd.AttrNames,new bd)}}]),i}();m()(wd,"PluginName","fontsize");var xd=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"execute",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.newJob();n=this._plugin.allowDeleteTable?n:this._plugin.allowDeleteTable;var o=dc.deleteContent(r,r.getSelection(),!0,t,!1,n);r.setSelection(o),e.commitJob(r)}}]),i}();var _d=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){br(!t.collapsed,"F:delete-by-range-command;L:7");var n=e.newJob(),r=dc.deleteContent(n,n.newSelection(t),!0,!0,!1);n.setSelection(r),e.commitJob(n)}}]),i}();function kd(e,t,n){if(e.nodeType===Node.TEXT_NODE&&(e=e.parentNode),!e.closest)return null;var r=e.closest(t);return r?n&&!n.contains(r)?null:r:null}var Cd=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e){var t=e.newJob(),n=t.getSelection();if(!n.isCollapsed)return e.cancelJob(t),!1;var r=n.firstRange.start,o=kd(r.node,Er.Block);if(!o)return e.cancelJob(t),!1;var i=ec.alignmentToElement(t,r,Er.Block,"right");if(i.node.hasCategory(Er.Block)&&br(i.node===o,"F:delete-to-block-end-command;L:28"),i.node===o&&o.childCount===i.offset)return e.cancelJob(t),!1;var a=t.newRange(i,t.newPosition(o,o.childCount)),c=dc.deleteContent(t,t.newSelection(a),!0,!0,!1);return t.setSelection(c),e.commitJob(t),!0}}]),i}();var Rd=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_allowDeleteTable",!0),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerCommand({delete:new xd(this),deleteByRange:new _d,deleteToBlockEnd:new Cd}),e.extendMethods({disableDeleteTable:function(){t._allowDeleteTable=!1},enableDeleteTable:function(){t._allowDeleteTable=!0}})}},{key:"allowDeleteTable",get:function(){return this._allowDeleteTable}}]),i}();function Nd(e,t){var n=t.start,r=t.end;return t.collapsed||!n.node.isCardNode()&&!r.node.isCardNode()?t:(n.node.isCardNode()&&(n=e.newPosition(n.node.parentNode,n.node.offset)),r.node.isCardNode()&&(r=e.newPosition(r.node.parentNode,r.node.offset+1)),e.newRange(n,r))}m()(Rd,"PluginName","delete");var Ed=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(e){return e.getSelection().cloneSelection()}},{key:"execute",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.newJob(),o=t.ranges.map((function(e){var t=e.start,n=e.end;return t=r.newPosition(t.node,t.offset),n=n?r.newPosition(n.node,n.offset):void 0,Nd(r,r.newRange(t,n))}));return n||(o=o.map((function(e){return Yi.shrinkBlockNodeBoundary(r,e)}))),r.setSelectionWithoutOptimize(r.newSelection(o,t.anchor,t.focus)),!0}}]),i}();var Od=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("selection",new Ed)}}]),i}();m()(Od,"PluginName","selection");var Dd=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"execute",value:function(e){var t,n,r=e.newJob(),o=r.getSelection(),i=this._getCellNode(o),a=i.startCellNode,c=i.endCellNode;if(!a||!c||(n=c,br((t=a).hasCategory(Er.TableCell),"F:is-same-table;L:6"),br(n.hasCategory(Er.TableCell),"F:is-same-table;L:7"),t!==n&&t.parentNode.parentNode!==n.parentNode.parentNode)){if(this._plugin.isOnlyTableSelect())return!1;var l=o.firstRange.start.node.rootNode;return r.dangerDirectSetSelection(r.selectNodeContents(l)),!0}var s=o.firstRange;if(a===c&&!zr.isLikeEmptyElement(a)&&!function(e,t){br(t.isElement(),"F:is-select-all-contents;L:4");var n=e.start,r=e.end;return n.node===t&&r.node===t&&0===n.offset&&r.offset===t.childCount}(s,a))return r.dangerDirectSetSelection(r.selectNodeContents(a)),!0;var u=a.parentNode.parentNode;return br(u.hasCategory(Er.Table),"F:select-all-command;L:51"),r.dangerDirectSetSelection(Xr.selectTableCells(r,u)),!0}},{key:"_getCellNode",value:function(e){return{startCellNode:zr.closest(e.firstRange.start.node,Er.TableCell),endCellNode:zr.closest(e.lastRange.end.node,Er.TableCell)}}}]),i}();var Sd=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_onlyTableSelect",!1),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerCommand("selectAll",new Dd(this)),e.extendMethods({setOnlyTableSelect:function(e){t._onlyTableSelect=e}})}},{key:"isOnlyTableSelect",value:function(){return this._onlyTableSelect}}]),i}();m()(Sd,"PluginName","selectAll");var Bd=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?-1:0}},{key:"getValue",value:function(e){return-1===this.getState(e)?null:Yi.getTextContent(e,e.getSelection().firstRange)}}]),i}();var Pd=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("text",new Bd)}}]),i}();m()(Pd,"PluginName","text");var Fd=function(e){u()(i,_u);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o()(this,i),a=r.call(this),m()(l()(a),"_iEditing",null),m()(l()(a),"_pattern",null),m()(l()(a),"_handler",null),m()(l()(a),"_blockNodes",null),a._iEditing=e,a._pattern=t,a._handler=n,a._blockNodes=c,a}return a()(i,[{key:"match",value:function(e){if(1!==e.length)return null;var t=e[e.length-1];if(!t)return null;br(1===t.fragments.length,"F:head-markdown-matcher;L:35");var n=null,r=[];if("string"==typeof this._pattern){if(t.text!==this._pattern)return null;n=this._pattern}else{var o="function"==typeof this._pattern?this._pattern(t.text):this._pattern.exec(t.text);if(!o)return null;for(var i=1;i<o.length;i++)r.push(o[i]);n=RegExp.lastMatch}for(var a=0,c=e.length-1;a<c;a++){if(!e[a])return null;if(!e[a].text)return null}var l=zr.closest(t.fragments[0].start.node,Er.Block);return this._blockNodes&&!l.hasCategory(this._blockNodes)?null:(br(l,"F:head-markdown-matcher;L:80"),{section:e,blockNode:l,matchedText:n,matchedGroup:r})}},{key:"exec",value:function(e){var t=this._iEditing.newJob("user"),n=e.section,r=e.blockNode,o=e.matchedText,i=n[n.length-1].fragments[0].start.node;t.setTextNodeData(i,i.data.substring(o.length)),this._handler(t,r,i,e),this._iEditing.commitJob(t)}}]),i}(),Td={enableDynamic:!1},Md=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Td,t)}return a()(e,[{key:"enableDynamic",get:function(){return this._option.enableDynamic}}]),e}();m()(Md,"OptionName","list");for(var Ld,Ad=["bold","italic","underline","strikethrough","fontsize","color"],Id=(m()(Ld={},"oli",{parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Sticky,Er.DisallowEmpty,Er.Level,Er.TextContainer],standardAttrs:["list","level","start","fid","index","indexStyle","checked"]}),m()(Ld,"uli",{parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Sticky,Er.DisallowEmpty,Er.Level,Er.TextContainer],standardAttrs:["list","level","start","fid","index","indexStyle","checked"]}),m()(Ld,"tli",{parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Sticky,Er.Clean,Er.DisallowEmpty,Er.Level,Er.TextContainer],standardAttrs:["list","level","start","fid","index","indexStyle","checked"]}),Ld),jd=[],Vd=1;Vd<=8;Vd++)jd.push(Vd);var zd={list:{targets:[Er.Level]},fid:{targets:[Er.Level]},level:{targets:[Er.Level],values:jd},index:{targets:[Er.Level]},start:{targets:[Er.Level]},indexStyle:{targets:[Er.Level]},checked:{targets:["tli"],values:[!0],cleanByBreakLine:!0},version:{targets:["tli"],cleanByBreakLine:!0}};var Ud=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.rangeCount>1||dc.isInCard(t)||dc.isInHole(t)?-1:0}}]),i}();function Hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qd=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_nodeName",null),t._nodeName=e,t}return a()(i,[{key:"getState",value:function(e){return-1===B()(p()(i.prototype),"getState",this).call(this,e)?-1:this.getValue(e)===this._nodeName?1:0}},{key:"getValue",value:function(e){var t=this._nodeName,n=new Set,r=!1;return dc.fullWalkSelection(e.getSelection(),{enter:function(e){return!r&&(e.hasCategory(Er.TextContainer)?(br(e.isElement(),"F:list-command;L:43"),e.hasCategory(t)?n.add(e.nodeName):zr.isLikeEmptyElement(e)||(r=!0),!1):void 0)}}),r||1!==n.size?null:Array.from(n)[0]}},{key:"execute",value:function(e){var t,n=e.newJob(),r=n.getSelection();return t=this.getState(n)===i.NOT_EXECUTED?dc.replaceBlockNode(n,r,n.createElement(this._nodeName,{list:da()}),Wd,!0):dc.replaceBlockNode(n,r,n.createElement(n.defaultElementName),Zd,!0),n.setSelection(t),e.commitJob(n),!0}}]),i}();function Wd(e,t,n){Kd(e,t,n,$d)}function Zd(e,t,n){Kd(e,t,n,Jd)}function Kd(e,t,n,r){if(n.attrs){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.attrs);r(e,o,t),Object.keys(o).forEach((function(n){var r=o[n];e.acceptAttr(t.nodeName,n,r)&&e.setAttribute(t,n,r)}))}}function $d(e,t,n){var r=(t.textIndent||0)+(t.indent||0);0!==r&&(e.setAttribute(n,"level",r),delete t.textIndent,delete t.indent)}function Jd(e,t,n){t.level&&(e.setAttribute(n,"indent",t.level),delete t.level)}var Yd=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n,r){var o=e.newJob(),i=o.getNodeById(t);if(!i&&"tli"!==i.nodeName)return!1;var a=n;if(void 0===n)a=!i.attrs.checked;else if(i.attrs.checked===n)return!0;return a?o.setAttribute(i,"checked",a):o.removeAttribute(i,"checked"),o.setAttribute(i,"version",r||+new Date),e.commitJob(o),!0}}]),i}();var Gd=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e){var t=e.getAttr("level");e.addAttr("list",da()),t>=0?e.addAttr("level",1+t):e.addAttr("level",0)}}]),i}();m()(Gd,"NodeNames",["ul","ol"]);var Xd=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e,t){if(t.parent){"ol"===t.parent.name?e.setNode(Mo.createElement("oli")):e.setNode(Mo.createElement("uli"));var n=e.getAttr("level");n&&e.addAttr(n,n)}}}]),i}();m()(Xd,"NodeNames",["li"]);var Qd=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){var n=t.name,r=t.attrs,o=Number.parseInt(r["data-lake-indent"],10),i=Math.max(Number.parseInt(r.start,10)-1||0,0);o>0&&e.setState("listLevel",o),br(r.list,"F:lake-list-node-reader;L:15"),e.setState("listStart",i),e.setState("listId",r.list),e.setState("listType",n)}}]),i}();function ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.substring(0,32)}var tf=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"read",value:function(e,t){var n,r,o=e.getState("listType"),i=e.getState("listId");o||(br(!i,"F:lake-list-item-node-reader;L:23"),o="ul",i=da());var a={id:t.attrs.id,list:i,fid:t.attrs.fid},c=e.getState("listStart");c&&(a.start=c);var l=function(e){return(e.getState("listIndent")||0)+(e.getState("listLevel")||0)}(e);l&&(a.level=l);var s="ol"===o?"oli":"uli";if((null===(n=t.attrs)||void 0===n||null===(r=n.class)||void 0===r?void 0:r.indexOf("lake-list-task"))>=0){s="tli";var u=function(e,t){var n,r=e.children,o=void 0===r?[]:r,i=null===(n=e.attrs)||void 0===n?void 0:n.version;if(!o[0]||"checkbox"!==o[0].name)return{checked:!1,version:i};var a=o[0];o.splice(0,1);var c={checked:a.value+""=="true",version:i};if(t.iKernel.hasExtendMethod("getDynamicDataRecordByCardId")){var l=t.iKernel.getDynamicDataRecordByCardId(ef(e.attrs.id),!0);if(l){var s,u,d=null===(s=l.data)||void 0===s?void 0:s.checked,f=Number((null===(u=l.data)||void 0===u?void 0:u.version)||0),h=Number(i||0);"boolean"==typeof d&&(!h||h<=f)&&(c.checked=d,c.version=f)}}return c}(t,this._plugin),d=u.checked,f=u.version;a.checked=d,a.version=f}var h=Mo.createElement(s,a);e.setNode(h)}}]),i}();var nf=function(e){u()(i,zl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){var r=Number.parseInt(n,10);if(n.endsWith("em")&&r>0&&r%2==0){var o=r/2;o>0&&e.setState("listIndent",o)}}}]),i}();m()(nf,"StyleNames",["margin-left"]);var rf=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(){}}]),i}();m()(rf,"CardNames",["checkbox"]);var of={1:"lower-alpha",2:"lower-roman"},af={1:"circle",2:"square"},cf={oli:"ne-ol",uli:"ne-ul",tli:"ne-tl"},lf=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){e.setVirtual();var n=function(e,t){var n=e.previousSiblingContext,r=t.name,o=t.attrs,i=void 0===o?{}:o;if(!n||!n._listNode)return null;var a=n._listNode;return"oli"===r&&"ol"!==a.name?null:"uli"!==r&&"tli"!==r||"ul"===a.name?((n.inode.attrs?n.inode.attrs.level:0)||0)!==(i.level||0)||a._id!==i.list?null:a:null}(e,t);n?this._appendToList(e,t,n):this._createNewList(e,t)}},{key:"_createNewList",value:function(e,t){var n=t.name,r=t.attrs,o=void 0===r?{}:r,i=t.id,a={};"oli"===n&&o.index>0&&(br(o.list!==i&&Number.isInteger(o.index),"F:html-list-node-writer;L:46"),a.start=o.index+1),o.level>0&&(a["ne-level"]=o.level);var c=e.createElement("oli"===n?"ol":"ul",{attrs:a,style:sf(e,t),className:cf[n]});c._id=o.list,e._listNode=c,this._appendListItem(e,t,c),e._handleAppend=function(t){var r=o.level||0;if(r){var i=e.createElement("oli"===n?"ol":"ul",{className:"ne-list-wrap",style:sf(e,{name:"wrap"})});e.appendChild(t,i);for(var a=1;a<r;a++){var l=e.createElement("oli"===n?"ol":"ul",{className:"ne-list-wrap",style:sf(e,{name:"wrap"})});e.appendChild(i,l),i=l}e.appendChild(i,c)}else e.appendChild(t,c)}}},{key:"_appendToList",value:function(e,t,n){this._appendListItem(e,t,n),e._handleAppend=function(){}}},{key:"_appendListItem",value:function(e,t,n){var r=t.name,o=e.createElement("li");if("tli"===r){var i=e.createElement("span",{className:"ne-tli-symbol",style:{margin:"3px 0.5ex",verticalAlign:"middle"}});e.appendChild(i,e.createTextNode(t.attrs.checked?"✅":"🔲")),e.appendChild(o,i)}e.setNode(o),e.appendChild(n,o)}}]),i}();function sf(e,t){var n={},r=t.name,o=t.attrs,i=void 0===o?{}:o;return e.isInlineMode()?(n.margin="0",n["padding-left"]="23px","tli"===r?(n.padding="0",n.listStyle="none"):"oli"===r?i.level&&i.level%3!=0&&(n.listStyle=of[i.level%3]):"uli"===r?i.level&&i.level%3!=0&&(n.listStyle=af[i.level%3]):"wrap"===r&&(n.listStyle="none"),n):n}m()(lf,"NodeNames",["oli","uli","tli"]);var uf=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){e.setVirtual();var n=function(e,t){var n,r=e.previousSiblingContext,o=t.attrs,i=void 0===o?{}:o;if(!r||!r._listNode)return null;var a=r._listNode;return a.attrs.list!==i.list||((null===(n=r.inode.attrs)||void 0===n?void 0:n.level)||0)!==(i.level||0)?null:a}(e,t);n?this._appendToList(e,t,n):this._createNewList(e,t)}},{key:"_createNewList",value:function(e,t){var n=t.name,r=t.attrs,o=void 0===r?{}:r,i={};br(o.list,"F:lake-list-node-writer;L:28"),i.list=o.list,0!==o.index&&(i.start=o.index+1),o.level>0&&(i["data-lake-indent"]=o.level),delete o.indent,delete o.textIndent;var a=e.createElement("oli"===n?"ol":"ul",{attrs:i,style:{},className:"tli"===n?["lake-list"]:null});e._listNode=a;var c=df(e,t);e.setNode(c),e.appendChild(a,c),e._handleAppend=function(t){e.appendChild(t,a)}}},{key:"_appendToList",value:function(e,t,n){var r=df(e,t);delete t.attrs.indent,delete t.attrs.textIndent,e._listNode=n,e.setNode(r),e.appendChild(n,r),e._handleAppend=function(){}}}]),i}();function df(e,t){var n=t.name,r=t.attrs,o={};r.fid&&(o.fid=r.fid),r.version&&(o.version=r.version);var i=e.createElement("li",{className:"tli"===n?["lake-list-node","lake-list-task"]:null,attrs:o});return"tli"===n&&e.appendChild(i,e.createElement("card",{attrs:{type:"inline",name:"checkbox",value:"data:".concat(!(!t.attrs||!t.attrs.checked))}})),i}function ff(e){return 0==(e=(e||0)%3)?"●":1===e?"○":"■"}m()(uf,"NodeNames",["oli","uli","tli"]);var hf=[["","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ"],["","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"],["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"],["","M","MM","MMM"]];function pf(e,t){return 0==(t=(t||0)%3)?function(e){return e+1+""}(e):1===t?function e(t){if(t<26)return String.fromCodePoint(97+t);var n=String.fromCodePoint(97+t%26);return e(Math.floor(t/26)-1)+n}(e):function(e){var t=[];return e+=1,t.push(hf[3][Math.floor(e/1e3)%10]),t.push(hf[2][Math.floor(e/100)%10]),t.push(hf[1][Math.floor(e/10)%10]),t.push(hf[0][e%10]),t.join("")}(e)}var vf=["[ ]","[X]"],mf=function(e){u()(i,Sc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=t.name,r=t.attrs,o=void 0===r?{}:r,i=o.level,a="  ".repeat(void 0===i?0:i),c="";switch(n){case"oli":c=this._getOrderListCounterText(o);break;case"uli":c=this._getUnorderListCounterText(o);break;case"tli":c=this._getTaskListCounterText(o);break;default:c=""}1===e.rootNode.children.length?e.newline("".concat(a)):e.newline("".concat(a).concat(c))}},{key:"_getOrderListCounterText",value:function(e){var t=e.level,n=void 0===t?0:t,r=e.index;return"".concat(pf(void 0===r?0:r,n),". ")}},{key:"_getUnorderListCounterText",value:function(e){var t=e.level;return"".concat(ff(void 0===t?0:t)," ")}},{key:"_getTaskListCounterText",value:function(e){var t=e.checked,n=vf[Number(void 0!==t&&t)%vf.length];return"".concat(n," ")}}]),i}();m()(mf,"NodeNames",["oli","uli","tli"]);var yf=function(){function e(t){o()(this,e),m()(this,"_fid",null),m()(this,"_level",0),m()(this,"_nodes",[]),this._fid=t||da()}return a()(e,[{key:"level",get:function(){return this._level}},{key:"addNode",value:function(e){br(!this._nodes.includes(e),"F:list-fragment;L:23"),0===this._nodes.length&&(this._level=e.attrs.level||0),this._nodes.push(e)}},{key:"reset",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._fid,i=(null===(t=this._nodes[0])||void 0===t||null===(n=t.attrs)||void 0===n?void 0:n.start)||0,a=r?i:0;this._nodes.forEach((function(t,n){e.setAttribute(t,"fid",o),i?e.setAttribute(t,"start",i):e.removeAttribute(t,"start"),e.setAttribute(t,"index",a+n)}))}}]),e}(),gf=function(){function e(t,n){o()(this,e),m()(this,"_listId",null),m()(this,"_type",null),m()(this,"_nodes",new Set),br(t,"F:list;L:12"),br("uli"===n||"oli"===n||"tli"===n,"F:list;L:13"),this._listId=t,this._type=n}return a()(e,[{key:"id",get:function(){return this._listId}},{key:"addNode",value:function(e){this._nodes.add(e)}},{key:"isEmpty",value:function(){return 0===this._nodes.size}},{key:"removeNode",value:function(e){this._nodes.delete(e)}},{key:"acceptNode",value:function(e){return e.nodeName===this._type}},{key:"reset",value:function(e){var t=this._listId,n=Array.from(this._nodes).filter((function(e){var n;return e.isConnected&&(null===(n=e.attrs)||void 0===n?void 0:n.list)===t}));n.sort((function(e,t){var n=zr.compare(e,t);return n.preceding?-1:(br(n.following,"F:list;L:51"),1)}));var r=[],o=[];n.forEach((function(e){var t=e.attrs,n=t.level,i=void 0===n?0:n,a=t.fid,c=bf(o);if(!c)return c=new yf(a),r.push(c),o.push(c),void c.addNode(e);for(;o.length&&i<c.level;)o.pop(),c=bf(o);if(!c||i<c.level)return br(0===o.length,"F:list;L:79"),c=new yf(a),r.push(c),o.push(c),void c.addNode(e);i===c.level||(c=new yf(a),r.push(c),o.push(c)),c.addNode(e)})),r.forEach((function(t,n){t.reset(e,0===n)}))}}]),e}();function bf(e){return e[e.length-1]}function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _f=function(){function e(){o()(this,e),m()(this,"_lists",{}),m()(this,"_allowContinue",!1),m()(this,"_change",new Map)}return a()(e,[{key:"destroy",value:function(){this._change.clear(),this._change=null,this._lists=null}},{key:"allowContinueList",value:function(){this._allowContinue=!0}},{key:"addChange",value:function(e){var t=e.node,n=e.type;this._change.set(t,xf(xf({},this._change.get(t)),{},m()({},n,!0)))}},{key:"hasChange",value:function(){return this._change.size>0}},{key:"clear",value:function(){this._change.clear()}},{key:"applyChange",value:function(e){var t=this._lists;try{(function(e,t){var n=t._change,r=t._lists,o=new Set,i=[];return n.forEach((function(e,t){var n,a=(t.attrs||{}).list;a&&o.add(a),t.isConnected?e.insert&&i.push(t):null===(n=r[a])||void 0===n||n.removeNode(t)})),t._allowContinue&&function(e,t,n,r){var o=t._lists;n=n.sort((function(e,t){var n=zr.compare(e,t);return n.preceding?-1:(br(n.following,"F:list-manager;L:98"),1)})).filter((function(t){var n=(t.attrs||{}).list;if(o[n]){if(o[n].acceptNode(t))return!1;var i=da();e.setAttribute(t,"list",i),r.add(i)}return!0}));var i={};n.forEach((function(t){var n,a=t.previousSibling,c=t.attrs,l=(void 0===c?{}:c).list;if(l||(l=da(),e.setAttribute(t,"list",l)),i[l])e.setAttribute(t,"list",i[l]);else if((null==a?void 0:a.nodeName)===t.nodeName){var s=a.attrs.list;br(s,"F:list-manager;L:143"),null===(n=o[l])||void 0===n||n.removeNode(t),i[l]=s,e.setAttribute(t,"list",s),r.add(s)}})),n.forEach((function(t){var n;null!==(n=t.attrs)&&void 0!==n&&n.list||e.setAttribute(t,"list",da())}))}(e,t,i,o),function(e,t,n,r){var o=t._lists;r.forEach((function(e){var t,r=(null===(t=e.attrs)||void 0===t?void 0:t.list)||da();o[r]||(o[r]=new gf(r,e.nodeName),n.add(r)),o[r].addNode(e)})),n.forEach((function(t){var n;null===(n=o[t])||void 0===n||n.reset(e)}))}(e,t,o,i),o})(e,this).forEach((function(e){var n;null!==(n=t[e])&&void 0!==n&&n.isEmpty()&&delete t[e]}))}finally{this._change.clear()}}}]),e}();function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nf={"-":"uli","+":"uli","*":"uli","[]":"tli","[x]":"tli"},Ef=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_listManager",null),e}return a()(i,[{key:"init",value:function(e){e.registerElement(Id),e.registerAttr(zd),e.registerCommand("orderedList",new qd("oli")),e.registerCommand("unorderedList",new qd("uli")),e.registerCommand("taskList",new qd("tli")),e.registerCommand("taskStatus",new Yd),e.hasExtendMethod("registerHTMLNodeReader")&&(e.registerHTMLNodeReader(Gd.NodeNames,new Gd),e.registerHTMLNodeReader(Xd.NodeNames,new Xd)),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(rf.CardNames,new rf),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(lf.NodeNames,new lf),e.hasExtendMethod("registerLakeNodeReader")&&(e.registerLakeNodeReader(["ol","ul"],new Qd),e.registerLakeNodeReader("li",new tf(this))),e.hasExtendMethod("registerLakeStyleReader")&&e.registerLakeStyleReader(nf.StyleNames,new nf),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(uf.NodeNames,new uf),e.hasExtendMethod("registerTextWriter")&&e.registerTextWriter(mf.NodeNames,new mf),this._initEvent(),this._initMarkdownKey()}},{key:"_initEvent",value:function(){var e=this,t=this.iKernel,n=this.iEditing,r=new Map;t.on("document.create",(function(){e._listManager=new _f})),t.on("document.ready",(function(){e._listManager.allowContinueList()})),t.on("document.destroy",(function(){e._listManager&&(e._listManager.destroy(),e._listManager=null)})),n.on("nodechange",(function(t){var n=t.node,o=t.type,i=t.attrName;if(n.isTextNode()){if("attribute"===o&&Ad.includes(i)){var a=zr.closest(n,["oli","uli"]);a&&r.set(a,Rf(Rf({},r.get(a)),{},m()({},i,!0)))}else if("insert"===o||"remove"===o){var c=zr.closest(n,["oli","uli"]);c&&r.set(c,"*")}}else{var l=n.nodeName;"oli"!==l&&"uli"!==l||"insert"===o&&r.set(n,"*"),n.hasCategory(Er.Level)&&("insert"!==o&&"remove"!==o&&"attribute"!==o||e._listManager.addChange({node:n,type:o}))}})),n.on("operationRollback",(function(){var t;r.clear(),null===(t=e._listManager)||void 0===t||t.clear()})),n.on("beforecontentchange",(function(){if(r.size>0&&(r.forEach((function(t,n){"*"===t?e._resetListIndexStyle(n,Ad):e._resetListIndexStyle(n,Object.keys(t))})),r.clear()),e._listManager.hasChange()){var t=n.newJob("auto");e._listManager.applyChange(t),n.commitJob(t)}}))}},{key:"_initMarkdownKey",value:function(){var e=this,t=this.iKernel;t.hasExtendMethod("registerMarkdownMatcher")&&(Object.keys(Nf).forEach((function(n){t.registerMarkdownMatcher("whiteSpace",new Fd(e.iEditing,n,(function(t,r,o,i){e._handlerMarkdown(t,Nf[n],r,i.matchedText)}),[t.defaultElementName]))})),t.registerMarkdownMatcher("whiteSpace",new Fd(this.iEditing,/^\d{1,3}\.$/,(function(t,n,r,o){e._handlerMarkdown(t,"oli",n,o.matchedText)}),[t.defaultElementName])))}},{key:"destroy",value:function(){this._listManager&&(this._listManager.destroy(),this._listManager=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_handlerMarkdown",value:function(e,t,n,r){var o=null;if("tli"===t&&"[x]"===r)o={checked:!0};else if("oli"===t&&"1."!==r){var i=Number.parseInt(r,10)-1;Number.isInteger(i)&&i>0&&(o={start:i})}var a=e.createElement(t,o),c=dc.replaceBlockNode(e,e.newSelection(e.newRange(e.newPosition(n,0))),a,!0,!0);e.setSelection(c)}},{key:"_resetListIndexStyle",value:function(e,t){var n=this.iEditing,r=n.newJob("auto");(function(e,t,n){var r,o=[];if(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.isTextNode()?n.push(t):t.isElement()&&t.children.forEach((function(t){return e(t,n)})),n}(t,o),0!==o.length){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},null===(r=t.attrs)||void 0===r?void 0:r.indexStyle);n.forEach((function(e){var t=new Set;o.forEach((function(n){var r;t.add(null===(r=n.attrs)||void 0===r?void 0:r[e])}));var n=Array.from(t);0===n.length?delete i[e]:1===n.length&&(n[0]?i[e]=n[0]:delete i[e])})),0===i.size?e.removeAttribute(t,"indexStyle"):e.setAttribute(t,"indexStyle",i)}else e.removeAttribute(t,"indexStyle")})(r,e,t),n.commitJob(r)}}]),i}();m()(Ef,"PluginName","list"),m()(Ef,"PluginOption",Md);var Of,Df="table",Sf=(m()(Of={},Df,{parents:[Er.TableHole],id:oa,category:[Er.Table]}),m()(Of,"tr",{parents:[Df],category:[Er.TableRow]}),m()(Of,"td",{parents:["tr"],category:[Er.TableCell,Er.LikeRoot]}),Of),Bf=["top","middle","bottom"],Pf={colWidths:{targets:[Df],values:function(e){return!!Array.from(e)&&(0!==e.length&&e.every(Ff))}},height:{targets:["tr"],values:Ff},rowCount:{targets:[Df],values:Tf},colCount:{targets:[Df],values:Tf},borderVisible:{targets:[Df],values:[!1]},spacing:{targets:[Df],values:[!0,!1]},col:{targets:["td"],values:function(e){return"number"==typeof e&&(!!Number.isInteger(e)&&e>=0)}},rowSpan:{targets:["td"],values:Mf},colSpan:{targets:["td"],values:Mf},cellBgColor:{targets:["td"],values:function(){return!0}},borderColor:{targets:["td"],values:function(){return!0}},borderStyle:{targets:["td"],values:["solid","dashed"]},verticalAlign:{targets:["td"],values:Bf},widthMode:{targets:[Df],values:["contain","normal"]}};function Ff(e){return"number"==typeof e&&!!Number.isFinite(e)&&e>0}function Tf(e){return"number"==typeof e&&!!Number.isInteger(e)&&e>0}function Mf(e){return"number"==typeof e&&!!Number.isInteger(e)&&e>1}var Lf=function(){function e(t){o()(this,e),m()(this,"_width",-1),m()(this,"_rowCount",-1),m()(this,"_colCount",-1),m()(this,"_widthList",[]);var n=t.row,r=t.col,i=t.width;this._width=i,this._rowCount=n,this._colCount=r,this._widthList=function(e,t){for(var n=Math.round(e/t),r=[],o=e,i=0;i<t;i++)o>=n?(r.push(n),o-=n):(r.push(o),o=0);return r}(i,r)}return a()(e,[{key:"toNode",value:function(e){for(var t=e.createElement(Df,{rowCount:this._rowCount,colCount:this._colCount,colWidths:this._widthList}),n=0;n<this._rowCount;n++){for(var r=e.createElement("tr"),o=0;o<this._colCount;o++){var i=e.createElement("td",{col:o});e.appendChild(r,i)}e.appendChild(t,r)}return t}}]),e}(),Af=function(){function e(){o()(this,e)}return a()(e,null,[{key:"instance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return new Lf({width:e,row:t,col:n})}}]),e}();var If=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){for(var t=e.getSelection().ranges,n=0,r=t.length;n<r;n++)if(zr.closest(t[n].commonAncestorContainer,"td"))return Oa.UNAVAILABLE;return Oa.NOT_EXECUTED}},{key:"execute",value:function(e,t){var n=t.width,r=t.row,o=t.col,i=e.newJob();if(-1===this.getState(i))return e.cancelJob(i),!1;var a=Af.instance(n||750,r,o).toNode(i),c=i.getSelection();c.collapsed||(c=dc.deleteContent(i,c)),br(c.collapsed,"F:table;L:42");var l=c.firstRange.start,s=l.node.closest(Er.Block);s&&zr.isLikeEmptyElement(s)&&(l=i.newPosition(s.parentNode,s.offset),i.removeChild(s.parentNode,s));var u=i.createElement("tableHole");i.appendChild(u,a),ec.insertNodes(i,l,[u]);var d=a.firstChild.firstChild;return br(d&&"td"===d.nodeName&&d.isConnected,"F:table;L:59"),i.setSelection([i.newRange(i.newPosition(d,0))]),e.commitJob(i),!0}}]),i}();function jf(e,t,n,r){e[t]||(e[t]=[]);for(var o=n;o<r;o++)br(1!==e[t][o],"F:reset-position;L:56"),e[t][o]=1}var Vf=function(){function e(t){o()(this,e),m()(this,"_layout",null),br(t&&"table"===t.nodeName,"F:table-layout;L:19"),this._layout=this._analyzeLayout(t)}return a()(e,[{key:"layout",get:function(){return this.layout}},{key:"_analyzeLayout",value:function(t){for(var n=[],r=0,o=t.childCount;r<o;r++)n.push([]);return t.children.forEach((function(t){var r=t.offset;t.children.forEach((function(t){for(var o=t.attrs,i=o.col,a=o.rowSpan,c=void 0===a?1:a,l=o.colSpan,s=void 0===l?1:l,u=0;u<c;u++)for(var d=0;d<s;d++)n[r+u][i+d]={node:t,row:r,col:i,type:0===u&&0===d?e.TYPE_NODE:e.TYPE_REF}}))})),n}}],[{key:"getLayout",value:function(t){return new e(t)._layout}},{key:"verify",value:function(t){var n;n=new e(t)._layout,n.forEach((function(e){var t=0,n=0;e.forEach((function(e){var r=e.type,o=e.col,i=e.node;r===Vf.TYPE_NODE&&(br(n===o,"F:table-layout;L:64"),br(i.offset===t,"F:table-layout;L:65"),br(i.attrs.col===o,"F:table-layout;L:66"),t++),n++}))}))}}]),e}();function zf(e,t,n){Uf(n)||n.children.forEach((function(n){e.appendChild(t,n)}))}function Uf(e){var t=e.children;return 1===t.length&&zr.isLikeEmptyElement(t[0])}m()(Vf,"TYPE_REF","#ref"),m()(Vf,"TYPE_NODE","#node");var Hf=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection().ranges;if(t.length>1)return Oa.NOT_EXECUTED;var n=zr.closest(t[0].commonAncestorContainer,Er.TableCell);return n&&(n.attrs.colSpan>1||n.attrs.rowSpan>1)?Oa.EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=e.newJob();if(this.getState(t)===Oa.UNAVAILABLE)return e.cancelJob(t),!1;var n=t.getSelection(),r=zr.closest(n.firstRange.start.node,Er.Table);return br(n.rangeCount>1,"F:merge-cell;L:40"),br(r,"F:merge-cell;L:41"),n=function(e,t){var n=t.ranges,r=n.map((function(e){return zr.closest(e.start.node,Er.TableCell)})),o=r[0];Uf(o)&&e.removeChild(o,o.firstChild);for(var i=o.parentNode.offset,a=i,c=0,l=1,s=r.length;l<s;l++){var u=zr.closest(n[l].start.node,Er.TableCell),d=u.attrs,f=d.colSpan,h=void 0===f?1:f,p=d.rowSpan,v=void 0===p?1:p,m=u.parentNode.offset;a=Math.max(m+v-1,a),m===i&&(c+=h),zf(e,o,u),e.removeChild(u.parentNode,u)}a>i&&e.setAttribute(o,"rowSpan",a-i+1),c>0&&e.setAttribute(o,"colSpan",(o.attrs.colSpan||1)+c);var y=o.parentNode.parentNode;return function(e,t){br(t.hasCategory(Er.Table),"F:reset-position;L:5");var n=[];t.children.forEach((function(t){!function(e,t,n){var r=n.offset;t[r]||(t[r]=[]);var o=0;n.children.forEach((function(n){o=function(e,t){for(var n=0,r=e.length;n<r;n++)if(1!==e[n])return n;return e.length}(t[r]);var i=n.attrs,a=i.rowSpan,c=void 0===a?1:a,l=i.colSpan,s=void 0===l?1:l;e.setAttribute(n,"col",o),jf(t,r,o,o+s);for(var u=1;u<c;u++)jf(t,r+u,o,o+s);o+=s}))}(e,n,t)}))}(e,y),Vf.verify(y),e.selectNodeContents(o)}(t,n),t.setSelection(n),e.commitJob(t),!0}}]),i}();function qf(e,t,n,r){if(br(!r.isConnected,"F:unmerge-cell;L:44"),0===n)return e.prependChild(t,r),void br(0===r.offset,"F:unmerge-cell;L:49");for(var o=t.children[n-1]||t.lastChild;o;){if(o.attrs.col<n)return void e.insertAfter(t,r,o);o=o.previousSibling}e.prependChild(t,r)}var Wf=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection().ranges;if(1!==t.length)return Oa.UNAVAILABLE;var n=zr.closest(t[0].commonAncestorContainer,Er.TableCell);return n&&(n.attrs.colSpan>1||n.attrs.rowSpan>1)?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=e.newJob();if(this.getState(t)===Oa.UNAVAILABLE)return e.cancelJob(t),!1;var n=t.getSelection(),r=zr.closest(n.firstRange.commonAncestorContainer,Er.TableCell);return br(r,"F:ummerge-cell;L:41"),function(e,t){var n=t.parentNode.parentNode;br(n,"F:unmerge-cell;L:7");var r=Vf.getLayout(n),o=t.attrs,i=o.rowSpan,a=void 0===i?1:i,c=o.colSpan,l=void 0===c?1:c,s=o.col,u=t.parentNode.offset;e.removeAttribute(t,"colSpan"),e.removeAttribute(t,"rowSpan"),br(a>1||l>1,"F:unmerge-cell;L:16");for(var d=0;d<a;d++)for(var f=u+d,h=r[f],p=n.children[f],v=0;v<l;v++){var m=s+v,y=h[m];0===d&&0===v?br(y.type===Vf.TYPE_NODE,"F:unmerge-cell;L:29"):(br(y.type===Vf.TYPE_REF,"F:unmerge-cell;L:31"),qf(e,p,m,e.createElement("td",{col:m})))}Vf.verify(n)}(t,r),e.commitJob(t),!0}}]),i}();var Zf=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection().ranges;return t.length>1||zr.closest(t[0].commonAncestorContainer,Er.TableCell)?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"getValue",value:function(e){var t=e.getSelection().firstRange.commonAncestorContainer,n=zr.closest(t,Er.TableCell);return n&&n.attrs.cellBgColor||null}},{key:"execute",value:function(e,t){var n=e.newJob();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var r=n.getSelection();return r=t?dc.setAttribute(n,r,"cellBgColor",t):dc.removeAttribute(n,r,"cellBgColor"),n.setSelection(r),e.commitJob(n),!0}}]),i}();var Kf=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n,r){n=Array.isArray(n)?n:[n];var o=e.newJob(),i=o.getNodeById(t);return!!i.hasCategory(Er.Table)&&(r=Number.parseInt(r,10),n.forEach((function(e){o.setAttribute(i.children[e],"height",r)})),e.commitJob(o),!0)}}]),i}();var $f=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n,r){n=Array.isArray(n)?n:[n];var o=e.newJob(),i=o.getNodeById(t);if(!i.hasCategory(Er.Table))return!1;var a=i.attrs.colWidths,c=[];return(r=Number.parseInt(r,10))>0?(a.forEach((function(e,t){n.includes(t)?c.push(r):c.push(e)})),o.setAttribute(i,"colWidths",c),e.commitJob(o),!0):(e.cancelJob(o),!1)}}]),i}();var Jf=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection().ranges;return t.length>1||zr.closest(t[0].commonAncestorContainer,Er.TableCell)?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"getValue",value:function(e){var t=e.getSelection().ranges;if(t.length>1){for(var n=null,r=0,o=t.length;r<o;r++){var i=zr.closest(t[r].commonAncestorContainer,Er.TableCell);br(i,"F:vertical-align;L:34");var a=i.attrs.verticalAlign||"top";if(null===n)n=a;else if(n!==a)return null}return n||"top"}var c=zr.closest(t[0].commonAncestorContainer,Er.TableCell);return c?c.attrs.verticalAlign||"top":null}},{key:"execute",value:function(e,t){var n=e.newJob();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var r,o=n.getSelection();return r=Bf.includes(t)?dc.setAttribute(n,o,"verticalAlign",t):dc.removeAttribute(n,o,"verticalAlign"),n.setSelection(r),e.commitJob(n),!0}}]),i}(),Yf=function(){function e(){o()(this,e),m()(this,"_matrix",[]),m()(this,"_maxColCount",0)}return a()(e,[{key:"addRow",value:function(e){this._matrix[e]||(this._matrix[e]=[])}},{key:"addCellNode",value:function(e,t){var n=this._getCellSpan(t),r=n.rowSpan,o=n.colSpan,i=this._addNodeToMatrix(e,t);Mo.setAttribute(t,"col",i);for(var a=0;a<r;a++){for(var c=e+a,l=0;l<o;l++)if(0!==a||0!==l){var s=i+l;this._matrix[c]||(this._matrix[c]=[]),this._matrix[c][s]={type:"#REF",row:e,col:i}}this._maxColCount=Math.max(this._maxColCount,this._matrix[c].length)}}},{key:"fix",value:function(e){var t,n=e.children||[],r=this._maxColCount;if(!r||!n.length)return{rowCount:0,colCount:0};this._removeEmptyRow(e);var o=this._matrix,i=x()((null==e||null===(t=e.attrs)||void 0===t?void 0:t.colWidths)||[]);br(r>0,"F:table-matrix;L:72"),o.forEach((function(t,o){n[o]||(n[o]=Mo.createElement("tr"),Mo.appendChild(e,n[o]));for(var a=-1,c=0,l=r;c<l;c++){var s,u,d=t[c];if("#REF"!==(null==d?void 0:d.type))if(a++,d){if(null!==(s=d.attrs)&&void 0!==s&&s.width){var f,h=d.attrs.width/((null===(f=d.attrs)||void 0===f?void 0:f.colSpan)||1);i[c]=Math.max(i[c]||0,h)}}else br(!(null!==(u=n[o].children)&&void 0!==u&&u[c]),"F:table-matrix;L:93"),Mo.setChildByOffset(n[o],a,Mo.createElement("td",{col:c}))}}));for(var a=Math.max(Math.floor(750/r),40),c=0;c<r;c++)i[c]||(i[c]=a);return{colCount:r,colWidths:i,rowCount:this._matrix.length}}},{key:"_removeEmptyRow",value:function(e){var t=[];this._matrix=this._matrix.map((function(n,r){return 0===n.length?(e.children[r]&&t.push(e.children[r]),null):n})).filter(Boolean),t.forEach((function(t){Mo.removeChild(e,t)}))}},{key:"_addNodeToMatrix",value:function(e,t){if(!this._matrix[e])return this._matrix[e]=[t],0;for(var n=this._matrix[e],r=0,o=n.length;r<o;r++)if(!n[r])return n[r]=t,r;return n.push(t),n.length-1}},{key:"_getCellSpan",value:function(e){var t=e.attrs||{};return{colSpan:t.colSpan||1,rowSpan:t.rowSpan||1}}}]),e}();function Gf(e){var t=e.children,n=void 0===t?[]:t;return!!n&&(n.forEach((function(t){"tr"!==t.name?Mo.removeChild(e,t):t.children&&t.children.forEach((function(e){"td"!==e.name&&Mo.removeChild(t,e)}))})),function(e){var t=e.children;if(null==t||!t.length)return!1;var n=new Yf;t.forEach((function(e,t){var r=e.children||[];n.addRow(t),r.forEach((function(e){n.addCellNode(t,e)}))}));var r=n.fix(e),o=r.rowCount,i=r.colWidths,a=r.colCount;return 0!==a&&(Mo.setAttribute(e,{rowCount:o,colCount:a,colWidths:i}),!0)}(e))}var Xf=function(){function e(t){o()(this,e),m()(this,"_tableNode",null),m()(this,"_rows",[]),m()(this,"_cols",[]),m()(this,"_current",null),this._tableNode=t}return a()(e,[{key:"_addNode",value:function(e){var t=e.name;if("table"!==t&&"tbody"!==t&&"thead"!==t&&"tfoot"!==t)return"tr"===t?(Qf(e),this._rows.push(e),void(this._current=e)):"td"===t||"th"===t?(this._current||(this._current=Sl.createElement("tr"),this._rows.push(this._current)),void eh(this._current,e)):void("colgroup"!==t?"col"===t&&(this._cols.push(e),Qf(e)):Qf(e));Qf(e)}},{key:"walk",value:function(){var e=this._tableNode;this._walk(e.children),e.children=[];var t=Mo.createElement("colgroup");return eh(e,t),this._cols.forEach((function(e){eh(t,e)})),this._rows.forEach((function(t){eh(e,t)})),e}},{key:"_walk",value:function(e){var t=this;e&&Array.from(e).forEach((function(e){e&&(t._addNode(e),t._walk(e.children))}))}}]),e}();function Qf(e){var t,n=e.parent,r=null==n||null===(t=n.children)||void 0===t?void 0:t.indexOf(e);r>-1&&n.children.splice(r,1),e.parent=null}function eh(e,t){Qf(t),e.children||(e.children=[]),e.children.push(t),t.parent=e}var th=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e,t){var n,r,o;if(t="table"!==(o=t).name?o:new Xf(o).walk(),e.setNode(Mo.createElement("table")),"colgroup"===(null===(n=t.children)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.name)){var i=this._parseColWidths(t.children[0]);e.addAttr("colWidths",i)}}},{key:"leaveNode",value:function(e){var t=e.getNode();!Gf(t)&&e.parentNode&&Mo.removeChild(e.parentNode,t)}},{key:"_parseColWidths",value:function(e){return(e.children||[]).map((function(e){var t;return"col"!==e.name?null:parseInt(null==e||null===(t=e.attrs)||void 0===t?void 0:t.width,10)||100})).filter(Boolean)}}]),i}();m()(th,"NodeNames",["table"]);var nh=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e){e.setNode(Mo.createElement("tr"))}}]),i}();m()(nh,"NodeNames",["tr"]);var rh=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e){e.setNode(Mo.createElement("td"))}}]),i}();m()(rh,"NodeNames",["th","td"]);var oh=function(){function e(){o()(this,e)}return a()(e,[{key:"readAttr",value:function(e,t,n,r){throw new Error("invalid invoke")}}]),e}();var ih=function(e){u()(i,oh);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readAttr",value:function(e,t,n,r){if((n=parseInt(n,10))&&!(n<=0))if("height"!==t){if("td"===r.name||"th"===r.name)switch(t){case"colspan":n>0&&e.addAttr("colSpan",n);break;case"rowspan":n>0&&e.addAttr("rowSpan",n);break;case"width":"td"===r.name&&e.addAttr("width",n);break;default:return}}else{if("tr"!==r.name)return;e.addAttr("height",n)}}}]),i}();m()(ih,"AttrNames",["colspan","rowspan","width","height"]);var ah=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=t.attrs,r=n.colWidths,o=n.borderVisible,i={};e.isInlineMode()&&(i.tableLayout="fixed",i.borderCollapse="collapse",i.border=!1!==o?"1px solid #d9d9d9":"none");var a=r.reduce((function(e,t){return e+t}),0),c=[];if(e.isExport()){r.forEach((function(e,t){c[t]=parseFloat((e/a*100).toFixed(2))}));var l=e.getDocMaxWidth();i.width=l&&a<l?a+"px":"100%"}else i.width=a+"px";var s=e.createElement("table",{className:["ne-table",!1===o?"no-border":null],style:i}),u=e.createElement("tbody");e.appendChild(s,u),e.setNode(s,u),e.setState("borderVisible",!1!==o),e.setState("colWidths",r),e.setState("colPercentWidths",c)}}]),i}();m()(ah,"NodeNames",["table"]);var ch=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){var t=e.createElement("tr",{style:{height:"33px"}});e.setNode(t)}}]),i}();m()(ch,"NodeNames",["tr"]);var lh=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n={};e.isInlineMode()&&e.getState("borderVisible")&&(n.border="1px solid #d9d9d9"),e.setNode(e.createElement("td",{style:n,attrs:{width:sh(t,e)}}))}}]),i}();function sh(e,t){var n=t.getState("colWidths"),r=t.getState("colPercentWidths");if(n&&n.length){for(var o=e.attrs||{},i=o.col,a=o.colSpan,c=void 0===a?1:a,l=0,s=t.isExport()?r:n,u=0;u<c;u++)l+=s[i+u]||0;return t.isExport()&&(l="".concat(l,"%")),l}}m()(lh,"NodeNames",["td"]);var uh=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){if(n)switch(t){case"height":return void e.addStyle(t,"".concat(n,"px"));case"colSpan":e.addAttr("colspan",n);break;case"rowSpan":e.addAttr("rowspan",n);break;case"cellBgColor":e.addStyle("background-color",n)}}}]),i}();m()(uh,"AttrNames",["height","colSpan","rowSpan","cellBgColor"]);var dh=function(e){u()(i,Sc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){e.stop(),t.children&&t.children.forEach((function(t){e.newGroup(),t.children&&t.children.forEach((function(t){e.newGroup(),t.children&&t.children.forEach((function(t){e.write(t)})),e.closeGroup()})),e.closeGroup()}))}}]),i}();var fh=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=t.name,r=t.attrs,o=void 0===r?{}:r;if("table"===n){var i=e.createElement(n),a=function(e,t){var n=t.attrs.colWidths,r=e.createElement("colgroup");return n.forEach((function(t){e.appendChild(r,e.createElement("col",{attrs:{width:t}}))})),r}(e,t),c=e.createElement("tbody");e.appendChild(i,a),e.appendChild(i,c),e.setNode(i,c),e.addClassName("lake-table")}else e.setNode(e.createElement(n));!function(e,t){var n=t.colWidths,r=t.height,o=t.cellBgColor,i=t.verticalAlign,a=t.borderVisible,c=t.rowSpan,l=t.colSpan;n&&e.setStyle("width",n.reduce((function(e,t){return e+t}),0)+"px"),r&&e.setStyle("height","".concat(r,"px")),o&&e.setStyle("background-color",o),i&&e.setStyle("vertical-align",i),c&&e.setAttr("rowSpan",c),l&&e.setAttr("colSpan",l),!1===a&&e.addClassName("lake-no-border")}(e,o)}},{key:"leaveNode",value:function(e,t){if("table"===t.name){var n=t.attrs||{},r=n.borderVisible,o=n.spacing,i=n.widthMode,a=n.rowCount,c=n.colCount,l=e.createElement("card",{attrs:{type:"block",name:"table",value:"data:"+encodeURIComponent(JSON.stringify({id:t.id,rows:a,cols:c,html:e.toHTML(),margin:!1!==o,widthMode:i,hideBorder:!1===r||void 0}))}});e.reset(),e.replaceNode(l)}}}]),i}();m()(fh,"NodeNames",["table","tr","td"]);var hh=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){e.setVirtual(),e._handleAppend=function(){}}}]),i}();m()(hh,"NodeNames",["tableHole"]);var ph=function(){function e(t,n){o()(this,e),m()(this,"_readContext",null),m()(this,"_tableHTMLNode",null),m()(this,"_tableNode",null),this._readContext=t,this._tableHTMLNode=n}return a()(e,[{key:"parse",value:function(){var e=this,t=this._tableHTMLNode,n=t.attrs,r=t.children;if(r)return this._tableNode=Mo.createElement(Df,{id:n.id,borderVisible:"true"!==n["hide-border"],spacing:"false"!==n.margin,widthMode:n["width-mode"]}),r.forEach((function(t){var n=t.name;"colgroup"===n?e._parseColGroup(t):"tbody"===n||"thead"===n?t.children&&t.children.forEach((function(t){"tr"===t.name&&e._parseRow(t)})):"tr"===n&&e._parseRow(t)})),Gf(this._tableNode)?this._tableNode:null}},{key:"_parseColGroup",value:function(e){if(e.children){var t=e.children.filter((function(e){return"col"===e.name})).map((function(e){var t=e.attrs,n=void 0===t?{}:t,r=Number.parseInt(n.width,10);return r>0?r:null}));Mo.setAttribute(this._tableNode,"colWidths",t)}}},{key:"_parseRow",value:function(e){var t=this,n=e.style,r=e.children,o=e.attrs,i={};n&&n.height&&n.height.endsWith("px")&&(i.height=parseInt(n.height,10)||33),(o["data-lake-id"]||o.id)&&(i.id=o["data-lake-id"]||o.id);var a=Mo.createElement("tr",i);r&&r.forEach((function(e){"th"!==e.name&&"td"!==e.name||t._parseCell(a,e)})),Mo.appendChild(this._tableNode,a)}},{key:"_parseCell",value:function(e,t){var n={},r=this._readContext.getChildContext(),o=t.attrs,i=t.style;i&&(i.background&&i.background.indexOf(" ")<0&&(n.cellBgColor=i.background),i["background-color"]&&(n.cellBgColor=i["background-color"]),i["vertical-align"]&&(n.verticalAlign=i["vertical-align"]),i["text-align"]&&r.setAttr("alignment",i["text-align"])),o.colspan>1&&(n.colSpan=Number.parseInt(o.colspan,10)),o.rowspan>1&&(n.rowSpan=Number.parseInt(o.rowspan,10)),(o["data-lake-id"]||o.id)&&(n.id=o["data-lake-id"]||o.id);var a=Mo.createElement("td",n);Mo.appendChild(e,a),t.children&&Mo.setChildren(a,r.readByNodes(t.children))}}]),e}();var vh=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){e.stop();var n=new ph(e,t).parse();n&&e.setNode(n)}}]),i}();function mh(e,t,n,r,o){var i={},a=t.children[n];br(a,"F:insert-row;L:9"),a.attrs.height&&(i.height=a.attrs.height);var c=t.attrs.rowCount;return br(n>=0&&n<=c-1,"F:insert-row;L:17"),e.setAttribute(t,"rowCount",c+o),0===n&&"before"===r||n===c-1&&"after"===r?function(e,t,n,r,o,i){var a=null,c=Vf.getLayout(t)[o],l=e.createElement("tr",i),s=[];c.forEach((function(t,n){if(t.type===Vf.TYPE_NODE)s[n]=e.createElement("td",{col:n}),e.appendChild(l,s[n]);else{var r=t.node,o=s[r.attrs.col];o?(br(r.attrs.colSpan>1,"F:insert-row;L:52"),e.setAttribute(o,"colSpan",(o.attrs.colSpan||1)+1)):(s[n]=e.createElement("td",{col:n}),e.appendChild(l,s[n]))}}));for(var u=0;u<n;u++){var d=0===u?l:e.cloneNode(l,!0);0===u&&(a=l),e[r?"prependChild":"appendChild"](t,d)}return a}(e,t,o,"before"===r,n,i):function(e,t,n,r,o,i){var a=null,c=t.attrs.rowCount,l=Vf.getLayout(t),s=o;r&&(s=o-1),br(s>=0&&s<c-1,"F:insert-row;L:90");for(var u=l[s],d=e.createElement("tr",i),f=new Set,h=l[o],p=[],v=0,m=u.length;v<m;v++){var y=u[v].node;if(y.parentNode.offset+(y.attrs.rowSpan||1)-1>s)br(y.attrs.rowSpan>1,"F:insert-row;L:104"),f.has(y)||(f.add(y),e.setAttribute(y,"rowSpan",y.attrs.rowSpan+n));else{var g=h[v],b=p[g.node.attrs.col];g.type===Vf.TYPE_REF&&b?e.setAttribute(b,"colSpan",(b.attrs.colSpan||1)+1):(p[v]=e.createElement("td",{col:v}),e.appendChild(d,p[v]))}}for(var w=t.children[s],x=0;x<n;x++){var _=void 0;x===n-1?(a=d,_=d):_=e.cloneNode(d,!0),e.insertAfter(t,_,w)}return a}(e,t,o,"before"===r,n,i)}var yh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_position",null),t._position=e,t}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.rangeCount>1||zr.closest(t.firstRange.commonAncestorContainer,Er.Table)?0:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.newJob();if(-1===this.getState(o))return e.cancelJob(o),!1;var i=o.getSelection();-1===n&&(n=this._getSourceRowIndex(i));var a=zr.closest(i.firstRange.commonAncestorContainer,Er.Table),c=mh(o,a,n,this._position,t);return r&&o.setSelection(o.selectNodeContents(c.firstChild)),e.commitJob(o),!0}},{key:"_getSourceRowIndex",value:function(e){var t=this._position,n=zr.closest(("before"===t?e.firstRange:e.lastRange).commonAncestorContainer,Er.TableCell);br(n,"F:insert-row;L:55");var r=n.parentNode;return"before"===t?r.offset:r.offset+(n.attrs.rowSpan||1)-1}}]),i}();function gh(e,t,n,r,o){var i;i="before"===r?n-1:n;var a=t.attrs,c=a.colCount,l=a.colWidths,s=x()(l),u=l[n];if(br(i>=-1&&i<=c,"F:insert-column;L:18"),-1===i)for(var d=0;d<o;d++)s.unshift(u);else if(i===c)for(var f=0;f<o;f++)s.push(u);else for(var h=0;h<o;h++)s.splice(i+1,0,u);if(e.setAttribute(t,"colCount",c+o),e.setAttribute(t,"colWidths",s),-1!==i)if(i!==c){var p=Vf.getLayout(t),v=new Set;p.forEach((function(t){var n=t[i],r=n.type,a=n.node;if(a.attrs.col+(a.attrs.colSpan||1)-1>i){v.has(a)||(v.add(a),e.setAttribute(a,"colSpan",a.attrs.colSpan+o));for(var c=0;c<o;c++)t.splice(i+1,0,{type:Vf.TYPE_REF,node:a})}else if(r===Vf.TYPE_REF){br(a.attrs.colSpan>1||a.attrs.rowSpan>1,"F:insert-column;L:94");for(var l=0;l<o;l++)t.splice(i+1,0,{type:Vf.TYPE_NODE,node:null})}else{br(r!==Vf.TYPE_REF,"F:insert-column;L:104");for(var s=0;s<o;s++){var u=e.createElement("td");e.insertAfter(a.parentNode,u,a),t.splice(i+1,0,{type:Vf.TYPE_NODE,node:u})}}})),p.forEach((function(n,r){var i=null;br(n.length===t.attrs.colCount,"F:insert-column;L:123"),n.forEach((function(n,o){if(n.type===Vf.TYPE_NODE)if(n.node)e.setAttribute(n.node,"col",o),i=n.node;else{var a=e.createElement("td",{col:o});i?e.insertAfter(t.children[r],a,i):e.prependChild(t.children[r],a),i=a,n.node=a}}));var a=n[n.length-1].node;br(a.attrs.col+(a.attrs.colSpan||1)===c+o,"F:insert-column;L:149")}))}else t.children.forEach((function(t){for(var n=0;n<o;n++)e.appendChild(t,e.createElement("td",{col:c+n}))}));else t.children.forEach((function(t){t.children.forEach((function(t){e.setAttribute(t,"col",t.attrs.col+o)}));for(var n=o-1;n>=0;n--)e.prependChild(t,e.createElement("td",{col:n}))}))}var bh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_position",null),t._position=e,t}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.rangeCount>1||zr.closest(t.firstRange.commonAncestorContainer,Er.Table)?0:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.newJob();if(-1===this.getState(r))return e.cancelJob(r),!1;var o=r.getSelection();-1===n&&(n=this._getIndex(o));var i=zr.closest(o.firstRange.commonAncestorContainer,Er.Table);return gh(r,i,n,this._position,t),e.commitJob(r),!0}},{key:"_getIndex",value:function(e){if("before"===this._position)return zr.closest(e.firstRange.start.node,Er.TableCell).attrs.col;var t=zr.closest(e.lastRange.end.node,Er.TableCell);return t.attrs.col+(t.attrs.colSpan||1)-1}}]),i}();var wh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n=e.newJob(),r=n.getNodeById(t);if(!r.hasCategory(Er.Table))return!1;var o=dc.deleteContent(n,n.selectNode(r));return br(o.collapsed,"F:delete-table;L:18"),n.setSelection(o),e.commitJob(n),!0}}]),i}();var xh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.rangeCount>1||zr.closest(t.firstRange.commonAncestorContainer,Er.TableCell)?0:Oa.UNAVAILABLE}},{key:"execute",value:function(e){var t=e.newJob();if(-1===this.getState(t))return e.cancelJob(t),!1;var n=t.getSelection(),r=n.ranges.map((function(e){var n=zr.closest(e.commonAncestorContainer,Er.TableCell);return br(n,"F:clear-content;L:32"),Yi.deleteContent(t,Ur.selectNodeContents(n))}));return t.setSelection(n.cloneByRange(r)),e.commitJob(t),!0}}]),i}();function _h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ch(e,t,n){var r=n.length,o=n[0].length,i=new Map,a=new Map,c=[];n.forEach((function(n,r){var o=null,l=t.children[r],s=n.map((function(t,n){var c=t.type,s=t.node;if(c===Vf.TYPE_REF){if(s.isConnected)return i.set(s,{rowIndex:r,colIndex:n}),{type:c,node:s};if(!a.has(s)){var u=e.createElement("td",{col:n});return o?e.insertAfter(l,u,o):e.prependChild(l,u),o=u,a.set(s,{mainNode:u,rowIndex:r,colIndex:n}),{type:Vf.TYPE_NODE,node:u}}var d=a.get(s);return br(d.mainNode,"F:re-layout;L:63"),a.set(s,{mainNode:d.mainNode,rowIndex:r,colIndex:n}),{type:Vf.TYPE_REF,node:d.mainNode}}return e.setAttribute(s,"col",n),e.removeAttribute(s,"rowSpan"),e.removeAttribute(s,"colSpan"),br((o=s).parentNode===l,"F:re-layout;L:84"),{type:c,node:s}}));c.push(s)}));var l,s=_h(i);try{for(s.s();!(l=s.n()).done;){var u=E()(l.value,2),d=u[0],f=u[1],h=f.rowIndex,p=f.colIndex;Rh(e,d,h,p,r,o)}}catch(e){s.e(e)}finally{s.f()}var v,m=_h(a);try{for(m.s();!(v=m.n()).done;){var y=E()(v.value,2)[1],g=y.mainNode,b=y.rowIndex,w=y.colIndex;Rh(e,g,b,w,r,o)}}catch(e){m.e(e)}finally{m.f()}return c}function Rh(e,t,n,r,o,i){var a=t.parentNode.offset,c=t.attrs.col;if(br(a>=0&&a<o&&c>=0&&c<i,"F:re-layout;L:111"),a!==n){var l=n-a+1;br(l>1,"F:re-layout;L:118"),e.setAttribute(t,"rowSpan",l)}if(c!==r){var s=r-c+1;br(s>1,"F:re-layout;L:124"),e.setAttribute(t,"colSpan",s)}}function Nh(e,t){if(t.rangeCount>1){var n=zr.closest(t.firstRange.start.node,Er.TableCell),r=zr.closest(t.lastRange.end.node,Er.TableCell),o=n.parentNode.parentNode;return 0===n.parentNode.offset&&r.parentNode.offset+(r.attrs.rowSpan||1)===o.childCount&&r.attrs.col+(r.attrs.colSpan||1)-n.attrs.col===o.attrs.colCount}return 1===e.attrs.rowCount&&1===e.attrs.colCount}var Eh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_position",null),t._position=e,t}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection(),n=zr.closest(t.firstRange.commonAncestorContainer,Er.TableCell);return n?Nh(n,t)?-1:0:-1}},{key:"execute",value:function(e){var t=e.newJob();if(-1===this.getState(t))return e.cancelJob(t),!1;var n=t.getSelection(),r=zr.closest(n.firstRange.start.node,Er.Table);br(r,"F:delete-column;L:45");var o=zr.closest(n.firstRange.start.node,Er.TableCell),i=zr.closest(n.lastRange.end.node,Er.TableCell),a=o.attrs.col,c=i.attrs.col+(i.attrs.colSpan||1);return br(!(0===a&&c===r.attrs.colCount),"F:delete-column;L:52"),n=function(e,t,n,r){var o=r-n,i=t.attrs,a=i.colWidths,c=i.colCount,l=function(e,t){if((e=x()(e)).length>t)e.length=t;else if(e.length<t)for(var n=e.length;n<t;n++)e.push(100);return e}(a,c);br(c>o,"F:delete-column;L:11"),l.splice(n,o),br(l.length===c-o,"F:delete-column;L:15"),e.setAttribute(t,"colCount",c-o),e.setAttribute(t,"colWidths",l);var s=Vf.getLayout(t);s.forEach((function(t){t.splice(n,o).forEach((function(t){var n=t.type,r=t.node;n===Vf.TYPE_NODE&&e.removeChild(r.parentNode,r)}))}));var u=Ch(e,t,s),d=u[0][n]||u[0][n-1];br(d,"F:delete-column;L:35");var f=d.node;return br(f&&f.isConnected,"F:delete-column;L:39"),e.newSelection(e.newRange(e.newPosition(f,0)))}(t,r,a,c),t.setSelection(n),e.commitJob(t),!0}}]),i}();var Oh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_position",null),t._position=e,t}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection(),n=zr.closest(t.firstRange.commonAncestorContainer,Er.TableCell);return n?Nh(n,t)?-1:0:-1}},{key:"execute",value:function(e){var t=e.newJob();if(-1===this.getState(t))return e.cancelJob(t),!1;var n=t.getSelection(),r=zr.closest(n.firstRange.start.node,Er.Table);br(r,"F:delete-row;L:45");var o=zr.closest(n.firstRange.start.node,Er.TableCell),i=zr.closest(n.lastRange.end.node,Er.TableCell),a=o.parentNode.offset,c=i.parentNode.offset+(i.attrs.rowSpan||1);return br(!(0===a&&c===r.childCount),"F:delete-row;L:53"),n=function(e,t,n,r){var o=r-n,i=t.attrs.rowCount;br(i-o>0,"F:delete-row;L:9"),e.setAttribute(t,"rowCount",i-o);for(var a=Vf.getLayout(t),c=x()(t.children),l=n;l<r;l++)e.removeChild(t,c[l]),a[l]=null;var s=Ch(e,t,a.filter(Boolean)),u=s[n]||s[n-1];br(u,"F:delete-row;L:25");var d=u[0].node;return br(d&&d.isConnected,"F:delete-row;L:29"),e.newSelection(e.newRange(e.newPosition(d,0)))}(t,r,a,c),t.setSelection(n),e.commitJob(t),!0}}]),i}();var Dh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return Xr.isInTable(t)&&Xr.isSelectRow(t)?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e,t){var n=e.newJob();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var r=n.getSelection(),o=zr.closest(r.firstRange.commonAncestorContainer,Er.Table);return!Number.isInteger(t)||t<0||t>o.attrs.rowCount?(e.cancelJob(n),!1):(function(e,t,n){var r=zr.closest(t.firstRange.commonAncestorContainer,Er.Table);br(r,"F:move-row;L:7");var o=r.attrs.rowCount,i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.ranges.forEach((function(e){var t=zr.closest(e.commonAncestorContainer,Er.TableCell).parentNode.offset;i=Math.min(i,t),a=Math.max(a,t)}));var c=r.children.slice(i,a+1);if(n!==o){var l=r.children[n];br(l,"F:move-row;L:33"),c.forEach((function(t){e.insertBefore(r,t,l)}))}else c.forEach((function(t){e.appendChild(r,t)}))}(n,r,t),e.commitJob(n),!0)}}]),i}();var Sh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return Xr.isInTable(t)&&Xr.isSelectColumn(t)?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e,t){var n=e.newJob();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var r=n.getSelection(),o=zr.closest(r.firstRange.commonAncestorContainer,Er.Table);return!Number.isInteger(t)||t<0||t>o.attrs.colCount?(e.cancelJob(n),!1):(function(e,t,n){var r=zr.closest(t.firstRange.commonAncestorContainer,Er.Table);br(r,"F:move-column;L:7");var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;t.ranges.forEach((function(e){var t=zr.closest(e.commonAncestorContainer,Er.TableCell).attrs,n=t.col,r=t.colSpan,a=void 0===r?1:r;o=Math.min(o,n),i=Math.max(i,n+a-1)})),r.children.forEach((function(t){!function(e,t,n,r,o){var i=r-n+1,a=o>n?o-r-1:o-n,c=null,l=t.children.filter((function(t){var l=t.attrs.col;return l===o&&(c=t),l>r?(l<o&&e.setAttribute(t,"col",l-i),!1):l>=n&&l<=r?(e.setAttribute(t,"col",l+a),!0):(l<n&&l>=o&&e.setAttribute(t,"col",l+i),!1)}));br(l.length<=i,"F:move-column;L:68"),0===o?l.reverse().forEach((function(n){e.prependChild(t,n)})):c?l.forEach((function(n){e.insertBefore(t,n,c)})):l.forEach((function(n){e.appendChild(t,n)}))}(e,t,o,i,n)}));for(var a=x()(r.attrs.colWidths),c=a.slice(o,i+1),l=o;l<=i;l++)a[l]=null;a.splice.apply(a,[n,0].concat(x()(c))),e.setAttribute(r,"colWidths",a.filter((function(e){return null!==e})))}(n,r,t),e.commitJob(n),!0)}}]),i}();var Bh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection(),n=zr.closest(t.ranges[0].commonAncestorContainer,Er.Table);return n||t.isTableSelection?(br(n,"F:border-visible;L:18"),!1===n.attrs.borderVisible?Oa.EXECUTED:Oa.NOT_EXECUTED):Oa.UNAVAILABLE}},{key:"execute",value:function(e,t){var n=e.newJob(),r=this.getState(n);if(r===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var o=n.getSelection(),i=zr.closest(o.firstRange.start.node,Er.Table);return br(i,"F:border-visible;L:40"),!0===t?n.removeAttribute(i,"borderVisible"):!1===t||r===Oa.NOT_EXECUTED?n.setAttribute(i,"borderVisible",!1):n.removeAttribute(i,"borderVisible"),e.commitJob(n),!0}}]),i}();var Ph=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){var r=e.newJob(),o=r.getNodeById(t);o&&o.isConnected&&o.hasCategory(Er.Table)?(ec.insertNodes(r,n,[o.parentNode]),r.setSelection(r.selectNode(o)),e.commitJob(r)):e.cancelJob(r)}}]),i}();var Fh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getValue",value:function(e,t){var n;br(t,"F:spacing;L:11");var r=e.getNodeById(t);return!1!==(null==r||null===(n=r.attrs)||void 0===n?void 0:n.spacing)}},{key:"execute",value:function(e,t,n){br(t,"F:spacing;L:19");var r=e.newJob(),o=r.getNodeById(t);return null!=o&&o.hasCategory(Er.Table)?(n?r.removeAttribute(o,"spacing"):r.setAttribute(o,"spacing",!1),e.commitJob(r),!0):(e.cancelJob(r),!1)}}]),i}();var Th=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getValue",value:function(e,t){br(t,"F:toggle-width-mode;L:9");var n=e.getNodeById(t);return br(n,"F:toggle-width-mode;L:13"),this._getValue(n)}},{key:"execute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;br(t,"F:toggle-width-mode;L:19");var r=e.newJob(),o=r.getNodeById(t);if(null==o||!o.hasCategory(Er.Table))return e.cancelJob(r),!1;if("contain"===n||"normal"===n)r.setAttribute(o,"widthMode",n);else{var i=this._getValue(o);r.setAttribute(o,"widthMode","contain"===i?"normal":"contain")}return e.commitJob(r),!0}},{key:"_getValue",value:function(e){var t;return"contain"===(null===(t=e.attrs)||void 0===t?void 0:t.widthMode)?"contain":"normal"}}]),i}();var Mh=function(e){u()(i,vc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){Gf(t)||Mo.removeChild(e.parentNode,t)}}]),i}();var Lh=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerElement(Sf),e.registerAttr(Pf),e.registerCommand({table:new If,deleteTable:new wh,tableMergeCell:new Hf,tableUnmergeCell:new Wf,tableCellBgColor:new Zf,tableRowHeight:new Kf,tableColumnWidth:new $f,tableVerticalAlign:new Jf,tableInsertBeforeRow:new yh("before"),tableInsertAfterRow:new yh("after"),tableInsertBeforeColumn:new bh("before"),tableInsertAfterColumn:new bh("after"),tableDeleteColumn:new Eh,tableDeleteRow:new Oh,tableClearContent:new xh,tableRowMoveTo:new Dh,tableColumnMoveTo:new Sh,tableBorderVisible:new Bh,tableSpacing:new Fh,moveTable:new Ph,tableToggleWidthMode:new Th}),e.hasExtendMethod("registerHTMLNodeReader")&&(e.registerHTMLNodeReader(th.NodeNames,new th),e.registerHTMLNodeReader(nh.NodeNames,new nh),e.registerHTMLNodeReader(rh.NodeNames,new rh),e.registerHTMLAttributeReader(ih.AttrNames,new ih)),e.hasExtendMethod("registerNodeHTMLWriter")&&(e.registerNodeHTMLWriter(ah.NodeNames,new ah),e.registerNodeHTMLWriter(ch.NodeNames,new ch),e.registerNodeHTMLWriter(lh.NodeNames,new lh),e.registerAttrHTMLWriter(uh.AttrNames,new uh)),e.hasExtendMethod("registerTextWriter")&&e.registerTextWriter("table",new dh),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader("table",new vh),e.hasExtendMethod("registerLakeNodeWriter")&&(e.registerLakeNodeWriter(hh.NodeNames,new hh),e.registerLakeNodeWriter(fh.NodeNames,new fh)),e.hasExtendMethod("registerINodeNodeReader")&&e.registerINodeNodeReader("table",new Mh)}}]),i}();function Ah(e,t){return t.cloneByRange(t.ranges.map((function(t){var n=t.start,r=n.node,o=n.offset,i=t.end;if(!t.collapsed&&r.isElement()&&r.childCount===o){var a=function(e){for(br(e.isElement(),"F:reduce-selection;L:37");e&&!e.isRootNode();){if(e.nextSibling)return e.nextSibling;e=e.parent}return null}(r);if(a){var c=Ur.createAt(new Br(a,0),i);return Kr(c),ro(e,c)}}return t})))}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ih(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Lh,"PluginName","table");var Vh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isCardSelection?Oa.NOT_EXECUTED:t.collapsed?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e,t,n){var r=e.job;if(t){var o=r.newPosition(t.start.node,t.start.offset),i=r.newPosition(t.end.node,t.end.offset);return this._copyBySelection(r,r.newSelection(r.newRange(o,i)),n)}return this.getState(r)===Oa.UNAVAILABLE?null:this._copyBySelection(r,r.getSelection(),n)}},{key:"_copyBySelection",value:function(e,t,n){t.isCardSelection||(t=t.cloneByRange(t.ranges.map((function(t){return Yi.enlargeRangeContainsBlockNode(e,t)}))));var r=dc.extractINode(e,Ah(e,t));if(!r)return{};var o=this.iKernel,i=o.getSupportedWriterTypes(),a={};return i.forEach((function(e){var t=o.writeData(e,r,jh(jh({mode:"inline"},n),{},{since:"copy"}));br("string"==typeof t,"F:copy;L:65"),a[e]=t})),a}}]),i}();var zh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isCardSelection?Oa.NOT_EXECUTED:t.collapsed?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e){var t=e.newJob();if(this.getState(t)===Oa.UNAVAILABLE)return!1;var n=this._extractINode(t);if(!n)return null;var r=this.iKernel,o=r.getSupportedWriterTypes(),i={};o.forEach((function(e){var t=r.writeData(e,n,{since:"copy",mode:"inline"});br("string"==typeof t,"F:cut;L:48"),i[e]=t}));var a=dc.deleteContent(t,t.getSelection());return t.setSelection(a),e.commitJob(t),i}},{key:"_extractINode",value:function(e){var t,n=e.getSelection();return t=n.isCardSelection?n:n.cloneByRange(n.ranges.map((function(t){return Yi.enlargeRangeContainsBlockNode(e,t)}))),dc.extractINode(e,Ah(e,t))}}]),i}();var Uh=["text/ne-inode","text/lake","text/html","text/plain","Files"],Hh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e,t){for(var n=e.newJob(),r=this.iKernel,o=r.getSupportedReaderTypes(),i=t.types,a=null,c=0,l=Uh.length;c<l;c++){var s=Uh[c],u=t.getData(s);if(u&&-1!==i.indexOf(s)&&-1!==o.indexOf(s)){a=r.readData(s,u,{from:"paste"});break}}return!!a&&(n.setSelection(dc.insertINode(n,n.getSelection(),a)),e.commitJob(n),!0)}}]),i}();var qh=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("copy",new Vh),e.registerCommand("cut",new zh),e.registerCommand("paste",new Hh)}}]),i}();m()(qh,"PluginName","clipboard");var Wh={targets:[Er.Block],values:["left","center","right","justify","distributed"].slice()};var Zh=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_attrName","none"),e}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();if(dc.isInCard(t))return t.firstRange.start.node.hasCategory(Er.InlineCard)?Oa.NOT_EXECUTED:-1;if(t.isCollapsed&&t.firstRange.start.node.hasCategory([Er.TableHole,Er.Hole]))return-1;var n=Ou.getAttrValue(e,this._formatSelection(t),this.attrName,!1);return n.length>1?Oa.UNKNOWN:1===n.length&&n[0]?Oa.EXECUTED:Oa.NOT_EXECUTED}},{key:"getValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getSelection();if(dc.isInCard(t)&&!t.firstRange.start.node.hasCategory(Er.InlineCard))return null;var n=Ou.getAttrValue(e,this._formatSelection(t),this.attrName,!1);return Array.from(n)}},{key:"execute",value:function(e,t){var n=e.newJob();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var r;return r=t?dc.setAttribute(n,this._formatSelection(n.getSelection()),this.attrName,t):dc.removeAttribute(n,this._formatSelection(n.getSelection()),this.attrName),n.setSelection(r),e.commitJob(n),!0}},{key:"_formatSelection",value:function(e){return e.isCollapsed?e:dc.shrinkToElement(e)}}]),i}();var Kh=function(e){u()(i,Zh);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","alignment"),e}return a()(i)}();var $h=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e,t){"center"===t.name&&e.addAttr("alignment","center")}}]),i}();m()($h,"NodeNames",["center"]);var Jh=function(e){u()(i,Fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readStyle",value:function(e,t,n){switch(n){case"left":case"right":case"center":case"justify":case"distributed":e.addAttr("alignment",n)}}}]),i}();m()(Jh,"StyleNames",["text-align"]);var Yh=function(e){u()(i,zl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){e.setAttr("alignment",n)}}]),i}();var Gh=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){e.addStyle("text-align",n)}}]),i}();m()(Gh,"AttrNames",["alignment"]);var Xh=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){e.setStyle("text-align",n)}}]),i}();m()(Xh,"AttrNames",["alignment"]);var Qh=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttr("alignment",Wh),e.registerCommand("alignment",new Kh),e.hasExtendMethod("registerHTMLStyleReader")&&(e.registerHTMLNodeReader($h.NodeNames,new $h),e.registerHTMLStyleReader(Jh.StyleNames,new Jh)),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(Gh.AttrNames,new Gh),e.hasExtendMethod("registerLakeStyleReader")&&e.registerLakeStyleReader("text-align",new Yh),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(Xh.AttrNames,new Xh)}}]),i}();m()(Qh,"PluginName","alignment");var ep=["color","bgColor"];var tp=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getValue",value:function(e){var t=!1,n=new Set;return dc.fullWalkSelection(e.getSelection(),{enter:function(e){return!t&&(e.hasCategory([Er.Hole])?(t=!0,!1):(e.hasCategory(Er.Block)&&n.add(e.nodeName),n.size>1?(t=!0,!1):void 0))}}),t||n.size>1?"mixed":Array.from(n)[0]||"p"}},{key:"execute",value:function(e,t){var n=e.newJob(),r=n.getSelection(),o=dc.replaceBlockNode(n,r,n.createElement(t),!1,ep);return n.setSelection(o),e.commitJob(n),!0}}]),i}();var np=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"readNode",value:function(e,t){var n=t.name;e.setNode(Mo.createElement(n)),e.setIgnoreAttrs("bold","fontsize")}}]),i}();m()(np,"NodeNames",["h1","h2","h3","h4","h5","h6"]);var rp,op=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"read",value:function(e,t){e.setNode(Mo.createElement(t.name))}}]),i}(),ip=(m()(rp={},"traditional",{h1:{fontSize:"28px",lineHeight:"36px",margin:"7px 0"},h2:{fontSize:"24px",lineHeight:"32px",margin:"7px 0"},h3:{fontSize:"20",lineHeight:"28px",margin:"7px 0"},h4:{fontSize:"16px",lineHeight:"24px",margin:"7px 0"},h5:{fontSize:"15px",lineHeight:"24px",margin:"7px 0"},h6:{fontSize:"15px",lineHeight:"24px",margin:"7px 0",fontWeight:"normal"}}),m()(rp,"classic",{h1:{fontSize:"28px",lineHeight:"36px",margin:"26px 0 10px 0"},h2:{fontSize:"24px",lineHeight:"32px",margin:"21px 0 5px 0"},h3:{fontSize:"20",lineHeight:"28px",margin:"16px 0 5px 0"},h4:{fontSize:"16px",lineHeight:"24px",margin:"10px 0 5px 0"},h5:{fontSize:"15px",lineHeight:"24px",margin:"8px 0 5px 0"},h6:{fontSize:"15px",lineHeight:"24px",margin:"8px 0 5px 0",fontWeight:"normal"}}),rp);function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var cp=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"write",value:function(e,t){var n,r=t.name;e.isInlineMode()&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},"traditional"===this._getTypography()?ip.traditional[r]:ip.classic[r])),e.setNode(e.createElement(r,{style:n}))}},{key:"_getTypography",value:function(){return this._iKernel.hasExtendMethod("getTypographyName")?this._iKernel.getTypographyName():"traditional"}}]),i}();m()(cp,"NodeNames",["h1","h2","h3","h4","h5","h6"]);var lp=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=e.createElement(t.name);e.setNode(n)}}]),i}();m()(lp,"NodeNames",["h1","h2","h3","h4","h5","h6"]);var sp={"#":"h1","##":"h2","###":"h3","####":"h4","#####":"h5","######":"h6"},up=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t,n,r=this;e.registerElement((t=this,{h1:{id:oa,parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Heading,Er.AttrContext,Er.Clean,Er.TextContainer],contextAttr:n={bold:function(e){return!e},fontsize:function(e,n,r){return e||t.getHeadingFontSize(r)}}},h2:{id:oa,parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Heading,Er.AttrContext,Er.Clean,Er.TextContainer],contextAttr:n},h3:{id:oa,parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Heading,Er.AttrContext,Er.Clean,Er.TextContainer],contextAttr:n},h4:{id:oa,parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Heading,Er.AttrContext,Er.Clean,Er.TextContainer],contextAttr:n},h5:{id:oa,parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Heading,Er.AttrContext,Er.Clean,Er.TextContainer],contextAttr:n},h6:{id:oa,parents:["#root",Er.LikeRoot],category:[Er.Block,Er.Heading,Er.AttrContext,Er.Clean,Er.TextContainer],contextAttr:n}})),e.registerCommand("style",new tp),e.hasExtendMethod("registerHTMLNodeReader")&&e.registerHTMLNodeReader(np.NodeNames,new np(e)),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(cp.NodeNames,new cp(e)),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader(["h1","h2","h3","h4","h5","h6"],new op(e)),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(lp.NodeNames,new lp),e.hasExtendMethod("registerMarkdownMatcher")&&Object.keys(sp).forEach((function(t){var n=sp[t];e.registerMarkdownMatcher("whiteSpace",new Fd(r.iEditing,t,(function(e,t,r){var o=e.newSelection([e.newRange(e.newPosition(r,0))]);o=t.nodeName!==n?dc.replaceBlockNode(e,o,e.createElement(n),!1,ep):dc.replaceBlockNode(e,o,e.createElement("p"),!1,ep),e.setSelection(o)})))}))}},{key:"getHeadingFontSize",value:function(e){return br(this.iKernel.hasExtendMethod("getTypographyDetail"),"F:kernel/index;L:65"),this.iKernel.getTypographyDetail()[e]}}]),i}();m()(up,"PluginName","heading");var dp=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(n=o?e.newJob():e.job).getSelection();i.collapsed||(i.firstRange.start.node.isTextNode()&&(r=i.firstRange.start.node.cloneNode(!1)),(i=dc.deleteContent(n,i,!1,!0,!1,!1)).isCollapsed||(br(i.isTableSelection&&i.firstRange.start.node.isEmpty(),"F:input-command;L:28"),i=n.newSelection(n.newRange(n.newPosition(i.firstRange.start.node,0))))),br(i.collapsed,"F:input-command;L:34");var a=ec.makeSureAtInput(n,i.firstRange.start);br(a.node.hasCategory([Er.TextContainer,Er.Text]),"F:input-command;L:38"),a=ec.insertText(n,a,t,r?r.attrs:null),n.setSelection([n.newRange(a)]),e.commitJob(n)}}]),i}();var fp=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.firstRange.collapsed&&t.firstRange.start.node.hasCategory(Er.Card)?-1:0}}]),i}();var hp=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("input",new dp),e.registerCommand("canInput",new fp)}}]),i}();m()(hp,"PluginName","input");var pp=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){switch(t){case"textIndent":e.setStyle("text-indent","2em");break;case"indent":e.setStyle("padding-left",2*n+"em")}}}]),i}();m()(pp,"AttrNames",["indent","textIndent"]);for(var vp=[],mp=[],yp=1;yp<=17;yp++)vp.push(yp);for(var gp=1;gp<=8;gp++)mp.push(gp);var bp={indent:{targets:[Er.Block,Er.Hole],excludes:[Er.Level],values:vp},textIndent:{targets:[Er.Block],excludes:[Er.Level],values:[!0]},level:{targets:[Er.Level],values:mp}};function wp(e,t,n){if(t.collapsed){var r=zr.closest(t.firstRange.start.node,[Er.Block,Er.Hole,Er.Level]);if(!r)return;xp(e,r,n)}else dc.fullWalkSelection(t,{enter:function(t){xp(e,t,!1)}})}function xp(e,t,n){var r=t.nodeName,o=t.attrs,i=void 0===o?{}:o,a=i.level,c=void 0===a?0:a,l=i.indent,s=void 0===l?0:l;n&&e.acceptAttr(r,"textIndent",!0)&&!i.textIndent?e.setAttribute(t,"textIndent",!0):e.acceptAttr(r,"level",c+1)?e.setAttribute(t,"level",c+1):e.acceptAttr(r,"indent",s+1)&&e.setAttribute(t,"indent",s+1)}var _p=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isCardSelection||t.isTableSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.newJob(),r=this.getState(n);return r===Oa.UNAVAILABLE?(e.cancelJob(n),!1):(wp(n,n.getSelection(),t),e.commitJob(n),!0)}}]),i}();function kp(e,t,n){if(t.collapsed){var r=zr.closest(t.firstRange.start.node,[Er.Block,Er.Hole,Er.Level]);if(!r)return;Cp(e,r,n)}else dc.fullWalkSelection(t,{enter:function(t){Cp(e,t)}})}function Cp(e,t,n){var r=t.nodeName,o=t.attrs,i=void 0===o?{}:o,a=i.level,c=void 0===a?0:a,l=i.indent,s=void 0===l?0:l;n&&e.acceptAttrName(r,"textIndent")&&i.textIndent?e.removeAttribute(t,"textIndent"):e.acceptAttr(r,"level",c-1||1)?c-1==0?e.removeAttribute(t,"level"):e.setAttribute(t,"level",c-1):e.acceptAttr(r,"indent",s-1||1)&&(s-1==0?e.removeAttribute(t,"indent"):e.setAttribute(t,"indent",s-1))}var Rp=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.newJob(),r=this.getState(n);return r===Oa.UNAVAILABLE?(e.cancelJob(n),!1):(kp(n,n.getSelection(),t),e.commitJob(n),!0)}}]),i}();var Np=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();if(t.rangeCount>1)return Oa.UNAVAILABLE;if(!t.collapsed)return zr.closest(t.firstRange.commonAncestorContainer,Er.TableCell)?Oa.UNAVAILABLE:Oa.NOT_EXECUTED;var n=t.firstRange.start,r=n.node;if(0!==n.offset)return Oa.UNAVAILABLE;if(r.hasCategory([Er.Block,Er.Hole]))return Oa.NOT_EXECUTED;for(var o=zr.closest(r,Er.Block),i=r;i!==o;){if(0!==i.offset)return Oa.UNAVAILABLE;i=i.parentNode}return Oa.NOT_EXECUTED}}]),i}();var Ep=function(e){u()(i,zl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){"text-indent"===t?this._readTextIndent(e,n):this._readIndent(e,n)}},{key:"_readTextIndent",value:function(e,t){var n=Number.parseInt(t,10);t.endsWith("em")&&n>0&&e.setAttr("textIndent",!0)}},{key:"_readIndent",value:function(e,t){var n=Number.parseInt(t,10);if(t.endsWith("em")&&n>0&&n%2==0){var r=n/2;r>0&&e.setAttr("indent",r)}}}]),i}();m()(Ep,"StyleNames",["text-indent","padding-left"]);var Op=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){if(n)if("textIndent"!==t){var r=e.inode.attrs,o=(r.indent||0)+(r.level||0);o&&e.addStyle("margin-left","".concat(2*o,"em"))}else e.addStyle("text-indent","2em")}}]),i}();m()(Op,"AttrNames",["indent","textIndent"]);var Dp=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("indent",new _p),e.registerCommand("outdent",new Rp),e.registerCommand("canIndent",new Np),e.registerAttr(bp),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(Op.AttrNames,new Op),e.hasExtendMethod("registerLakeStyleReader")&&e.registerLakeStyleReader(Ep.StyleNames,new Ep),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(pp.AttrNames,new pp)}}]),i}();m()(Dp,"PluginName","indent");var Sp=function(e){u()(i,_u);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_iEditing",null),m()(l()(a),"_matchPattern",null),m()(l()(a),"_excludePattern",null),m()(l()(a),"_handler",null),t instanceof RegExp?a._matchPattern=t:(a._matchPattern=t.match,a._excludePattern=t.exclude),a._iEditing=e,a._handler=n,a}return a()(i,[{key:"match",value:function(e){var t,n=e[e.length-1];if(!n)return null;if(br(1===n.fragments.length,"F:pattern-markdown-matcher;L:38"),!(t=this._matchPattern instanceof RegExp?this._matchPattern.exec(n.text):this._matchPattern(n.text)))return null;if(this._excludePattern&&this._excludePattern.test(n.text))return null;var r=zr.closest(n.fragments[0].start.node,Er.Block);return br(r,"F:pattern-markdown-matcher;L:58"),{section:e,blockNode:r,matched:t}}},{key:"exec",value:function(e){var t=this._iEditing.newJob("user"),n=e.section,r=e.blockNode,o=e.matched,i=n[n.length-1].fragments[0].start.node;t.setTextNodeData(i,Sr.deleteString(i.data,o.index,o.index+o[0].length)),this._handler(t,r,i,e),this._iEditing.commitJob(t)}}]),i}();function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fp={autoCompleteLink:!1,referenceURL:null,protocols:["http:","https:","data:","dingtalk:","ftp:","mailto:","fleamarket:","alipays:"],isValidURL:function(e,t){try{var n=new URL(e,"http://localhost/").protocol;return!!t.includes(n)}catch(e){}return!1},isTargetBlankURL:function(e,t){try{if("necustom:"===new URL(e,"necustom://me.com/").protocol)return!1}catch(e){return!0}try{var n=new URL(e,t),r=new URL(t);if(n.host===r.host)return!1}catch(e){return!0}return!0},transformURL:function(e,t){return e},allowToOpenLocal:function(e,t){return!1}},Tp=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=Pp(Pp({},Fp),t)}return a()(e,[{key:"autoCompleteLink",get:function(){return this._option.autoCompleteLink}},{key:"referenceURL",get:function(){return this._option.referenceURL||this.kernelOption.currentURL}},{key:"allowToOpenLocal",value:function(e,t){return this._option.allowToOpenLocal(e,t)}},{key:"isValidURL",value:function(e){return this._option.isValidURL(e,this._option.protocols)}},{key:"isTargetBlankURL",value:function(e){return this._option.isTargetBlankURL(e,this.referenceURL)}},{key:"transformURL",value:function(e){return this._option.transformURL(e,this.referenceURL)}}]),e}();m()(Tp,"OptionName","link");var Mp={link:{parents:[Er.TextContainer],excludes:["link"],category:[Er.Inline,Er.TextContainer],children:[Er.Text]}},Lp={src:{targets:["link"],values:function(e){return"string"==typeof e}},external:{targets:["link"],values:[!0,!1]}};var Ap=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"readNode",value:function(e,t){var n=t.attrs,r=t.children,o=this._extractLinkText(r),i=this._plugin.option,a=i.transformURL(n.href);if(n.href&&i.isValidURL(n.href))if(o){e.stop();var c=Mo.createElement("link",{src:a,external:i.isTargetBlankURL(a)});Mo.appendChild(c,Mo.createTextNode(o)),e.setNode(c)}else e.setState("link",a)}},{key:"_extractLinkText",value:function(e){var t=this;return null!=e&&e.length?e.map((function(e){return"#text"===e.name?e.data:e.children?t._extractLinkText(e.children):""})).join("").replace(/[\u200B\uFEFF]/g,"").trim():""}}]),i}();m()(Ap,"NodeNames",["a"]);var Ip={http:!0,https:!0},jp=/(?:[^a-z0-9]|^)([a-z0-9]{2,}):\/\/(?:[a-z_0-9@:.])+?(?:\/\S*?)?(?:[#\s\S]*?)?(?:(?=[\u0100-\uffff\s])|$)/gi,Vp=function(e){u()(i,Ec);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"read",value:function(e){for(var t,n=this._plugin.option,r=[];t=jp.exec(e);)if(Ip[t[1].toLowerCase()]){var o=t[0],i=t.index;/^[^a-z0-9]/i.test(t[0])&&(i+=1,o=o.substring(1)),n.isValidURL(o)&&r.push({index:i,url:o})}if(0===r.length)return null;var a=[],c=0;return r.forEach((function(t){var r=t.url,o=t.index;o>c&&a.push(Mo.createTextNode(e.substring(c,o)));var i=n.transformURL(r),l=Mo.createElement("link",{external:n.isTargetBlankURL(i),src:i});Mo.appendChild(l,Mo.createTextNode(r)),a.push(l),c=o+r.length})),c<e.length&&a.push(Mo.createTextNode(e.substring(c))),a}}]),i}();var zp=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){var n=t.attrs;n.href&&e.setNode(Mo.createElement("link",{src:n.href,external:"_blank"===n.target}))}}]),i}();var Up=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"write",value:function(e,t){var n=t.attrs,r=void 0===n?{}:n,o=r.src;if(o){var i=o,a=this._plugin.option,c=a.autoCompleteLink,l=a.referenceURL;if(!o.startsWith("#")&&!/^[a-z0-9]+:\/\//i.test(o)&&c&&l)try{i=new URL(o,l).toString()}catch(e){}var s={href:i,"data-href":o};r.external&&(s.target="_blank"),e.setNode(e.createElement("a",{attrs:s,className:"ne-link"}))}}}]),i}();m()(Up,"NodeNames",["link"]);var Hp=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=t.attrs,r=void 0===n?{}:n,o={href:r.src};r.external&&(o.target="_blank"),e.setNode(e.createElement("a",{attrs:o}))}}]),i}();m()(Hp,"NodeNames",["link"]);var qp=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_nodeName",null),t._nodeName=e,t}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();if(t.isTableSelection)return-1;var n=t.firstRange;if(n.collapsed)return-1;var r=n.start.node.closest(Er.Block),o=n.end.node.closest(Er.Block);if(!r||r!==o)return-1;var i=this._nodeName,a=n.start.node.closest(Er.Inline);if(a&&!e.acceptNode(a.nodeName,i))return-1;var c=n.end.node.closest(Er.Inline);if(c&&!e.acceptNode(c.nodeName,i))return-1;var l=(n=Yi.enlargeRangeToCommonAncestor(e,n)).commonAncestorContainer;for(l.isTextNode()&&(l=l.parentNode);l!==r;){if(!e.acceptNode(l.nodeName,i))return-1;l=l.parentNode}var s=!0;return Yi.walkRange(n,(function(t){s&&(e.acceptNode(i,t.nodeName)||(s=!1))})),s?0:-1}}]),i}();var Wp=function(e){u()(i,qp);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,"link"),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"execute",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.newJob();if(!t||-1===this.getState(o)||!r&&!this._plugin.option.isValidURL(t))return e.cancelJob(o),!1;var i={src:t};n&&(i.external=!0);var a=o.createElement("link",i),c=Yi.wrapInlineNode(o,o.getSelection().firstRange,a);return Yi.walkRange(c,(function(e){e.isTextNode()&&o.removeAttribute(e,"color")})),o.dangerDirectSetSelection(o.selectNode(a)),e.commitJob(o),br(a.isConnected,"F:link-command;L:50"),a.id}}]),i}();var Zp=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"getState",value:function(e){if(-1===B()(p()(i.prototype),"getState",this).call(this,e))return-1;var t=e.getSelection().firstRange;if(!t.collapsed)return-1;var n=t.start.node,r=n.isTextNode()?n.parentNode:n;return r.hasCategory([Er.Root,Er.LikeRoot])?e.acceptNode(e.defaultElementName,"link")?0:-1:r&&e.acceptNode(r.nodeName,"link")?0:-1}},{key:"execute",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.newJob();if(!n||!t||-1===this.getState(i)||!o&&!this._plugin.option.isValidURL(n))return e.cancelJob(i),!1;var a={src:n};r&&(a.external=!0);var c=i.getSelection();br(c.isCollapsed,"F:insert-link-command;L:70");var l=i.createElement("link",a),s=i.createTextNode(t);return i.appendChild(l,s),ec.insertInlineNode(i,c.firstRange.start,l),i.dangerDirectSetSelection(i.selectNode(l)),e.commitJob(i),l.id}}]),i}();var Kp=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return this._getLinkNode(e)?0:-1}},{key:"getValue",value:function(e,t){var n=this._getLinkNode(e,t);return n?n.children.map((function(e){return br(e.isTextNode(),"F:link-text-command;L:28"),e.data})).join(""):null}},{key:"_getLinkNode",value:function(e,t){if(t){var n=e.getNodeById(t);return n&&"link"===n.nodeName?n:null}var r=e.getSelection();return r.rangeCount>1?null:r.firstRange.commonAncestorContainer.closest("link")}}]),i}();var $p=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"execute",value:function(e,t,n){if(!n.text&&!n.src&&"boolean"!=typeof n.external)return!1;var r=e.newJob(),o=r.getNodeById(t);if(!o||"link"!==o.nodeName)return e.cancelJob(r),!1;if(n.src){if(!this._plugin.option.isValidURL(n.src))return e.cancelJob(r),!1;r.setAttribute(o,"src",n.src)}return n.text&&this._updateLinkNodeContent(r,o,n.text),"boolean"==typeof n.external&&r.setAttribute(o,"external",n.external),r.dangerDirectSetSelection(r.selectNode(o)),e.commitJob(r),!0}},{key:"_updateLinkNodeContent",value:function(e,t,n){var r=e.createTextNode(n);t.children.forEach((function(n){e.removeChild(t,n)})),e.appendChild(t,r)}}]),i}();var Jp=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n=e.newJob(),r=n.getNodeById(t);if(-1===this.getState(n)||!r||"link"!==r.nodeName)return e.cancelJob(n),!1;var o=Yi.unwrapInlineNode(n,n.getSelection().firstRange,r);return n.setSelection(n.newSelection([o])),e.commitJob(n),!0}}]),i}();var Yp=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"execute",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e.newJob(),c=a.getNodeById(t);if(!c)return e.cancelJob(a),!1;if(br(c.isCardNode(),"F:card-to-link-command;L:22"),!n||!i&&!this._plugin.option.isValidURL(n))return e.cancelJob(a),!1;var l={src:n};o&&(l.external=!0);var s=a.createElement("link",l),u=a.createTextNode(r||n);if(a.appendChild(s,u),a.hasCategory(c.nodeName,Er.BlockCard)){var d=c.closest(Er.Hole),f=a.createElement(a.defaultElementName);a.appendChild(f,s),a.replaceChild(d.parent,f,d)}else a.replaceChild(c.parent,s,c);a.setSelection(a.newSelection(a.newRange(a.newPosition(s.parentNode,s.offset+1)))),e.commitJob(a)}}]),i}();var Gp=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;e.registerElement(Mp),e.registerAttr(Lp),e.registerCommand("link",new Wp(this)),e.registerCommand("unlink",new Jp),e.registerCommand("insertLink",new Zp(this)),e.registerCommand("linkText",new Kp),e.registerCommand("updateLink",new $p(this)),e.registerCommand("cardToLink",new Yp(this)),e.extendMethods({isValidURL:function(){var e;return(e=t.option).isValidURL.apply(e,arguments)},transformURL:function(){var e;return(e=t.option).transformURL.apply(e,arguments)}}),e.hasExtendMethod("registerHTMLNodeReader")&&e.registerHTMLNodeReader(Ap.NodeNames,new Ap(this)),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(Up.NodeNames,new Up(this)),e.hasExtendMethod("registerTextReader")&&e.registerTextReader(new Vp(this)),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader("a",new zp),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(Hp.NodeNames,new Hp),this._initMarkdownKey()}},{key:"_initMarkdownKey",value:function(){var e=this.iKernel;e.hasExtendMethod("registerMarkdownMatcher")&&e.registerMarkdownMatcher("whiteSpace",new Sp(this.iEditing,{match:/\[(.+?)]\(([\S]+?)\)$/,exclude:/!\[(.+?)]\(([\S]+?)\)$/},(function(e,t,n,r){var o=r.matched,i=e.newPosition(n,o.index),a=o[1],c=o[2],l=e.createElement("link",{src:c}),s=e.createTextNode(a);e.appendChild(l,s),ec.insertInlineNode(e,i,l),e.setSelection(e.newSelection(e.newRange(e.newPosition(l.parentNode,l.offset+1))))})))}}]),i}();m()(Gp,"PluginName","link"),m()(Gp,"PluginOption",Tp);var Xp={targets:[Er.Block],values:[1,1.15,1.5,2,2.5,3]};var Qp=function(e){u()(i,zu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"attrName","lineHeight"),e}return a()(i)}(),ev={1:1,115:1.15,15:1.5,2:2,25:2.5,3:3},tv={1:1,1.15:115,1.5:15,2:2,2.5:25,3:3};var nv=/^lake-lineheight-(\d+)$/,rv=function(e){u()(i,Vl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n){(n=n.split(" ")).forEach((function(t){if(nv.test(t)){var n=ev[RegExp.$1];n&&e.setAttr("lineHeight",n)}}))}}]),i}();var ov=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){n&&e.addStyle("line-height",n)}}]),i}();m()(ov,"AttrNames",["lineHeight"]);var iv=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){e.addClassName("lake-lineheight-".concat(tv[n]))}}]),i}();m()(iv,"AttrNames",["lineHeight"]);var av=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttr("lineHeight",Xp),e.registerCommand("lineHeight",new Qp),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(ov.AttrNames,new ov),e.hasExtendMethod("registerLakeAttrReader")&&e.registerLakeAttrReader("class",new rv),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(iv.AttrNames,new iv)}}]),i}();function cv(e,t,n){return t.cloneByRange(t.ranges.map((function(t){return Yi.replaceBlockNodeAndContentTextAttr(e,t,n.blockNodeName,n.blockNodeAttrs,n.textAttrs)})))}m()(av,"PluginName","lineHeight");var lv=function(){function e(t){o()(this,e),m()(this,"_formatData",null),br(t,"F:paint-format-data;L:8"),this._formatData=t}return a()(e,[{key:"getData",value:function(){return this._formatData}}]),e}();var sv=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().isCardSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"getValue",value:function(e){if(this.getState(e)===Oa.UNAVAILABLE)return null;var t=e.getSelection(),n=t.firstRange.start.node,r=zr.closest(t.firstRange.start.node,Er.Block),o=null,i=null;r&&function(e,t){if(t.isCollapsed)return!0;var n=Yi.enlargeRangeInBlockNode(e,t.firstRange);return!(n.start.node!==n.end.node||!n.start.node.hasCategory(Er.Block)||0!==n.start.offset||n.end.offset!==n.end.node.childCount)}(e,t)&&(o=r.nodeName,i=xo(r.attrs));var a=null;return n.isTextNode()&&(a=xo(n.attrs)),new lv({blockNodeName:o,blockNodeAttrs:i,textAttrs:a})}},{key:"execute",value:function(e,t){if(!t)return!1;br(t instanceof lv,"F:paint-format-command;L:51");var n=e.newJob(),r=function(e,t,n){if(t.isCardSelection)return t;if(t.isTableSelection)return cv(e,t,n);var r=t.firstRange;if(r.collapsed&&r.start.node.hasCategory([Er.Hole,Er.TableHole]))return t;if(r.collapsed){if(!zr.closest(r.start.node,Er.Block)){br(r.start.node.hasCategory([Er.Root,Er.LikeRoot]),"F:exec-format;L:24");var o=ec.makeSureAtInput(e,r.start);return cv(e,e.newSelection(e.newRange(o)),n)}return cv(e,t,n)}var i=r.start.node,a=r.end.node,c=zr.closest(i,Er.Block),l=zr.closest(a,Er.Block);return c&&l&&c===l?function(e,t,n){var r=n.textAttrs,o=Yi.splitTextContent(e,t.firstRange);return Yi.walkRange(o,(function(t){if(t.isTextNode()){var n=t.attrs;Object.keys(n).forEach((function(n){e.removeAttribute(t,n)})),r&&Object.keys(r).forEach((function(n){e.setAttribute(t,n,r[n])}))}})),t.cloneByRange(o)}(e,t,n):cv(e,t,n)}(n,n.getSelection(),t.getData());return n.setSelection(r),!0}}]),i}();var uv=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("paintFormat",new sv)}}]),i}();function dv(e,t){return dc.replaceBlockNode(e,t,null,!1)}m()(uv,"PluginName","formatPainter");var fv=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return dc.isInCard(t)||dc.isInHole(t)?-1:0}},{key:"execute",value:function(e){var t=e.newJob(),n=function(e,t){if(t.isCardSelection)return t;if(t.isTableSelection)return dv(e,t);var n=t.firstRange;if(n.collapsed){if(!zr.closest(n.start.node,Er.Block)){br(n.start.node.hasCategory([Er.Root,Er.LikeRoot]),"F:clear-format;L:20");var r=ec.makeSureAtInput(e,n.start);return dv(e,e.newSelection(e.newRange(r)))}return dv(e,t)}var o=n.start.node,i=n.end.node,a=zr.closest(o,Er.Block),c=zr.closest(i,Er.Block);return a&&a===c?function(e,t){var n=Yi.splitTextContent(e,t.firstRange);return Yi.walkRange(n,(function(t){if(t.isTextNode()){var n=t.attrs;Object.keys(n).forEach((function(n){e.removeAttribute(t,n)}))}})),t.cloneByRange(n)}(e,t):dv(e,t)}(t,t.getSelection());return t.setSelection(n),!0}}]),i}();var hv=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("clearFormat",new fv)}}]),i}();m()(hv,"PluginName","clearFormat");var pv=function(){function e(t){o()(this,e),m()(this,"_iEditing",null),m()(this,"_textList",null),m()(this,"_positionList",null),this._iEditing=t;var n=t.job,r=[],i=[];n.getSelection().isCardSelection||n.getSelection().ranges.forEach((function(e){Yi.getTextSections(n,e).forEach((function(e){e.forEach((function(e){e&&e.fragments.forEach((function(e){var t=e.text.trim();t&&(r.push(t),i.push({start:e.start,end:e.end}))}))}))}))})),this._textList=r,this._positionList=i}return a()(e,[{key:"getTextList",value:function(){return x()(this._textList)}},{key:"getPositionList",value:function(){return x()(this._positionList)}}],[{key:"replaceContent",value:function(e,t,n){br(Array.isArray(n),"F:translate-context;L:12");var r=[];return n.forEach((function(n){if(t.length){var o=t.shift(),i=o.start,a=o.end;i.node.isConnected&&(i.offset<0||a.offset>i.node.dataLength||(e.setTextNodeData(i.node,Sr.replaceString(i.node.data,i.offset,a.offset,n)),r.push({start:{node:i.node,offset:i.offset},end:{node:i.node,offset:i.offset+n.length}})))}})),r.length?r:null}}]),e}();var vv=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().isCardSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e,t,n){if(!t)return this._doInsert(e,n);if(!(t instanceof pv))return!1;var r=e.newJob();if(this.getState(r)===Oa.UNAVAILABLE)return e.cancelJob(r),!1;var o=pv.replaceContent(r,t.getPositionList(),n);if(!r.getSelection().isTableSelection&&o){var i=r.newPosition(o[0].start.node,o[0].start.offset),a=r.newPosition(o[o.length-1].end.node,o[o.length-1].end.offset);r.setSelection([r.newRange(i,a)])}return e.commitJob(r),!0}},{key:"_doInsert",value:function(e,t){var n=e.newJob(),r=t.map((function(e){var t=Mo.createElement("p");return Mo.appendChild(t,Mo.createTextNode(e.trim())),t})),o=Mo.createFragment(r),i=dc.insertINode(n,n.getSelection(),o);return n.setSelection(i),e.commitJob(n),!0}}]),i}();var mv=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){e.registerCommand("translate",new vv),e.extendMethods({getTranslateContext:function(){return new pv(t)}})}}]),i}();m()(mv,"PluginName","translate");var yv=["0.0.0.0","255.255.255.255",/^127\./,/^192\.168\./,/^10\./],gv=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isBase64ImageURL",value:function(e){return!!e&&/^data:image\//i.test(e)}},{key:"isFullHttpURL",value:function(e){if("string"!=typeof e)return!1;if(!e)return!1;if(/[\u0020\n]/.test(e))return!1;try{var t=new URL(e).protocol;return"http:"===t||"https:"===t}catch(e){return!1}}},{key:"parseQuery",value:function(e,t){var n="";return t.forEach((function(t){var r=t[0],o=t[1];"number"==typeof o&&(o=e[o]),n+="".concat(r,"=").concat(o,"&")})),n.substring(0,n.length-1)}},{key:"matchAndReplaceUrl",value:function(t,n){for(var r=!1,o=0;o<t.length;o++){var i=t[o],a=i[0],c=i[1],l=n.match(c);if(l){r="".concat(l[1],"?").concat(e.parseQuery(l,a));break}}return r}},{key:"validateLocalHost",value:function(e){try{var t=new URL(e,"http://localhost").hostname;return!(!t||"localhost"===t||/^\d+\.\d+.\d+.\d+$/.test(t)&&yv.some((function(e){return"string"==typeof e?e===t:e.test(t)})))}catch(e){return!1}}},{key:"getExtName",value:function(e){var t="";try{t=new URL(e,"http://localhost").pathname}catch(e){return null}var n=t.split("/"),r=n[n.length-1]||"";if(!r)return null;var o=(r=r.split("."))[r.length-1];return o?o.toLowerCase():null}},{key:"addOSSImageParams",value:function(e,t,n){var r;try{r=new URL(e)}catch(t){return e}var o=r.searchParams;return n=n?",".concat(n):"",o.get("x-oss-process")?o.set("x-oss-process","".concat(o.get("x-oss-process"),"/").concat(t).concat(n)):o.append("x-oss-process","image/".concat(t).concat(n)),r.toString()}},{key:"sanitizeUrl",value:function(){return xv.apply(void 0,arguments)}},{key:"sanitizeImageSrc",value:function(e){return this.isBase64ImageURL(e)?e:xv(e)}},{key:"getProtocol",value:function(e){if(!e)return null;try{return new URL(e).protocol}catch(e){return null}}},{key:"validUrl",value:function(){return wv.apply(void 0,arguments)}}]),e}(),bv=["http:","https:","blob:","data:","dingtalk:","ftp:","mailto:","fleamarket:","alipays:"];function wv(e){if("string"!=typeof e)return!1;if((e=e.toLowerCase()).startsWith("data:text/html"))return!1;var t=e.split("#")[0];return!/\s/.test(t)&&(!!bv.some((function(t){return e.startsWith(t)}))||!(!e.startsWith("./")&&!e.startsWith("/"))||e.indexOf(":")<0)}function xv(e){return"string"==typeof e&&(e=e.trim()),wv(e)?e:""}function _v(e){var t=e.replace(/^https?:\/\/[^/]+/,"").replace(/^\/attachments\//,"");return"/"===t.charAt(0)&&(t=t.substr(1)),t}function kv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=_v(e);if(Wc(r)||Zc(r))return"".concat(t,"/office/").concat(r,"?from=").concat(encodeURIComponent(n));var o=jc(e);return"pdf"===o?"".concat(t,"/office/").concat(r,"?from=").concat(encodeURIComponent(n)):"".concat(t,"/preview/").concat(r,"?from=").concat(encodeURIComponent(n))}function Cv(e,t){return xv(e+"?from=".concat(encodeURIComponent(t)))}function Rv(e,t,n){if(!e||!t||"object"!==R()(t))return e;try{var r=new URL(e,n);Object.keys(t).forEach((function(e){r.searchParams.append(e,t[e])}));var o=r.search;return e.split("?")[0]+o}catch(t){return console.warn(t),e}}function Nv(e,t){var n=new URL(e),r=n.origin,o=n.pathname,i="".concat(r).concat(o.replace(/\/edit$/,""));return t?"".concat(i,"#").concat(t):i}function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dv=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_cardValue",null),m()(l()(n),"_pluginOption",null),n._resetCardValue(e),n._pluginOption=t||null,n}return a()(i,[{key:"init",value:function(){}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"cardAlias",get:function(){return null}},{key:"pluginOption",get:function(){return this._pluginOption}},{key:"resetCardValue",value:function(e,t){br("boolean"==typeof t,"F:card-data;L:72"),this._resetCardValue(e),this.afterChange(t)}},{key:"formatCardValue",value:function(e){return Ov(Ov({},xo(this.constructor.DefaultCardValue)),e)}},{key:"getCardValue",value:function(){return Ov({},this._cardValue)}},{key:"afterChange",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.emit("change",e)}},{key:"setCardSpacing",value:function(e){e!==this._cardValue.__spacing&&(e?this._cardValue.__spacing=e:delete this._cardValue.__spacing,this.emit("spacingChange"))}},{key:"addCardTopSpacing",value:function(){var e=this._cardValue.__spacing;e?"bottom"===e&&(this._cardValue.__spacing="both",this.emit("spacingChange")):(this._cardValue.__spacing="top",this.emit("spacingChange"))}},{key:"removeCardTopSpacing",value:function(){var e=this._cardValue.__spacing;"both"===e?(this._cardValue.__spacing="bottom",this.emit("spacingChange")):"top"===e&&(delete this._cardValue.__spacing,this.emit("spacingChange"))}},{key:"addCardBottomSpacing",value:function(){var e=this._cardValue.__spacing;e?"top"===e&&(this._cardValue.__spacing="both",this.emit("spacingChange")):(this._cardValue.__spacing="bottom",this.emit("spacingChange"))}},{key:"removeCardBottomSpacing",value:function(){var e=this._cardValue.__spacing;"both"===e?(this._cardValue.__spacing="top",this.emit("spacingChange")):"bottom"===e&&(delete this._cardValue.__spacing,this.emit("spacingChange"))}},{key:"toggleCardSpacing",value:function(){this._cardValue.__spacing?delete this._cardValue.__spacing:this._cardValue.__spacing="both",this.emit("spacingChange")}},{key:"getWidthMode",value:function(){var e;return"contain"===(null===(e=this._cardValue)||void 0===e?void 0:e.__widthMode)?"contain":"normal"}},{key:"toggleWidthMode",value:function(){var e,t="contain"===(null===(e=this._cardValue)||void 0===e?void 0:e.__widthMode)?"normal":"contain";this._cardValue.__widthMode=t,this.emit("widthModeChange",t)}},{key:"removeCardSpacing",value:function(){delete this._cardValue.__spacing,this.emit("spacingChange")}},{key:"getCardSpacing",value:function(){return this._cardValue.__spacing}},{key:"hasCardSpacing",value:function(){return"both"===this._cardValue.__spacing}},{key:"hasCardTopSpacing",value:function(){var e=this._cardValue.__spacing;return"both"===e||"top"===e}},{key:"hasCardBottomSpacing",value:function(){var e=this._cardValue.__spacing;return"both"===e||"bottom"===e}},{key:"__getCardValueWithNewHeight",value:function(e){return Ov(Ov({},this._cardValue),{},{__height:e})}},{key:"recoverCardHeight",value:function(){delete this._cardValue.__height,this.emit("cardHeightReset")}},{key:"getCardHeight",value:function(){return this._cardValue.__height}},{key:"sync",value:function(e){}},{key:"_resetCardValue",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!!this._cardValue,r=Sv(t.__height),o=Sv(null===(e=this._cardValue)||void 0===e?void 0:e.__height);this._cardValue=this.formatCardValue(t),br(this._cardValue&&"object"===R()(this._cardValue),"F:card-data;L:254"),n&&r!==o&&this.emit("heightChange",{newHeight:r,oldHeight:o})}}],[{key:"setCardSpacingToValue",value:function(e,t){return br(t,"F:card-data;L:26"),Ov(Ov({},t),{},{__spacing:e})}}]),i}();function Sv(e){if(null!==e)return e}var Bv=!1,Pv=!1;var Fv=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getStatus",value:function(){return this._cardValue.status}},{key:"getSrc",value:function(){return this._cardValue.src}},{key:"getSize",value:function(){return this._cardValue.size}},{key:"getPreviewSrc",value:function(){return this.toDisplaySrc(this._cardValue.src)}},{key:"getDisplaySrc",value:function(){return this.toDisplaySrc(this._cardValue.src)}},{key:"toDisplaySrc",value:function(e){return e?gv.isBase64ImageURL(e)?e:function(e,t,n){if(!e.startsWith("http")||t)return e;const r=new URL(e);return r.pathname&&!r.pathname.toLowerCase().endsWith(".webp")?e:q(e,n||U)?H(r,"format","png"):null}(this._pluginOption.onBeforeRenderImage(e,this._pluginOption.isCaptureImageURL(e)),function(){if(Bv)return Pv;var e=document.createElement("canvas");return Pv=!(!e.getContext||!e.getContext("2d"))&&(W.ua.chrome||W.ua.firefox||0===e.toDataURL("image/webp").indexOf("data:image/webp")),Bv=!0,Pv}()):e}},{key:"getName",value:function(){return this._cardValue.name}},{key:"getTaskId",value:function(){return this._cardValue.taskId}},{key:"getClientId",value:function(){return this._cardValue.clientId}},{key:"getOcrLocations",value:function(){return this._cardValue.ocr}},{key:"hasUserWidth",value:function(){return!!this._cardValue.width}},{key:"getUserWidth",value:function(){return this._cardValue.width}},{key:"getOriginalWidth",value:function(){return this._cardValue.original.width}},{key:"getOriginalHeight",value:function(){return this._cardValue.original.height}},{key:"getCropWidth",value:function(){return Math.round(this._cardValue.original.width*(this._cardValue.crop[2]-this._cardValue.crop[0]))}},{key:"getCropHeight",value:function(){return Math.round(this._cardValue.original.height*(this._cardValue.crop[3]-this._cardValue.crop[1]))}},{key:"getRotationCropWidth",value:function(){return this._cardValue.rotation%180==0?this.getCropWidth():this.getCropHeight()}},{key:"getRotationCropHeight",value:function(){return this._cardValue.rotation%180==0?this.getCropHeight():this.getCropWidth()}},{key:"getOriginDisplayWidth",value:function(){return this._cardValue.rotation%180==0?Math.round(this.getDisplayWidth()*this.getOriginalWidth()/this.getCropWidth()):Math.round(this.getDisplayHeight()*this.getOriginalWidth()/this.getCropWidth())}},{key:"getDisplayWidth",value:function(){return this._cardValue.width?this._cardValue.width:this.getRotationCropWidth()}},{key:"getDisplayHeight",value:function(){var e=this.getDisplayWidth(),t=this.getRotationCropWidth(),n=this.getRotationCropHeight();return e===t?n:Math.round(e/t*n)}},{key:"isCompleted",value:function(){var e=this._cardValue.status;return"done"===e||"error"===e}},{key:"isValid",value:function(){return!!this._cardValue.src}},{key:"isFromPaste",value:function(){return"paste"===z()(this._cardValue,"original.from",null)}},{key:"isBinaryType",value:function(){return"binary"===z()(this._cardValue,"original.type",null)}},{key:"getRatio",value:function(){return z()(this._cardValue,"original.ratio",1)}},{key:"setImageOriginSize",value:function(e,t){this._cardValue.original.width=e,this._cardValue.original.height=t}},{key:"setDisplayWidth",value:function(e){this._cardValue.width=e}},{key:"resetDisplayWidth",value:function(){delete this._cardValue.width}},{key:"resetRotationCrop",value:function(){if(this._cardValue.width){var e=this._cardValue.width/this.getRotationCropWidth();this._cardValue.width=Math.ceil(e*this.getOriginalWidth())}this._cardValue.rotation=0,this._cardValue.crop=[0,0,1,1]}},{key:"setImageInfo",value:function(e){var t=e.url,n=e.filename,r=e.ocrLocations,o=e.size;br(t,"F:image-card-data;L:331");var i=this._cardValue;i.src=t,i.size=o,i.status="done",n&&(i.name=n),r&&(i.ocr=r,i.search=this._getSearchText(r))}},{key:"setUploadError",value:function(e){this._cardValue.status="error",this._cardValue.errorMessage=e||"unknown error"}},{key:"setLink",value:function(e){e?e!==this._cardValue.link&&(this._cardValue.link=e):delete this._cardValue.link}},{key:"getLink",value:function(){return this._cardValue.link}},{key:"setLinkExternal",value:function(e){this._cardValue.linkExternal=e}},{key:"isOpenLinkInSelf",value:function(){return!1===this._cardValue.linkExternal}},{key:"setStyle",value:function(e){e&&"none"!==e?e!==this._cardValue.style&&(this._cardValue.style=e):delete this._cardValue.style}},{key:"getStyle",value:function(){return this._cardValue.style}},{key:"_getSearchText",value:function(e){return e.map((function(e){return e.text})).join(" ")}},{key:"showTitle",value:function(){return this._cardValue.showTitle}},{key:"getTitle",value:function(){return this._cardValue.title}},{key:"getRotation",value:function(){return this._cardValue.rotation}},{key:"getCrop",value:function(){return this._cardValue.crop}},{key:"setShowTitle",value:function(e){this._cardValue.showTitle=e}},{key:"setTitle",value:function(e){this._cardValue.title=e}},{key:"setRotation",value:function(e){this._cardValue.rotation=e%360}},{key:"setCrop",value:function(e){this._cardValue.crop=e}},{key:"isAfterEdit",value:function(){return 0!==this._cardValue.rotation||Tv(this._cardValue.crop[0]-0,this.getOriginalWidth())||Tv(this._cardValue.crop[1]-0,this.getOriginalHeight())||Tv(this._cardValue.crop[2]-1,this.getOriginalWidth())||Tv(this._cardValue.crop[3]-1,this.getOriginalHeight())}}],[{key:"createValueByURL",value:function(e){var t=e.type,n=e.src,r=e.originalURL,o=e.ratio,a=e.link,c=e.linkExternal;return Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,{original:{type:t,from:"url",ratio:o,url:r},src:n,status:"done",link:a,linkExternal:c}))}},{key:"createWillUploadValue",value:function(e){var t=e.type,n=e.from,r=e.name,o=e.ratio,a=e.taskId,c=e.clientId,l=e.originalURL,s=e.link,u=e.linkExternal;return br(a&&c,"F:image-card-data;L:64"),Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,{original:{type:t,from:n,ratio:o,url:l},name:r,taskId:a,clientId:c,status:"pending",link:s,linkExternal:u}))}},{key:"fromRepository",value:function(e){var t=e.copiedFileInfo;return T()({},i.DefaultCardValue,{source:"transfer",src:t.url,status:"done"})}},{key:"fromLake",value:function(e){var t;return T()({},i.DefaultCardValue,{src:(null===(t=e.src)||void 0===t?void 0:t.url)||e.src,name:e.name,size:e.size,taskId:e.taskId,clientId:e.clientId,errorMessage:e.errorMessage,link:e.link,linkExternal:"_blank"===e.linkTarget,style:e.style,original:{type:e.originalType,from:e.from,ratio:e.ratio||1,width:e.originWidth,height:e.originHeight},width:e.width,status:e.status,ocr:e.ocrLocations,search:e.search,showTitle:e.showTitle,title:e.title,rotation:e.rotation,crop:e.crop||[0,0,1,1]})}},{key:"toLake",value:function(e){return{src:e.src,taskId:e.taskId,clientId:e.clientId,originalType:z()(e,"original.type"),width:e.width,height:Mv(e),link:e.link,linkTarget:e.linkExternal?"_blank":"",name:e.name,size:e.size,from:z()(e,"original.from"),originWidth:z()(e,"original.width"),originHeight:z()(e,"original.height"),ratio:z()(e,"original.ratio"),status:e.status,style:e.style,errorMessage:e.errorMessage,search:e.search,ocrLocations:e.ocr,showTitle:e.showTitle,title:e.title,rotation:e.rotation,crop:e.crop||[0,0,1,1]}}}]),i}();function Tv(e,t){return Math.abs(e*t)>=1}function Mv(e){var t=e.original||{},n=t.width,r=t.height,o=e.width;if(n&&r&&o)return o===n?r:Math.round(o/n*r)}m()(Fv,"DefaultCardValue",{src:null,original:{type:"binary",from:void 0,ratio:1,width:void 0,height:void 0},name:void 0,size:void 0,width:void 0,status:"pending",errorMessage:void 0,style:"none",taskId:void 0,clientId:void 0,link:void 0,linkExternal:!0,ocr:void 0,search:void 0,crop:[0,0,1,1],showTitle:!1,title:"",rotation:0});var Lv,Av={accept:null},Iv=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Av,t)}return a()(e,[{key:"accept",get:function(){return this._option.accept}}]),e}();function jv(e){return Array.from(new Set(e)).map((function(e){return(e.startsWith(".")?e:".".concat(e)).toLowerCase()}))}m()(Iv,"OptionName","image");var Vv=jv(W.EXTS.IMAGE_EXT),zv=jv(W.EXTS.FILE_EXT),Uv=jv(W.EXTS.VIDEO_EXT.filter((function(e){return!["m4a","flac"].includes(e)}))),Hv=jv(W.EXTS.AUDIO_EXT),qv=jv(W.EXTS.DOC_MS_OFFICE_EXT),Wv=jv(W.EXTS.DOC_MAC_OFFICE_EXT),Zv=jv(W.EXTS.DOC_MIND_EXT),Kv=jv(W.EXTS.DOC_DESIGN_EXT),$v=jv(["pdf"]),Jv=[].concat(qv,Wv,Zv,Kv,$v),Yv=jv(Jv),Gv=jv([].concat(Jv,Uv,Hv)),Xv=(m()(Lv={},"ms-office",qv),m()(Lv,"mac-office",Wv),m()(Lv,"mind",Zv),m()(Lv,"desgin",Kv),m()(Lv,"pdf",$v),m()(Lv,"upload",Gv),m()(Lv,"localdoc",Yv),Lv);function Qv(e,t){return t?e.filter((function(e){return t.includes(e)})):e}var em=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getAttachmentFileAccept",value:function(e){return Qv(zv,e)}},{key:"getImageFileAccept",value:function(e){return Qv(Vv,e)}},{key:"getAudioFileAccept",value:function(e){return Qv(Hv,e)}},{key:"getVideoFileAccept",value:function(e){return Qv(Uv,e)}},{key:"getLocalDocFileAccept",value:function(e,t){return br(t in Xv,"F:file-accept;L:68"),Qv(Xv[t],e)}}]),e}();var tm=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_imagePlugin",null),m()(l()(n),"_iKernel",null),n._imagePlugin=e,n._iKernel=t,n}return a()(i,[{key:"readNode",value:function(e,t){var n=t.attrs,r=n.src,o=n._$neUploadTaskId,i=n._$neImageSrc;if(i||o){var a,c=e.getState("link");if(i)a=Mo.createCard("image",Fv.createValueByURL({from:"paste",originalURL:r,ratio:this._imagePlugin.option.ratio,src:i,link:c,linkExternal:!!c||void 0}));else{var l=xr(9);a=Mo.createCard("image",Fv.createWillUploadValue({type:"url",from:"paste",ratio:this._imagePlugin.option.ratio,originalURL:r,taskId:o,clientId:this._iKernel.id,link:c,linkExternal:!!c||void 0}),l),this._imagePlugin.registerTask(o,l)}e.setNode(a)}}}]),i}();m()(tm,"NodeNames",["img"]);var nm=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"read",value:function(e,t,n,r){n.src&&!n.status&&(n.status="done");var o=Mo.createCard("image",Fv.fromLake(n),r);e.setNode(o)}}]),i}();var rm=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"read",value:function(e,t){var n,r=null===(n=t.attrs)||void 0===n?void 0:n.value;r&&(r.src&&!r.status&&(r.status="done"),e.setNode(Mo.createCard("image",r,t.id)))}}]),i}();var om=function(e){u()(i,Ac);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_imagePlugin",null),m()(l()(n),"_iKernel",null),n._imagePlugin=e,n._iKernel=t,n}return a()(i,[{key:"readFile",value:function(e,t){var n;if("ui"!==(null==t?void 0:t.from)||"image"===(null==t?void 0:t.category)){var r=e._$neUploadTaskId;if(r){var o=xr(9),i=Mo.createCard("image",Fv.createWillUploadValue({type:"binary",from:t?t.from:void 0,ratio:this._imagePlugin.option.ratio,name:null===(n=e.file)||void 0===n?void 0:n.name,taskId:r,clientId:this._iKernel.id}),o);return this._imagePlugin.registerTask(r,o),i}}}}]),i}();var im=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value,r=void 0===n?{}:n;if(r.src){var o=null;if(r.link){var i={href:r.link};!1!==r.linkExternal&&(i.target="_blank"),o=e.createElement("a",{className:"ne-image-link",attrs:i})}var a=e.createElement("img",{className:"ne-image",attrs:{src:r.src,width:r.width||r.original&&r.original.width}});o?(e.appendChild(o,a),e.setNode(o)):e.setNode(a)}}}]),i}();m()(im,"NodeNames",["image"]);var am=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("image",Fv.toLake(n),r);e.setNode(o)}}]),i}();var cm=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_imagePlugin",null),t._imagePlugin=e,t}return a()(i,[{key:"getValue",value:function(e,t){return this._imagePlugin.getNodeIdByTaskId(t)}}]),i}();var lm=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_imagePlugin",null),t._imagePlugin=e,t}return a()(i,[{key:"execute",value:function(e,t){var n=e.newJob();if(this.getState(n)===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var r=qa.insertCardNode(n,n.getSelection(),"image",t),o=r.selection,i=r.cardNode;return t.taskId&&this._imagePlugin.registerTask(t.taskId,i.id),n.setSelection(o),e.commitJob(n),i.id}}]),i}();var sm=function(e){u()(i,ru);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){B()(p()(i.prototype),"execute",this).call(this,e,t,n)}}]),i}();var um=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n=e.newJob(),r=n.getNodeById(t);if(!r||!r.isConnected||!r.isCardNode())return e.cancelJob(n),!1;var o=r.parentNode.childCount,i=n.newSelection(n.newRange(n.newPosition(r.parentNode,r.offset+1)));if(br(i.collapsed,"F:image-title-breakline-command;L:18"),o>1)return n.setSelection(i),e.commitJob(n),!0;var a=ec.breakLine(n,i.firstRange.start);return n.setSelection([n.newRange(a)]),e.commitJob(n),!0}}]),i}();var dm=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_taskMap",{}),m()(l()(e),"_uploadImageByURLHandler",null),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerInlineCard(i.cardName),e.registerCommand("image",new lm(this)),e.registerCommand("imageTask",new cm(this)),e.registerCommand("moveImage",new sm),e.registerCommand("imageTitleBreakLine",new um(this)),e.hasExtendMethod("registerHTMLNodeReader")&&e.registerHTMLNodeReader(tm.NodeNames,new tm(this,e)),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(im.NodeNames,new im),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("image",new nm(e)),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader("image",new rm(e)),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("image",new am),e.hasExtendMethod("registerFileReader")&&e.registerFileReader(em.getImageFileAccept(this.option.accept),new om(this,e)),e.extendMethods({setUploadImageByURLHandler:function(e){t._uploadImageByURLHandler=e}}),this._initMarkdownKey()}},{key:"_initMarkdownKey",value:function(){var e=this,t=this.iKernel;t.hasExtendMethod("registerMarkdownMatcher")&&t.registerMarkdownMatcher("whiteSpace",new Sp(this.iEditing,{match:function(t){if(!e._uploadImageByURLHandler)return null;var n,r=/\!\[([^\]]*?)\]\(([^\]]+?)\)$/.exec(t);return r?(n=r[2],gv.isBase64ImageURL(n)||gv.isFullHttpURL(n)?r:null):null}},(function(t,n,r,o){var i,a=o.matched,c=t.newPosition(r,a.index),l=a[2],s=e._uploadImageByURLHandler(l);br(s.taskId||s.url,"F:kernel/index;L:101"),i=s.taskId?Fv.createWillUploadValue({type:"url",from:"markdown",ratio:e.option.ratio,originalURL:l,taskId:s.taskId,clientId:e.iKernel.id}):Fv.createValueByURL({from:"markdown",ratio:e.option.ratio,originalURL:l,src:s.url});var u=qa.insertCardNode(t,t.newSelection(t.newRange(c)),"image",i).cardNode;t.setSelection(t.newSelection(t.newRange(t.newPosition(u.parentNode,u.offset+1))))})))}},{key:"registerTask",value:function(e,t){this._taskMap[e]=t}},{key:"getNodeIdByTaskId",value:function(e){return this._taskMap[e]}}]),i}();function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(dm,"PluginName","image"),m()(dm,"PluginOption",Iv),m()(dm,"cardName","image");var pm={docId:null,disabled:!1},vm=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=hm(hm({},pm),t)}return a()(e,[{key:"docId",get:function(){return this._option.docId}},{key:"price",get:function(){return this._option.price}},{key:"daysCount",get:function(){return this._option.daysCount}},{key:"tip",get:function(){return this._option.tip}},{key:"freeze",get:function(){return this._option.freeze}},{key:"expired",get:function(){return this._option.expired}},{key:"disabled",get:function(){return this._option.disabled}}]),e}();m()(vm,"OptionName","premium");var mm=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(mm,"CardName","premium");var ym={"剪切":"Cut","复制":"Copy","删除":"Delete","粘贴":"Paste","复制链接":"Copy link","添加间距":"Add spacing","全屏":"Maximize","全屏编辑":"Maximize","提交":"Submit","保存到资源知识库":"Save to resource","开始":"Start","新建节点":"New Node","转码中":"transcoding","无标题":"Untitled","无法获取团队信息":"Unable to get group info","获取内容失败":"Failed to load","内容加载中":"Loading","卡片名":"card","快捷指令":"command","图片加载失败":"Network error, can't display image","图片上传失败":"Failed to upload the image, please retry","上传中":"Uploading","设置状态":"SET STATUS","查看帮助文档":"Help","确定":"Ok","添加 Tex 公式":"New equation","用户名":"User","没有匹配的用户":"No match","模板":"Template","查看帮助":"Help","该卡片引入的链接无法访问":"No support for displaying the content of this website","请输入链接":"Does not support embedding the link","查案示例":"Example","插入失败":"Failed to insert","添加中":"Copying","视频链接已损坏":"Video content is broken","查询转码失败":"Query transcoding failed","视频已损坏":"The video is damaged","视频无法播放，请稍后重试":"Video playback error, please try again later","获取视频中":"Getting video","正在转码中，请稍候...":"Transcoding, please wait a moment","搜索语雀文档、表格或贴入链接":"Search for documents, tables or paste links","查看示例":"Example","正在加载中...":"Loading...","加载失败":"Loading failed","最近使用":"Recently Used","通用":"Commonly used","小应用":"App","在文档中贴入链接可快速关联内容":"Paste links to quickly associate content","搜索范围: ":"Search range: ","内容加载中 ...":"Loading ...","不支持该链接":"The link is not supported","未能获取内容":"Loading failed","无效链接":"Invalid link","不支持嵌入该链接":"Does not support embedding the link","默认":"Default","加载中":"Loading","复制成功":"Copied successfully","返回文档":"Back to document","无匹配卡片":"No suitable card","暂不支持显示该网站内容":"No support for displaying the content of this website","粘贴页面链接到此处，支持：":"Paste page url here, support: ","长按":"Drag to ","拖拽":"reposition","点击":"Click to ","打开菜单":"open menu","$1不能正常显示":"$1不能正常显示","复制卡片":"复制卡片","确认":"Ok","取消":"Cancel","如":"like","图片":"Image","表格":"Table","附件":"Attachment","日历":"Calendar","代码块":"Code block","公式":"Formula","思维导图":"Mindmap","流程图":"Flowchart","文本绘图":"Text diagram","语雀内容":"Yuque content","本地文件":"Local File","第三方服务":"Third party Service","付费阅读":"Paid reading","状态":"Status","Office 文件":"Windows office suite","支持 Word, Excel, PPT":"Supported Word, Excel, PPT","Mac 办公套件":"Mac office suite","支持 Pages, Numbers, Keynote":"Supported Pages, Numbers, Keynote","思维导图文件":"Mind map file","支持 MindManager, XMind, MindNode":"Supported MindManager, XMind, MindNode","设计文件":"Design files","支持 Axure, Photoshop, Sketch":"Supported Axure, Photoshop, Sketch","PDF 文件":"PDF","本地视频":"Local video","本地音频":"Local audio","优酷":"Youku","哔哩哔哩":"BiliBili","宜搭":"Yida","淘宝视频":"TaoBao Video","网易云音乐":"163 Music","高德地图":"AMap","墨刀":"Mockingbot","金数据":"JinShuJu","内部三方工具":"Internal tools","引入":"Introduction","媒体":"Media","地图":"Map","设计":"Design","开发":"Development","表单":"Form","上传文件":"Upload","嵌入":"Embed","常用":"Common","文本":"Text","插入特色卡片":"Insert image, table, attachment, codeblock, etc.","保存文档":"Save draft","撤销":"Undo","重做":"Redo","格式刷":"Paint format","清除格式":"Clean formatting","正文与标题":"Heading and text","字号":"Font size","粗体":"Bold","斜体":"Italic","删除线":"Strike-through","下划线":"Underline","更多文本样式":"More text styles","字体颜色":"Text color","背景颜色":"Highlight color","对齐方式":"Align","无序列表":"Bulleted list","有序列表":"Numbered list","任务列表":"To-Do list","缩进":"Indent","行高":"Line Height","插入链接":"Link","插入引用":"Quotation","引用":"Quotation","插入分割线":"Horizontal line","查找替换":"Search & Replace","翻译":"Translate","大纲":"TOC","插入资源":"Resource","上标":"Superscript","下标":"Subscript","行内代码":"Inline code","正文":"Normal","标题1":"Heading 1","标题2":"Heading 2","标题3":"Heading 3","标题4":"Heading 4","标题5":"Heading 5","标题6":"Heading 6","增加缩进":"Increase indent","减少缩进":"Decrease indent","左对齐":"Left align","居中对齐":"Centre align","右对齐":"Right align","垂直对齐":"Vertical Align","顶对齐":"Top align","底对齐":"Bottom align","两端对齐":"Justify","顶部对齐":"Align top","垂直居中":"Align middle","底部对齐":"Align bottom","分隔线":"Horizontal line","表情":"Emoji","更多":"More","排版：经典优雅":"Classic elegance","排版：传统紧凑":"Traditional compact","页面宽度：标宽":"Fixed Width","页面宽度：超宽":"Adaptive Width","单元格背景色":"cell background color","组合样式":"compose color style","最近自定义":"recent custom define","嵌入预览":"Embedded preview","紧凑展示":"Compact display","设置":"Preferences","访问链接":"Visit link","编辑链接":"Edit link","取消链接":"Delete link","标题":"Title","卡片":"Card","默认高度":"Default Height","自适应高度":"Adaptive Height","在新标签页中打开":"Open in new tab","浏览器访问":"Open in browser","打开文档":"Open in YuqueDesktop","复制代码":"Copy","深色主题":"Dark Theme","自动换行":"Auto Wrap","锁住":"Lock","解锁":"Unlock","请输入密码":"Enter Password to unlock","密码有误":"Incorrect password","加密文本":"Locked Text","密码出错超过 5 次，请 1 分钟后再尝试":"Password has gone wrong more than 5 times, please try again after 1 minute","未设置密码，将明文显示":"Currently unencrypted","设置密码":"Set Password","设置密码 (谨慎保管，丢失后无法找回)：":"Set the password (careful custody, the text cannot be retrieved after the password is lost)","建议设置 6 位以上":"Recommend to set more than 6 digits","加密失败":"Encryption failed","此处为语雀加密文本卡片，点击链接查看：":"Here is the yuque lock text card, click on the link to view:","黑色":"black","灰色":"gray","橙色":"orange","白色":"white","浅红":"lighted","浅橙":"lightOrange","浅黄":"lightYellow","浅绿":"lightgreen","浅蓝":"lightblue","浅紫":"lightpurple","蓝色":"blue","玫红色":"rose red","绿色":"green","红色":"red","紫色":"purple","黄色":"yellow","今天":"Today","星期日":"Su","星期一":"Mo","星期二":"Tu","星期三":"We","星期四":"Th","星期五":"Fr","星期六":"Sa","添加日程标题":"Untitled","新事件":"Untitled","添加说明":"Add a description","YYYY 年 M 月":"MMM YYYY","请输入投票标题":"Enter a title","选项 $1":"Option $1","确定删除该选项？":"Are you sure you want to delete it?","添加选项":"Add","截止日期":"Deadline","单选":"Single","多选":"Multiple","截止":"","已截止":"Ended","投票":"Vote","重新投票":"re-vote","%1 人已投票":"%1 voted","投票中...":"voting ...","正在获取投票数据...":"fetching ...","投票数据异常":"Illegal data","获取投票数据失败":"Failed to load data","此处为语雀投票卡片，点击链接查看：":"Here is the yuque vote card, click on the link to view:","文件上传失败，请重试":"Failed to upload the file, please retry","预览":"Preview","下载":"Download","允许在阅读页下载文件":"Allow downloading of files under the reading page","本地文件设置":"Local File Preferences","本地视频设置":"Local Video Preferences","本地音频设置":"Local Audio Preferences","基础绘图":"Basic","空白画板":"Basic","绘图":"Board","图片设置":"Preferences","大小":"Size","宽度":"Width","高度":"Height","样式":"Style","无":"None","描边":"Stroke","阴影":"Shadow","间距":"Spacing","为图片添加上间距":"Add top margin to picture","为图片添加下间距":"Add bottom margin to picture","链接":"Link","请输入网址":"Link address","在当前页面打开":"Open on current page","图片旋转":"Image rotation","逆时针旋转90度":"90˚ CCW","图片剪裁":"Image crop","复原":"Reset","图片描述":"Image caption","添加图片描述":"Insert caption","请输入图片描述":"Please insert caption","图片样式":"Image style","无样式":"None","图片描边":"Stroke","图片阴影":"Shadow","合并单元格":"Merge cells","删除所选行":"Delete selected row(s)","删除所选列":"Delete selected column(s)","删除表格":"Delete table","清除内容":"Clear","向上插入":"Insert up","向下插入":"Insert down","向左插入":"Insert left","向右插入":"Insert right","行":"row(s)","列":"column(s)","通过付费阅读，可以让原创内容得到价值创收，请遵守":"By paying for reading, original content can be valued to generate income. Please abide by ","语雀付费阅读服务协议":"the service agreement of paying for reading","付费定价":"Pricing","定价只能设置一次，发布后不可修改":"Pricing can only be set once and cannot be modified after release.","元":"YUAN","付费时长":"Duration","付费阅读天数内，需付费才能阅读。付费阅读天数后，文档会自动设置为免费就可阅读全文。时长只能设置一次，发布后不可修改":"Pay for reading days, you need to pay for reading. After paying for the number of reading days, the document is automatically set to read the full text for free. The duration can only be set once and cannot be modified after publishing.","天":"Day","自定义分割线文案":"Custom split line copy","以下内容需付费阅读":"Pay for the following content","该文档不是互联网所有人可见，设置为互联网可见后会自动恢复付费阅读":"The document is not viewable on the Internet, and it will automatically pay for reading after setting it to be viewable on the Internet","已超过付费时长，文档已自动免费公开":"The payment time has been exceeded, and the document has been automatically published for free.","所有资源知识库":"All Resource","插入":"insert","搜索结果":"Result","没有资源":"No matching results","输入资源名称":"Search","无资源知识库，立刻":"No resource repository, immediately ","创建":"create","不能获取资源文件":"Can't fetch resource","markdown语法转换失败":"markdown syntax convert error","内容已变更，无法插入 Markdown 内容":"The content has been changed, the markdown content cannot be inserted","未能插入内容":"Failed to insert content","音频卡片":"Yuque Audio Card","此处为语雀内容卡片，点击链接查看：":"Here is the yuque doc card, click on the link to view:","该卡片在客户端暂时无法显示":"Card cannot be displayed","该卡片暂时无法显示":"Card cannot be displayed","客户端暂未支持该类型卡片，可打开 $1 查看":"Please visit $1 to see the effect","语雀网页版":"Yuque","请刷新页面后再试":"Please refresh the page and try again","素材库":"Material","画板":"Board","标宽展示":"Standard width display","全宽展示":"Adaptive width display","隐藏大纲":"Hide","钉住大纲":"Pin","编辑":"Edit","打卡":"Check","导出数据":"Export Data","打卡列表":"Check List","编辑打卡":"Edit Check","取消操作":"Cancel","共 $1 位打卡":"A total of $1 people checked","按钮":"Button","设置截止日期":"Deadline","输入正文或 “⌘ + /” 唤起更多":"Type text or '⌘ + /' evoke more","输入正文或 “Ctrl + /” 唤起更多":"Type text or 'Ctrl + /' evoke more","快捷键":"Shortcut","最大限制：100MB":"Limit: 100MB","源 & 目标":"source & target","自动检测":"automatic detection","中文":"chinese","英文":"english","插入文档":"Insert document","译文":"translation","查找":"search","替换":"replace","替换为":"replace to","全部替换":"replace all","上一个":"prevs","下一个":"next","请输入":"please enter","标题将在此展示":"Title will be shown here","转为书签":"Bookmark","转为链接":"Link","转为第三方服务":"Third party","收起":"Fold","展开":"Unfold","过程":"Process","结束":"End","是":"Yes","否":"No"},gm=/\$(\d+)/g,bm=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getLanguage",value:function(){return e._lang}},{key:"_setLanguage",value:function(t){e._lang="enUS"===t||"en-US"===t||"en"===t||"en-us"===t?"enUS":"zhCN"}},{key:"get",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.length?wm.apply(void 0,[e._lang,t].concat(r)):e._langMap[e._lang][t]||t}}]),e}();function wm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(t="zhCN"===e?t:ym[t]||t)?((r=r.map((function(t){return"zhCN"===e?t:ym[t]||t}))).unshift(""),t.replace(gm,(function(e,t){return r[t]||""}))):""}function xm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bm.get.apply(bm,[e].concat(n))}m()(bm,"_lang","zhCN"),m()(bm,"_langMap",{enUS:ym,zhCN:{}}),bm._setLanguage(function(){if("undefined"!=typeof window&&"undefined"!=typeof document){var e;if(null!==(e=window.appData)&&void 0!==e&&e.locale)return window.appData.locale;var t=window.location.search,n=new URLSearchParams(t).get("language");if(n)return n;var r=document.cookie.match(/(?:^|; ?)lang=([^;]+)(?:;|$)/);return r?r[1]:"zh-cn"}return"zh-cn"}()||"zhCN");var _m={price:null,daysCount:null,disabledTip:xm("该文档不是互联网所有人可见，设置为互联网可见后会自动恢复付费阅读"),tip:xm("以下内容需付费阅读"),expiredTip:xm("已超过付费时长，文档已自动免费公开"),docID:null},km=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"price",get:function(){return this._cardValue.price}},{key:"setPrice",value:function(e){this._cardValue.price=e}},{key:"daysCount",get:function(){return this._cardValue.daysCount}},{key:"setDaysCount",value:function(e){this._cardValue.daysCount=e}},{key:"tip",get:function(){return this._cardValue.tip}},{key:"setTip",value:function(e){this._cardValue.tip=e}},{key:"docID",get:function(){return this._cardValue.docID}},{key:"setDocID",value:function(e){this._cardValue.docID=e}},{key:"expired",get:function(){return this._cardValue.expired}},{key:"setExpired",value:function(e){this._cardValue.expired=e}},{key:"freeze",get:function(){return this._cardValue.freeze}},{key:"setFreeze",value:function(e){this._cardValue.freeze=e}}],[{key:"getInitCardValue",value:function(e){return T()({},_m,{docID:e.docId,price:e.price,daysCount:e.daysCount,freeze:e.freeze,expired:e.expired})}},{key:"fromLake",value:function(e,t){return T()({},i.getInitCardValue(t),e)}},{key:"toLake",value:function(e){return{docID:e.docID,tip:e.tip,price:e.price,daysCount:e.daysCount}}}]),i}();m()(km,"DefaultCardValue",_m);var Cm=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this)).plugin=e,t}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("premium",km.fromLake(n,this.plugin.option),r);e.setNode(o)}}]),i}();var Rm=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("premium",km.toLake(n),r);e.setNode(o)}}]),i}();var Nm=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"getValue",value:function(e){var t=e.getNodesByName("premium").find((function(e){return e.isConnected}));return t?t.attrs.value:null}}]),i}();var Em=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this)).cardName=e,t}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.newJob(),o=this.getState(r),i=this.cardName;if(o===Oa.UNAVAILABLE)return e.cancelJob(r),!1;var a=qa.insertCardNode(r,r.getSelection(),i,t),c=a.selection,l=a.cardNode;return n?r.setSelection([r.newRange(r.newPosition(l,0))]):r.setSelection(c),e.commitJob(r),l.id}}]),i}();var Om=function(e){u()(i,Em);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e.constructor.cardName),m()(l()(t),"_plugin",null),t}return a()(i,[{key:"getState",value:function(e){return e.getNodesByName(this.cardName).find((function(e){return e.isConnected}))?Oa.UNAVAILABLE:B()(p()(i.prototype),"getState",this).call(this,e)}}]),i}();var Dm=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"getValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._plugin.iKernel,o=r.kernel,i=r.document,a=i.getNodesByName(this._plugin.constructor.cardName);if(a[0]){var c=a[0].getPath();n.beforeIndex=c[0]+1}var l=o.getDocument(t,n);return l}}]),i}();var Sm=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.registerCommand("getPremium",new Nm(this)),e.registerCommand("insertPremium",new Om(this)),e.registerCommand("getPremiumPublicPart",new Dm(this)),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new Rm),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(mm.CardName,new mm),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("premium",new Cm(this))}}]),i}();m()(Sm,"PluginName","premium"),m()(Sm,"cardName","premium"),m()(Sm,"PluginOption",vm);var Bm=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Bm,"CardName","thirdparty");var Pm=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getType",value:function(){return this.prototype.constructor.config.type}},{key:"isAvailable",value:function(){return!1!==this.prototype.constructor.config.available}},{key:"getName",value:function(){return this.prototype.constructor.config.name}},{key:"getExample",value:function(){return this.prototype.constructor.config.example}},{key:"getHelp",value:function(){return this.prototype.constructor.config.help}},{key:"getSimple",value:function(){return this.prototype.constructor.config.simple}},{key:"getLabel",value:function(){return this.prototype.constructor.config.label}},{key:"getKeywords",value:function(){return[]}},{key:"getHeight",value:function(){return this.prototype.constructor.config.height||500}},{key:"getResize",value:function(){return this.prototype.constructor.config.resize}},{key:"getMaximize",value:function(){return this.prototype.constructor.config.maximize}},{key:"getCardSelect",value:function(){var e=this.prototype.constructor,t=e.config,n=(0,e.getKeywords)();return{type:"TextItem",icon:"card-".concat(t.name),achromaticIcon:"card-".concat(t.name,"-a"),label:t.label,name:t.name,keywords:Array.isArray(n)?n.join(","):n,recordDisable:!0}}},{key:"getMatchUrl",value:function(e){}},{key:"isValid",value:function(e){}},{key:"getPlaceholder",value:function(){var e=this.prototype.constructor.config,t=e.label,n=void 0===t?"":t,r=e.simple,o=/^[a-z]+$/i.test(n)?" ".concat(n," "):n,i="".concat(xm("粘贴")).concat(o).concat(xm("链接"));return r&&(i+="，".concat(xm("如")," ").concat(r)),i}},{key:"getIframeAllow",value:function(e){return null}}]),e}(),Fm=null;function Tm(e){Fm||(Fm=new DOMParser);try{var t=Fm.parseFromString(e,"text/html");if(!t.body)return null;var n=t.body.firstChild;if("IFRAME"!==n.nodeName)return null;if(n)return n.src.startsWith("//")?"http:"+n.src:n.src}catch(e){return null}return null}var Mm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),"bi","哔哩哔哩"]}},{key:"getMatchUrl",value:function(e){if(e.startsWith("<iframe")&&(e=Tm(e)),e.startsWith("https://player.bilibili.com/player.html?"))return e;if(e.startsWith("http://player.bilibili.com/player.html?"))return e.replace(/^http:/i,"https:");var t=e.match(/^https?:\/\/\w+\.bilibili\.com\/video\/av(\d+)/i);if(t){var n=t[1],r=e.match(/p=(\d+)/);return r&&(r=r[1]),"https://player.bilibili.com/player.html?aid=".concat(n).concat(r?"&p=".concat(r,"&page=").concat(r):"")}try{var o=new URL(e),i=(o.origin+o.pathname).match(/^https?:\/\/\w+\.bilibili\.com\/video\/(bv[^/]+)\/?$/i);if(i){var a=i[1],c=o.searchParams,l=c.get("p"),s=c.get("t");return"https://player.bilibili.com/player.html?bvid=".concat(a).concat(l?"&p=".concat(l,"&page=").concat(l):"").concat(s?"&t=".concat(s):"")}}catch(e){}return null}},{key:"isValid",value:function(e){return e&&e.match(/^https:.*\.bilibili\.com\//)}}]),i}();m()(Mm,"config",{type:"video",name:"bilibili",example:"https://player.bilibili.com/player.html?aid=55895675",simple:"https://www.bilibili.com…",label:xm("哔哩哔哩"),maximize:!1,resize:!1});var Lm=/^(https?:\/\/[\S]+?\.canva\.cn\/design\/)((?:[^/]+\/)+)(view|edit)$/i,Am=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName()]}},{key:"getMatchUrl",value:function(e){try{e=new URL(e)}catch(e){return null}e=e.origin+e.pathname;var t=Lm.exec(e);if(t&&t[2]){var n=t[2].split("/"),r=t[2];return n.length>1&&n[0]&&(r=n[0]+"/"),t[1]+r+"view?embed"}return null}},{key:"isValid",value:function(e){return e&&e.match(/^https:\/\/[\S]+?\.canva\.cn\//)}}]),i}();m()(Am,"config",{type:"design",name:"canva",example:"https://www.canva.cn/design/DAD3c63mhHU/view?embed",simple:"https://www.canva.cn/design/…",label:"Canva",maximize:!0,resize:!0});var Im=[/^https:\/\/codepen\.io\/[^/]+\/(embed|pen|full)\//],jm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName()]}},{key:"isValid",value:function(e){return Im.some((function(t){return t.test(e)}))}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")&&(e=Tm(e)),i.isValid(e)?e.replace("/pen/","/embed/"):null}}]),i}();m()(jm,"config",{type:"development",name:"codepen",example:"https://codepen.io/afc163-1472555193/embed/oNXqWGP",simple:"https://codepen.io/afc163…",label:"CodePen",maximize:!0,resize:!0});var Vm=[/^https:\/\/www\.figma\.com\/embed/],zm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName()]}},{key:"isValid",value:function(e){return Vm.some((function(t){return t.test(e)}))}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")?e=Tm(e):e.match(/^https:\/\/www\.figma\.com\/file|proto\//)&&(e="https://www.figma.com/embed?embed_host=share&url="+encodeURIComponent(e)),i.isValid(e)?e:null}}]),i}();m()(zm,"config",{type:"design",name:"figma",example:"https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FqwccoVDBmt1FZ6U4eGus2p%2F%25E8%25AF%25AD%25E9%259B%2580%25E6%258F%2592%25E5%259B%25BE",simple:"https://www.figma.com…",label:"Figma",maximize:!0,resize:!0});var Um=["https://map.gaode.com/","https://ditu.gaode.com/","https://www.gaode.com/","https://www.amap.com/","https://ditu.amap.com/","https://amap.com/","https://gaode.com/"],Hm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return["gaode","ditu","amap","高德","地图","gd"]}},{key:"isValid",value:function(e){if(!e)return!1;for(var t=0,n=Um.length;t<n;t++)if(e.startsWith(Um[t]))return!0;return!1}},{key:"getMatchUrl",value:function(e){return i.isValid(e)?e:null}}]),i}();m()(Hm,"config",{type:"map",name:"amap",example:"https://ditu.amap.com/",simple:"https://ditu.amap.com…",label:xm("高德地图"),maximize:!0,resize:!0});var qm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),"jsj",i.getLabel()]}},{key:"isValid",value:function(e){return e&&e.match(/^https:\/\/([^/]+\.)?jinshuju\.(com|net)\//)}},{key:"getMatchUrl",value:function(e){var t,n=!1;if(e.startsWith("<iframe")&&(e=Tm(e),n=!0),!i.isValid(e))return null;try{t=new URL(e)}catch(e){return null}var r=t,o=r.pathname,a=r.origin;return o.startsWith("/f/")?n?e:a+o+"?background=white&banner=show&embedded=true":/^\/forms\/([^/]+)(?:\/[^/]*)?$/.test(o)?a+"/f/"+RegExp.$1+"?background=white&banner=show&embedded=true":null}}]),i}();m()(qm,"config",{type:"form",name:"jinshuju",example:null,simple:"https://jinshuju.net/f/…",label:xm("金数据"),maximize:!0,resize:!0});var Wm=["https://free.modao.cc/app/","https://org.modao.cc/","https://modao.cc/"],Zm=["https://free.modao.cc/app/design/"],Km=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),i.getLabel(),"md"]}},{key:"isValid",value:function(e){if(!e)return!1;for(var t=0,n=Zm.length;t<n;t++)if(e.startsWith(Zm[t]))return!1;for(var r=0;r<Wm.length;r++){var o=Wm[r];if(e.startsWith(o))return!0}return!1}},{key:"getMatchUrl",value:function(e){if(e.startsWith("<iframe")&&(e=Tm(e)),i.isValid(e)){var t=new URL(e,Wm[2]);return(e=t.origin+t.pathname).endsWith("embed")?e=e.replace("embed","embed/v2"):e.endsWith("/embed/v2")||(e+="/embed/v2"),e+t.hash}}}]),i}();m()(Km,"config",{type:"design",name:"modao",example:"https://free.modao.cc/app/2cd26580a6717a147454df7470e7ec464093cba3/embed/v2#screen=sk71k6d1dfxulzx",simple:"<iframe src=…",label:xm("墨刀"),maximize:!0,resize:!0});var $m=/^https?:\/\/music\.163\.com\/(#\/)?song\?id\=(\d+)/i,Jm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),i.getLabel(),"wangyiyunyinyue","wy"]}},{key:"isValid",value:function(e){return e.startsWith("http://music.163.com/outchain/player")||e.startsWith("https://music.163.com/outchain/player")}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")?e=(e=Tm(e))&&e.replace("auto=1&","&auto=0&"):$m.test(e)&&(e="https://music.163.com/outchain/player?type=2&id=".concat(RegExp.$2,"&auto=0&height=66")),i.isValid(e)?e:null}}]),i}();m()(Jm,"config",{type:"audio",name:"music163",simple:"https://music.163.com/song…",example:"https://music.163.com/outchain/player?type=2&id=1420830402&auto=0&height=66",label:xm("网易云音乐"),maximize:!1,resize:!1});var Ym=["www.processon.com","wxmp.processon.com","assets.processon.com","dingtalk.processon.com","feishu.processon.com","weixin.processon.com"],Gm=["/view/link/","/embed/"],Xm=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName()]}},{key:"isValid",value:function(e){try{var t=new URL(e),n=t.protocol,r=t.host,o=t.pathname;return("http:"===n||"https:"===n)&&!!Ym.includes(r)&&Gm.some((function(e){return o.startsWith(e)}))}catch(e){return!1}}},{key:"getMatchUrl",value:function(e){if(e.startsWith("<iframe")&&(e=Tm(e)),!e)return null;try{var t=new URL(e),n=t.pathname;["/mindmap/","/diagraming/","/apps/"].every((function(e){return n.startsWith(e)&&(t.pathname="/embed/"+t.pathname.slice(e.length)),!0}));var r=t.toString();return i.isValid(r)?r:null}catch(e){return null}}}]),i}();m()(Xm,"config",{type:"design",name:"processon",example:"https://www.processon.com/embed/5d006c43e4b071ad5a206ed2",simple:"https://www.processon.c…",label:"ProcessOn",maximize:!0,resize:!0});var Qm=[{id:"riddle",name:"Riddle",domain:["https://riddle.alibaba-inc.com/"],urlPattern:[/^https:\/\/riddle\.alibaba-inc\.com\/riddles\/.+/],toEmbedUrl:function(e){if(e.includes("/iframe"))return e;var t=new URL(e);return t.pathname.endsWith("/iframe")||(t.pathname+="/iframe"),t.toString()}},{id:"deepinsight",name:"DeepInsight",domain:["https://deepinsight.alipay.com/"],urlPattern:[/^https:\/\/deepinsight\.alipay\.com\/pc\.htm\?reportId=[^\/]+/]},{id:"herbox",name:"Herbox",domain:["https://herbox-embed.alipay.com/","https://herbox.online/"],urlPattern:[/^https:\/\/herbox\.online\/p\/.+/,/^https:\/\/herbox-embed\.alipay\.com\/s\/.+/,/^https:\/\/herbox-embed\.alipay\.com\/p\/.+/]},{id:"anymock",name:"Anymock",domain:["https://tools.antfin-inc.com/"],urlPattern:[],toEmbedUrl:function(e){if(!window.location.pathname.endsWith("/edit"))return e;var t=new URL(e);return t.searchParams.set("edit","1"),t.toString()}},{id:"fbi",name:"FBI",domain:["https://fbi.alibaba-inc.com/","https://quark.alibaba-inc.com/","https://fbi-sg.alibaba-inc.com/","https://quark.alibaba.com/","https://sg.fbi.alibaba-inc.com/"],urlPattern:[]},{id:"oneapi",name:"OneAPI",domain:["https://oneapi.alipay.com/"],urlPattern:[/^https:\/\/oneapi\.alipay\.com\/web\/app\/card\//]},{id:"tinyjs",name:"Tinyjs",domain:["http://tinyjs.alibaba.net/"],urlPattern:[/^http:\/\/tinyjs\.alibaba\.net\/static\/(examples|plugins|playground)\//]},{id:"youshu",name:"Youshu",domain:["https://youshu.alibaba-inc.com/"],urlPattern:[/^https:\/\/youshu\.alibaba-inc\.com\/visual\/cardview\.htm/]},{id:"bakery",name:"Bakery",domain:["https://bakery.alipay.com/"],urlPattern:[/^https:\/\/bakery\.alipay\.com\/bakery-preview/,/^https:\/\/bakery\.alipay\.com\/bakery-preview\/miniapp/,/^https:\/\/bakery\.alipay\.com\/bakery-preview\/yuque/]},{id:"pipcook",name:"Pipcook",domain:["https://pipcook.alibaba-inc.com/"],urlPattern:[]},{id:"cap",name:"Cap",domain:["https://cap.alibaba-inc.com"],urlPattern:[/^https:\/\/cap\.alibaba-inc\.com\?bizLine=(.+)#\!\/dimension\/viewport(.+)$/,/^https:\/\/cap\.alibaba-inc\.com\?bizLine=(.+)#\!\/dimension\/form(.+)$/]}];function ey(e){return e?Qm.find((function(t){return!!t.domain.find((function(t){return e.startsWith(t)}))})):null}var ty=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[xm("内部三方工具"),Qm.map((function(e){return e.name}))]}},{key:"getPlaceholder",value:function(){var e,t=(e=xm("、"),Qm.map((function(e){return e.name})).join(e));return"".concat(xm("粘贴页面链接到此处，支持：")).concat(t)}},{key:"isValid",value:function(e){var t=ey(e);return!!t&&(!(t.urlPattern.length>0)||t.urlPattern.some((function(t){return t.test(e)})))}},{key:"getMatchUrl",value:function(e){if(e.startsWith("<iframe")&&(e=Tm(e)),!i.isValid(e))return null;var t=ey(e);return t?("function"==typeof t.toEmbedUrl&&(e=t.toEmbedUrl(e)),e):null}},{key:"getIframeAllow",value:function(e){var t=ey(e);return t&&"riddle"===t.id?"clipboard-write https://riddle.alibaba-inc.com;":null}}]),i}();m()(ty,"config",{type:"development",name:"ali",example:null,simple:null,help:"https://yuque.antfin.com/lark/help/embed_third#FhgMF",label:xm("内部三方工具"),maximize:!0,resize:!0});var ny=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),i.getLabel(),"tb"]}},{key:"isValid",value:function(e){return e.startsWith("https://cloud.video.taobao.com/")}},{key:"getMatchUrl",value:function(e){return i.isValid(e)?e:null}}]),i}();m()(ny,"config",{type:"video",name:"taobao",example:null,simple:"https://cloud.video.taobao.com…",label:xm("淘宝视频"),maximize:!1,resize:!1});var ry=/https?:\/\/\S*\.xiami\.com\/song\/([^/?#]+)/,oy=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),i.getLabel(),"xm"]}},{key:"isValid",value:function(e){return e.startsWith("https://h5.xiami.com/app")||e.startsWith("http://h5.xiami.com/app")||e.startsWith("https://www.xiami.com/webapp/")}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")?e=(e=Tm(e))&&e.replace("autoPlay=1&",""):ry.test(e)&&(e="https://www.xiami.com/webapp/embed-player?id="+RegExp.$1),i.isValid(e)?e:null}}]),i}();m()(oy,"config",{type:"audio",name:"xiami",available:!1,example:"https://www.xiami.com/webapp/embed-player?id=1816059093",simple:"https://xiami.com/song/181…",label:xm("虾米"),maximize:!1,resize:!1});var iy=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getCardSelect",value:function(){return null}},{key:"isValid",value:function(e){return e.startsWith("http://www.ximalaya.com/thirdparty/player/sound/")||e.startsWith("https://www.ximalaya.com/thirdparty/player/sound/")}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")&&(e=Tm(e)),i.isValid(e)?e:null}}]),i}();m()(iy,"config",{type:"audio",name:"ximalaya",example:null,maximize:!1,resize:!1});var ay=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName(),i.getLabel(),"yk"]}},{key:"isValid",value:function(e){return e.match(/^https:.*\.youku\.com\//)}},{key:"getMatchUrl",value:function(e){if(e.startsWith("<iframe")&&(e=Tm(e)),e.startsWith("https://player.youku.com/embed/"))return e;var t=e.match(/^https?:\/\/\w+\.youku\.com\/v_show\/id_([^.]+)/i);return t?"https://player.youku.com/embed/".concat(t[1]):null}}]),i}();m()(ay,"config",{type:"video",name:"youku",example:"https://player.youku.com/embed/XNDc1NDU1MTQwOA==",simple:"https://v.youku.com/v_show…",label:xm("优酷"),maximize:!1,resize:!1});var cy=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getCardSelect",value:function(){return null}},{key:"isValid",value:function(e){return e.startsWith("https://www.youtube.com/embed/")}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")&&(e=Tm(e)),i.isValid(e)?e:null}}]),i}();m()(cy,"config",{type:"video",name:"youtube",example:null,maximize:!1,resize:!1});var ly,sy=[/^https:\/\/[^.\s]+?\.aliwork\.com\/o\/.+/],uy=function(e){u()(i,Pm);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,null,[{key:"getKeywords",value:function(){return[i.getName()]}},{key:"isValid",value:function(e){return sy.some((function(t){return t.test(e)}))}},{key:"getMatchUrl",value:function(e){return e.startsWith("<iframe")&&(e=Tm(e)),i.isValid(e)?e:null}}]),i}();m()(uy,"config",{type:"development",name:"yida",example:"https://www.aliwork.com/o/open_test1",simple:"https://www.aliwork.com/o/open_test1",label:xm("宜搭"),maximize:!0,resize:!0});var dy=(m()(ly={},Mm.config.name,Mm),m()(ly,Am.config.name,Am),m()(ly,jm.config.name,jm),m()(ly,zm.config.name,zm),m()(ly,Hm.config.name,Hm),m()(ly,qm.config.name,qm),m()(ly,Km.config.name,Km),m()(ly,Jm.config.name,Jm),m()(ly,Xm.config.name,Xm),m()(ly,ty.config.name,ty),m()(ly,ny.config.name,ny),m()(ly,oy.config.name,oy),m()(ly,iy.config.name,iy),m()(ly,ay.config.name,ay),m()(ly,cy.config.name,cy),m()(ly,uy.config.name,uy),ly),fy=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getTypeByURL",value:function(t){var n=e.matchURL(t);return n?n.Service.getName():null}},{key:"isValidEntrance",value:function(e){return!!e&&!!dy[e]}},{key:"matchURL",value:function(e){try{for(var t=0,n=Object.values(dy);t<n.length;t++){var r=n[t],o=r.getMatchUrl(e);if(o)return{Service:r,validUrl:o}}}catch(e){console.warn(e)}return null}}]),e}();var hy={deepinsight:"ali",riddle:"ali",herbox:"ali"},py=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardAlias",get:function(){var e=this._cardValue.type;return e&&dy[e].isAvailable()?e:null}},{key:"getEntrance",value:function(){return this._cardValue.entrance}},{key:"getType",value:function(){return this._cardValue.type}},{key:"setType",value:function(e){this._cardValue.type=e}},{key:"getSrc",value:function(){return this._cardValue.src}},{key:"setSrc",value:function(e){this._cardValue.src=e}},{key:"getEmbedURL",value:function(){var e=fy.matchURL(this._cardValue.src||"");return e?e.validUrl:""}},{key:"getServiceName",value:function(){var e=this._cardValue,t=e.entrance,n=e.type;return e.src?n:t}},{key:"getDetail",value:function(){var e=dy[this.getServiceName()];return br(e,"F:thirdparty-card-data;L:163"),{src:this._cardValue.src,example:e.getExample(),help:e.getHelp(),placeholder:e.getPlaceholder()}}},{key:"isAllowMaximize",value:function(){if(!this._cardValue.type)return!1;var e=dy[this.getServiceName()];return br(e,"F:thirdparty-card-data;L:182"),e.getMaximize()}},{key:"isAllowResize",value:function(){if(!this._cardValue.type)return!1;var e=dy[this.getServiceName()];return br(e,"F:thirdparty-card-data;L:196"),e.getResize()}},{key:"isAvailable",value:function(){if(!this._cardValue.type)return!1;var e=dy[this.getServiceName()];return br(e,"F:thirdparty-card-data;L:210"),e.isAvailable()}}],[{key:"fromLake",value:function(e,t){var n=z()(e,"url")||z()(e,"src"),r=z()(e,"entrance");r||(r=t),hy[r]&&(r=hy[r]);var o=e.type;return n&&!o&&(o=fy.getTypeByURL(n)),o||fy.isValidEntrance(r)||(console.warn("非法数据",e,t),r="youku",n=""),{entrance:r,src:n,type:o}}},{key:"toLake",value:function(e){var t={entrance:z()(e,"entrance"),src:z()(e,"src"),url:z()(e,"src"),height:e.__height};return null!=e&&e.type&&(t.type=e.type),t}},{key:"getInitCardValue",value:function(e){return Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,e))}},{key:"createBy",value:function(e){var t=fy.matchURL(e);if(!t)return null;var n=t.Service.getName();return{src:t.validUrl,type:n,entrance:n}}}]),i}();m()(py,"DefaultCardValue",{entrance:null,type:null,src:null});var vy=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("thirdparty",py.fromLake(n,t),r);e.setNode(o)}}]),i}();m()(vy,"CardNames",["thirdparty","riddle","youku","processon"]);var my=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value,r=void 0===n?{}:n;if(r.src){var o=e.createElement("div",{className:"ne-thirdparty"}),i=e.createElement("a",{attrs:{href:r.src}});e.appendChild(i,e.createTextNode(r.src)),e.appendChild(o,i),e.setNode(o)}}}]),i}();m()(my,"NodeNames",["thirdparty"]);var yy=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o={};n.type&&(o.alias=n.type);var i=e.createBlockCard("thirdparty",py.toLake(n),r,o);e.setNode(i)}}]),i}();var gy=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){var r=e.newJob(),o=r.getNodeById(t);if(!o||"link"!==o.nodeName)return e.cancelJob(r),!1;var i=r.selectNode(o);br((i=dc.deleteContent(r,i)).collapsed,"F:link-to-thirdparty-command;L:19");var a=qa.insertCardNode(r,i,"thirdparty",n).cardNode;r.setSelection([r.newRange(r.newPosition(a.parentNode,a.offset+1))]),e.commitJob(r)}}]),i}();var by=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.registerCommand("linkToThirdparty",new gy),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(my.NodeNames,new my),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(vy.CardNames,new vy),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Bm.CardName,new Bm),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("thirdparty",new yy)}}]),i}();m()(by,"PluginName","thirdparty"),m()(by,"cardName","thirdparty");var wy=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.newJob(),o=this.getState(r);if(o===Oa.UNAVAILABLE)return e.cancelJob(r),!1;var i=qa.insertCardNode(r,r.getSelection(),"label",t),a=i.selection,c=i.cardNode;return n?r.setSelection([r.newRange(r.newPosition(c,0))]):r.setSelection(a),e.commitJob(r),c.id}}]),i}(),xy={colors:[["#000000","#262626","#595959","#8C8C8C","#BFBFBF","#D9D9D9","#E9E9E9","#F5F5F5","#FAFAFA","#FFFFFF"],["#F5222D","#FA541C","#FA8C16","#FADB14","#52C41A","#13C2C2","#1890FF","#2F54EB","#722ED1","#EB2F96"],["#FFE8E6","#FFECE0","#FFEFD1","#FFF8BD","#E4F7D2","#D3F5F0","#D4EEFC","#DEE8FC","#EFE1FA","#FAE1EB"],["#FFA39E","#FFBB96","#FFD591","#FFF08F","#B7EB8F","#87E8DE","#91D5FF","#ADC6FF","#D3ADF7","#FFADD2"],["#FF4D4F","#FF7A45","#FFA940","#FFEC3D","#73D13D","#36CFC9","#40A9FF","#597EF7","#9254DE","#F759AB"],["#CF1322","#D4380D","#D46B08","#D4B106","#389E0D","#08979C","#096DD9","#1D39C4","#531DAB","#C41D7F"],["#820014","#871400","#873800","#614700","#135200","#00474F","#003A8C","#061178","#22075E","#780650"]]};xy._map=function(){for(var e={},t=xy.colors,n=0,r=t.length;n<r;n++)for(var o=0,i=t[n].length;o<i;o++)e[t[n][o]]={y:n,x:o};return e}(),xy.getStroke=function(e){var t=xy._map[e];return t&&(2===t.y||3===t.y&&t.x>2&&t.x<5)?this.colors[4][t.x]:e},xy.getColors=function(){return this.colors};var _y=xy.getColors(),ky=[[_y[2][0],_y[6][0]],[_y[2][3],_y[6][3]],[_y[2][4],_y[6][4]],[_y[0][6],_y[0][2]],[_y[2][6],_y[6][6]],[_y[2][7],_y[6][7]]];function Cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cy(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ny=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getLabel",value:function(){return this._cardValue.label}},{key:"setLabel",value:function(e){this._cardValue.label=e,this.afterChange()}},{key:"getColorIndex",value:function(){return this._cardValue.colorIndex||0}},{key:"setColorIndex",value:function(e){this._cardValue.colorIndex=e,this.afterChange()}},{key:"getStyle",value:function(){var e=this._cardValue,t=e.colorIndex,n=e.label;return{background:ky[t][0],color:ky[t][1],opacity:n?1:.45}}}],[{key:"fromLake",value:function(e){var t=T()({},i.DefaultCardValue,e);return null!=t&&t.label&&(t.label=Nl.decodeHTML(t.label)),t}},{key:"toLake",value:function(e){return Ry(Ry({},e),{},{label:null!=e&&e.label?Nl.encodeHTML(e.label):void 0})}}]),i}();m()(Ny,"DefaultCardValue",{label:void 0,colorIndex:0});var Ey=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=e.createCard("label",Ny.fromLake(n),r);e.setNode(o)}}]),i}();var Oy=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Oy,"CardName","label");var By=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n,r=(t.attrs||{}).value,o=new Ny(void 0===r?{}:r),i=o.getLabel()||xm("设置标签");e.isInlineMode()&&(n=Sy(Sy({},o.getStyle()),{},{fontWeight:400,fontSize:"12px",overflow:"hidden",maxWidth:"200px",display:"inline-block",whiteSpace:"nowrap",marginBottom:"-4px",borderRadius:"4px",border:"none",padding:"2px 5px",textOverflow:"ellipsis",lineHeight:"14px",marginLeft:"1px",marginRight:"1px"}));var a=e.createElement("span",{className:"ne-label",attrs:{"data-color":o.getColorIndex()},style:n});e.appendChild(a,e.createTextNode(i)),e.setNode(a)}}]),i}();var Py=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("label",Ny.toLake(n),r);e.setNode(o)}}]),i}();var Fy=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(i.cardName),e.registerCommand("label",new wy),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("label",new Ey),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Oy.CardName,new Oy),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new By),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new Py)}}]),i}();m()(Fy,"PluginName","label"),m()(Fy,"cardName","label");var Ty=function(e){u()(i,fu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e){e.setNode(Mo.createCard("hr")),e.freeze()}}]),i}();m()(Ty,"NodeNames",["hr"]);var My=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("hr",n,r);e.setNode(o)}}]),i}();var Ly=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Ly,"CardName","hr");var Ay=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){var t={};e.isInlineMode()&&(t={backgroundColor:"#e8e8e8",border:"1px solid transparent",margin:"18px 0"}),e.setNode(e.createElement("hr",{className:"ne-hr",style:t}))}}]),i}();m()(Ay,"NodeNames",["hr"]);var Iy=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("hr",n,r);e.setNode(o)}}]),i}();var jy=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isCardSelection||t.isTableSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.newJob(),o=this.getState(r);if(o===Oa.UNAVAILABLE)return e.cancelJob(r),!1;var i=qa.insertCardNode(r,r.getSelection(),"hr",t),a=i.selection,c=i.cardNode;return n?r.setSelection([r.newRange(r.newPosition(c,0))]):r.setSelection(a),e.commitJob(r),c.id}}]),i}();var Vy=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.registerCommand("hr",new jy),e.hasExtendMethod("registerHTMLNodeReader")&&e.registerHTMLNodeReader(Ty.NodeNames,new Ty),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Ly.CardName,new Ly),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(Ay.NodeNames,new Ay),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("hr",new My),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("hr",new Iy),e.hasExtendMethod("registerMarkdownMatcher")&&e.registerMarkdownMatcher("enter",new Fd(this.iEditing,/^[-*_—*]{3,6}$/,(function(e,t){var n=qa.insertCardNode(e,e.newSelection([e.newRange(e.newPosition(t,0))]),"hr",null).cardNode;e.setSelection(e.newSelection(e.newRange(e.newPosition(n.parentNode,n.offset+1))))})))}}]),i}();m()(Vy,"PluginName","hr"),m()(Vy,"cardName","hr");var zy=["info","warning","danger","success","tips"],Uy={alert:{parents:[Er.Root,Er.LikeRoot],excludes:[Er.VirtualLikeRoot],category:[Er.LikeRoot,Er.VirtualLikeRoot]}},Hy={type:{targets:["alert"],value:zy}};var qy=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){var n,r;if(null!=t&&null!==(n=t.attrs)&&void 0!==n&&null!==(r=n.class)&&void 0!==r&&r.includes("lake-alert")){var o=/lake-alert-([\w]*)/i.exec(t.attrs.class),i=zy[0];o&&o.length>=2&&(i=o[1]);var a=Mo.createElement("alert",{type:i});return e.setNode(a),!1}return!0}}]),i}();m()(qy,"NodeNames",["blockquote"]);var Wy=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n,r=(null==t||null===(n=t.attrs)||void 0===n?void 0:n.type)||zy[0];e.setNode(Mo.createElement("blockquote")),e.addClassName("lake-alert","lake-alert-".concat(r))}}]),i}();function Zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zy(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Wy,"NodeNames",["alert"]);var $y={margin:"4px 0",padding:"10px",borderRadius:"4px"},Jy={info:Ky({border:"1px solid #abd2da",backgroundColor:"#e8f7ff"},$y),warning:Ky({border:"1px solid #e0d1b1",backgroundColor:"#fffbe6"},$y),danger:Ky({border:"1px solid #deb8be",backgroundColor:"#fff3f3"},$y),success:Ky({border:"1px solid #c2d2b5",backgroundColor:"#edf9e8"},$y),tips:Ky({border:"1px solid #c3c3c3",backgroundColor:"#fff6b6"},$y)};function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Gy=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n,r=(t.attrs||{}).type,o=void 0===r?"info":r;e.isInlineMode()&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Jy[o]));var i=e.createElement("div",{className:"ne-alert",attrs:{"data-type":o},style:n});e.setNode(i)}}]),i}();m()(Gy,"NodeNames",["alert"]);var Xy=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isCardSelection||t.isTableSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zy[0],n=e.newJob(),r=this.getState(n);if(r===Oa.UNAVAILABLE)return e.cancelJob(n),!1;br(1===n.getSelection().rangeCount,"F:alert-command;L:26");var o=n.getSelection().firstRange;return o=Yi.wrapRootNode(n,o,n.createElement("alert",{type:t})),n.setSelection(n.newSelection(o)),e.commitJob(n),!0}}]),i}();var Qy=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){if(e.registerElement(Uy),e.registerAttr(Hy),e.registerCommand("alert",new Xy),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader(qy.NodeNames,new qy),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(Wy.NodeNames,new Wy),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(Gy.NodeNames,new Gy),e.hasExtendMethod("registerMarkdownMatcher")){var t=new RegExp("^:::(".concat(zy.join("|"),")$"),"i");e.registerMarkdownMatcher("enter",new Fd(this.iEditing,t,this._markdownMatcherHandler))}}},{key:"_markdownMatcherHandler",value:function(e,t,n,r){var o=r.matchedGroup,i=E()(o,1)[0],a=void 0===i?zy[0]:i,c=e.createElement("alert",{type:a});e.replaceChild(t.parentNode,c,t),e.appendChild(c,t),e.setSelection(e.newSelection(e.newRange(e.newPosition(t,0))))}}]),i}();m()(Qy,"PluginName","alert");var eg={quote:{parents:[Er.Root,Er.LikeRoot],excludes:[Er.VirtualLikeRoot],category:[Er.LikeRoot,Er.VirtualLikeRoot]}};var tg=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){if(-1===B()(p()(i.prototype),"getState",this).call(this,e))return-1;var t=e.getSelection(),n=!1,r=[];return dc.fullWalkSelection(t,{enter:function(e){return e.hasCategory([Er.Table,Er.TableHole,Er.Hole])?(n=!0,!1):e.parentNode&&e.parentNode.hasCategory([Er.Root,Er.LikeRoot])?(r.push(e),!1):void 0}}),n?-1:!r.length||r.some((function(e){return"quote"!==e.nodeName}))?0:1}},{key:"execute",value:function(e){var t=e.newJob(),n=this.getState(t);if(-1===n)return e.cancelJob(t),!1;br(1===t.getSelection().rangeCount,"F:quote-command;L:57");var r=t.getSelection().firstRange;return r=0===n?Yi.wrapRootNode(t,r,t.createElement("quote")):Yi.unwrapNode(t,r,"quote"),t.setSelection(t.newSelection(r)),e.commitJob(t),!0}}]),i}();var ng=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e){return e.setNode(Mo.createElement("quote")),!1}}]),i}();var rg=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){e.setNode(Mo.createElement("blockquote"))}}]),i}();m()(rg,"NodeNames",["quote"]);var og=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){var t={};e.isInlineMode()&&(t={margin:"5px 0",paddingLeft:"1em",borderLeft:"3px solid #eeeeee"}),e.setNode(e.createElement("div",{className:"ne-quote",style:t}))}}]),i}();var ig=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;e.registerElement(eg),e.registerCommand("quote",new tg),this.iEditing.extendMethods({quickInputForQuote:function(e){t._processQuickInput(e)}}),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader("blockquote",new ng),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(rg.NodeNames,new rg),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(rg.NodeNames,new og)}},{key:"_processQuickInput",value:function(e){var t=this.iEditing,n=t.newJob(),r=e.start,o=e.end,i=e.blockNode;Yi.deleteContent(n,n.newRange(r,o));var a=n.createElement("quote");n.replaceChild(i.parentNode,a,i),n.appendChild(a,i),n.setSelection(n.newSelection(n.newRange(n.newPosition(i,0)))),t.commitJob(n)}}]),i}();m()(ig,"PluginName","quote");var ag=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_name",null),t._name=e,t}return a()(i,[{key:"getState",value:function(e){if(-1===B()(p()(i.prototype),"getState",this).call(this,e))return-1;var t=e.getSelection().firstRange,n=t.commonAncestorContainer;if(t.collapsed){if(!n.hasCategory([Er.Root,Er.LikeRoot])&&!t.commonAncestorContainer.closest(Er.Block))return-1}else if(!t.commonAncestorContainer.closest(Er.Block))return-1;var r=null,o=this._name;return Yi.fullWalkRange(t,{enter:function(t){if(!1===r)return!1;if(e.acceptAttr(t.nodeName,o,!0)){if(!t.hasAttribute(o))return r=!1,!1;null===r&&(r=!0)}}}),!0===r?1:0}},{key:"execute",value:function(e){var t=e.newJob(),n=this.getState(t);if(-1===n)return e.cancelJob(t),!1;var r=t.getSelection(),o=t.getSelection().firstRange;return o=0===n?Yi.setAttribute(t,o,this._name,!0):Yi.removeAttribute(t,o,this._name),o=Yi.removeAttribute(t,o,"sub"===this._name?"sup":"sub"),t.setSelection(r.cloneByRange(o)),!0}}]),i}(),cg={sub:{targets:[Er.Text],values:[!0]},sup:{targets:[Er.Text],values:[!0]}};var lg=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){e.setAttr(t.name,!0)}}]),i}();var sg=function(e){u()(i,rs);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){e.wrapNode(e.createElement(t))}}]),i}();m()(sg,"AttrNames",["sub","sup"]);var ug=function(e){u()(i,Mu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n){n&&e.wrapNode(e.createElement(t))}}]),i}();m()(ug,"AttrNames",["sub","sup"]);var dg={"^":"sup","~":"sub"},fg=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;e.registerAttr(cg),e.registerCommand("sub",new ag("sub")),e.registerCommand("sup",new ag("sup")),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader(["sub","sup"],new lg),e.hasExtendMethod("registerAttrHTMLWriter")&&e.registerAttrHTMLWriter(ug.AttrNames,new ug),e.hasExtendMethod("registerLakeAttrWriter")&&e.registerLakeAttrWriter(sg.AttrNames,new sg),e.hasExtendMethod("registerMarkdownMatcher")&&Object.keys(dg).forEach((function(n){e.registerMarkdownMatcher("whiteSpace",new ku(t.iEditing,n,(function(e,r){t._handlerMarkdown(e,dg[n],r)})))}))}},{key:"_handlerMarkdown",value:function(e,t,n){n=Yi.setAttribute(e,n,t,!0),e.setSelection([e.newRange(n.end)])}}]),i}();m()(fg,"PluginName","subscript");var hg=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){e.setNode(Mo.createElement("code"))}}]),i}();m()(hg,"NodeNames",["code"]);var pg={code:{parents:[Er.Block],category:[Er.Inline,Er.InlineBox,Er.TextContainer],children:[Er.Text,Er.Inline]}};var vg=function(e){u()(i,qp);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.call(this,"code")}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();if(t.isTableSelection)return-1;var n=t.firstRange.commonAncestorContainer;if(zr.closest(n,"code"))return 1;if(!t.isCollapsed)return B()(p()(i.prototype),"getState",this).call(this,e);var r=t.firstRange;if(!r.collapsed)return-1;var o=r.start.node,a=o.isTextNode()?o.parentNode:o;return a.hasCategory([Er.Root,Er.LikeRoot])?e.acceptNode(e.defaultElementName,"code")?0:-1:a&&e.acceptNode(a.nodeName,"code")?0:-1}},{key:"execute",value:function(e,t){var n=e.newJob();if(-1===this.getState(n))return e.cancelJob(n),!1;var r=n.getSelection(),o=zr.closest(r.firstRange.commonAncestorContainer,"code");if(o){var i=Yi.unwrapInlineNode(n,r.firstRange,o);return n.setSelection([i]),e.commitJob(n),!0}var a=n.createElement("code");if(r.collapsed){var c=n.createTextNode(t||"");n.appendChild(a,c),ec.insertInlineNode(n,r.firstRange.start,a),n.setSelection(r.cloneByRange(n.newRange(n.newPosition(c,c.dataLength))))}else Yi.wrapInlineNode(n,r.firstRange,a),br(a.isConnected,"F:code-command;L:91"),n.setSelection(r.cloneByRange(Ur.selectNodeContents(a)));return e.commitJob(n),!0}}]),i}();var mg=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e){e.setNode(Mo.createElement("code"))}}]),i}();var yg=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){var t;e.isInlineMode()&&(t={fontFamily:"SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace",backgroundColor:"rgba(0, 0, 0, 0.06)",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"2px",padding:"0px 2px"}),e.setNode(e.createElement("code",{className:"ne-code",style:t}))}}]),i}();m()(yg,"NodeNames",["code"]);var gg=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerElement(pg),e.registerCommand("code",new vg),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader("code",new mg),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(hg.NodeNames,new hg),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(yg.NodeNames,new yg),e.hasExtendMethod("registerMarkdownMatcher")&&e.registerMarkdownMatcher("whiteSpace",new ku(this.iEditing,"`",(function(e,t){var n=e.createElement("code");Yi.wrapInlineNode(e,t,n),e.setSelection([e.newRange(e.newPosition(n.parentNode,n.offset+1))])})))}}]),i}();m()(gg,"PluginName","code");var bg=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){var t=e.getSelection();return t.isCardSelection||t.isTableSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e,t,n){if(!t)return[];var r=e.job,o=r.getSelection().firstRange.start.node.rootNode;return Yi.searchText(r,r.newRange(r.newPosition(o,0),r.newPosition(o,o.childCount)),t,n)}}]),i}();var wg=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){var r=e.newJob(),o=Yi.replaceText(r,t,n);r.setSelection([o])}}]),i}();var xg=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("search",new bg),e.registerCommand("replaceText",new wg)}}]),i}();function _g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_g(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(xg,"PluginName","search");var Cg={collab:null},Rg=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=kg(kg({},Cg),t)}return a()(e,[{key:"getCollab",value:function(){return this._option.collab}}]),e}();m()(Rg,"OptionName","collaboration");var Ng=new G.a;function Eg(e,t){return J.a.type.transform(e,t,"left")}function Og(e){return!(!e||!e.p||"content"!==e.p[0])}function Dg(e,t,n){var r={};return r[t.id]={user:t,clientId:n,active:!0,selection:e.toJSON()},r}function Sg(e){var t=e.getPath(!1),n=["content"];return t.forEach((function(e){n.push("children"),n.push(e)})),n}function Bg(e){br("content"===e[0],"F:adapter;L:193");for(var t=1,n=[];t<e.length;){if("children"===e[t]&&t++,"attrs"===e[t])return{nodePath:n,attrName:e[t+1]};"data"===e[t]&&t++,"number"==typeof e[t]&&(n.push(e[t]),t++)}var r=n.pop();return{nodePath:n,offset:r}}function Pg(e,t){return(e=xo(e)).ranges.forEach((function(e){var n=e.start,r=e.end;e.start=Fg(n,t),e.end=Fg(r,t),e.collapsed=D()(e.start,e.end)})),e.ranges=function(e){if(1===e.length)return e;var t=(e=Q()(e,D.a)).filter((function(e){return 4===e.start.nodePath.length}));return t.length?t:e}(e.ranges),e}function Fg(e,t){var n=function(e){var t=e.nodePath,n=e.offset,r=e.isText,o=["content"];return t.forEach((function(e){o.push("children"),o.push(e)})),r?(o.push("data"),o.push(n)):(o.push("children"),o.push(n)),o}(e);return t.forEach((function(e){n=function(e,t){if(function(e,t){for(var n=0;void 0!==e[n];){if(void 0===t[n])return!1;if("attrs"===e[n])return!1;if(e[n]===t[n])n++;else{if("number"!=typeof e[n])return!1;if(e[n]>t[n])return!1;if(e[n]<t[n])return void 0===e[n+1]}}return void 0!==t[n]}(t.p,e))if("li"in t)e[t.p.length-1]+=1;else if("ld"in t){var n=t.p.length;t.p[n-1]===e[n-1]?e=t.p.slice():e[n-1]-=1}else if("si"in t)e[t.p.length-1]+=t.si.length;else if("sd"in t){var r=t.p.length;e[r-1]-=t.sd.length,e[r-1]=Math.max(t.p[r-1],e[r-1])}return e}(n,e)})),Bg(n)}function Tg(e){var t=e.node,n=e.offset,r=t.getPath(!1),o=r[0];if(void 0===o){var i=t.children[n];return i?{prevId:i.previousSibling&&i.previousSibling.id,baseId:i.id,nextId:i.nextSibling&&i.nextSibling.id}:null}var a=t.rootNode.children[o];if(!a)return null;var c=function(e,t){var n="",r="",o=t.node,i=t.offset;o.isTextNode()||(o=o.children[t.offset],i=0);var a=!1;return zr.walkNode(e,{enter:function(e){(a=a||e===o)?e===o?e.isTextNode()&&(i?(n+=e.data.substr(0,i),r+=e.data.substr(i)):r+=e.data):e.isTextNode()&&(r+=e.data):e.isTextNode()&&(n+=e.data)}}),[n,r]}(a,e),l=E()(c,2),s=l[0],u=l[1];return{prevId:a.previousSibling&&a.previousSibling.id,baseId:a.id,nextId:a.nextSibling&&a.nextSibling.id,childIds:r.map((function(e,t){return 0!==t&&(a=a.children[e]),a.id})),isTextNode:t.isTextNode(),nodeId:t.id,oldText:t.data,offset:n,prevText:s,nextText:u}}function Mg(e,t){if(!e)return null;var n=e.prevId,r=e.baseId,o=e.nextId,i=e.childIds,a=e.prevText,c=e.nextText,l=e.offset,s=e.isTextNode,u=e.oldText,d=e.nodeId,f=t.getNodeById(d);if(f&&f.isConnected&&(!s||f.data===u))return{node:f,offset:l};var h=t.getNodeById(r);if(!h||!h.isConnected)for(var p in i){if(h&&h.isConnected)break;var v=t.getNodeById(i[p]);h=v&&zr.getTopNode(v)}for(;h&&h.isConnected;){var m=Lg(h);if(m.startsWith(a))return Ag(h,a,f);if(m.endsWith(c))return Ig(h,c,f);if(!a||!a.startsWith(m))break;a=a.substr(m.length),h=h.nextSibling}var y=t.getNodeById(n),g=t.getNodeById(o),b=[];for(var w in y&&y.isConnected&&(b.push(y),y.nextSibling&&y.nextSibling!==g&&b.push(y.nextSibling)),g&&g.isConnected&&(g.prevSibling&&g.prevSibling!==y&&b.push(g.prevSibling),b.push(g)),b){var x=b[w],_=Lg(x);if(_.startsWith(a))return Ag(x,a);if(_.endsWith(c))return Ig(x,c)}}function Lg(e){var t="";return zr.walkNode(e,{enter:function(e){e.isTextNode()&&(t+=e.data)}}),t}function Ag(e,t,n){var r;return zr.walkNode(e,{enter:function(e){if(e.isTextNode())if(e.data.length<t.length)t=t.substr(e.data.length);else{if(e.data.length>t.length)return r={node:e,offset:t.length},!1;if(!n||!n.isConnected||e===n)return r={node:e,offset:t.length},!1;t=t.substr(e.data.length)}}}),r}function Ig(e,t,n){var r;return zr.reverseWalkNode(e,{enter:function(e){if(e.isTextNode())if(e.data.length<t.length)t=t.substr(0,t.length-e.data.length);else{if(e.data.length>t.length)return r={node:e,offset:e.data.length-t.length},!1;if(!n||!n.isConnected||e===n)return r={node:e,offset:e.data.length-t.length},!1;t=t.substr(0,t.length-e.data.length)}}}),r}function jg(e,t){Og(t)&&(t.li&&function(e,t){var n=t.li,r=Bg(t.p),o=r.offset,i=r.nodePath,a=e.getNodeByPath(i),c=zr.jsonToNode(e,n);br(a&&c,"F:apply;L:29");var l=e.newPosition(a,o);e.insertNodeByPosition(l,c)}(e,t),t.ld&&function(e,t){var n=Bg(t.p),r=n.offset,o=n.nodePath,i=e.getNodeByPath(o),a=i.children[r];br(i&&a,"F:apply;L:40"),e.removeChild(i,a)}(e,t),(t.si||t.sd)&&function(e,t){var n=t.p,r=t.si,o=t.sd,i=Bg(n),a=i.offset,c=i.nodePath,l=e.getNodeByPath(c);br(l,"F:apply;L:49");var s,u=l.data;void 0!==r?s=u.substr(0,a)+r+u.substr(a):void 0!==o&&(s=u.substr(0,a)+u.substr(a+o.length)),br(void 0!==s,"F:apply;L:59"),e.setTextNodeData(l,s)}(e,t),("oi"in t||"od"in t)&&function(e,t){var n=t.p,r=t.oi,o=t.od,i=Bg(n),a=i.attrName,c=i.nodePath,l=e.getNodeByPath(c);br(l,"F:apply;L:68"),void 0===o||void 0===r?(void 0!==o&&e.removeAttribute(l,a),void 0!==r&&e.setAttribute(l,a,r)):e.setAttribute(l,a,r)}(e,t))}var Vg=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_stack",null),t._stack=e,t}return a()(i,[{key:"getState",value:function(){return this._stack.getUndoJob()?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){this._stack.undo(e)}}]),i}();var zg=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_stack",null),t._stack=e,t}return a()(i,[{key:"getState",value:function(){return this._stack.getRedoJob()?Oa.NOT_EXECUTED:Oa.UNAVAILABLE}},{key:"execute",value:function(e){this._stack.redo(e)}}]),i}(),Ug=function(){function e(t,n){o()(this,e),m()(this,"_index",0),m()(this,"_localStack",[]),m()(this,"_stack",[]),m()(this,"currentJob",{op:[]}),this.iKernel=t,this.iEditing=n}return a()(e,[{key:"clear",value:function(){this._stack=[],this._index=0,this._localStack=[],this.currentJob={op:[]}}},{key:"lock",value:function(){this.undoLockIndex=this._index,this.redoLockIndex=this._index}},{key:"unlock",value:function(){delete this.undoLockIndex,delete this.redoLockIndex}},{key:"addJob",value:function(e){if(0!==e.op.length){var t=xr(8);this._localStack.splice(this._index),this._localStack.push({uid:t,startSelection:e.startSelection,currentSelection:e.currentSelection,op:e.op}),this._stack.push({uid:t,startSelection:e.startSelection,currentSelection:e.currentSelection,op:e.op}),this._index=this._localStack.length}}},{key:"addRemoteJob",value:function(e){0!==e.op.length&&this._stack.push({op:e.op})}},{key:"getUndoJob",value:function(){var e=this._index-1;if(!(void 0!==this.undoLockIndex&&this.undoLockIndex>e)&&this._localStack[e]){var t=xo(this._localStack[e]),n=te()(this._stack,(function(e){return e.uid===t.uid}));-1!==n?t=xo(this._stack[n]):n=e;var r=J.a.type.invert(t.op),o=[];this._stack.slice(n+1).forEach((function(e){o=J.a.type.compose(o,e.op)}));var i=t.startSelection,a=t.currentSelection;try{return{op:Eg(r,o),uid:t.uid,status:"undo",startSelection:Pg(i,o),currentSelection:Pg(a,o)}}catch(e){console.log(e)}}}},{key:"getRedoJob",value:function(){var e=this._index;if(!(void 0!==this.redoLockIndex&&this.redoLockIndex<=e)&&this._localStack[e]){var t=xo(this._localStack[e]),n=te()(this._stack,(function(e){return e.uid===t.uid}));-1!==n?t=xo(this._stack[n]):n=e;var r="undo"===t.status?J.a.type.invert(t.op):t.op,o=[];this._stack.slice(n+1).forEach((function(e){o=o.concat(e.op)}));var i=t.startSelection,a=t.currentSelection;try{return{op:Eg(r,o),uid:t.uid,status:"redo",startSelection:Pg(i,o),currentSelection:Pg(a,o)}}catch(e){console.log(e)}}}},{key:"redo",value:function(e){this.saveJob();var t=this.getRedoJob();if(t){this._index++;var n=e.newJob("history");t.op.forEach((function(e){jg(n,e)})),this._stack.push(t);try{n.setSelectionWithoutOptimize(n.newSelectionFromJson(xo(t.currentSelection)))}catch(e){}e.commitJob(n)}}},{key:"undo",value:function(e){this.saveJob();var t=this.getUndoJob();if(t){this._index--;var n=e.newJob("history");t.op.forEach((function(e){jg(n,e)}));var r=this._stack[this._stack.length-1];t.uid===r.uid&&"undo"!==r.status?this._stack.pop():this._stack.push(t);try{n.setSelectionWithoutOptimize(n.newSelectionFromJson(xo(t.startSelection)))}catch(e){}e.commitJob(n)}}},{key:"saveJob",value:function(){this.currentJob.local?(delete this.redoLockIndex,this.addJob(this.currentJob)):this.addRemoteJob(this.currentJob),this.currentJob={op:[],startSelection:this.iKernel.document.selection.toJSON()}}},{key:"lazySaveJob",value:function(){var e=this;this.lazySaveTimer&&clearTimeout(this.lazySaveTimer),this.lazySaveTimer=setTimeout((function(){e.saveJob()}),500)}},{key:"collectRemoteOp",value:function(e){this.currentJob.local&&this.saveJob(),this.currentJob.op=J.a.type.compose(this.currentJob.op,e),this.lazySaveJob()}},{key:"collectOp",value:function(e,t){!this.currentJob.local&&this.currentJob.op.length>0&&this.saveJob(),this.currentJob.local=!0,this.currentJob.currentSelection=t.toJSON(),this.currentJob.op=J.a.type.compose(this.currentJob.op,e),this.lazySaveJob()}},{key:"collectSelection",value:function(e){this.currentJob.op.length||(this.currentJob.startSelection=e.toJSON())}}]),e}();var Hg=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this,r=this.option.getCollab();r&&(this.collab=r,this.stack=new Ug(e,t),e.registerCommand("undo",new Vg(this.stack)),e.registerCommand("redo",new zg(this.stack)),this._opCollecter=[],this.clientId=e.id||xr(16),this.waitingOps=[],this.applyWaitingOps=K()((function(){n._applyWaitingOps()}),0),this.emitCollabSelection=K()((function(){n._emitCollabSelection()}),10),r.on("docReady",(function(e,t){n.currentUser=t,n.currentUser.clientId=n.clientId,n.otDoc=e,n._syncData(),n._bindOTEvent()})),this._bindEditingEvent(),r.on("memberLeave",(function(e){n.otDoc&&(n.submitMemberLeave(e),n.emitCollabSelection())})),e.extendMethods({getCollabClientId:function(){return n.clientId},checkCollabConnected:function(){return n.otDoc&&n.otDoc.data},checkClientAlive:function(e){if(!e||!n.otDoc||!n.otDoc.data)return!1;var t=n.otDoc.data.clients;return!!t&&!!Object.keys(t).find((function(n){return t[n].clientId===e}))},lockHistory:function(){n.stack.lock()},unlockHistory:function(){n.stack.unlock()},disableApplyOp:function(){n.applyDisabled=!0},enableApplyOp:function(){n.applyDisabled=!1,n.applyWaitingOps()}}))}},{key:"_bindOTEvent",value:function(){var e=this;this.otDoc.on("op",(function(t,n){e.clientId!==n&&0!==t.length&&(e.waitingOps=e.waitingOps.concat(t),e.applyWaitingOps())}))}},{key:"_bindEditingEvent",value:function(){var e=this;if(!this.editingEventBinded){var t=this.iEditing,n=this.iKernel;t.on("selectionchange",(function(t){var n=t.selection;e.submitCurrentUserSelection(n),e.stack.collectSelection(n)})),t.on("node.will.change",(function(t){"ot"!==t.jobMode&&"init"!==t.jobMode&&(e._opCollecter=e._opCollecter.concat(function(e){switch(e.type){case"insert":return function(e){var t=e.data,n=t.parentNode,r=t.childNode,o=t.offset;return n.isConnected?[{p:Sg(n).concat(["children",o]),li:r.toJSON(!0)}]:[]}(e);case"remove":return function(e){var t=e.data,n=t.parentNode,r=t.childNode;return n.isConnected?[{p:Sg(n).concat(["children",r.offset]),ld:r.toJSON(!0)}]:[]}(e);case"changeText":return function(e){var t=e.data,n=t.node,r=t.text;if(!n.isConnected)return[];var o,i,a,c,l,s=n.data;return o=Sg(n).concat(["data"]),i=s,a=r,c=[],l=Ng.patch_make(i,a),Object.keys(l).forEach((function(e){var t=l[e],n=t.start1;t.diffs.forEach((function(e){var t=E()(e,2),r=t[0],i=t[1];if(r!==G.a.DIFF_DELETE)return r===G.a.DIFF_INSERT?(c.push({p:[].concat(x()(o),[n]),si:i}),void(n+=i.length)):void(r!==G.a.DIFF_EQUAL||(n+=i.length));c.push({p:[].concat(x()(o),[n]),sd:i})}))})),c}(e);case"addAttr":return function(e){var t=e.data,n=t.node,r=t.attrName,o=t.attrValue;return n.isConnected?[{p:Sg(n).concat(["attrs",r]),oi:o}]:[]}(e);case"removeAttr":return function(e){var t=e.data,n=t.node,r=t.attrName;if(!n.isConnected)return[];var o=xo(n._attrs[r]);return[{p:Sg(n).concat(["attrs",r]),od:o}]}(e);case"changeAttr":return function(e){var t=e.data,n=t.node,r=t.attrName,o=t.attrValue;if(!n.isConnected)return[];var i=xo(n._attrs[r]);return[{p:Sg(n).concat(["attrs",r]),od:i,oi:o}]}(e);default:br(!1,"F:adapter;L:66")}}(t)))})),t.on("job.created",(function(t){"init"===t.job.mode&&e.stack.clear()})),t.on("contentchange",(function(t){var n=t.mode,r=t.selection;if("init"===n)return e._opCollecter=[],e.submitCurrentUserSelection(r),void e.stack.collectSelection(r);if(0!==e._opCollecter.length){var o=e._opCollecter.slice();e.waitingOps.length>0&&(o=Eg(o,e.waitingOps),e.waitingOps=Eg(e.waitingOps,e._opCollecter)),e.submitContentOp(o,r,n),e.submitCurrentUserSelection(r),e._opCollecter=[]}})),t.on("operationRollback",(function(){e._opCollecter=[]})),n.on("document.ready",(function(){e.otDoc&&e.otDoc.data&&(e.stopOp||e.createCollabData())})),this.editingEventBinded=!0}}},{key:"_syncData",value:function(){var e=this.otDoc;e.data&&e.data.content?(this.renderCollabData(),this.addClient(),this.submitCurrentUserSelection()):this.createCollabData()}},{key:"renderCollabData",value:function(){var e;this.stopOp=!0;var t=this.otDoc,n=this.iKernel,r=t.data.content;n.setDocument({type:"json",value:r},{entryPoint:null===(e=n.document)||void 0===e?void 0:e.entryPoint}),this.emitCollabSelection(),this.stopOp=!1}},{key:"createCollabData",value:function(){var e=this.iKernel,t=this.otDoc,n=this.currentUser,r=function(e,t,n,r){var o={};return o[n.iid]=xo(n),{content:e,selections:Dg(t,n,r),clients:o}}(e.document.rootNode.toJSON(!0),e.document.selection.cloneSelection(),n,this.clientId);t.data?this.submitOp([{p:[],oi:r}]):t.create(r,"json0",{source:this.clientId})}},{key:"addClient",value:function(){this.submitOp([{p:["clients",this.currentUser.iid],oi:this.currentUser}])}},{key:"submitCurrentUserSelection",value:function(e){var t,n,r,o=this;if(this.otDoc){var i=this.iKernel,a=this.currentUser,c=Dg(e=e||i.document.selection,a,this.clientId);null!==(t=this.otDoc.data)&&void 0!==t&&t.selections&&D()(c[a.id].selection,null===(n=this.otDoc.data)||void 0===n||null===(r=n.selections[a.id])||void 0===r?void 0:r.selection)||(this.submitOp([{p:["selections",a.id],oi:c[a.id]}]),this.clearActiveTimer&&clearTimeout(this.clearActiveTimer),this.clearActiveTimer=setTimeout((function(){o.submitOp([{p:["selections",a.id,"active"],od:!0}])}),5e3))}}},{key:"submitMemberLeave",value:function(e){var t=this.otDoc.data,n=t.clients,r=t.selections,o=e.login,i=e.iid,a=e.id,c=Object.keys(n).filter((function(e){return n[e].login===o})),l=[],s=""+i;c.includes(s)&&(l.push({p:["clients",s],od:n[s]}),c.splice(c.indexOf(s),1)),0===c.length&&r[a]&&l.push({p:["selections",a],od:r[a]}),this.submitOp(l)}},{key:"_applyWaitingOps",value:function(){if(!this.applyDisabled){var e=this.iEditing,t=this.waitingOps.slice();if(this.waitingOps=[],0!==t.length){var n=t.filter((function(e){return Og(e)}));if(n.length){var r=e.newJob("ot"),o=function(e){var t=e.getSelection(),n=t.ranges;if(n){var r=t.toJSON();return t.isTextSelection?{json:r,idRanges:n.map((function(e){var t=e.start,n=e.end;return{start:Tg(t),end:Tg(n)}}))}:{isNodeRange:!0,json:r}}}(r),i=r.getSelection();t.forEach((function(e){jg(r,e)})),this.stack.collectRemoteOp(n);var a=t[t.length-1],c=a&&a.oi&&a.oi.selection||r.getSelection().toJSON(),l=function(e,t,n,r){var o=e.json,i=e.idRanges;return e.isNodeRange?t.newSelectionFromJson(Pg(o,r)):function(e,t,n,r){var o=n.ranges[0].end,i=e.map((function(e){var n=e.start,r=e.end;return{start:Mg(n,t)||o,end:Mg(r,t)||o}}));return t.newSelectionFromJson({ranges:i,anchor:r.anchor,focus:r.focus})}(i,t,n,o)}(o,r,c,t);try{1===i.ranges.length&&1===l.ranges.length&&Yi.isEqualRange(i.ranges[0],l.ranges[0])||r.setSelectionWithoutOptimize(l)}catch(e){}e.commitJob(r),this.submitCurrentUserSelection()}this.emitCollabSelection()}}}},{key:"submitContentOp",value:function(e,t,n){"history"!==n&&this.stack.collectOp(e,t),this.submitOp(e)}},{key:"submitOp",value:function(e){this.otDoc&&e&&0!==e.length&&this.otDoc.submitOp(e,{source:this.clientId})}},{key:"_emitCollabSelection",value:function(){var e,t=this.iEditing,n=this.iKernel,r=null===(e=this.otDoc.data)||void 0===e?void 0:e.selections;if(r){var o=[];for(var i in r)if(i!==""+this.currentUser.id){var a=r[i].selection;o.push({user:r[i].user,active:!!r[i].active,selection:qr.fromJson(n.document,a)})}t.emit("collabSelectionChange",{selections:o})}}}]),i}();m()(Hg,"PluginName","collaboration"),m()(Hg,"PluginOption",Rg);var qg={h1:1,h2:2,h3:3,h4:4,h5:5,h6:6},Wg=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_tocNodes",[]),e}return a()(i,[{key:"init",value:function(e,t){var n=this,r=new Set;e.on("document.destroy",(function(){n._tocNodes=[],r.clear(),n.iKernel.emitPluginEvent("tocChange",n._getToc())})),e.extendMethods({getToc:function(){return n._getToc()}}),t.on("nodechange",(function(e){var t=e.node,n=e.type;if(!t.isTextNode()||"text"!==n&&"insert"!==n)t.hasCategory(Er.Heading)&&qg[t.nodeName]&&("insert"===n||"remove"===n)&&r.add(t);else{var o=zr.closest(t,Er.Heading);o&&qg[o.nodeName]&&r.add(o)}})),t.on("operationRollback",(function(){r.clear()})),t.on("aftercontentchange",(function(){if(0!==r.size){var e=Array.from(r);r.clear(),n._refresh(e)}}))}},{key:"destroy",value:function(){this._tocNodes=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_getToc",value:function(){var e=new Set,t=this._tocNodes.map((function(t){var n=function(e){var t=[];return function e(t,n){n.isTextNode()?t.push(n.data):n.isCardNode()?t.push(" "):(br(n.isElement(),"F:get-node-text-content;L:22"),n.children.forEach((function(n){e(t,n)})))}(t,e),t.join("")}(t).trim();if(!n)return null;var r=qg[t.nodeName];return e.add(r),{type:t.nodeName,id:t.id,text:n,level:r}})).filter(Boolean),n={};return Array.from(e).sort().forEach((function(e,t){n[e]=t+1})),t.forEach((function(e){e.depth=n[e.level]||1})),t}},{key:"_refresh",value:function(e){var t=this,n=!1;e.forEach((function(e){e.isConnected&&e.parentNode.isRootNode()?e.parentNode.isRootNode()&&(n=!0,t._hasNode(e)||t._insertNode(e)):t._removeNode(e)&&(n=!0)})),n&&this.iKernel.emitPluginEvent("tocChange",this._getToc())}},{key:"_insertNode",value:function(e){if(0!==this._tocNodes.length){for(var t=0,n=this._tocNodes.length;t<n;t++){var r=zr.compare(this._tocNodes[t],e);if(r.following)return void this._tocNodes.splice(t,0,e);br(r.preceding,"F:kernel/index;L:148")}this._tocNodes.push(e)}else this._tocNodes.push(e)}},{key:"_removeNode",value:function(e){var t=this._tocNodes.indexOf(e);return-1!==t&&(this._tocNodes.splice(t,1),!0)}},{key:"_hasNode",value:function(e){return this._tocNodes.includes(e)}}]),i}();m()(Wg,"PluginName","toc");var Zg=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=e.newJob();if(this.getState(t)===Oa.UNAVAILABLE)return e.cancelJob(t),!1;var n=qa.insertCardNode(t,t.getSelection(),"myCard",{}),r=n.selection,o=n.cardNode;return t.setSelection(r),e.commitJob(t),o.id}}]),i}();var Kg=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.registerCommand("myCard",new Zg)}}]),i}();m()(Kg,"PluginName","myCard"),m()(Kg,"cardName","myCard");var $g="math",Jg="math",Yg="math",Gg="math",Xg="codeblock",Qg="codeblock",eb="codeblock",tb="textDiagram",nb="textDiagram",rb="text-diagram",ob="textDiagram",ib="emoji",ab="emoji",cb="emoji",lb="emoji",sb="emoji",ub="calendar",db="calendar",fb="calendar",hb="calendar",pb="vote",vb="vote",mb="vote",yb="vote",gb="file",bb="file",wb="file",xb="file",_b="lockedtext",kb="lockedtext",Cb="lockedtext",Rb="lockedtext",Nb="localdoc",Eb="localdoc",Ob="localdoc",Db="localdoc",Sb="audio",Bb="audio",Pb="video",Fb="transfer",Tb="transfer",Mb="transfer",Lb="transfer";var Ab=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().isCardSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.newJob(),r=this.getState(n);if(r===Oa.UNAVAILABLE)return e.cancelJob(n),!1;var o=qa.insertCardNode(n,n.getSelection(),ab,t),i=o.cardNode;return n.setSelection([n.newRange(n.newPosition(i.parentNode,i.offset+1))]),e.commitJob(n),i.id}}]),i}();var Ib=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();function jb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}m()(Ib,"CardName",ab);var Vb=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"src",get:function(){return this._cardValue.src}},{key:"package",get:function(){return this._cardValue.package}}],[{key:"fromLake",value:function(e){return"string"==typeof e?{src:e,package:"default"}:e.src?{src:e.src,package:e.package}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jb(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}},{key:"toLake",value:function(e){return{src:e.src,package:e.package}}}]),i}();var zb=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(ab,Vb.fromLake(n),r);e.setNode(o)}}]),i}();var Ub=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("emoji",Vb.toLake(n),r);e.setNode(o)}}]),i}();var Hb=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(ab),e.registerCommand(sb,new Ab),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(ib,new zb),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Ib.CardName,new Ib),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(ib,new Ub)}}]),i}();m()(Hb,"PluginName",ib);var qb=[{value:"bash",syntax:"shell",name:"Bash",ext:["bash"]},{value:"basic",syntax:"vbscript",name:"Basic",ext:["vbs"]},{value:"c",syntax:"text/x-csrc",name:"C",ext:["c","h","ino"]},{value:"cpp",syntax:"text/x-c++src",name:"C++",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"]},{value:"csharp",syntax:"text/x-csharp",name:"C#",ext:["cs"]},{value:"css",syntax:"css",name:"CSS",ext:["css"]},{value:"dart",syntax:"dart",name:"Dart",ext:["dart"]},{value:"diff",syntax:"diff",name:"Diff",ext:["diff","patch"]},{value:"dockerfile",syntax:"dockerfile",name:"Dockerfile"},{value:"erlang",syntax:"erlang",name:"Erlang",ext:["erl"]},{value:"git",syntax:"shell",name:"Git"},{value:"go",syntax:"go",name:"Go",ext:["go"]},{value:"graphql",syntax:"simplemode",name:"GraphQL"},{value:"groovy",syntax:"groovy",name:"Groovy",ext:["groovy","gradle"]},{value:"html",syntax:"htmlmixed",name:"HTML",ext:["html","htm","handlebars","hbs"]},{value:"http",syntax:"http",name:"HTTP"},{value:"java",syntax:"text/x-java",name:"Java",ext:["java"]},{value:"javascript",syntax:"text/javascript",name:"JavaScript",ext:["js"]},{value:"json",syntax:"application/json",name:"JSON",ext:["json","map"]},{value:"jsx",syntax:"jsx",name:"JSX",ext:["jsx"]},{value:"katex",syntax:"simplemode",name:"KaTeX"},{value:"kotlin",syntax:"text/x-kotlin",name:"Kotlin",ext:["kt"]},{value:"less",syntax:"css",name:"Less",ext:["less"]},{value:"makefile",syntax:"cmake",name:"Makefile"},{value:"markdown",syntax:"markdown",name:"Markdown",ext:["markdown","md","mkd"]},{value:"matlab",syntax:"octave",name:"MATLAB"},{value:"nginx",syntax:"nginx",name:"Nginx",ext:["conf"]},{value:"objectivec",syntax:"text/x-objectivec",name:"Objective-C",ext:["m"]},{value:"pascal",syntax:"pascal",name:"Pascal",ext:["p","pas"]},{value:"perl",syntax:"perl",name:"Perl",ext:["pl","pm"]},{value:"php",syntax:"text/x-php",name:"PHP",ext:["php","php3","php4","php5","php7","phtml"]},{value:"powershell",syntax:"powershell",name:"PowerShell",ext:["ps1","psd1","psm1"]},{value:"protobuf",syntax:"protobuf",name:"Protobuf",ext:["proto"]},{value:"python",syntax:"python",name:"Python",ext:["build","bzl","py","pyw"]},{value:"r",syntax:"r",name:"R",ext:["r","R"]},{value:"ruby",syntax:"ruby",name:"Ruby",ext:["rb"]},{value:"rust",syntax:"rust",name:"Rust",ext:["rs"]},{value:"scala",syntax:"text/x-scala",name:"Scala",ext:["scala"]},{value:"shell",syntax:"shell",name:"Shell",ext:["sh","ksh"]},{value:"sql",syntax:"text/x-sql",name:"SQL",ext:["sql"]},{value:"plsql",syntax:"text/x-plsql",name:"PL/SQL"},{value:"swift",syntax:"swift",name:"Swift",ext:["swift"]},{value:"typescript",syntax:"text/typescript",name:"TypeScript",ext:["ts"]},{value:"vbnet",syntax:"vb",name:"VB.net",ext:["vb"]},{value:"velocity",syntax:"velocity",name:"Velocity",ext:["vtl"]},{value:"xml",syntax:"xml",name:"XML",ext:["xml","xsl","xsd","svg"]},{value:"yaml",syntax:"yaml",name:"YAML",ext:["yaml","yml"]},{value:"stex",syntax:"text/x-stex",name:"sTeX"},{value:"latex",syntax:"text/x-latex",name:"LaTeX",ext:["text","ltx","tex"]},{value:"systemverilog",syntax:"text/x-systemverilog",name:"SystemVerilog",ext:["sv","svh"]},{value:"tcl",syntax:"text/x-tcl",name:"Tcl",ext:["tcl"]},{value:"verilog",syntax:"text/x-verilog",name:"Verilog",ext:["v"]},{value:"vue",syntax:"text/x-vue",name:"Vue"},{value:"lua",syntax:"text/x-lua",name:"Lua",ext:["lua"]},{value:"haskell",syntax:"haskell",name:"Haskell",ext:["hs"]},{value:"properties",syntax:"properties",name:"Properties",ext:["properties","ini","in"]},{value:"toml",syntax:"toml",name:"TOML",ext:["toml"]},{value:"cypher",syntax:"cypher",name:"Cypher",ext:["cyp","cypher"]},{value:"tsx",syntax:"jsx",name:"TSX",ext:["tsx"]},{value:"f#",syntax:"mllike",name:"F#",ext:["fs"]},{value:"ocaml",syntax:"mllike",name:"OCaml",ext:["ml","mli","mll","mly"]},{value:"clojure",syntax:"clojure",name:"Clojure",ext:["clj","cljc","cljx"]},{value:"abap",syntax:"abap",name:"ABAP"}];function Wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wb(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}qb.sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n===r?0:n<r?-1:1})),qb.unshift({value:"plain",syntax:"simplemode",name:"Plain Text"});var Kb=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"mode",get:function(){return this._cardValue.mode}},{key:"code",get:function(){return this._cardValue.code}},{key:"heightLimit",get:function(){return this._cardValue.heightLimit}},{key:"autoWrap",get:function(){return this._cardValue.autoWrap}},{key:"theme",get:function(){return this._cardValue.theme}},{key:"isHeightLimit",value:function(){return!this.getCardHeight()}},{key:"update",value:function(e){this._cardValue=Zb(Zb({},this._cardValue),e),this.afterChange()}}],[{key:"createStandardCardValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={mode:(e=e||{mode:"plain",autoWrap:!1,theme:"default"}).mode,autoWrap:!!e.autoWrap,code:t||"",theme:e.theme};return Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,n))}},{key:"fromLake",value:function(e){return T()({},i.DefaultCardValue,re()(e,["mode","code","autoWrap","theme","heightLimit"]))}},{key:"toLake",value:function(e){return Zb(Zb({},e),{},{heightLimit:!0})}}]),i}();m()(Kb,"DefaultCardValue",{mode:"plain",code:"",autoWrap:!1,heightLimit:!0,theme:"default"});var $b={_store:new Map,setItem:function(e,t){this._store[e]=t},getItem:function(e){return this._store[e]}},Jb=function(){var e="__check_if_storage_supported",t=!0;if("undefined"!=typeof window)try{window.localStorage.setItem(e,"1"),window.localStorage.removeItem(e)}catch(e){console.log(e),t=!1}else t=!1;return t}()?window.localStorage:$b,Yb={LOCAL_STORAGE_KEY:"lake-codeblock",load:function(){var e=null,t=Jb.getItem(this.LOCAL_STORAGE_KEY);if(t)try{e=JSON.parse(t)}catch(e){console.log("invalid data:",t)}return e},save:function(e){var t={mode:e.mode,autoWrap:e.autoWrap,theme:e.theme};Jb.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(t))},clear:function(){Jb.removeItem(this.LOCAL_STORAGE_KEY)}};function Gb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e.toLowerCase();var t=qb.find((function(t){var n;return null===(n=t.ext)||void 0===n?void 0:n.includes(e)}));return(null==t?void 0:t.value)||e}var Xb=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=e.createCard("codeblock",Kb.fromLake(n),r);e.setNode(o)}}]),i}();var Qb=function(){function e(){o()(this,e),m()(this,"_lines",[]),m()(this,"_stack",[]),m()(this,"_needCopy",!1),m()(this,"_currentLineNode",null)}return a()(e,[{key:"addToLine",value:function(e){var t=this._getInsertPointNode();Sl.appendChild(t,e)}},{key:"newLine",value:function(){this._createLineNode()}},{key:"getLines",value:function(){return this._lines}},{key:"_createLineNode",value:function(){var e=Sl.createElement("p");this._needCopy=this._needCopy||this._stack.length>0,this._lines.push(e),this._currentLineNode=e}},{key:"enterNode",value:function(e){var t=this._getInsertPointNode();e=Sl.cloneNode(e),this._stack.push(e),Sl.appendChild(t,e)}},{key:"leaveNode",value:function(){this._stack.pop()}},{key:"_getInsertPointNode",value:function(){if(this._currentLineNode||(br(!this._needCopy,"F:code-html-node-pre-reader;L:49"),this._createLineNode()),this._needCopy){var e=this._currentLineNode;this._stack=this._stack.map((function(t){return t=Sl.cloneNode(t),Sl.appendChild(e,t),e=t,t})),this._needCopy=!1}return this._stack[this._stack.length-1]||this._currentLineNode}}]),e}(),ew=function(e){u()(i,_l);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readNode",value:function(e,t){e.setStrictMode(!1);var n=t.children,r=new Qb;1===n.length&&"code"===n[0].name?this._extractLines(r,n[0].children):this._extractLines(r,n),Sl.setChildren(t,r.getLines()),Sl.removeAllAttribute(t),Sl.removeAllStyle(t)}},{key:"_extractLines",value:function(e,t){var n=this;t.forEach((function(t){if("#text"===t.name)e.addToLine(t);else if("br"===t.name)e.newLine();else{var r;null!==(r=t.children)&&void 0!==r&&r.length&&(e.enterNode(t),n._extractLines(e,t.children),e.leaveNode(t))}}))}}]),i}();m()(ew,"NodeNames",["pre"]);var tw=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();function nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e&&!!e.trim()})).join(" ")}m()(tw,"CardName","codeblock");var rw=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value||{},r=n.code,o=n.mode;if(r){var i;e.isInlineMode()&&(i={border:"1px solid #e8e8e8",borderRadius:"2px",background:"#f9f9f9",padding:"16px",fontSize:"13px",color:"#595959"});var a=e.createElement("pre",{className:nw("ne-codeblock",o?"language-".concat(o):null),attrs:{"data-language":o},style:i});e.appendChild(a,e.createPlainTextNode(r)),e.setNode(a)}}}]),i}();var ow=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("codeblock",Kb.toLake(n),r);e.setNode(o)}}]),i}();var iw=function(e){u()(i,Sc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n,r,o=(null===(n=t.attrs)||void 0===n||null===(r=n.value)||void 0===r?void 0:r.code)||"";e.newline(o)}}]),i}();function aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aw(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lw=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_markdownMatcherPattern",(function(e){var t=/^```(\w*)$/i.exec(e);if(!t)return null;var n=Gb(t[1]);return""===n||qb.some((function(e){return e.value===n}))?t:null})),m()(l()(e),"_markdownMatcherHandler",(function(e,t,n,r){var o=r.matchedGroup,a=E()(o,1)[0];a=Gb(a);var c=Yb.load()||{},l=a||c.mode||qb[0].value,s=Kb.createStandardCardValue(cw(cw({},c),{},{mode:l})),u=qa.insertCardNode(e,e.newSelection([e.newRange(e.newPosition(t,0))]),i.cardName,s).cardNode;e.setSelection(e.newSelection(e.newRange(e.newPosition(u,0))))})),e}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("codeblock",new Xb),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(tw.CardName,new tw),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new rw),e.hasExtendMethod("registerTextWriter")&&e.registerTextWriter(i.cardName,new iw),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new ow),e.hasExtendMethod("registerPreHTMLNodeReader")&&e.registerPreHTMLNodeReader(ew.NodeNames,new ew),e.hasExtendMethod("registerMarkdownMatcher")&&e.registerMarkdownMatcher("enter",new Fd(this.iEditing,this._markdownMatcherPattern,this._markdownMatcherHandler))}}]),i}();function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sw(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(lw,"PluginName",Xg),m()(lw,"cardName",Qg);var dw=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"code",get:function(){return this._cardValue.code}},{key:"url",get:function(){return this._cardValue.url}},{key:"update",value:function(e){this._cardValue=uw(uw({},this._cardValue),e),this.afterChange()}},{key:"isEmpty",value:function(){return""===(this.code||"").trim()}},{key:"needGenPreviewImg",value:function(){return!this.isEmpty()&&!this.url}},{key:"toGraph",value:function(){return{type:"latex",code:this.code,url:this.url}}}],[{key:"fromLake",value:function(e){return{code:e.code,url:e.src}}},{key:"toLake",value:function(e){return{code:z()(e,"code"),src:z()(e,"url")}}}]),i}();m()(dw,"DefaultCardValue",{code:"",url:null});var fw=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){if(n){var o=Mo.createCard("math",dw.fromLake(n),r);e.setNode(o)}}}]),i}();var hw=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(hw,"CardName",Jg);var pw=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){if(n){var o=e.createInlineCard("math",dw.toLake(n),r);e.setNode(o)}}}]),i}();var vw=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"writeAsInlineCode",value:function(e,t){var n=e.createElement("span",{className:"ne-math",style:{padding:"0 2px",border:"1px solid #e8e8e8",borderRadius:"2px",background:"#f9f9f9"}});e.appendChild(n,e.createTextNode(t)),e.setNode(n)}},{key:"writeAsImage",value:function(e,t){var n=e.createElement("span",{className:"ne-math"}),r=e.createElement("img",{attrs:{src:t}});e.appendChild(n,r),e.setNode(n)}},{key:"write",value:function(e,t){var n=(t.attrs||{}).value||{},r=n.code,o=n.url;r&&(o?this.writeAsImage(e,o):this.writeAsInlineCode(e,r))}}]),i}();var mw=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(Jg),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(Jg,new fw),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(hw.CardName,new hw),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(Jg,new pw),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(Jg,new vw)}}]),i}();function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(mw,"PluginName",$g);var bw=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"type",get:function(){return this._cardValue.type}},{key:"code",get:function(){return this._cardValue.code}},{key:"url",get:function(){return this._cardValue.url}},{key:"update",value:function(e){this._cardValue=gw(gw({},this._cardValue),e),this.afterChange()}},{key:"toGraph",value:function(){return{type:this.type,code:this.code||"",url:this.url}}}],[{key:"createStandardCardValue",value:function(e){return Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,e))}},{key:"fromLake",value:function(e,t){return["puml","flowchart","graphviz","mermaid"].includes(t)&&(e.type=t),T()({},i.DefaultCardValue,re()(e,["type","code","url"]))}},{key:"toLake",value:function(e){return re()(e,["type","code","url"])}}]),i}();m()(bw,"DefaultCardValue",{type:"puml",code:"",url:null});var ww=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=e.createCard(nb,bw.fromLake(n,t),r);e.setNode(o)}}]),i}();var xw=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(xw,"CardName","textDiagram");var _w=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("diagram",bw.toLake(n),r);e.setNode(o)}}]),i}();var kw=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"writeAsCode",value:function(e,t,n){var r,o=e.createElement("div",{className:"ne-text-diagram"});e.isInlineMode()&&(r={border:"1px solid #e8e8e8",borderRadius:"2px",background:"#f9f9f9",padding:"16px",fontSize:"13px",color:"#595959"});var i=e.createElement("pre",{attrs:{"data-language":n},style:r});e.appendChild(i,e.createTextNode(t)),e.appendChild(o,i),e.setNode(o)}},{key:"writeAsImage",value:function(e,t){var n=e.createElement("div",{className:"ne-text-diagram"}),r=e.createElement("img",{attrs:{src:t}});e.appendChild(n,r),e.setNode(n)}},{key:"write",value:function(e,t){var n=(t.attrs||{}).value||{},r=n.code,o=n.url,i=n.type;r&&(o?this.writeAsImage(e,o):this.writeAsCode(e,r,i))}}]),i}();var Cw=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(nb),e.hasExtendMethod("registerLakeCardReader")&&(e.registerLakeCardReader("diagram",new ww),e.registerLakeCardReader("puml",new ww),e.registerLakeCardReader("graphviz",new ww),e.registerLakeCardReader("flowchart",new ww),e.registerLakeCardReader("mermaid",new ww)),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(xw.CardName,new xw),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(nb,new _w),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(nb,new kw)}}]),i}();m()(Cw,"PluginName",tb);var Rw={accept:null},Nw=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Rw,t)}return a()(e,[{key:"accept",get:function(){return this._option.accept}}]),e}();m()(Nw,"OptionName",Bb);var Ew={status:"pending",audioInfo:{id:null,fileName:null,fileSize:null},allowDownloadInViewer:!1,errorMessage:null,taskId:null},Ow=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getTaskId",value:function(){return this._cardValue.taskId}},{key:"getAudioInfo",value:function(){return this._cardValue.audioInfo}},{key:"setAudioInfo",value:function(e){this._cardValue.audioInfo=e}},{key:"getStatus",value:function(){return this._cardValue.status}},{key:"setStatus",value:function(e){this._cardValue.status=e}},{key:"getErrorMessage",value:function(){return this._cardValue.errorMessage}},{key:"setErrorMessage",value:function(e){this._cardValue.errorMessage=e}},{key:"getAllowDownloadInViewer",value:function(){return this._cardValue.allowDownloadInViewer}},{key:"setAllowDownloadInViewer",value:function(e){this._cardValue.allowDownloadInViewer=e}},{key:"getFileName",value:function(){return this._cardValue.audioInfo.fileName}},{key:"setFileName",value:function(e){this._cardValue.audioInfo.fileName=e}},{key:"getFileSize",value:function(){return this._cardValue.audioInfo.fileSize}},{key:"setFileSize",value:function(e){this._cardValue.audioInfo.fileSize=e}},{key:"getId",value:function(){return this._cardValue.audioInfo.id}},{key:"setId",value:function(e){this._cardValue.audioInfo.id=e}},{key:"isCompleted",value:function(){var e=this._cardValue,t=e.status,n=e.audioInfo;return!(null==n||!n.id)||"pending"!==t&&"uploading"!==t}}],[{key:"getInitCardValue",value:function(e){var t,n,r=xo(Ew);return e&&(r.taskId=e.id,e.file&&(r.audioInfo.fileName=null!==(t=e.file.name)&&void 0!==t?t:Ew.audioInfo.fileName,r.audioInfo.fileSize=null!==(n=e.file.size)&&void 0!==n?n:Ew.audioInfo.fileSize,r.status="pending")),Dv.setCardSpacingToValue("both",r)}},{key:"fromLake",value:function(e){var t=xo(i.DefaultCardValue);return"done"===e.status||"uploaded"===e.status?t.status="uploaded":t.status=e.status,t.audioInfo.id=e.audioId,t.audioInfo.fileName=e.fileName,t.audioInfo.fileSize=e.fileSize,t.taskId=e.taskId,t.errorMessage=e.message,t.allowDownloadInViewer=e.download,t}},{key:"toLake",value:function(e){return{status:e.status,audioId:z()(e,"audioInfo.id"),fileName:z()(e,"audioInfo.fileName"),fileSize:z()(e,"audioInfo.fileSize"),taskId:z()(e,"tasId"),message:z()(e,"errorMessage"),download:z()(e,"allowDownloadInViewer")}}},{key:"fromRepository",value:function(e){var t=e.copiedFileInfo,n={status:"uploaded",source:"transfer",audioInfo:{id:t.video_id,fileSize:t.size,fileName:t.filename}};return Dv.setCardSpacingToValue("both",T()({},Ew,n))}}]),i}();m()(Ow,"DefaultCardValue",Ew);var Dw=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=e.createCard("audio",Ow.fromLake(n),r);e.setNode(o)}}]),i}();var Sw=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("audio",Ow.toLake(n),r);e.setNode(o)}}]),i}();var Bw=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_currentUrl",""),t._currentUrl=e,t}return a()(i,[{key:"write",value:function(e,t){var n,r=null==t||null===(n=t.attrs)||void 0===n?void 0:n.value;if(r&&"uploaded"===(null==r?void 0:r.status)){var o=t.id,i=Nv(this._currentUrl,o),a=e.createElement("div",{className:"ne-audio"}),c=e.createElement("a",{attrs:{href:i}});e.appendChild(c,e.createTextNode("此处为语雀音频卡片，点击链接查看：")),e.appendChild(a,c),e.setNode(a)}}}]),i}();var Pw=function(e){u()(i,Ac);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readFile",value:function(e,t){if(("audio"===(null==t?void 0:t.category)||"localDoc"===(null==t?void 0:t.category))&&"ui"===(null==t?void 0:t.from)){var n=e._$neUploadTask;if(n)return Mo.createCard("audio",Ow.getInitCardValue(n))}}}]),i}();var Fw=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Fw,"CardName","audio");var Tw=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("audio",new Dw),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Fw.CardName,new Fw),e.hasExtendMethod("registerFileReader")&&e.registerFileReader(em.getAudioFileAccept(this.option.accept),new Pw),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new Sw),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new Bw(e.option.currentURL))}}]),i}();function Mw(){var e=ie()();return ie()("".concat(e.format("YYYY-MM"),"-01 ").concat("01:01:01"))}function Lw(e){return Number.parseInt(e.format("YYYYMMDD"),10)}function Aw(e){return ie()("".concat(e," ").concat("01:01:01"),"YYYYMMDD HH:mm:ss")}m()(Tw,"PluginName","audio"),m()(Tw,"cardName","audio"),m()(Tw,"PluginOption",Nw),ie.a.extend(ce.a),ie.a.extend(se.a),ie.a.extend(de.a),ie.a.extend(he.a),ie.a.extend(ve.a),"zhCN"===bm.getLanguage()&&ie.a.locale("zh-cn");var Iw="subtract",jw="day",Vw="month",zw=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],Uw=[{name:"蓝色",line:"#69ABE4",border:"#CFEAFC",background:"#EBF7FF"},{name:"玫红色",line:"#E482D4",border:"#FCE1F6",background:"#FCF2FA"},{name:"绿色",line:"#77C386",border:"#D1E6D4",background:"#F0FAF1"},{name:"红色",line:"#E48884",border:"#FBDFDB",background:"#FCF4F2"},{name:"紫色",line:"#9E8BE1",border:"#DED6F5",background:"#F8F5FF"},{name:"黄色",line:"#DFAC5D",border:"#F7E2B7",background:"#FFF7E6"}],Hw=function(){function e(t){var n=t.title,r=t.desc,i=t.colorIndex,a=t.start,c=t.end;o()(this,e),this._id=xr(5),this._title=n,this._desc=r,this._start=a,this._end=null!=c?c:a,this._colorIndex=i,this._startDate=Aw(this._start),this._endDate=Aw(this._end),this._order=0}return a()(e,[{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title},set:function(e){this._title=e}},{key:"desc",get:function(){return this._desc},set:function(e){this._desc=e}},{key:"colorIndex",get:function(){return this._colorIndex},set:function(e){this._colorIndex=e}},{key:"start",get:function(){return this._start},set:function(e){this._start=e,this._startDate=Aw(this._start)}},{key:"startDate",get:function(){return this._startDate},set:function(e){this._startDate=e,this._start=Lw(this._startDate)}},{key:"end",get:function(){return this._end},set:function(e){this._end=e,this._endDate=Aw(this._end)}},{key:"endDate",get:function(){return this._endDate},set:function(e){this._endDate=e,this._end=Lw(this._endDate)}},{key:"duration",get:function(){return this._endDate.diff(this._startDate,jw)}},{key:"include",value:function(e){return ie.a.isDayjs(e)?e.isBetween(this._startDate,this._endDate,null,"[]"):this._start<=e&&e<=this._end}},{key:"isStartDate",value:function(e){return ie.a.isDayjs(e)?e.isSame(this._startDate,jw):this._start===e}},{key:"isEndDate",value:function(e){return ie.a.isDayjs(e)?e.isSame(this._endDate,jw):this._end===e}},{key:"isSameDaySchedule",value:function(){return this.start===this.end}},{key:"updateValue",value:function(e,t){this[e]=t}},{key:"toJSON",value:function(){return{id:this._id,title:this._title,desc:this._desc,start:this._start,end:this._end,colorIndex:this._colorIndex}}}],[{key:"convert",value:function(t){var n=new e(t);return n._id=t.id,n}},{key:"cloneWithUpdateValue",value:function(t,n,r){var o=e.convert(t);return o.updateValue(n,r),o}}]),e}();var qw={currentDate:Lw(Mw()),colorIndex:0,schedules:{}},Ww=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this,e)).watchCardValue(),t.watchCardValueProperties(),t.setExtendInfo(),t}return a()(i,[{key:"watchCardValue",value:function(){var e=this,t=this._cardValue;Object.defineProperty(this,"_cardValue",{get:function(){return t},set:function(n){t=n,e.watchCardValueProperties(),e.setExtendInfo()}})}},{key:"watchCardValueProperties",value:function(){var e=this,t=this._cardValue.schedules;Object.defineProperty(this._cardValue,"schedules",{get:function(){return t},set:function(n){t=n,e.setScheduleExtendInfo()}})}},{key:"setExtendInfo",value:function(){this.setCalendarDate(),this.setDateRows(),this.setScheduleExtendInfo()}},{key:"setScheduleExtendInfo",value:function(){this.setScheduleList(),this.setDateScheduleMap()}},{key:"getCurrentDate",value:function(){return this._cardValue.currentDate}},{key:"setCurrentDate",value:function(e){this._cardValue.currentDate=e}},{key:"getColorIndex",value:function(){return this._cardValue.colorIndex||0}},{key:"setColorIndex",value:function(e){this._cardValue.colorIndex=e}},{key:"getSchedules",value:function(){return this._cardValue.schedules}},{key:"setSchedules",value:function(e,t){this._cardValue.schedules=e,t||this.afterChange()}},{key:"setSchedule",value:function(e){var t=e.type,n=e.schedule,r=e.prevSchedule,o=e.sync,i=e.index,a=T()({},this.getSchedules()),c=function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].id===t){n=r;break}return n},l=function(e,t){a[e.start]||(a[e.start]=[]),void 0!==t&&-1!==t?a[e.start].splice(t,0,e):a[e.start].push(e)},s=function(e){var t=a[e.start],n=c(t,e.id);a[e.start].splice(n,1)};switch(t){case"add":l(n);break;case"update":if(n.start===r.start){var u=a[n.start],d=c(u||[],n.id);if(u&&-1!==d)a[n.start]=[].concat(x()(u.slice(0,d)),[n],x()(u.slice(d+1,u.length))),void 0!==i&&-1!==i&&d!==i&&a[n.start].splice(i,0,a[n.start].splice(d,1)[0]);else{for(var f=Object.keys(a),h="",p=-1,v=0;v<f.length;v++){var m=a[f[v]],y=c(m||[],n.id);if(-1!==y){h=f[v],p=y;break}}""!==h&&-1!==p&&(s({start:h,id:n.id}),l(n))}}else s(r),l(n,i);break;case"delete":s(n)}this.setSchedules(a,o)}},{key:"getStartWeekDay",value:function(){var e;return null!==(e=this._startWeekDay)&&void 0!==e?e:0}},{key:"setStartWeekDay",value:function(e){this._startWeekDay=e}},{key:"getCalendarDate",value:function(){return this._calendarDate}},{key:"setCalendarDate",value:function(){var e=this.getCurrentDate(),t=this.getStartWeekDay(),n=Aw(e),r=n.daysInMonth(),o=Math.abs(n.day()-t),i=n.subtract(o,jw),a=o+r,c=a%7;a+=0===c?7:7-c%7;var l=i.add(a,jw);this._calendarDate={startDate:i,endDate:l,totalDayCount:a}}},{key:"getDateRows",value:function(){return this._dateRows||[]}},{key:"setDateRows",value:function(){for(var e=this.getCalendarDate(),t=e.startDate,n=e.totalDayCount,r=[],o=[],i=0;i<=n;i++)0!==i&&i%7==0&&(r.push(x()(o)),o=[]),o.push(t.add(i,jw));this._dateRows=r}},{key:"getScheduleList",value:function(){return this._scheduleList||[]}},{key:"setScheduleList",value:function(){var e=[],t=this.getSchedules();if(t&&0!==Object.keys(t).length){var n=[];if(Object.keys(t).forEach((function(e){var r=t[e];n.push.apply(n,x()(r))})),0!==n.length){var r=this.getCalendarDate(),o=r.startDate,i=r.endDate,a=Lw(o),c=Lw(i);e=n.filter((function(e){return e.start>=a&&e.start<=c||e.end>=a&&e.end<=c||e.start<a&&e.end>c})).map((function(e){return Hw.convert(e)})).sort((function(e,t){return e.start-t.start})),this._scheduleList=e}else this._scheduleList=e}else this._scheduleList=e}},{key:"getDateScheduleMap",value:function(){return this._dateScheduleMap||{}}},{key:"setDateScheduleMap",value:function(){for(var e={},t=this.getDateRows(),n=this.getScheduleList(),r=function(r){for(var o={},i=function(i){var a=t[r][i],c=Lw(a),l=n.filter((function(e){return e.include(a)}));if(0===i&&0!==r){var s=e[Lw(a.subtract(1,jw))];l=l.sort((function(e,t){var n,r;return(null!==(n=s[e.id])&&void 0!==n?n:99)-(null!==(r=s[t.id])&&void 0!==r?r:99)}))}e[c]={};var u=[];l.filter((function(t){var n=o[t.id];return!n||(e[c][t.id]=n,u.push(n),!1)})).forEach((function(t){var n=function(e){for(var t=0,n=0;n<e.length&&e.includes(t);n++)t+=1;return t}(u);o[t.id]=n,e[c][t.id]=n,u.push(n)}))},a=0;a<t[r].length;a++)i(a)},o=0;o<t.length;o++)r(o);this._dateScheduleMap=e}}],[{key:"getInitCardValue",value:function(){return Dv.setCardSpacingToValue("both",xo(i.DefaultCardValue))}},{key:"fromLake",value:function(e){var t=null==e?void 0:e.currentDate;if(t){var n=String(t);/01$/.test(n)||(e.currentDate=parseInt("".concat(n.slice(0,n.length-2),"01"),10))}return T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return e}}]),i}();m()(Ww,"DefaultCardValue",qw);var Zw=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(ub,Ww.fromLake(n),r);e.setNode(o)}}]),i}();var Kw=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Kw,"CardName","calendar");var $w=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard(hb,Ww.toLake(n),r);e.setNode(o)}}]),i}();var Jw=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_currentUrl",""),t._currentUrl=e,t}return a()(i,[{key:"write",value:function(e,t){var n=t.id,r=Nv(this._currentUrl,n),o=e.createElement("div",{className:"ne-calendar"}),i=e.createElement("a",{attrs:{href:r,target:"_blank"}});e.appendChild(i,e.createTextNode(r)),e.appendChild(o,e.createTextNode("此处为语雀日历卡片，点击链接查看：")),e.appendChild(o,i),e.setNode(o)}}]),i}();var Yw=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(db,new Zw),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Kw.CardName,new Kw),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(ub,new $w),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(ub,new Jw(e.option.currentURL))}}]),i}();m()(Yw,"PluginName","calendar"),m()(Yw,"cardName",ub);var Gw=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getOriginData",value:function(){return this._cardValue.originData}},{key:"setOriginData",value:function(e){this._cardValue.originData=e}},{key:"getCryptoData",value:function(){return this._cardValue.cryptoData}},{key:"setCryptoData",value:function(e){this._cardValue.cryptoData=e}}],[{key:"getInitCardValue",value:function(){return Dv.setCardSpacingToValue("both",xo(i.DefaultCardValue))}},{key:"fromLake",value:function(e){return T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return e.cryptoData?{originData:"",cryptoData:e.cryptoData,locked:!0}:e}}]),i}();m()(Gw,"DefaultCardValue",{originData:"",cryptoData:""});var Xw=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(_b,Gw.fromLake(n),r);e.setNode(o)}}]),i}();var Qw=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Qw,"CardName",_b);var ex=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard(Rb,Gw.toLake(n),r);e.setNode(o)}}]),i}();var tx=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_currentUrl",""),t._currentUrl=e,t}return a()(i,[{key:"write",value:function(e,t){var n=t.id,r=Nv(this._currentUrl,n),o=e.createElement("div",{className:"ne-locked-text"}),i=e.createElement("a",{attrs:{href:r}});e.appendChild(i,e.createTextNode(r)),e.appendChild(o,e.createTextNode("此处为语雀加密文本卡片，点击链接查看：")),e.appendChild(o,i),e.setNode(o)}}]),i}();var nx=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(kb,new Xw),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Qw.CardName,new Qw),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(_b,new ex),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(_b,new tx(e.option.currentURL))}}]),i}();m()(nx,"PluginName","lockedText"),m()(nx,"cardName",_b);var rx="loading",ox="done",ix="queryDetail",ax="vote",cx="add",lx="update",sx="delete",ux="single",dx={single:"单选",multiple:"多选"},fx=[{name:dx.single,value:ux},{name:dx.multiple,value:"multiple"}];function hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function px(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hx(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vx(){return{id:xr(),value:""}}var mx={voteId:null,type:fx[0].value,title:"",items:[],deadline:ie()(ie()().format("YYYY-MM-DD 00:00:00")).add(2,"day").toISOString()},yx=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getVoteId",value:function(){return this._cardValue.voteId}},{key:"setVoteId",value:function(e){this._cardValue.voteId=e}},{key:"getTitle",value:function(){return this._cardValue.title}},{key:"setTitle",value:function(e,t){this._cardValue.title=e,t||this.afterChange()}},{key:"getType",value:function(){return this._cardValue.type}},{key:"setType",value:function(e){this._cardValue.type=e}},{key:"getDeadline",value:function(){return this._cardValue.deadline}},{key:"setDeadline",value:function(e){this._cardValue.deadline=e}},{key:"getItems",value:function(){return this._cardValue.items}},{key:"setItems",value:function(e,t){this._cardValue.items=e,t||this.afterChange()}},{key:"setVote",value:function(e){var t=e.type,n=e.item,r=e.sync,o=x()(this.getItems()),i=function(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].id===e.id){t=n;break}return t};switch(t){case cx:o.push(vx());break;case lx:var a=i(n);o=[].concat(x()(o.slice(0,a)),[n],x()(o.slice(a+1,o.length)));break;case sx:var c=i(n);o.splice(c,1)}this.setItems(o,r)}}],[{key:"getInitCardValue",value:function(){return Dv.setCardSpacingToValue("both",px(px({},xo(mx)),{},{voteId:xr(),items:[vx(),vx()]}))}},{key:"fromLake",value:function(e){return T()({},i.DefaultCardValue,{voteId:xr()},e)}},{key:"toLake",value:function(e){return e}},{key:"fromPaste",value:function(e){var t=T()({},i.DefaultCardValue,e);return t.voteId=xr(),t.items=t.items.map((function(e){return px(px({},e),{},{id:xr()})})),t}}]),i}();m()(yx,"DefaultCardValue",mx);var gx=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(pb,yx.fromLake(n),r);e.setNode(o)}}]),i}();var bx=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(bx,"CardName","vote");var wx=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard(yb,yx.toLake(n),r);e.setNode(o)}}]),i}();var xx=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_currentUrl",""),t._currentUrl=e,t}return a()(i,[{key:"write",value:function(e,t){var n=t.id,r=Nv(this._currentUrl,n),o=e.createElement("div",{className:"ne-vote"}),i=e.createElement("a",{attrs:{href:r}});e.appendChild(i,e.createTextNode(r)),e.appendChild(o,e.createTextNode("此处为语雀投票卡片，点击链接查看：")),e.appendChild(o,i),e.setNode(o)}}]),i}();var _x=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(vb,new gx),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(bx.CardName,new bx),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(pb,new wx),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(pb,new xx(e.option.currentURL))}}]),i}();m()(_x,"PluginName","vote"),m()(_x,"cardName",pb);var kx={accept:null},Cx=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},kx,t)}return a()(e,[{key:"accept",get:function(){return this._option.accept}}]),e}();m()(Cx,"OptionName",wb);var Rx={Pending:"pending",Done:"done",Error:"error",Uploading:"uploading",Transfering:"transfering"},Nx="transfer";function Ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ox={src:"",name:"",size:0,type:"",ext:"",status:Rx.Pending},Dx=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getTaskId",value:function(){return this._cardValue.taskId}},{key:"getTaskType",value:function(){return this._cardValue.taskType}},{key:"getName",value:function(){return this._cardValue.name}},{key:"setName",value:function(e){this._cardValue.name=e}},{key:"getExt",value:function(){return this._cardValue.ext}},{key:"setExt",value:function(e){this._cardValue.ext=e}},{key:"getSrc",value:function(){return this._cardValue.src}},{key:"setSrc",value:function(e){this._cardValue.src=e}},{key:"getStatus",value:function(){return this._cardValue.status}},{key:"setStatus",value:function(e){this._cardValue.status=e}},{key:"getType",value:function(){return this._cardValue.type}},{key:"setType",value:function(e){this._cardValue.type=e}},{key:"getSize",value:function(){return this._cardValue.size}},{key:"setSize",value:function(e){this._cardValue.size=e}},{key:"getMessage",value:function(){return this._cardValue.message||""}},{key:"setMessage",value:function(e){this._cardValue.message=e}},{key:"isCompleted",value:function(){var e=this.getStatus();return!(!this.getSrc()&&![Rx.Done,Rx.Error].includes(e)&&this._cardValue.taskId)}},{key:"toJSON",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ex(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._cardValue)}}],[{key:"fromLake",value:function(e){return e.src&&e.status!==Rx.Done&&(e.status=Rx.Done),T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return e}},{key:"fromRepository",value:function(e){var t=e.copiedFileInfo,n={};return n.src=t.url,n.size=t.size,n.name=t.filename,n.ext=t.extname,n.status=Rx.Done,n.source="transfer",T()({},Ox,n)}},{key:"toTransfer",value:function(e){return{filekey:_v(e.src)}}},{key:"fromTransfer",value:function(e,t){var n,r,o,i,a={};return a.taskId=t.id,a.taskType=Nx,a.status=Rx.Transfering,a.name=null!==(n=e.name)&&void 0!==n?n:Ox.name,a.size=null!==(r=e.size)&&void 0!==r?r:Ox.size,a.type=null!==(o=e.type)&&void 0!==o?o:Ox.type,a.ext=null!==(i=e.ext)&&void 0!==i?i:Ox.ext,T()({},Ox,a)}},{key:"getInitCardValue",value:function(e){var t,n,r,o={};return e&&(o.taskId=e.id,o.taskType="upload",e.file&&(o.name=null!==(t=e.file.name)&&void 0!==t?t:Ox.name,o.size=null!==(n=e.file.size)&&void 0!==n?n:Ox.size,o.type=null!==(r=e.file.type)&&void 0!==r?r:Ox.type,o.ext=e.file.ext?e.file.ext:e.file.name?jc(e.file.name):Ox.ext)),T()({},Ox,o)}}]),i}();m()(Dx,"DefaultCardValue",Ox);var Sx=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(gb,Dx.fromLake(n),r);e.setNode(o)}}]),i}();var Bx=function(e){u()(i,Ac);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_plugin",null),m()(l()(n),"_iKernel",null),n._plugin=e,n._iKernel=t,n}return a()(i,[{key:"readFile",value:function(e){var t,n=null===(t=e.extName)||void 0===t?void 0:t.toLowerCase();if(em.getAttachmentFileAccept(this._plugin.option.accept).includes("."+n)){var r=e._$neUploadTaskId;if(r)return Mo.createCard(gb,Dx.getInitCardValue({id:r,file:e.file}),xr(9))}else this._iKernel.emitEvent("unSupportFileUpload",e)}}]),i}();m()(Bx,"FileTypes","*");var Px=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Px,"CardName","file");var Fx=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard(xb,Dx.toLake(n),r);e.setNode(o)}}]),i}();var Tx=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=z()(t,"attrs.value",{}),r=n.src,o=n.name;if(r){var i=e.createElement("a",{className:"ne-card-file",attrs:{href:r}});e.appendChild(i,e.createTextNode("📎"+o)),e.setNode(i)}}}]),i}();var Mx=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(bb,new Sx),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new Fx),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Px.CardName,new Px),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new Tx),e.hasExtendMethod("registerFileReader")&&e.registerFileReader(Bx.FileTypes,new Bx(this,this.iKernel))}}]),i}();m()(Mx,"PluginName","file"),m()(Mx,"PluginOption",Cx),m()(Mx,"cardName",gb);var Lx={accept:null},Ax=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Lx,t)}return a()(e,[{key:"accept",get:function(){return this._option.accept}}]),e}();m()(Ax,"OptionName","video");var Ix={Pending:"pending",Uploading:"uploading",Uploaded:"uploaded",Done:"done",Error:"error"},jx="transfer",Vx={Common:"common",Src:"src",Taobao:"taobao",Aliyun:"aliyun",Unknown:"unknown"},zx="transcoding",Ux="done",Hx="error",qx="invalid",Wx="reject",Zx="server";function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $x={status:Ix.Pending,name:null,size:null,taskId:null,taskType:"",url:null,cover:null,videoId:null,download:!1},Jx=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getTaskId",value:function(){return this._cardValue.taskId}},{key:"getName",value:function(){return this._cardValue.name}},{key:"setName",value:function(e){this._cardValue.name=e}},{key:"getStatus",value:function(){return this._cardValue.status}},{key:"setStatus",value:function(e){this._cardValue.status=e}},{key:"getUrl",value:function(){return this._cardValue.url}},{key:"setUrl",value:function(e){this._cardValue.url=e}},{key:"getCover",value:function(){return this._cardValue.cover}},{key:"setCover",value:function(e){this._cardValue.cover=e}},{key:"getCode",value:function(){return this._cardValue.code}},{key:"setCode",value:function(e){this._cardValue.code=e}},{key:"getVideoId",value:function(){return this._cardValue.videoId}},{key:"setVideoId",value:function(e){this._cardValue.videoId=e}},{key:"getMessage",value:function(){return this._cardValue.message}},{key:"setMessage",value:function(e){this._cardValue.message=e}},{key:"getSize",value:function(){return this._cardValue.size}},{key:"setSize",value:function(e){this._cardValue.size=e}},{key:"getDownload",value:function(){return this._cardValue.download}},{key:"setDownload",value:function(e){this._cardValue.download=e}},{key:"getSrc",value:function(){return this._cardValue.src}},{key:"getAliyunVideoSrc",value:function(){return this._cardValue.aliyunVideoSrc}},{key:"getTaobaoVideoId",value:function(){return this._cardValue.taobaoVideoId}},{key:"getUploaderId",value:function(){return this._cardValue.uploaderId}},{key:"getVideoType",value:function(){return i.getVideoType(this._cardValue)}},{key:"isCompleted",value:function(){var e=this.getStatus();return this.getVideoId()||[Ix.Uploaded,Ix.Done,Ix.Error].includes(e)}}],[{key:"getInitCardValue",value:function(e){var t,n,r={};return e&&(r.taskId=e.id,r.taskType="upload",e.file&&(r.name=null!==(t=e.file.name)&&void 0!==t?t:$x.name,r.size=null!==(n=e.file.size)&&void 0!==n?n:$x.size)),Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,r))}},{key:"fromRepository",value:function(e){var t=e.copiedFileInfo,n={status:Ix.Uploaded,name:t.filename,size:t.size,url:t.url,videoId:t.video_id,source:jx};return Dv.setCardSpacingToValue("both",T()({},$x,n))}},{key:"fromLake",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kx(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=i.getVideoType(t);return[Vx.Src,Vx.Aliyun].includes(n)&&t.status!==Ix.Done&&(t.status=Ix.Done),n===Vx.Common&&t.status!==Ix.Done&&(t.status=Ix.Done),n===Vx.Taobao&&t.status!==Ix.Done&&(t.status=Ix.Done),t.coverUrl&&t.coverUrl.includes("?auth_key=")&&(t.coverUrl=""),T()({},$x,t)}},{key:"toLake",value:function(e){return e}},{key:"getVideoType",value:function(e){var t=e.videoId,n=e.taskId,r=e.source;if(t&&n||t&&r===jx)return Vx.Common;if(e.src)return Vx.Src;if(e.aliyunVideoSrc)return Vx.Aliyun;var o=e.taobaoVideoId,i=e.uploaderId;return o&&i?Vx.Taobao:Vx.Unknown}}]),i}();m()(Jx,"DefaultCardValue",$x);var Yx=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=e.createCard("video",Jx.fromLake(n),r);e.setNode(o)}}]),i}();var Gx=function(e){u()(i,Ac);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readFile",value:function(e,t){if(("video"===(null==t?void 0:t.category)||"localDoc"===(null==t?void 0:t.category))&&"ui"===(null==t?void 0:t.from)){var n=e._$neUploadTask;if(n)return Mo.createCard("video",Jx.getInitCardValue(n))}}}]),i}();var Xx=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Xx,"CardName","video");var Qx=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("video",Jx.toLake(n),r);e.setNode(o)}}]),i}();var e_=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_currentUrl",""),t._currentUrl=e,t}return a()(i,[{key:"write",value:function(e,t){var n,r=null==t||null===(n=t.attrs)||void 0===n?void 0:n.value;if(r&&(null==r?void 0:r.status)===Ix.Done){var o=t.id,i=Nv(this._currentUrl,o),a=(null==r?void 0:r.name)||"",c=e.createElement("div",{className:"ne-video"}),l=e.createElement("a",{attrs:{href:i}});e.appendChild(l,e.createTextNode(a)),e.appendChild(c,e.createTextNode("此处为语雀视频卡片，点击链接查看：")),e.appendChild(c,l),e.setNode(c)}}}]),i}();var t_=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("video",new Yx),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Xx.CardName,new Xx),e.hasExtendMethod("registerFileReader")&&e.registerFileReader(em.getVideoFileAccept(this.option.name),new Gx),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("video",new Qx),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter("video",new e_(e.option.currentURL))}}]),i}();m()(t_,"PluginName","video"),m()(t_,"PluginOption",Ax),m()(t_,"cardName","video");var n_={getPreviewUrl:null,getFileDownloadURL:null,accept:null},r_=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},n_,e),t}return a()(i,[{key:"accept",get:function(){return this._option.accept}},{key:"getPreviewUrl",value:function(e){var t=this._option.getPreviewUrl;return t?t(e):e}},{key:"getFileDownloadURL",value:function(e){var t=this._option.getFileDownloadURL;return t?t(e):e}}]),i}();m()(r_,"OptionName",Ob);var o_={Pending:"pending",Done:"done",Error:"error",Uploading:"uploading",Transfering:"transfering"},i_="transfer";var a_={src:"",name:"",size:0,type:"",ext:"",source:"",status:o_.Pending,collapsed:!1,download:!1},c_=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardAlias",get:function(){return this.getCollapsed()?"collapsed":"expanded"}},{key:"getTaskId",value:function(){return this._cardValue.taskId}},{key:"getTaskType",value:function(){return this._cardValue.taskType}},{key:"getName",value:function(){return this._cardValue.name}},{key:"setName",value:function(e){this._cardValue.name=e}},{key:"getExt",value:function(){return this._cardValue.ext}},{key:"setExt",value:function(e){this._cardValue.ext=e}},{key:"getPureExt",value:function(){var e=this.getExt(),t=this.getName();return t&&(/\.mindnode\.zip$/.test(t)?e="mindnode":/\.xmind\.zip$/.test(t)&&(e="xmind")),e}},{key:"getSrc",value:function(){return this._cardValue.src}},{key:"setSrc",value:function(e){this._cardValue.src=e}},{key:"getStatus",value:function(){return this._cardValue.status}},{key:"setStatus",value:function(e){this._cardValue.status=e}},{key:"getType",value:function(){return this._cardValue.type}},{key:"setType",value:function(e){this._cardValue.type=e}},{key:"getSize",value:function(){return this._cardValue.size}},{key:"setSize",value:function(e){this._cardValue.size=e}},{key:"getMessage",value:function(){return this._cardValue.message||""}},{key:"setMessage",value:function(e){this._cardValue.message=e}},{key:"getCollapsed",value:function(){return this._cardValue.collapsed}},{key:"setCollapsed",value:function(e){this._cardValue.collapsed=e}},{key:"getDownload",value:function(){return this._cardValue.download}},{key:"setDownload",value:function(e){this._cardValue.download=e}},{key:"isCompleted",value:function(){var e=this.getStatus();return this.getSrc()||[o_.Done,o_.Error].includes(e)}}],[{key:"fromLake",value:function(e){return e.src&&e.status!==o_.Done&&(e.status=o_.Done),T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return e}},{key:"fromRepository",value:function(e){var t=e.copiedFileInfo,n={};return n.src=t.url,n.size=t.size,n.name=t.filename,n.ext=t.extname,n.collapsed=!0,n.status=o_.Done,n.source="transfer",Dv.setCardSpacingToValue("both",T()({},a_,n))}},{key:"toTransfer",value:function(e){return{filekey:_v(e.src)}}},{key:"fromTransfer",value:function(e,t){var n,r,o,i,a={};return a.taskId=t.id,a.taskType=i_,a.status=o_.Transfering,a.name=null!==(n=e.name)&&void 0!==n?n:a_.name,a.size=null!==(r=e.size)&&void 0!==r?r:a_.size,a.type=null!==(o=e.type)&&void 0!==o?o:a_.type,a.ext=null!==(i=e.ext)&&void 0!==i?i:a_.ext,T()({},a_,a)}},{key:"getInitCardValue",value:function(e){var t,n,r,o={};return e&&(o.taskType="upload",o.taskId=e.id,e.file&&(o.name=null!==(t=e.file.name)&&void 0!==t?t:a_.name,o.size=null!==(n=e.file.size)&&void 0!==n?n:a_.size,o.type=null!==(r=e.file.type)&&void 0!==r?r:a_.type,o.ext=e.file.ext?e.file.ext:e.file.name?jc(e.file.name):a_.ext)),Dv.setCardSpacingToValue("both",T()({},i.DefaultCardValue,o))}}]),i}();m()(c_,"DefaultCardValue",a_);var l_=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(Nb,c_.fromLake(n),r);e.setNode(o)}}]),i}();var s_=function(e){u()(i,Ac);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"readFile",value:function(e,t){if("ui"===(null==t?void 0:t.from)&&"localDoc"===(null==t?void 0:t.category)){var n=e._$neUploadTask;if(n)return Mo.createCard("localdoc",c_.getInitCardValue(n))}}}]),i}();var u_=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(u_,"CardName",Nb);var d_=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard(Db,c_.toLake(n),r);e.setNode(o)}}]),i}();var f_=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"write",value:function(e,t){var n=z()(t,"attrs.value",{}),r=n.src,o=n.download,i=n.name;if(r){var a=this._plugin.option,c=o?a.getFileDownloadURL(r):a.getPreviewUrl(r),l=e.createElement("div",{className:"ne-localdoc"}),s=e.createElement("a",{attrs:{href:c}});e.appendChild(s,e.createTextNode(i)),e.appendChild(l,s),e.setNode(l)}}}]),i}();var h_=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(Eb,new l_),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(u_.CardName,new u_),e.hasExtendMethod("registerFileReader")&&e.registerFileReader(em.getLocalDocFileAccept(this.option.accept,"localdoc"),new s_),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new d_),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new f_(this))}}]),i}();m()(h_,"PluginName","localDoc"),m()(h_,"PluginOption",r_),m()(h_,"cardName",Nb);var p_=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n,r){var o=e.newJob(),i=o.getNodeById(n);if(!i||"link"!==i.nodeName)return e.cancelJob(o),!1;var a=o.selectNode(i);br((a=dc.deleteContent(o,a)).collapsed,"F:_to-yuque-command;L:23");var c=qa.insertCardNode(o,a,t,r).cardNode;o.setSelection([o.newRange(o.newPosition(c.parentNode,c.offset+1))]),e.commitJob(o)}}]),i}();var v_=function(e){u()(i,p_);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){return B()(p()(i.prototype),"execute",this).call(this,e,"yuque",t,n)}}]),i}();var m_=function(e){u()(i,p_);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){return B()(p()(i.prototype),"execute",this).call(this,e,"yuqueInline",t,n)}}]),i}();var y_=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardAlias",get:function(){return this._cardValue.mode}},{key:"getMode",value:function(){return this._cardValue.mode||"embed"}},{key:"getRuntimeMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];br("boolean"==typeof e,"F:yuque-card-data;L:137");var t=this._cardValue.mode;return e&&"embed"===t?"card":t||"embed"}},{key:"isEmbedMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return br("boolean"==typeof e,"F:yuque-card-data;L:148"),"embed"===this.getRuntimeMode(e)}},{key:"isTitleMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return br("boolean"==typeof e,"F:yuque-card-data;L:153"),"title"===this.getRuntimeMode(e)}},{key:"isCardMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return br("boolean"==typeof e,"F:yuque-card-data;L:158"),"card"===this.getRuntimeMode(e)}},{key:"setMode",value:function(e){this._cardValue.mode=e}},{key:"isGroup",get:function(){return this._cardValue.isGroup}},{key:"getSrc",value:function(){return this._cardValue.src}},{key:"getPreviewSrc",value:function(){br(!1,"F:yuque-card-data;L:185")}},{key:"setSrc",value:function(e){this._cardValue.src=e}},{key:"setURL",value:function(e){this._cardValue.url=e}},{key:"getDetail",value:function(){return this._cardValue.detail}},{key:"hasDetail",value:function(){return!!this._cardValue.detail}},{key:"setDetail",value:function(e){this._cardValue.detail=e}},{key:"getHeightMode",value:function(){return this._cardValue.heightMode}},{key:"removeHeightMode",value:function(){delete this._cardValue.heightMode}},{key:"setHeightMode",value:function(e){this._cardValue.heightMode=e}}],[{key:"createStandardCardValue",value:function(){return Dv.setCardSpacingToValue("both",xo(i.DefaultCardValue))}},{key:"createBy",value:function(e,t,n){return br(e&&t&&n,"F:yuque-card-data;L:61"),T()({},i.DefaultCardValue,{src:e,url:t,mode:n})}},{key:"fromLake",value:function(e,t){var n=t.type,r=(e=e||{}).mode;return"inline"===n&&(r="title"),"block"===n&&"title"===r&&(r="card"),{mode:r,heightMode:e.heightMode,isGroup:!!e.isGroup,src:e.src||e.url,url:e.url,detail:e.detail}}},{key:"toLake",value:function(e){return e?{mode:e.mode,heightMode:e.heightMode,isGroup:e.isGroup,src:e.src,url:e.url,detail:e.detail}:{}}},{key:"fromRepository",value:function(e){var t=e.originFileInfo,n=e.copiedFileInfo,r=e.extendInfo,o=new URL(n.url,r.currentURL).href;return T()({},i.DefaultCardValue,{source:"transfer",src:o,mode:"card",detail:t.detail})}}]),i}();m()(y_,"DefaultCardValue",{mode:void 0,heightMode:"default",isGroup:!1,src:void 0,url:void 0,detail:void 0});var g_=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("yuque",y_.fromLake(n,{type:"block"}),r);e.setNode(o)}}]),i}();var b_=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("yuqueInline",y_.fromLake(n,{type:"inline"}),r);e.setNode(o)}}]),i}();var w_=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(w_,"CardName","yuque");var x_=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(x_,"CardName","yuqueInline");var __=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("yuque",y_.toLake(n),r);e.setNode(o)}}]),i}();var k_=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("yuqueinline",y_.toLake(n),r);e.setNode(o)}}]),i}();var C_=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value,r=void 0===n?{}:n;if(r.src){if("yuque"===t.name){var o=e.createElement("div",{className:"ne-yuque"}),i=e.createElement("a",{attrs:{href:r.src,target:"_blank"}});return e.appendChild(o,e.createTextNode("此处为语雀内容卡片，点击链接查看：")),e.appendChild(o,i),e.appendChild(i,e.createTextNode(r.src)),void e.setNode(o)}var a=e.createElement("span",{className:"ne-yuque-inline"}),c=e.createElement("a",{attrs:{href:r.src,target:"_blank"}});e.appendChild(c,e.createTextNode(r.src)),e.appendChild(a,c),e.setNode(a)}}}]),i}();m()(C_,"NodeNames",["yuque","yuqueInline"]);var R_=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard("yuque"),e.registerInlineCard("yuqueInline"),e.registerCommand("linkToYuqueDoc",new v_),e.registerCommand("linkToYuqueInlineDoc",new m_),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(C_.NodeNames,new C_),e.hasExtendMethod("registerLakeCardReader")&&(e.registerLakeCardReader("yuque",new g_),e.registerLakeCardReader("yuqueinline",new b_)),e.hasExtendMethod("registerINodeCardReader")&&(e.registerINodeCardReader(w_.CardName,new w_),e.registerINodeCardReader(x_.CardName,new x_)),e.hasExtendMethod("registerLakeCardWriter")&&(e.registerLakeCardWriter("yuque",new __),e.registerLakeCardWriter("yuqueInline",new k_))}}]),i}();m()(R_,"PluginName","yuque");var N_=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().isCardSelection?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}}]),i}();var E_=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("save",new N_)}}]),i}();m()(E_,"PluginName","save");var O_={origin:null,externalOpen:!1,generateMentionInfo:null},D_=a()((function e(t){var n=this;o()(this,e),m()(this,"_option",null),m()(this,"generateMentionInfo",(function(e){if(n._option.generateMentionInfo)return n._option.generateMentionInfo(e);var t=e.login,r=e.name,o=e.nickName;if(t){var i=n._option,a=i.origin,c=i.externalOpen;return a?"boolean"!=typeof c&&(c=!0):a=z()(window,"location.origin"),{text:o?"".concat(o,"(").concat(t,")"):"".concat(r||t,"(").concat(t,")"),url:encodeURI("".concat(a,"/").concat(t)),externalOpen:!!c}}return{text:o||r,url:null}})),this._option=T()({},O_,t)}));function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}m()(D_,"OptionName","mention");var B_=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){return e.getSelection().rangeCount>1?Oa.UNAVAILABLE:Oa.NOT_EXECUTED}},{key:"getValue",value:function(e){return e.getNodesByName("mention").filter((function(e){return e.isConnected})).map((function(e){return e.attrs&&e.attrs.value?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.attrs.value):null})).filter(Boolean)}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.newJob(),o=this.getState(r);if(o===Oa.UNAVAILABLE)return e.cancelJob(r),!1;var i=qa.insertCardNode(r,r.getSelection(),"mention",t),a=i.selection,c=i.cardNode;return n?r.setSelection([r.newRange(r.newPosition(c,0))]):r.setSelection(a),e.commitJob(r),c.id}}]),i}();function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F_=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"setUserInfo",value:function(e){var t=e.login,n=e.nickName,r=e.name;this._cardValue.login=t,this._cardValue.nickName=n,this._cardValue.name=r}},{key:"getUserInfo",value:function(){return{login:this._cardValue.login,nickName:this._cardValue.nickName,name:this._cardValue.name}}}],[{key:"fromLake",value:function(e){return T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}}]),i}();m()(F_,"DefaultCardValue",{login:void 0,nickName:void 0,name:void 0});var T_=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){if(n){var o=e.createCard("mention",F_.fromLake(n),r);e.setNode(o)}}}]),i}();m()(T_,"LakeCardName","mention");var M_=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(M_,"CardName","mention");var L_=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){if(n){var o=e.createInlineCard("mention",F_.toLake(n),r,{"data-login":n.login,"data-name":n.name});e.setNode(o)}}}]),i}();var A_=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"write",value:function(e,t){var n=z()(t,"attrs.value",{}),r=n.login,o=n.name,i=n.nickName,a=e.createElement("span",{className:"ne-mention"});if(!r)return o||i?(e.appendChild(a,e.createTextNode("@"+(i||o))),void e.setNode(a)):void e.clear();var c=this._plugin.option.generateMentionInfo({login:r,name:o,nickName:i}),l=c.text,s=c.url,u=c.externalOpen,d=e.createElement("a",{attrs:{href:s,target:u?"_blank":void 0}});e.appendChild(d,e.createTextNode("@"+l)),e.appendChild(a,d),e.setNode(a)}}]),i}();var I_=function(e){u()(i,Sc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"write",value:function(e,t){var n,r=(null==t||null===(n=t.attrs)||void 0===n?void 0:n.value)||{},o=this._plugin.option.generateMentionInfo(r).text;o&&e.append("@"+o)}}]),i}();var j_=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"isValidMentionPosition",(function(t){var n=t.node,r=t.offset;if(n.hasCategory([Er.Root,Er.LikeRoot]))return!0;if(zr.closest(n,Er.Inline))return!1;if(n.isTextNode()){var o=e._getPrevText(n,r);return!o||!o.match(/[a-z0-9_]$/)}return br(n.isElement()&&n.hasCategory(Er.Block),"F:kernel/index;L:69","F:kernel/index;L:69","F:kernel/index;L:69"),!0})),e}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(i.cardName),e.registerCommand("mention",new B_),e.extendMethods({isValidMentionPosition:this.isValidMentionPosition}),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(T_.LakeCardName,new T_),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(M_.CardName,new M_),e.hasExtendMethod("registerTextWriter")&&e.registerTextWriter(i.cardName,new I_(this)),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new L_),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new A_(this))}},{key:"_getPrevText",value:function(e,t){br(e.isTextNode(),"F:kernel/index;L:74");var n=[];return n.push(Sr.substring(e.data,0,t)),e.previousSibling&&e.previousSibling.isTextNode()&&(e=e.previousSibling,n.push(e.data)),n.reverse().join("")}}]),i}();m()(j_,"PluginName","mention"),m()(j_,"cardName","mention"),m()(j_,"PluginOption",D_);var V_=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){br(n&&n.copiedFileInfo,"F:replace-transfer-file-command;L:67");var r=e.newJob(),o=r.getNodeById(t);if(o&&o.hasCategory(Er.Card)){var i,a=function(e){var t=e.copiedFileInfo,n=e.originFileInfo,r=t.filekey,o=t.extname,i=!0,a="",c={},l=[].concat(x()(P.a.MAC_OFFICE_EXT),x()(P.a.OFFICE_EXT));return zc(r)?(i=!1,a="image",c=Fv.fromRepository(e)):$c(r)?(i=!0,a=Sb,c=Ow.fromRepository(e)):qc(r)?(i=!0,a=Pb,c=Jx.fromRepository(e)):"Doc"===n.target_type?(i=!0,a="yuque",c=y_.fromRepository(e)):l.includes(o)?(i=!0,a=Nb,c=c_.fromRepository(e)):(i=!1,a=gb,c=Dx.fromRepository(e)),{isBlockCard:i,insertCardNodeName:a,insertCardNodeValue:c}}(n),c=a.insertCardNodeName,l=a.insertCardNodeValue;i=r.newSelection(r.newRange(r.newPosition(o.parentNode,o.offset+1)));var s=qa.insertCardNode(r,i,c,l),u=s.selection,d=s.cardNode;return r.setSelection(u),Yi.deleteNode(r,o.parentNode),e.commitJob(r),d.id}e.cancelJob(r)}}]),i}();var z_={status:"pending"},U_=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getTaskId",value:function(){return this._cardValue.taskId}},{key:"setTaskId",value:function(e){this._cardValue.taskId=e}},{key:"getOriginFileInfo",value:function(){return this._cardValue.originFileInfo}},{key:"setOriginFileInfo",value:function(e){this._cardValue.originFileInfo=e}},{key:"getFilename",value:function(){return this._cardValue.filename}},{key:"setFilename",value:function(e){this._cardValue.filename=e}},{key:"getFilesize",value:function(){return this._cardValue.filesize}},{key:"setFilesize",value:function(e){this._cardValue.filesize=e}},{key:"getStatus",value:function(){return this._cardValue.status}},{key:"setStatus",value:function(e){this._cardValue.status=e}}],[{key:"fromLake",value:function(e){return T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return e}}]),i}();m()(U_,"DefaultCardValue",z_),m()(U_,"getInitCardValue",(function(e,t){return T()({},z_,e,{taskId:t.id,originFileInfo:e})}));var H_=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard(Fb,U_.fromLake(n),r);e.setNode(o)}}]),i}();var q_=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(q_,"CardName",Fb);var W_=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard(Lb,U_.toLake(n),r);e.setNode(o)}}]),i}();var Z_=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n,r,o,i,a=(null===(n=t.attrs)||void 0===n||null===(r=n.value)||void 0===r?void 0:r.filename)||"",c=Ic((null===(o=t.attrs)||void 0===o||null===(i=o.value)||void 0===i?void 0:i.filesize)||0),l=e.createElement("div",{className:"ne-transfer"});e.appendChild(l,e.createTextNode("".concat(a," ").concat(c))),e.setNode(l)}}]),i}();var K_=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.registerCommand("replaceTransferFile",new V_),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(Tb,new H_),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(q_.CardName,new q_),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(Fb,new W_),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(Fb,new Z_)}}]),i}();m()(K_,"PluginName","transfer"),m()(K_,"cardName",Fb);var $_=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getSrc",value:function(){return this._cardValue.src}},{key:"setDetail",value:function(e){this._cardValue.detail=e}},{key:"getDetail",value:function(){return this._cardValue.detail}},{key:"hasDetail",value:function(){return!!this._cardValue.detail}}],[{key:"createBy",value:function(e,t){return br(e&&t,"F:bookmark-card-data;L:19"),T()({},i.DefaultCardValue,{src:e,text:t})}},{key:"fromLake",value:function(e){return T()({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return e}}]),i}();m()($_,"DefaultCardValue",{src:void 0,text:void 0,detail:void 0});var J_=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("bookmark",$_.fromLake(n),r);e.setNode(o)}}]),i}();var Y_=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("bookmarklink",$_.toLake(n),r);e.setNode(o)}}]),i}();var G_=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value||{},r=n.src,o=n.text;if(r){var i=e.createElement("div",{className:"ne-bookmark"}),a=e.createElement("a",{attrs:{href:r,target:"_blank"}});e.appendChild(i,a),e.appendChild(a,e.createTextNode(o||r)),e.setNode(i)}}}]),i}();m()(G_,"NodeNames",["bookmark"]);var X_=function(e){u()(i,Sc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value||{},r=n.src,o=n.text;r&&e.append(o||r)}}]),i}();m()(X_,"NodeNames",["bookmark"]);var Q_=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t,n){var r=e.newJob(),o=r.getNodeById(t);if(!o||"link"!==o.nodeName)return e.cancelJob(r),!1;var i=r.selectNode(o);br((i=dc.deleteContent(r,i)).collapsed,"F:link-to-bookmark-command;L:20");var a=qa.insertCardNode(r,i,"bookmark",n).cardNode;r.setSelection([r.newRange(r.newPosition(a.parentNode,a.offset+1))]),e.commitJob(r)}}]),i}();var ek=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){var n=e.newJob(),r=n.getSelection(),o=qa.insertCardNode(n,r,"bookmark",t).cardNode;n.setSelection([n.newRange(n.newPosition(o.parentNode,o.offset+1))]),e.commitJob(n)}}]),i}();var tk=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(tk,"CardName","bookmark");var nk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard("bookmark"),e.registerCommand("linkToBookmark",new Q_),e.registerCommand("insertBookmark",new ek),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("bookmarklink",new J_),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(tk.CardName,new tk),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("bookmark",new Y_),e.hasExtendMethod("registerTextWriter")&&e.registerTextWriter(X_.NodeNames,new X_),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(G_.NodeNames,new G_)}}]),i}();m()(nk,"PluginName","bookmark");var rk=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e,t){if(!t)return!1;br(this.iKernel.getSupportedReaderTypes().includes("text/lake"),"F:markdown-paste-parse-command;L:13");var n=e.newJob(),r=this.iKernel.readData("text/lake",t);if(!r)return!1;var o=dc.insertINode(n,n.getSelection(),r);return n.setSelection(o),e.commitJob(n),!0}}]),i}();var ok=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("markdownPasteParse",new rk)}}]),i}();m()(ok,"PluginName","markdownPasteParse");var ik={mark:{parents:[Er.Block],category:[Er.Inline,Er.InlineBox,Er.TextContainer],children:[Er.Text,Er.Inline]}};var ak=function(e){u()(i,jl);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e){e.setNode(Mo.createElement("mark"))}}]),i}();var ck=function(e){u()(i,ns);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){e.setNode(Mo.createElement("mark"))}}]),i}();m()(ck,"NodeNames",["mark"]);var lk=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e){var t;e.isInlineMode()&&(t={backgroundColor:"#ff0",padding:"0",margin:"0 1px"}),e.setNode(e.createElement("mark",{className:"ne-mark",style:t}))}}]),i}();m()(lk,"NodeNames",["mark"]);var sk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerElement(ik),e.hasExtendMethod("registerLakeNodeReader")&&e.registerLakeNodeReader("mark",new ak),e.hasExtendMethod("registerLakeNodeWriter")&&e.registerLakeNodeWriter(ck.NodeNames,new ck),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(lk.NodeNames,new lk),e.hasExtendMethod("registerMarkdownMatcher")&&e.registerMarkdownMatcher("whiteSpace",new ku(this.iEditing,"==",(function(e,t){var n=e.createElement("mark");Yi.wrapInlineNode(e,t,n),e.setSelection([e.newRange(e.newPosition(n.parentNode,n.offset+1))])})))}}]),i}();m()(sk,"PluginName","mark");var uk=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){n.cardName&&e.setNode(e.createBlockCard(n.cardName,n.cardValue,r))}}]),i}();m()(uk,"NodeNames",["block","inline"]);var dk=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Po[e.inode.cardType]||"block";e.setNode(Mo.createCard(o,{cardName:t,cardValue:n},r))}}]),i}();m()(dk,"NodeNames",["*"]);var fk=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){var n,r,o=Po[null===(n=t.attrs)||void 0===n?void 0:n.cardType]||"block";return e.setNode(Mo.createCard(o,{cardName:t.name,cardValue:null===(r=t.attrs)||void 0===r?void 0:r.value},t.id)),!1}}]),i}();m()(fk,"CardName","*");var hk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard("inline"),e.registerBlockCard("block"),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(dk.NodeNames,new dk),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(fk.CardName,new fk),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(uk.NodeNames,new uk)}}]),i}();m()(hk,"PluginName","fallbackCard");var pk=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"isChecked",value:function(){return this._cardValue.checked}},{key:"setChecked",value:function(e){this._cardValue.checked=!!e}}],[{key:"fromLake",value:function(e){return"boolean"==typeof e?{checked:e}:e&&e.checked?{checked:!0}:{checked:!1}}},{key:"toLake",value:function(e){return!!e.checked}}]),i}();m()(pk,"DefaultCardValue",{checked:!1});var vk=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("checkbox",pk.fromLake(n),r);e.setNode(o)}}]),i}();var mk=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(mk,"CardName","checkbox");var yk=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createInlineCard("checkbox",pk.toLake(n),r);e.setNode(o)}}]),i}();var gk=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=t.attrs.value.checked?"✅":"🔲",r=e.createElement("span",{className:"ne-checkbox"});e.appendChild(r,e.createTextNode(n)),e.setNode(r)}}]),i}();m()(gk,"NodeNames",["checkbox"]);var bk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(i.cardName),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(mk.CardName,new mk),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(gk.NodeNames,new gk),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader("checkbox",new vk),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("checkbox",new yk)}}]),i}();m()(bk,"PluginName","checkbox"),m()(bk,"cardName","checkbox");var wk=function(e){u()(i,Oa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(){return Oa.NOT_EXECUTED}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e,t){var n=e.newJob(),r=this.iKernel,o=r.getSupportedReaderTypes(),i=t.getType(),a=t.getContent();br(o.includes(i),"F:insert-document-command;L:22");var c=r.readData(t.getType(),a,{from:"materialLibrary"});return!!c&&(n.setSelection(dc.insertINode(n,n.getSelection(),c)),e.commitJob(n),!0)}}]),i}();var xk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("insertDocument",new wk)}}]),i}();m()(xk,"PluginName","materialLibrary");var _k=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"get",value:function(e){return this._cardValue[e]}},{key:"set",value:function(e,t){this._cardValue[e]=t,this.afterChange()}}],[{key:"fromLake",value:function(e){return Object.assign({},i.DefaultCardValue,e)}},{key:"toLake",value:function(e){return Object.assign({},e)}}]),i}();m()(_k,"DefaultCardValue",{diagramData:{body:[]},viewportSetting:null,search:null,src:null});var kk=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){try{if(n.diagramData&&"string"==typeof n.diagramData){var o=ye.a.inflate(n.diagramData,{to:"string"});n.diagramData=JSON.parse(o)}}catch(e){n={}}var i=Mo.createCard("board",_k.fromLake(n),r);e.setNode(i)}}]),i}();var Ck=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){try{if(n.diagramData&&"string"==typeof n.diagramData){var o=ye.a.inflate(n.diagramData,{to:"string"});n.diagramData=JSON.parse(o)}}catch(e){n={}}var i=Mo.createCard("board",_k.fromLake(n),r);e.setNode(i)}}]),i}();var Rk=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("board",_k.fromLake(n),r);e.setNode(o)}}]),i}();function Nk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.children},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;t(e,r,o);var i=n(e);if(i)for(var a=0;a<i.length&&!1!==Nk(i[a],t,n,e,a);a++);}var Ek=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){try{if(n.width&&(n.width=Number(n.width)),n.height&&(n.height=Number(n.height)),n.graphData&&n.graphData.roots&&(n.graphData.roots.forEach((function(e){e.type="mindmap",Nk(e,(function(t,n){n!==e&&delete t.side,t.label&&(t.html="".concat(t.label)),delete t.width,delete t.height,delete t.label}))})),n.diagramData={head:{version:"1.0.0"},body:n.graphData.roots},delete n.graphData),n.diagramData&&"string"==typeof n.diagramData){var o=ye.a.inflate(n.diagramData,{to:"string"});n.diagramData=JSON.parse(o)}!n.diagramData.head||"1.0.0"!==n.diagramData.head.version&&"1.0.0"!==n.diagramData.head.verstion||n.diagramData.body.forEach((function(e){e.border={fill:"#577DF9"},e.rainbow=!1,e.tapered=!0,Nk(e,(function(e){"left"===e.side&&(e.layout={quadrant:2})}))}))}catch(e){n={}}var i=Mo.createCard("board",_k.fromLake(n),r);e.setNode(i)}}]),i}();var Ok=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(Ok,"CardName","board");var Dk=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("board",_k.toLake(n),r);e.setNode(o)}}]),i}();var Sk=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t){var n=(t.attrs||{}).value,r=void 0===n?{}:n;if(r.src){var o=e.createElement("img",{attrs:{src:r.src},style:{display:"block",width:"100%"}});e.setNode(o)}}}]),i}();m()(Sk,"NodeNames",[]);var Bk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&(e.registerLakeCardReader("board",new Rk),e.registerLakeCardReader("mindmap",new Ek),e.registerLakeCardReader("basicDraw",new kk),e.registerLakeCardReader("basicdraw",new kk),e.registerLakeCardReader("flowchart2",new Ck)),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(Ok.CardName,new Ok),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter("board",new Sk),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter("board",new Dk)}}]),i}();m()(Bk,"PluginName","board"),m()(Bk,"cardName","board");var Pk={webProxy:null,docId:null,docType:null},Fk=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Pk,t)}return a()(e,[{key:"webProxy",get:function(){return this._option.webProxy}},{key:"docId",get:function(){return this._option.docId}},{key:"docType",get:function(){return this._option.docType}}]),e}();function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tk(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Fk,"OptionName","dynamicData");var Lk=function(){function e(t){o()(this,e),m()(this,"_data",null),m()(this,"_dataMap",new Map),m()(this,"_sheetMap",new Map),t&&this.setData(t)}return a()(e,[{key:"setData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._data=t,this._sheetMap.clear(),t.forEach((function(t){var n=t.sheet_id;e._sheetMap.has(n)||e._sheetMap.set(n,[]),e._sheetMap.get(n).push(t),e._dataMap.set(t.uuid,t)}))}},{key:"getRecordBySheetId",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getRecordsBySheetId(e);if(r&&r[0]&&"string"==typeof(t=Mk({},r[0])).data&&n)try{t.data=JSON.parse(t.data)}catch(e){console.warn("record parse data error",t)}return t}},{key:"getRecordsBySheetId",value:function(e){return this._sheetMap.get(e)}},{key:"syncRecord",value:function(e){this._dataMap.has(e.id)&&(this._dataMap.get(e.id).data=e.data)}}]),e}();var Ak=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_dynamicDataManager",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this._dynamicDataManager=new Lk,e.extendMethods({getDynamicDataRecordByCardId:function(e,n){return t._dynamicDataManager.getRecordBySheetId(e,n)},getDynamicDataRecordsByCardId:function(e){return t._dynamicDataManager.getRecordsBySheetId(e)},getDynamicDataBaseParams:function(){return{webProxy:t.option.webProxy,docId:t.option.docId,docType:t.option.docType}},syncDynamicDataRecord:function(n){t._dynamicDataManager.syncRecord(n.getRecordData()),e.emitPluginEvent("dynamicDataRecordChange",n)}}),e.on("beforeSetDocument",(function(e,n,r){null!=r&&r.dynamicData&&t._dynamicDataManager.setData(r.dynamicData)}))}}]),i}();m()(Ak,"PluginName","dynamicData"),m()(Ak,"PluginOption",Fk);var Ik=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"execute",value:function(e){var t=e.newJob();if(-1===this.getState(t))return e.cancelJob(t),!1;var n=t.getSelection();n.collapsed||(n=dc.deleteContent(t,t.getSelection())),br(n.collapsed,"F:insert-slash-command;L:23");var r=qa.insertCardNode(t,n,"slash").cardNode;return t.setSelection(t.newSelection(t.newRange(t.newPosition(r,0)))),e.commitJob(t),r.id}}]),i}();var jk=function(e){u()(i,Ud);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getState",value:function(e){if(-1===B()(p()(i.prototype),"getState",this).call(this,e))return-1;var t=e.getSelection();if(!t.isCollapsed)return-1;var n=t.firstRange.start.node;return n.closest([Er.Block])||n.hasCategory([Er.Root,Er.LikeRoot])?0:-1}}]),i}();var Vk=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard("slash"),e.registerCommand("insertSlash",new Ik),e.registerCommand("canInsertSlash",new jk)}}]),i}();function zk(e){return new fc(e)}m()(Vk,"PluginName","slash"),fc.registerPlugin([Cc,Nc,Dc,Mc,il,Cl,Il,ts,us,fs,ps,ms,Cs,Ns,Os,Ts,Ms,zs,Ws,Gs,au,uu,gu,wu,ju,$u,od,wd,Rd,Od,Sd,Pd,Ef,Lh,qh,Qh,up,hp,Dp,Gp,av,uv,hv,mv,dm,Sm,by,Fy,Vy,Qy,ig,fg,gg,xg,Hg,Wg,Kg,Hb,lw,mw,Cw,Tw,Yw,nx,_x,Mx,t_,h_,R_,t_,E_,j_,K_,nk,ok,sk,hk,bk,xk,Bk,Ak,Vk]);var Uk=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_iEditor",null),m()(l()(a),"_name",null),m()(l()(a),"_disabled",!0),m()(l()(a),"pluginContext",null),m()(l()(a),"toolbarNode",null),m()(l()(a),"_ready",!1),a._iEditor=e,a._name=t,a.pluginContext=n||null,a}return a()(i,[{key:"disabled",get:function(){return this._disabled}},{key:"init",value:function(){}},{key:"disable",value:function(){this._disabled=!0,this.refresh()}},{key:"enable",value:function(){this._disabled=!1,this.refresh()}},{key:"iEditor",get:function(){return this._iEditor}},{key:"name",get:function(){return this._name}},{key:"uiLayer",get:function(){return this.iEditor.uiLayer}},{key:"isReady",value:function(){return this._ready}},{key:"onEvent",value:function(e,t){throw new Error("failed to execute getUIState")}},{key:"refresh",value:function(){this._ready=!0,this.emit("statechange")}},{key:"getInitUIState",value:function(){throw new Error("failed to execute getInitUIState")}},{key:"getUIState",value:function(){throw new Error("failed to execute getUIState")}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"close",value:function(){}}],[{key:"getTooltip",value:function(e,t,n){var r=e.iRenderer;if(n&&r.hasExtendMethod("getHotKeyByName")){var o=r.getHotKeyByName(n);if(o)return[t,o.text]}return[t]}}]),i}();m()(Uk,"Type","none");var Hk=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a,c){var s;return o()(this,i),s=r.call(this),m()(l()(s),"option",null),m()(l()(s),"iRenderer",null),m()(l()(s),"iEngine",null),m()(l()(s),"iLayer",null),m()(l()(s),"kernel",null),s.option=e,s.iRenderer=t,s.iEngine=n,s.iLayer=a,s.kernel=c,s}return a()(i,[{key:"init",value:function(e,t,n,r){}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"sync",value:function(){return!0}}]),i}(),qk=function(){function e(){o()(this,e),m()(this,"isAttached",!1)}return a()(e,[{key:"init",value:function(e){}},{key:"_afterInit",value:function(){}},{key:"destroy",value:function(){}},{key:"_$destroy",value:function(){}},{key:"updateAttribute",value:function(e,t,n){}},{key:"$didUpdate",value:function(e){}},{key:"$attached",value:function(){}},{key:"$willDetach",value:function(){}}]),e}();var Wk=function(e){u()(i,qk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"iRenderer",null),m()(l()(c),"viewNode",null),m()(l()(c),"nodeName",null),m()(l()(c),"pluginContext",null),c.iRenderer=e,c.viewNode=t,c.nodeName=n,c.pluginContext=a,c}return a()(i,[{key:"getMainDOMNode",value:function(){br(!1,"F:box-node;L:26")}},{key:"getContentDOMNode",value:function(){return this.getMainDOMNode()}}]),i}(),Zk=function(){function e(){o()(this,e),m()(this,"isAttached",!1)}return a()(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"_$destroy",value:function(){var e=this.plugin._cardNodes.indexOf(this);br(e>-1,"F:_card-node-lifecycle;L:20"),this.plugin._cardNodes.splice(e,1),this._cardData&&this.cardData.destroy()}},{key:"$attached",value:function(){}},{key:"$didUpdate",value:function(e){}},{key:"$willDetach",value:function(){}},{key:"_$beforeFocus",value:function(){this._cardRootNode.parentNode.classList.add("ne-focused")}},{key:"$focus",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e.focus()}},{key:"$blur",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e.blur()}},{key:"_$afterFocus",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e._afterFocus()}},{key:"_$hover",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e._hover()}},{key:"_$leave",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e._leave()}},{key:"_$beforeBlur",value:function(){var e;this._cardRootNode.parentNode.classList.remove("ne-focused"),null===(e=this._$cardUI)||void 0===e||e._beforeBlur()}}]),e}();function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var Jk=function(e){u()(n,Zk);var t=$k(n);function n(e,r,i,a,c){var s;o()(this,n),s=t.call(this),m()(l()(s),"iRenderer",null),m()(l()(s),"_cardData",null),m()(l()(s),"_viewNode",null),m()(l()(s),"_cardRootNode",null),m()(l()(s),"_$cardUI",null),m()(l()(s),"pluginContext",null),m()(l()(s),"plugin",null),m()(l()(s),"pluginOption",null),s.iRenderer=e,s._viewNode=r,s._cardRootNode=i,s.plugin=a,s.pluginOption=a.option,s.pluginContext=c,a._cardNodes.push(l()(s));var u=s.constructor,d=u.$CardData,f=u.$NonBoundary;return d&&(s._cardData=new d(s._viewNode.attrs.value,s.pluginOption),s._cardData.sync=function(e){var t=s.iRenderer.execCommand("setCardValue",e,r.attrs.id,s._cardData.getCardValue());return s._cardData.afterChange(),t}),f||i.parentNode.setAttribute("data-event-boundary","card"),s}return a()(n,[{key:"cardData",get:function(){return this._cardData}},{key:"viewNode",get:function(){return this._viewNode}},{key:"nodeName",get:function(){return this._viewNode.nodeName}},{key:"id",get:function(){return this._viewNode.attrs.id}},{key:"value",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kk(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._viewNode.attrs.value)}},{key:"cardRootNode",get:function(){return this._cardRootNode}},{key:"$didUpdate",value:function(e){this._cardData&&this._cardData.resetCardValue(this.value,e)}}]),n}(),Yk=function(e){u()(n,Jk);var t=$k(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n)}(),Gk=function(e){u()(n,Jk);var t=$k(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n)}();function Xk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(e);return n._neCustom=!0,Array.isArray(t.className)?n.className=t.className.join(" "):t.className&&(n.className=t.className),t.style&&Object.keys(t.style).forEach((function(e){n.style[e]=t.style[e]})),Object.keys(t).forEach((function(e){"className"!==e&&"style"!==e&&n.setAttribute(e,t[e])})),n}var Qk=Xk,eC=function(){function e(){o()(this,e)}return a()(e,null,[{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xk(e,t)}},{key:"createBoundaryNode",value:function(){var e=document.createElement("ne-boundary");return e._neCustom=!0,e.innerHTML="<br>",e}},{key:"getChildren",value:function(e){var t=e.__neDangerDomTree;return e._viewNode.children.map((function(e){return t._nodeMapper.getNativeNode(e)}))}},{key:"syncDOMAttrChange",value:function(t,n){var r=n.updated,o=n.removed;e.setAttributeByChange(t,r),e.removeAttributeByChange(t,o)}},{key:"setAttributeByChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){var n=t.type,r=t.name,o=t.value;"style"===n?e.style[r]=o:(br("attr"===n,"F:box-node-helper;L:39"),e.setAttribute(r,o))}))}},{key:"removeAttributeByChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){var n=t.type,r=t.name;"style"===n?e.style[r]="":(br("attr"===n,"F:box-node-helper;L:53"),e.removeAttribute(r))}))}}]),e}();function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rC={disabledPlugins:[],scrollNode:null,globalOverlayNode:null,scrollableOverlayNode:null,eventEmitter:null,uiEmitter:null,tileRendering:!1},oC=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_engine",null),m()(l()(n),"_option",null),n._engine=e,n._option=nC(nC({},rC),t),n}return a()(i,[{key:"disabledPlugins",get:function(){return this._option.disabledPlugins.slice()}},{key:"eventEmitter",get:function(){return this._option.eventEmitter}},{key:"currentURL",get:function(){return this._engine.kernel.option.currentURL}},{key:"uiEmitter",get:function(){return this._option.uiEmitter}},{key:"globalOverlayNode",get:function(){return this._option.globalOverlayNode}},{key:"scrollableOverlayNode",get:function(){return this._option.scrollableOverlayNode}},{key:"isTileRendering",value:function(){return!!this._option.tileRendering}},{key:"getScrollNode",value:function(){return br(this._option.scrollNode,"F:engine-option;L:63"),"function"==typeof this._option.scrollNode?this._option.scrollNode():this._option.scrollNode}}]),i}(),iC=function(){function e(){o()(this,e)}return a()(e,[{key:"getState",value:function(){}},{key:"getValue",value:function(){}},{key:"isEnabled",value:function(){return!0}},{key:"execute",value:function(){}},{key:"destroy",value:function(){}}]),e}();var aC=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_$commandUnderlay",null),m()(l()(e),"_$commands",{}),e}return a()(i,[{key:"destroy",value:function(){var e=this;this.removeAllListeners(),Object.keys(this._$commands).forEach((function(t){var n=e._$commands[t];null==n||n.destroy()}))}},{key:"registerCommand",value:function(e,t){var n=this,r={};"string"==typeof e?r[e]=t:r=e,Object.keys(r).forEach((function(e){var t=r[e];br(t instanceof iC,"F:command-interceptor;L:37"),n._$commands[e]=t}))}},{key:"execCommand",value:function(e){for(var t,n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return this._$commands[e]?(n=this._$commands[e]).execute.apply(n,o):(t=this._$commandUnderlay).execCommand.apply(t,[e].concat(o))}},{key:"queryCommandState",value:function(e){for(var t,n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return this._$commands[e]?(n=this._$commands[e]).getState.apply(n,o):(t=this._$commandUnderlay).queryCommandState.apply(t,[e].concat(o))}},{key:"queryCommandSupported",value:function(e){var t;if(this._$commands[e])return!0;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._$commandUnderlay).queryCommandSupported.apply(t,[e].concat(r))}},{key:"queryCommandEnabled",value:function(e){var t;if(this._$commands[e])return this._$commands[e].isEnabled();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._$commandUnderlay).queryCommandEnabled.apply(t,[e].concat(r))}},{key:"queryCommandValue",value:function(e){var t;if(this._$commands[e])return this._$commands[e].getValue();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this._$commandUnderlay).queryCommandValue.apply(t,[e].concat(r))}}]),i}(),cC=function(){function e(){o()(this,e),m()(this,"_changed",!1),m()(this,"_childrenChanges",new Set),m()(this,"_positionChanges",new Set),m()(this,"_textChanges",new Set),m()(this,"_addedNodes",new Set),m()(this,"_removedNodes",new Set),m()(this,"_attrChanges",new Map),m()(this,"_connectedCache",new Map)}return a()(e,[{key:"addChange",value:function(e,t){switch(this._changed=!0,br(t.node,"F:change-observer;L:31"),e){case"add-attr":this._parseAddAttr(t);break;case"update-attr":this._parseUpdateAttr(t);break;case"remove-attr":this._parseRemoveAttr(t);break;case"update-text":this._parseTextChange(t);break;case"add-node":this._addNode(t);break;case"remove-node":this._removeNode(t);break;case"move-node":this._moveNode(t);break;default:br(!1,"F:change-observer;L:63")}}},{key:"hasChange",value:function(){return this._changed}},{key:"_parseAddAttr",value:function(e){var t=e.node,n=e.attrName;if(this._isConnected(t)){var r=this._attrChanges;br(n,"F:change-observer;L:81"),r.has(t)?r.get(t)[n]={type:"add"}:r.set(t,m()({},n,{type:"add"}))}}},{key:"_parseRemoveAttr",value:function(e){var t=e.node,n=e.attrName,r=e.attrValue;if(this._isConnected(t)){var o=this._attrChanges;br(n,"F:change-observer;L:106"),o.has(t)?o.get(t)[n]={type:"remove",value:r}:o.set(t,m()({},n,{type:"remove",value:r}))}}},{key:"_parseTextChange",value:function(e){var t=e.node;this._isConnected(t)&&this._textChanges.add(t)}},{key:"_parseUpdateAttr",value:function(e){var t=e.node,n=e.attrName;if(this._isConnected(t)){var r=this._attrChanges;if(br(n,"F:change-observer;L:144"),r.has(t)){if("add"===r.get(t)[n])return;r.get(t)[n]={type:"update"}}else r.set(t,m()({},n,{type:"update"}))}}},{key:"_addNode",value:function(e){var t=this,n=e.parent,r=e.node,o=e.offset;br(o>-1,"F:change-observer;L:167");var i=this._childrenChanges,a=this._positionChanges,c=this._getNodeCache(r);if(this._isConnected(n)&&i.add(n),c.connected)c.parentNode===n&&c.offset===o||a.add(r);else{br(!r.parentNode,"F:change-observer;L:184"),br(n&&r,"F:change-observer;L:185");var l=this._addedNodes;l.add(r),sC(r,(function(e){t._isConnected(e)||l.add(e)}))}}},{key:"_removeNode",value:function(e){var t=this,n=e.node,r=this._childrenChanges,o=this._removedNodes,i=n.parentNode;br(i,"F:change-observer;L:204"),this._isConnected(i)&&r.add(i),sC(n,(function(e){t._isConnected(e)&&o.add(e)}))}},{key:"_moveNode",value:function(e){var t=this._childrenChanges,n=this._positionChanges,r=e.parent,o=e.oldParent,i=e.node;br(r&&o&&i,"F:change-observer;L:223"),this._isConnected(r)&&t.add(r),this._isConnected(o)&&t.add(o),this._isConnected(i)&&n.add(i)}},{key:"_isConnected",value:function(e){return this._getNodeCache(e).connected}},{key:"_getNodeCache",value:function(e){var t=this._connectedCache;return t.has(e)||t.set(e,{connected:e.isConnected,parentNode:e.parentNode,offset:e.offset}),t.get(e)}},{key:"getChanges",value:function(){var e=new Map,t=[],n=Array.from(this._addedNodes).filter((function(t){return lC(e,t)}));return this._attrChanges.forEach((function(r,o){br(!n.includes(o),"F:change-observer;L:267"),lC(e,o)&&t.push({node:o,attrs:r})})),{childrenChanges:Array.from(this._childrenChanges).filter((function(t){return br(!n.includes(t),"F:change-observer;L:279"),lC(e,t)})),positionChanges:Array.from(this._positionChanges).filter((function(t){return br(!n.includes(t),"F:change-observer;L:283"),lC(e,t)})),addedNodes:n,removedNodes:Array.from(this._removedNodes).filter((function(t){return br(!n.includes(t),"F:change-observer;L:288"),!lC(e,t)})),textChanges:Array.from(this._textChanges).filter((function(t){return br(!n.includes(t),"F:change-observer;L:292"),lC(e,t)})),attrChanges:t}}},{key:"clear",value:function(){this._changed=!1,this._childrenChanges.clear(),this._positionChanges.clear(),this._textChanges.clear(),this._addedNodes.clear(),this._removedNodes.clear(),this._attrChanges.clear(),this._connectedCache.clear()}}]),e}();function lC(e,t){return e.has(t)||e.set(t,t.isConnected),e.get(t)}function sC(e,t){t(e),e.isElement()&&e.children.forEach((function(e){sC(e,t)}))}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var dC=function(){function e(t,n,r,i){o()(this,e),m()(this,"_id",null),m()(this,"_parent",null),m()(this,"_nodeName",null),m()(this,"_document",null),m()(this,"_offset",-1),m()(this,"_attrs",{}),m()(this,"_category",{}),this._id=(null==i?void 0:i.id)||xr(8),t.registerNode(this._id,this),this._document=t,this._nodeName=n,this._category=r||{},this._attrs=i||{}}return a()(e,[{key:"destroy",value:function(){this._document.unregisterNode(this._id,this),this._document=null}},{key:"id",get:function(){return this._id}},{key:"document",get:function(){return this._document}},{key:"rootNode",get:function(){return this._document.rootNode}},{key:"attrs",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uC(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs)}},{key:"isConnected",get:function(){for(var e=this;e;){if(e.isRootNode())return!0;e=e.parent}return!1}},{key:"parent",get:function(){return this._parent}},{key:"parentNode",get:function(){return this._parent}},{key:"nodeName",get:function(){return this._nodeName}},{key:"nodeValue",get:function(){return null}},{key:"offset",get:function(){return this._offset}},{key:"ancestors",get:function(){for(var e=[],t=this;t=t.parentNode;)e.unshift(t);return e}},{key:"previousSibling",get:function(){if(!this._parent)return null;var e=this._parent.getChildByOffset(this._offset-1);return br(e!==this,"F:view-node;L:104"),e}},{key:"nextSibling",get:function(){if(!this._parent)return null;var e=this._parent.getChildByOffset(this._offset+1);return br(e!==this,"F:view-node;L:116"),e}},{key:"getPath",value:function(){for(var e=this,t=[e._offset];(e=e._parent)&&!e.isRootNode();)t.push(e._offset);return t.reverse()}},{key:"getSchema",value:function(){return this._document.model.schema.getNodeSchema(this._nodeName)}},{key:"isEmpty",value:function(){return!0}},{key:"hasCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._category;Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++)if(n[e[r]]){if(!t)return!0}else if(t)return!1;return!!t}},{key:"closest",value:function(e){for(var t=this;t;){if(t.hasCategory(e))return t;t=t.parentNode}return null}},{key:"setAttribute",value:function(e,t){var n="update-attr";void 0===this._attrs[e]&&(n="add-attr"),this._attrs[e]=t,this._document.addChange(n,{node:this,attrName:e})}},{key:"hasAttribute",value:function(e){return Bo.call(this._attrs,e)}},{key:"removeAttribute",value:function(e){if(Bo(this._attrs,e)){var t=this._attrs[e];delete this._attrs[e],this._document.addChange("remove-attr",{node:this,attrName:e,attrValue:t})}}},{key:"isRootNode",value:function(){return!1}},{key:"isElement",value:function(){return!1}},{key:"isTextNode",value:function(){return!1}},{key:"isCardNode",value:function(){return!1}},{key:"isInlineCardNode",value:function(){return!1}},{key:"isBlockCardNode",value:function(){return!1}},{key:"isFillerNode",value:function(){return!1}},{key:"isInlineFillerNode",value:function(){return!1}},{key:"isTextFillerNode",value:function(){return!1}},{key:"isBlockFillerNode",value:function(){return!1}},{key:"remove",value:function(){this.parentNode&&this.parentNode.removeChild(this)}},{key:"cloneNode",value:function(){}},{key:"compare",value:function(e){var t={equal:!1,contains:!1,containedBy:!1,preceding:!1,following:!1};if(this===e)return t.equal=!0,t;if(this.isRootNode())return t.contains=!0,t;if(e.isRootNode())return t.containedBy=!0,t;for(var n=this.getPath(),r=e.getPath(),o=n.length,i=r.length,a=0,c=Math.min(o,i);a<c;a++){var l=n[a],s=r[a];if(l<s)return t.preceding=!0,t;if(l>s)return t.following=!0,t}return br(o!==i,"invalid compare node","F:view-node;L:309"),n.length<r.length?t.contains=!0:t.containedBy=!0,t}},{key:"contains",value:function(e){return this===e||this.compare(e).contains}},{key:"print",value:function(){}},{key:"toJSON",value:function(){var e={name:this._nodeName};return Object.keys(this._attrs).length&&(e.attrs=xo(this._attrs)),e}},{key:"toString",value:function(){return"[node toString]"}}]),e}();var fC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){return o()(this,i),r.call(this,e,"#textFiller",{})}return a()(i,[{key:"cloneNode",value:function(){return new i(this._document)}},{key:"isFillerNode",value:function(){return!0}},{key:"isTextFillerNode",value:function(){return!0}},{key:"print",value:function(){return{name:this._nodeName}}},{key:"toString",value:function(){return"<".concat(this._nodeName,"/>")}},{key:"toJSON",value:function(){return{id:this._id,name:this._nodeName}}}]),i}(),hC=function(){function e(t,n){o()(this,e),m()(this,"_node",null),m()(this,"_offset",-1),this._node=t,this._offset=n}return a()(e,[{key:"node",get:function(){return this._node}},{key:"offset",get:function(){return this._offset}},{key:"clone",value:function(){return new e(this._node,this._offset)}}],[{key:"equal",value:function(e,t){return e._node===t._node&&e._offset===t._offset}}]),e}(),pC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o()(this,e),m()(this,"_start",null),m()(this,"_end",null),this._start=t,this._end=n||t.clone()}return a()(e,[{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"collapsed",get:function(){return hC.equal(this._start,this._end)}}]),e}(),vC=function(){function e(t){o()(this,e),m()(this,"_viewTree",null),m()(this,"_ranges",[]),m()(this,"_focus",null),m()(this,"_anchor",null),this._viewTree=t}return a()(e,[{key:"destroy",value:function(){this._viewTree=null,this._ranges=[],this._focus=null,this._anchor=null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].collapsed}},{key:"collapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].collapsed}},{key:"firstRange",get:function(){return this._ranges[0]}},{key:"lastRange",get:function(){return this._ranges[this._ranges.length-1]}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"ranges",get:function(){return this._ranges.slice()}},{key:"focus",get:function(){return this._focus}},{key:"anchor",get:function(){return this._anchor}},{key:"isTableSelection",get:function(){return this._ranges.length>1}},{key:"focusPosition",get:function(){var e=this._ranges;return"start"===this._focus?e[0].start:(br("end"===this._focus,"F:selection/index;L:67"),e[e.length-1].end)}},{key:"anchorPosition",get:function(){var e=this._ranges;return"start"===this._anchor?e[0].start:(br("end"===this._anchor,"F:selection/index;L:78"),e[e.length-1].end)}},{key:"isValid",value:function(){return this._ranges.length>0}},{key:"updateBy",value:function(e){var t=this,n=e.focus,r=e.anchor;this._focus=n,this._anchor=r,this._ranges=e.ranges.map((function(e){return t.transformToViewRange(e)})),br(this._focus&&this._anchor,"F:selection/index;L:93")}},{key:"transformToViewRange",value:function(e){var t=this._viewTree,n=e.start,r=e.end,o=e.collapsed,i=mC(t,n.node,n.offset);if(o)return new pC(i);var a=mC(t,r.node,r.offset);return new pC(i,a)}},{key:"clone",value:function(){var t=new e(this._viewTree);return t._focus=this._focus,t._anchor=this._anchor,t._ranges=this._ranges.slice(),t}},{key:"cloneByRanges",value:function(t){Array.isArray(t)||(t=[t]);var n=new e(this._viewTree);return n._ranges=x()(t),n._anchor="start",n.collapsed?n._focus="start":n._focus="end",n}}]),e}();function mC(e,t,n){if(t.isTextNode())return function(e,t,n){br(t.isConnected,"F:selection/index;L:248");var r=e.getViewNode(t);return br(r,"F:selection/index;L:252"),r.isConnected?new hC(r,n):(br(""===t.data,"F:selection/index;L:256"),mC(e,t.parentNode,t.offset))}(e,t,n);if(t.hasCategory([Er.TableHole,Er.Hole]))return function(e,t,n){var r=e.getViewNode(t);return br(r.isConnected,"F:selection/index;L:268"),0===n?(br(r.firstChild.isInlineFillerNode(),"F:selection/index;L:271"),new hC(r,0)):(br(1===n&&r.lastChild.isInlineFillerNode(),"F:selection/index;L:275"),new hC(r,r.lastChild.offset))}(e,t,n);if(t.hasCategory(Er.Card))return function(e,t,n){br(0===n,"F:selection/index;L:281");var r=e.getViewNode(t);return new hC(r,0)}(e,t,n);br(t.isElement(),"F:selection/index;L:153");var r=t.getChildByOffset(n),o=e.getViewNode(t);if(!o.isConnected)return br(o.hasCategory(Er.Inline)&&o.isEmpty(),"F:selection/index;L:160"),mC(e,t.parentNode,t.offset);if(!r)return o.lastChild&&o.lastChild.isBlockFillerNode()?new hC(o,o.childCount-1):new hC(o,o.childCount);var i=e.getViewNode(r),a=!1;if(i.isConnected||(i=null),!i)for(var c=n-1;c>=0;c--){var l=t.getChildByOffset(c);br(l,"F:selection/index;L:186");var s=e.getViewNode(l);if(s.isConnected){r=l,i=s,a=!0;break}}if(!i)for(var u=n+1,d=t.childCount;u<d;u++){var f=t.getChildByOffset(u);br(f,"F:selection/index;L:202");var h=e.getViewNode(f);if(h.isConnected){r=f,i=h,a=!1;break}}if(!i)return br(1===o.childCount&&o.firstChild.isFillerNode(),"F:selection/index;L:215"),new hC(o,0);if(r.isCardNode()){br(r.hasCategory(Er.InlineCard),"F:selection/index;L:221");var p=i.previousSibling;return br(p,"F:selection/index;L:226"),a?new hC(i.parentNode,i.offset+1):p.isInlineFillerNode()?new hC(p.parentNode,p.offset):new hC(i.parentNode,i.offset)}return br(r.isElement()||r.isTextNode(),"F:selection/index;L:241"),new hC(i.parentNode,a?i.offset+1:i.offset)}var yC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_children",[]),e}return a()(i,[{key:"children",get:function(){return this._children.slice()}},{key:"childCount",get:function(){return this._children.length}},{key:"firstChild",get:function(){return this._children[0]||null}},{key:"lastChild",get:function(){return this._children[this._children.length-1]||null}},{key:"getChildByOffset",value:function(e){return this._children[e]||null}},{key:"isEmpty",value:function(){return 0===this._children.length}},{key:"print",value:function(){return{nodeName:this._nodeName,attrs:this.attrs,children:this._children.map((function(e){return e.print()}))}}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=B()(p()(i.prototype),"toJSON",this).call(this);return e&&(t.children=this._children.map((function(t){return t.toJSON(e)}))),t}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodeName,n=this.attrs,r=[];Object.keys(n).forEach((function(e){var t=n[e];"object"===R()(t)?t=JSON.stringify(t):t+="",r.push("".concat(e,'="').concat(t,'"'))}));var o="";return e&&(o=this._children.map((function(t){return t.toString(e)})).join("")),"<".concat(t).concat(r.length?" "+r.join(" "):"",">").concat(o,"</").concat(t,">")}},{key:"appendChild",value:function(e){if(e._parent===this&&e._offset+1===this.childCount)return e;var t=e._parent,n=this._children.length;return t?this._document.addChange("move-node",{node:e,parent:this,oldParent:t}):this._document.addChange("add-node",{node:e,parent:this,offset:n}),t&&gC(t,e),e._offset=n,e._parent=this,this._children.push(e),e}},{key:"prependChild",value:function(e){return 0===this.childCount?this.appendChild(e):this.insertBefore(e,this._children[0])}},{key:"removeChild",value:function(e){var t=e.parentNode;return br(t===this,"F:view-container-node;L:123"),t&&this._document.addChange("remove-node",{node:e,parent:this}),gC(this,e),e}},{key:"insertBefore",value:function(e,t){if(br(t.parent===this,"F:view-container-node;L:139"),e===t)return e;var n=e.parent,r=this._children,o=r.indexOf(t);br(-1!==o,"F:view-container-node;L:149"),n?this._document.addChange("move-node",{node:e,parent:this,oldParent:n}):this._document.addChange("add-node",{node:e,parent:this,offset:o}),n&&gC(n,e);for(var i=r.length-1;i>=o;i--)r[i]._offset++,r[i+1]=r[i];return e._offset=o,e._parent=this,r[o]=e,e}},{key:"insertAfter",value:function(e,t){br(t.parent===this,"F:view-container-node;L:182"),br(e!==t,"F:view-container-node;L:183");var n=t.nextSibling;return n?this.insertBefore(e,n):this.appendChild(e)}},{key:"insertByOffset",value:function(e,t){return t.parent===this&&t.offset===e?null:(br(e<=this._children.length,"F:view-container-node;L:200"),e===this._children.length?this.appendChild(t):this.insertBefore(t,this._children[e]))}}]),i}();function gC(e,t){var n=e._children.indexOf(t);br(-1!==n,"F:view-container-node;L:213");var r=e._children;r.splice(n,1);for(var o=n,i=e._children.length;o<i;o++)r[o]._offset-=1;return t._parent=null,t._offset=-1,t}var bC=function(e){u()(i,yC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getAttribute",value:function(e){return this._attrs[e]||null}},{key:"cloneNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new i(this._document,this._nodeName,this._attrs);return e&&this._children.forEach((function(n){t.appendChild(n.cloneNode(e))})),t}},{key:"isElement",value:function(){return!0}}]),i}();var wC=function(e){u()(i,bC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){return o()(this,i),r.call(this,e,"#root",t,n)}return a()(i,[{key:"isRootNode",value:function(){return!0}},{key:"cloneNode",value:function(){throw new Error("can not clone rootNode")}}]),i}(),xC=function(){function e(){o()(this,e),m()(this,"_v2m",new WeakMap),m()(this,"_m2v",new WeakMap)}return a()(e,[{key:"destroy",value:function(){this._v2m.deleteAll&&(this._v2m.deleteAll(),this._m2v.deleteAll()),this._v2m=null,this._m2v=null}},{key:"add",value:function(e,t){this._v2m.set(e,t),this._m2v.set(t,e),e._modelNode=t}},{key:"remove",value:function(e){var t=this._v2m.get(e);this._v2m.delete(e),this._m2v.delete(t)}},{key:"getViewNode",value:function(e){return this._m2v.get(e)}},{key:"getModelNode",value:function(e){return this._v2m.get(e)}}]),e}();function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var CC=function(){function e(){o()(this,e)}return a()(e,null,[{key:"applyInsert",value:function(e,t){var n=t.parentNode,r=t.childNode,o=t.offset;RC(NC(e,n),NC(e,r),o)}},{key:"applyUpdateText",value:function(e,t){var n=t.node,r=t.text;NC(e,n).setData(r)}},{key:"applyRemove",value:function(e,t){var n=t.parentNode,r=t.childNode,o=NC(e,n),i=NC(e,r);br(!i.isFillerNode(),"F:tree-helper;L:26"),br(o===i.parentNode,"F:tree-helper;L:27"),o.removeChild(i)}},{key:"applyMove",value:function(e,t){var n=t.offset,r=t.parentNode,o=t.childNode;RC(NC(e,r),NC(e,o),n)}},{key:"applyAddAttr",value:function(e,t){var n=t.node,r=t.attrName,o=t.attrValue;NC(e,n).setAttribute(r,o)}},{key:"applyUpdateAttr",value:function(e,t){var n=t.node,r=t.attrName,o=t.attrValue;NC(e,n).setAttribute(r,o)}},{key:"applyRemoveAttr",value:function(e,t){var n=t.node,r=t.attrName;NC(e,n).removeAttribute(r)}}]),e}();function RC(e,t,n){for(var r=t.parentNode,o=e.children,i=null,a=-1,c=0,l=o.length;c<l;c++){var s=o[c];if(!s.isInlineFillerNode()&&!s.isTextFillerNode()){if(s.isBlockFillerNode()){br(c+1===l,"F:tree-helper;L:77"),i=s;break}if(++a===n){i=s;break}}}r&&r.removeChild(t),i?e.insertBefore(t,i):e.appendChild(t)}function NC(e,t){var n=e._viewModelMapper,r=n.getViewNode(t);return r||(r=function(e,t,n){var r;if(n.isTextNode())r=t.createTextNode(n.data,n.category,kC(kC({},n.attrs),{},{id:n.id}));else if(n.isElement())r=t.createElement(n.nodeName,n.category,kC(kC({},n.attrs),{},{id:n.id}));else{br(n.isCardNode(),"F:tree-helper;L:128");var o=kC(kC({},n.attrs),{},{id:n.id});r=n.hasCategory(Er.InlineCard)?t.createInlineCardNode(n.nodeName,n.category,o):t.createBlockCardNode(n.nodeName,n.category,o)}return r}(e._model,e._viewDoc,t),n.add(r,t)),r}function EC(e,t,n){return t.isFillerNode()?function(e,t){br(t.isFillerNode(),"F:get-model-position-info;L:110");var n=t.previousSibling,r=t.nextSibling;if(n){n.isFillerNode()&&(n=n.previousSibling);var o=e.getModelNode(n);if(o)return{node:o.parentNode,offset:o.offset+1}}if(r){r.isFillerNode()&&(r=r.nextSibling);var i=e.getModelNode(r);if(i)return{node:i.parentNode,offset:i.offset}}return{node:e.getModelNode(t.parentNode),offset:0}}(e,t):(br(t.isElement()||t.isTextNode()||t.isCardNode(),"F:get-model-position-info;L:10"),function(e,t,n){if("x-lp"===t.nodeName||"x-rp"===t.nodeName){var r=e.getModelNode(t.parentNode);return br(r.hasCategory(Er.Hole)&&1===r.childCount,"F:get-model-position-info;L:19"),{node:r,offset:"x-lp"===t.nodeName?0:1}}var o=e.getModelNode(t);if(!o.isElement()||0===n)return{node:o,offset:n};var i=t.getChildByOffset(n);if(!i)return{node:o,offset:o.childCount};if("x-lp"===i.nodeName)return{node:o,offset:0};if("x-rp"===i.nodeName)return{node:o,offset:1};if(!i.isFillerNode())return{node:o,offset:e.getModelNode(i).offset};for(var a=i.previousSibling;a;){if(!a.isFillerNode())return{node:o,offset:e.getModelNode(a).offset+1};a=a.previousSibling}for(var c=i.nextSibling;c;){if(!c.isFillerNode())return{node:o,offset:e.getModelNode(c).offset};c=c.nextSibling}return br(1===t.childCount,"F:get-model-position-info;L:99"),{node:o,offset:0}}(e,t,n))}function OC(e,t){t.previousSibling&&t.previousSibling.isTextFillerNode()||t.parentNode.insertBefore(e.createTextFillerNode(),t)}function DC(e,t){t.nextSibling&&t.nextSibling.isTextFillerNode()||t.parentNode.insertAfter(e.createTextFillerNode(),t)}var SC=function(){function e(t){o()(this,e),m()(this,"_mapper",new WeakMap),m()(this,"_viewDoc",null),this._viewDoc=t}return a()(e,[{key:"destroy",value:function(){this._mapper.deleteAll&&this._mapper.deleteAll(),this._mapper=null,this._viewDoc=null}},{key:"update",value:function(e){var t,n,r,o,i=this._getFillers(e);e.hasCategory([Er.Hole,Er.TableHole])?(t=this._viewDoc,r=(n=e).firstChild,o=n.lastChild,r&&!r.isInlineFillerNode()&&n.prependChild(t.createInlineFillerNode()),o&&!o.isInlineFillerNode()&&n.appendChild(t.createInlineFillerNode())):(function(e,t){!function e(t){br(t.isElement(),"F:fill-content;L:10"),t.children.forEach((function(t){t.isTextFillerNode()||t.isInlineFillerNode()?t.remove():t.isElement()&&e(t)}))}(t),function e(t,n,r){r.isElement()&&r.children.forEach((function(r){r.hasCategory(Er.InlineBox)?(br(r.isConnected,"F:fill-content;L:28"),0===r.offset&&OC(t,r),DC(t,r),function(e,t){t.childCount&&(t.firstChild.isTextFillerNode()&&t.firstChild.isInlineFillerNode()||t.prependChild(e.createTextFillerNode()))}(t,r)):r.hasCategory(Er.InlineCard)?(br(r.isConnected,"F:fill-content;L:37"),0===r.offset&&OC(t,r),DC(t,r)):r.isElement()&&e(t,n,r)}))}(e,t,t)}(this._viewDoc,e),this._fillLine(e,i))}},{key:"_fillLine",value:function(e,t){t.block||(t.block=this._viewDoc.createBlockFillerNode()),e.appendChild(t.block)}},{key:"_getFillers",value:function(e){return this._mapper.has(e)||this._mapper.set(e,{}),this._mapper.get(e)}}]),e}();function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BC(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FC=function(){function e(t,n,r){o()(this,e),m()(this,"_viewDoc",null),m()(this,"_model",null),m()(this,"_rootNode",null),m()(this,"_viewModelMapper",null),m()(this,"_fillerManager",null),m()(this,"_defaultInputElementMapper",null),this._viewDoc=t,this._model=n,this._rootNode=new wC(t,r.rootNode.category,r.rootNode.attrs),this._viewModelMapper=new xC,this._defaultInputElementMapper=new WeakMap,this._fillerManager=new SC(t),this._viewModelMapper.add(this._rootNode,r.rootNode)}return a()(e,[{key:"destroy",value:function(){this._fillerManager.destroy(),this._viewModelMapper.destroy(),this._defaultInputElementMapper.deleteAll&&this._defaultInputElementMapper.deleteAll(),this._defaultInputElementMapper=null,this._rootNode=null}},{key:"rootNode",get:function(){return this._rootNode}},{key:"getViewNode",value:function(e){return this._viewModelMapper.getViewNode(e)}},{key:"nodeIsInTree",value:function(e){var t=this._viewModelMapper.getModelNode(e);return!!t&&t.isConnected}},{key:"applyOperations",value:function(e){var t=this;e.forEach((function(e){t._applyOperation(e)}));var n=this._viewDoc.changeObserver.getChanges(),r=n.childrenChanges,o=n.addedNodes,i=new Set(r.concat(o));this._fill(i),this._fillDefaultInputElement(i),this._fillRootNodeDefaultInputElement(this._rootNode)}},{key:"fillRootNode",value:function(){0===this._rootNode.childCount&&this._addDefaultInputElement(this._rootNode)}},{key:"getModelRangeInfo",value:function(e){var t=EC(this._viewModelMapper,e.start.node,e.start.offset);if(!t)return null;if(e.collapsed)return{start:t,end:PC({},t)};var n=EC(this._viewModelMapper,e.end.node,e.end.offset);return n?{start:t,end:n}:null}},{key:"_applyOperation",value:function(e){switch(e.type){case"insert":return CC.applyInsert(this,e);case"update_text":return CC.applyUpdateText(this,e);case"remove":return CC.applyRemove(this,e);case"move":return CC.applyMove(this,e);case"add_attr":return CC.applyAddAttr(this,e);case"update_attr":return CC.applyUpdateAttr(this,e);case"remove_attr":return CC.applyRemoveAttr(this,e);case"object_insert":case"object_delete":case"object_replace":case"array_insert":return void br(!1,"F:view-tree/index;L:134");default:br(!1,"F:view-tree/index;L:138")}}},{key:"_fill",value:function(e){var t=this,n=this._fillerManager,r=new Set;Array.from(e).forEach((function(e){if(e.isConnected){var o=e.closest(Er.Block);if(o&&r.add(o),e.hasCategory(Er.Hole)){var i=t._viewModelMapper.getModelNode(e);e.setAttribute("data-card",i.firstChild.nodeName),n.update(e)}else e.hasCategory(Er.TableHole)&&n.update(e)}})),Array.from(r).forEach((function(e){n.update(e)}))}},{key:"_fillDefaultInputElement",value:function(e){var t=this;e.forEach((function(e){if(e.hasCategory([Er.Root,Er.LikeRoot]))if(e.isConnected){var n=function(e){var t=e.lastChild;return t?t.isBlockFillerNode()?t.previousSibling:t:null}(e);n?t._viewModelMapper.getModelNode(n).hasCategory([Er.Table,Er.Table])?t._addDefaultInputElement(e):t._removeDefaultInputElement(e):t._addDefaultInputElement(e)}else t._removeDefaultInputElement(e)}))}},{key:"_fillRootNodeDefaultInputElement",value:function(e){e.lastChild&&e.lastChild.hasCategory(Er.TextContainer)?this._removeDefaultInputElement(e):this._addDefaultInputElement(e)}},{key:"_addDefaultInputElement",value:function(e){var t;this._defaultInputElementMapper.has(e)?t=this._defaultInputElementMapper.get(e):(t=this._viewDoc.createBlockFillerNode(),this._defaultInputElementMapper.set(e,t)),e.appendChild(t)}},{key:"_removeDefaultInputElement",value:function(e){var t=this._defaultInputElementMapper.get(e);t&&t.parentNode&&(t.parentNode.removeChild(t),this._defaultInputElementMapper.delete(e))}}]),e}();var TC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this,e,"#text",n,a),m()(l()(c),"_data",""),c._data=t||"",c}return a()(i,[{key:"data",get:function(){return this._data}},{key:"dataLength",get:function(){return Sr.length(this._data)}},{key:"setData",value:function(e){this._document.addChange("update-text",{parent:this.parent,node:this}),this._data=e}},{key:"isEmpty",value:function(){return!this._data}},{key:"cloneNode",value:function(){return new i(this._document,this._data)}},{key:"isTextNode",value:function(){return!0}},{key:"print",value:function(){return{name:"#text",attrs:this.attrs,data:this._data}}},{key:"toString",value:function(){var e=this.attrs,t=[];return Object.keys(e).forEach((function(n){var r=e[n];r?"object"===R()(r)?r=JSON.stringify(r):r+="":r="",t.push("".concat(n,'="').concat(r,'"'))})),"<#text".concat(t.length?" "+t.join(" "):"",">").concat(this._data,"</#text>")}},{key:"toJSON",value:function(){return{id:this._id,name:this._nodeName,data:this._data}}}]),i}();function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var LC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardValue",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs.value)}},{key:"isCardNode",value:function(){return!0}},{key:"isInlineCardNode",value:function(){return!0}},{key:"print",value:function(){return{nodeName:this._nodeName,attr:this.attrs}}},{key:"toString",value:function(){var e=this.nodeName,t=this.attrs,n=[];return Object.keys(t).forEach((function(e){var r=t[e];"object"===R()(r)?r=JSON.stringify(r):r+="",n.push("".concat(e,'="').concat(r,'"'))})),"<".concat(e).concat(n.length?" "+n.join(" "):"","></").concat(e,">")}}]),i}();function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var IC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardValue",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AC(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs.value)}},{key:"isCardNode",value:function(){return!0}},{key:"isBlockCardNode",value:function(){return!0}},{key:"print",value:function(){return{nodeName:this._nodeName,attr:this.attrs}}},{key:"toString",value:function(){var e=this.nodeName,t=this.attrs,n=[];return Object.keys(t).forEach((function(e){var r=t[e];"object"===R()(r)?r=JSON.stringify(r):r+="",n.push("".concat(e,'="').concat(r,'"'))})),"<".concat(e).concat(n.length?" "+n.join(" "):"","></").concat(e,">")}}]),i}();var jC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){return o()(this,i),r.call(this,e,"#blockFiller",{})}return a()(i,[{key:"cloneNode",value:function(){return new i(this._document)}},{key:"isFillerNode",value:function(){return!0}},{key:"isBlockFillerNode",value:function(){return!0}},{key:"print",value:function(){return{name:this._nodeName}}},{key:"toString",value:function(){return"<".concat(this._nodeName,"/>")}},{key:"toJSON",value:function(){return{id:this._id,name:this._nodeName}}}]),i}();var VC=function(e){u()(i,dC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){return o()(this,i),r.call(this,e,"#inlineFiller",{})}return a()(i,[{key:"cloneNode",value:function(){return new i(this._document)}},{key:"isFillerNode",value:function(){return!0}},{key:"isInlineFillerNode",value:function(){return!0}},{key:"print",value:function(){return{name:this._nodeName}}},{key:"toString",value:function(){return"<".concat(this._nodeName,"/>")}},{key:"toJSON",value:function(){return{id:this._id,name:this._nodeName}}}]),i}();var zC=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_modelDoc",null),m()(l()(n),"_viewTree",null),m()(l()(n),"_selection",null),m()(l()(n),"_changeObserver",null),m()(l()(n),"_idNodeMap",{}),n._modelDoc=t,n._changeObserver=new cC,n._viewTree=new FC(l()(n),e,t),n._selection=new vC(n._viewTree),n._init(),n}return a()(i,[{key:"_init",value:function(){var e=this;Ls(this,this._modelDoc,"contentchange",(function(t){var n,r=t.operations,o=t.selection,i=t.mode,a=e._selection.isValid()?e._selection.clone():null;try{e._viewTree.applyOperations(r),n=e._changeObserver.getChanges()}finally{e._changeObserver.clear()}e._selection.updateBy(o),e.emit("contentchange",{changes:n,selection:e._selection,prevSelection:a,mode:i})})),Ls(this,this._modelDoc,"selectionchange",(function(t){e._viewTree.fillRootNode();var n=e._selection.isValid()?e._selection.clone():null;e._selection.updateBy(t.selection);var r=e._changeObserver.getChanges(),o=e._changeObserver.hasChange();e._changeObserver.clear(),o?e.emit("contentchange",{changes:r,selection:e._selection,prevSelection:n,mode:"auto"}):e.emit("selectionchange",{selection:e._selection,prevSelection:n})}))}},{key:"destroy",value:function(){this._selection.destroy(),this._viewTree.destroy()}},{key:"changeObserver",get:function(){return this._changeObserver}},{key:"rootNode",get:function(){return this._viewTree.rootNode}},{key:"selection",get:function(){return this._selection}},{key:"entryPoint",get:function(){return this._modelDoc.entryPoint}},{key:"registerNode",value:function(e,t){this._idNodeMap[e]=t}},{key:"unregisterNode",value:function(e,t){this._idNodeMap[e]===t&&delete this._idNodeMap[e]}},{key:"getNodeById",value:function(e){return this._idNodeMap[e]||null}},{key:"transformToViewRange",value:function(e){return this._selection.transformToViewRange(e)}},{key:"addChange",value:function(e,t){this._changeObserver.addChange(e,t)}},{key:"createElement",value:function(e,t,n){return new bC(this,e,t,n)}},{key:"createTextNode",value:function(e,t,n){return new TC(this,e,t,n)}},{key:"createInlineCardNode",value:function(e,t,n){return new LC(this,e,t,n)}},{key:"createBlockCardNode",value:function(e,t,n){return new IC(this,e,t,n)}},{key:"createBlockFillerNode",value:function(){return new jC(this)}},{key:"createInlineFillerNode",value:function(){return new VC(this)}},{key:"createTextFillerNode",value:function(){return new fC(this)}},{key:"getModelRangeInfo",value:function(e){return this._viewTree.getModelRangeInfo(e)}},{key:"nodeIsInTree",value:function(e){return this._viewTree.nodeIsInTree(e)}}]),i}();var UC=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_engine",null),m()(l()(n),"_model",null),m()(l()(n),"_viewDoc",null),n._engine=e,n._model=t.model,n._init(),n}return a()(i,[{key:"_init",value:function(){var e=this;this._model.on("document.create",(function(t){e._modelDoc=t,e._viewDoc=new zC(e._model,t),e.emit("document.create",e._viewDoc)})),this._model.on("document.destroy",(function(){e.emit("document.destroy",e._viewDoc),e._viewDoc.destroy()}))}},{key:"destroy",value:function(){this._viewDoc&&this._viewDoc.destroy(),this.removeAllListeners()}},{key:"viewDocument",get:function(){return this._viewDoc}},{key:"nodeIsInTree",value:function(e){return this._viewDoc.nodeIsInTree(e)}},{key:"getViewSelection",value:function(){return this._viewDoc?this._viewDoc.selection:null}},{key:"getModelRangeInfo",value:function(e){return this._viewDoc?this._viewDoc.getModelRangeInfo(e):null}},{key:"modelRangeToViewRange",value:function(e){return this._viewDoc.transformToViewRange(e)}}]),i}();var HC=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}(),qC=function(){function e(){o()(this,e)}return a()(e,[{key:"translate",value:function(e,t){return null}}]),e}();m()(qC,"STYLE_NAME","style"),m()(qC,"ATTR_NAME","attr");var WC=function(){function e(){o()(this,e),m()(this,"_attrTranslators",{}),m()(this,"_inlineCards",{}),m()(this,"_blockCards",{}),m()(this,"_box",{})}return a()(e,[{key:"destroy",value:function(){this._attrTranslators=null,this._inlineCards=null,this._blockCards=null,this._box=null}},{key:"registerAttrTranslator",value:function(e,t){var n=this,r={};"string"==typeof e?r[e]=t:r=e,Object.keys(r).forEach((function(e){var t=r[e];br(t instanceof qC,"F:registry;L:30"),n._attrTranslators[e]=t}))}},{key:"registerInlineCard",value:function(e,t,n){this._inlineCards[t]={pluginInstance:e,definition:n}}},{key:"registerBlockCard",value:function(e,t,n){this._blockCards[t]={pluginInstance:e,definition:n}}},{key:"registerBoxNode",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={};"string"==typeof e?o[e]=t:(o=e,t&&(r=t)),Object.keys(o).forEach((function(e){var t=o[e];"function"==typeof t&&(t={clazz:t,pluginContext:r}),n._box[e]=t}))}},{key:"getCardClass",value:function(e){return this._inlineCards[e]||this._blockCards[e]||null}},{key:"getBoxDefinition",value:function(e){return this._box[e]||null}},{key:"getAttrTranslator",value:function(e){return this._attrTranslators[e]}},{key:"isBoxNode",value:function(e){return br("string"==typeof e,"F:registry;L:87"),!!this._box[e]}}]),e}(),ZC={id:"id"},KC=function(){function e(){o()(this,e)}return a()(e,null,[{key:"syncDOMNodeAttrs",value:function(e,t,n){$C(e,n).forEach((function(e){var n=e.type,r=e.name,o=e.value;n===qC.ATTR_NAME?t.setAttribute(r,o):n===qC.STYLE_NAME&&(t.style[r]=o)}))}},{key:"updateDOMNodeAttrs",value:function(e,t,n,r){var o=JC(e,n,r),i=o.updated,a=o.removed;i.forEach((function(e){var n=e.type,r=e.name,o=e.value;n===qC.ATTR_NAME?t.setAttribute(r,o):n===qC.STYLE_NAME&&(t.style[r]=o)})),a.forEach((function(e){var n=e.type,r=e.name;n===qC.ATTR_NAME?t.removeAttribute(r):n===qC.STYLE_NAME&&(t.style[r]="")}))}},{key:"translateAll",value:function(e,t){return $C(e,t)}},{key:"translateChange",value:function(e,t,n){return JC(e,t,n)}}]),e}();function $C(e,t){var n=[];return Object.keys(t).forEach((function(r){var o=YC(e,r,t[r]);o&&n.push(o)})),n}function JC(e,t,n){var r=[],o=[];return Object.keys(n).forEach((function(i){var a=n[i];if("remove"===a.type){var c=YC(e,i,a.attrValue);c&&r.push(c)}else{var l=YC(e,i,t[i]);l&&o.push(l)}})),{removed:r,updated:o}}function YC(e,t,n){if(ZC[t])return{type:qC.ATTR_NAME,name:ZC[t],value:n};if(t.startsWith("data-"))return{type:qC.ATTR_NAME,name:t,value:n};var r=e.getAttrTranslator(t);return r?r.translate(t,n):null}var GC=function(){function e(t,n){o()(this,e),m()(this,"_renderer",null),m()(this,"_isAttached",!1),m()(this,"_destroyed",!1),m()(this,"_viewNode",null),m()(this,"_domNode",null),br("*"!==n.nodeName,"F:virtual-node;L:14"),this._renderer=t,this._viewNode=n}return a()(e,[{key:"init",value:function(){}},{key:"_init",value:function(){var e=this.getMainDOMNode(),t=this.getContentDOMNode();e._viewNode=this._viewNode,e._neRef=this._viewNode,t._viewNode=this._viewNode,t._neRef=this._viewNode,this._isAttached=!0,this._viewNode._isRenderRootNode&&e.setAttribute("ne-role","render-unit")}},{key:"$afterInit",value:function(){}},{key:"$afterAttach",value:function(){br(!1===this._isAttached,"F:virtual-node;L:47"),this._isAttached=!0}},{key:"$afterRefresh",value:function(){}},{key:"$beforeDetach",value:function(){br(!0===this._isAttached,"F:virtual-node;L:55"),this._isAttached=!1}},{key:"destroy",value:function(){this._isAttached=!1,this._destroyed=!0,this._domNode=null}},{key:"$focus",value:function(){}},{key:"$blur",value:function(){}},{key:"registry",get:function(){return this._renderer.registry}},{key:"isConnected",get:function(){var e=this.getMainDOMNode();if(!e||!e.isConnected)return!1;var t=this.getContentDOMNode();return!(!t||!t.isConnected)}},{key:"isDestroyed",get:function(){return this._destroyed}},{key:"iRenderer",get:function(){return this._renderer.iRenderer}},{key:"parentNode",get:function(){var e,t,n=this.getMainDOMNode();return(null==n||null===(e=n.parentNode)||void 0===e||null===(t=e._viewNode)||void 0===t?void 0:t._virtualNode)||null},set:function(e){throw new Error("xxx")}},{key:"nodeName",get:function(){return this._viewNode.nodeName}},{key:"viewNode",get:function(){return this._viewNode}},{key:"isAttached",get:function(){return this._isAttached}},{key:"offset",get:function(){var e=this.getMainDOMNode();return e&&e.parentNode?[].indexOf.call(e.parentNode.childNodes,e):-1}},{key:"previousSibling",get:function(){if(!this._parentNode)return null;var e=this._parentNode.children,t=e.indexOf(this);return br(-1!==t,"F:virtual-node;L:138"),e[t-1]||null}},{key:"nextSibling",get:function(){if(!this._parentNode)return null;var e=this._parentNode.children,t=e.indexOf(this);return br(-1!==t,"F:virtual-node;L:151"),e[t+1]||null}},{key:"isRootNode",value:function(){return!1}},{key:"isTextNode",value:function(){return!1}},{key:"isCardNode",value:function(){return!1}},{key:"isBoxNode",value:function(){return!1}},{key:"isElement",value:function(){return!1}},{key:"isFillerNode",value:function(){return!1}},{key:"isBlockFillerNode",value:function(){return!1}},{key:"isInlineFillerNode",value:function(){return!1}},{key:"isTextFillerNode",value:function(){return!1}},{key:"updateAttribute",value:function(e,t){KC.updateDOMNodeAttrs(this.registry,this._domNode,this._viewNode.attrs,e)}},{key:"repair",value:function(){}},{key:"getMainDOMNode",value:function(){return this._domNode}},{key:"getContentDOMNode",value:function(){return this._domNode}}]),e}();function XC(e,t,n){if(Array.from(e.childNodes).forEach((function(e){e._viewNode||e.remove()})),0!==e.childNodes.length){var r=e._viewNode._virtualNode,o=t.previousSibling,i=t.nextSibling;if(i&&i._virtualNode&&i._virtualNode.parentNode===r){var a=i._virtualNode.getMainDOMNode();a.previousSibling!==n&&e.insertBefore(n,a),function(e,t){var n,r,o=t.previousSibling;if(o){var i=e._viewNode._virtualNode;null!==(n=o._virtualNode)&&void 0!==n&&n.isConnected&&(null===(r=o._virtualNode)||void 0===r?void 0:r.parentNode)===i&&QC(o._virtualNode)>QC(t._virtualNode)&&XC(e,o,o._virtualNode.getMainDOMNode())}}(e,t)}else if(o&&o._virtualNode&&o._virtualNode.parentNode===r){var c=o._virtualNode.getMainDOMNode();if(c.nextSibling)c.nextSibling!==n&&e.insertBefore(n,c.nextSibling),function(e,t){var n=t.nextSibling;n&&n._virtualNode&&n._virtualNode.isConnected&&n._virtualNode.parentNode===e._viewNode._virtualNode&&QC(n._virtualNode)<QC(t._virtualNode)&&XC(e,n,n._virtualNode.getMainDOMNode())}(e,t);else{if(e.lastChild===n)return;e.appendChild(n)}}else{var l=e.childNodes;!function e(t,n,r,o,i){br(o<i,"F:insert-by-view-node;L:59");var a=Math.floor((o+i)/2),c=t[a];if(c!==n){var l=c._viewNode;if(br(l,"F:insert-by-view-node;L:70"),l.compare(r).following)return a===o?void(c.previousSibling!==n&&t[0].parentNode.insertBefore(n,c)):void e(t,n,r,o,a);if(a+1!==i)return e(t,n,r,a,i);c.nextSibling?c.nextSibling!==n&&t[0].parentNode.insertBefore(n,c.nextSibling):t[0].parentNode.lastChild!==n&&t[0].parentNode.appendChild(n)}}(l,n,t,0,l.length)}}else e.appendChild(n)}function QC(e){var t=e.parentNode.children.indexOf(e);return br(t>-1,"F:insert-by-view-node;L:145"),t}var eR=function(e){u()(i,GC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"children",get:function(){var e=this.getContentDOMNode();return br(e,"F:virtual-container-node;L:9"),Array.from(e.childNodes).map((function(e){return e._neRef?e._neRef._virtualNode:null})).filter(Boolean)}},{key:"insertByViewNode",value:function(e){var t,n;br((n=(t=e)._virtualNode)&&!n.isDestroyed,"F:insert-by-view-node;L:6"),XC(this.getContentDOMNode(),t,n.getMainDOMNode())}},{key:"repair",value:function(){var e=this.getContentDOMNode();e&&Array.from(e.childNodes).forEach((function(e){e._neRef||e.remove()}))}},{key:"removeChild",value:function(e){this.getContentDOMNode().removeChild(e.getMainDOMNode())}}]),i}();var tR=function(e){u()(i,eR);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),(a=r.call(this,e,t))._domNode=n,a._domNode._neRef=t,a._rendered=!0,a._isAttached=!0,a}return a()(i,[{key:"isRootNode",value:function(){return!0}},{key:"isConnected",get:function(){return!0}},{key:"isElement",value:function(){return!0}}]),i}(),nR=function(){function e(t,n){o()(this,e),m()(this,"_viewNode",null),m()(this,"_renderUnitManager",null),m()(this,"_dirty",!1),this._renderUnitManager=t,n._isRenderRootNode=!0,n._renderUnit=this,this._viewNode=n}return a()(e,[{key:"viewNode",get:function(){return this._viewNode}},{key:"isValid",get:function(){return this._viewNode.isConnected}},{key:"isConnected",get:function(){var e=this._viewNode._virtualNode;return!(!e||!e.isConnected)}},{key:"prevUnit",get:function(){return this._renderUnitManager.getPrevRenderUnit(this)}},{key:"nextUnit",get:function(){return this._renderUnitManager.getNextRenderUnit(this)}},{key:"isDirty",value:function(){return this._dirty}},{key:"markDirty",value:function(){this._dirty=!0}},{key:"unmarkDirty",value:function(){this._dirty=!1}},{key:"getDisplayHeight",value:function(){var e=this._viewNode._virtualNode;return br(e&&e.isAttached,"F:render-unit/index;L:53"),e.getMainDOMNode().getBoundingClientRect().height}},{key:"getDisplayRect",value:function(){var e=this._viewNode._virtualNode;return br(e,"F:render-unit/index;L:62"),e.getMainDOMNode().getBoundingClientRect()}},{key:"attached",value:function(){this._renderUnitManager.renderUnitAttached(this)}},{key:"detached",value:function(){this._renderUnitManager.renderUnitDetached(this)}}]),e}();function rR(e){return!!e.hasCategory(Er.TableHole)||!!e.hasCategory([Er.Block,Er.Hole])||!(!e.isBlockFillerNode()||!e.parentNode.hasCategory([Er.Root,Er.LikeRoot]))}function oR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iR(e){var t=e.closest(Er.TableHole);if(t)return t;if(rR(e))return e;for(var n=e.parentNode;n;){if(rR(n))return n;n=n.parentNode}return function e(t){if(!t.isElement())return null;var n=t.children;if(null==n||!n.length)return null;var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oR(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(rR(i))return i;var a=e(i);if(a)return a}}catch(e){o.e(e)}finally{o.f()}return null}(e)}function aR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cR(e){var t=e.closest(Er.TableHole);if(t)return t;if(rR(e))return e;for(var n=e.parentNode;n;){if(rR(n))return n;n=n.parentNode}return function e(t){if(!t.isElement())return null;var n=t.children;if(null==n||!n.length)return null;n.reverse();var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return aR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aR(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(rR(i))return i;var a=e(i);if(a)return a}}catch(e){o.e(e)}finally{o.f()}return null}(e)}var lR=function(){function e(){o()(this,e),m()(this,"_attached",new Set)}return a()(e,[{key:"destroy",value:function(){}},{key:"getAllAttachedUnits",value:function(){return Array.from(this._attached)}},{key:"renderUnitAttached",value:function(e){this._attached.add(e)}},{key:"renderUnitDetached",value:function(e){this._attached.delete(e)}},{key:"getFirstRenderUnitByViewNode",value:function(e){var t=iR(e);return t?sR(this,t):null}},{key:"getLastRenderUnitByViewNode",value:function(e){var t=cR(e);return t?sR(this,t):null}},{key:"getRenderUnit",value:function(e){return e._cachedRenderUnit||null}},{key:"getRenderUnitWithAncestor",value:function(e){var t=function(e){var t=e.closest(Er.TableHole);if(t)return t;for(;e;){if(rR(e))return e;e=e.parentNode}return null}(e);return t?sR(this,t):null}},{key:"getPrevRenderUnit",value:function(e){var t=function(e){return br(e.isValid,"F:get-prev-render-unit-node;L:6"),function e(t){for(var n=t.previousSibling;n;){var r=cR(n);if(r)return r;n=n.previousSibling}return!t.parentNode||t.parentNode.hasCategory(Er.Root)?null:e(t.parentNode)}(e.viewNode)}(e);return t?sR(this,t):null}},{key:"getNextRenderUnit",value:function(e){var t=function(e){return br(e.isValid,"F:get-next-render-unit-node;L:6"),function e(t){for(var n=t.nextSibling;n;){var r=iR(n);if(r)return r;n=n.nextSibling}return!t.parentNode||t.parentNode.hasCategory(Er.Root)?null:e(t.parentNode)}(e.viewNode)}(e);return t?sR(this,t):null}}]),e}();function sR(e,t){return t._cachedRenderUnit||(t._cachedRenderUnit=new nR(e,t)),t._cachedRenderUnit}function uR(e){return Array.from(e.parentNode.childNodes).indexOf(e)}function dR(e,t){var n=fR(e,t.start),r=n;t.collapsed||(r=fR(e,t.end));var o=document.createRange();return o.setStart(n.node,n.offset),o.setEnd(r.node,r.offset),o}function fR(e,t){var n=t.node,r=t.offset,o=n._virtualNode;if(br(o&&o.isAttached,"F:to-dom-range;L:30"),o.isConnected||(console.warn("选区映射修复 1",o),hR(e,o)),br(o.isConnected,"F:to-dom-range;L:37"),n.isTextNode())return{node:o.getContentDOMNode().firstChild,offset:r};if(n.isFillerNode())return{node:o.getMainDOMNode(),offset:r};if(n.isCardNode())return br(0===t.offset,"F:to-dom-range;L:54"),{node:o.getMainDOMNode(),offset:0};br(n.isElement(),"F:to-dom-range;L:62");var i=n.getChildByOffset(r),a=0;if(i||(i=n.getChildByOffset(r-1),a=1),!i)return br(n.hasCategory([Er.Root,Er.LikeRoot])&&0===r,"F:to-dom-range;L:73"),{node:n._virtualNode.getMainDOMNode(),offset:0};br(i,"F:to-dom-range;L:81");var c=i._virtualNode;return br(c&&c.isAttached,"F:to-dom-range;L:85"),c.isConnected||(console.warn("选区映射修复 2",o),hR(e,c)),br(c.isConnected,"F:to-dom-range;L:92"),{node:c.getMainDOMNode().parentNode,offset:c.offset+a}}function hR(e,t){for(var n=t.viewNode,r=n.parentNode;r&&!r.isRootNode()&&!r._virtualNode.isConnected;){var o=r.parentNode;if(o.isRootNode())break;r=o}r?(r.isRootNode()?e.repairByViewNode(n):e.repairByViewNode(r),t.isConnected?console.log("修复成功",t):console.warn("修复失败，修复结果不符合预期",t,r)):console.warn("修复失败，未找到有效的节点",t)}function pR(e,t,n,r){var o=r.firstRange;if(t)!function(e,t,n){var r="start"===n,o=r?{node:t.startContainer,offset:t.startOffset}:{node:t.endContainer,offset:t.endOffset};(t=t.cloneRange()).setStart(o.node,o.offset),t.collapse(!0);var i=e.getBoundingClientRect(),a=vR(t),c=a.top,l=a.bottom;if(!(c<=i.top&&l>=i.bottom))if(r)c<i.top&&(e.scrollTop-=i.top-c);else{if(l>i.bottom)return void(e.scrollTop+=l-i.bottom);if(l<i.top){var s=i.top-c;l+s>i.bottom?e.scrollTop-=i.bottom-l:e.scrollTop-=s}}}(n,dR(e,o),r.focus);else{if(r.isTableSelection)return;!function(e,t){var n=e.getBoundingClientRect(),r=vR(t);if(!(r.height>n.height)){var o=function(e,t){return t.top<e.top?t.top-e.top:t.bottom>e.bottom?t.bottom-e.bottom:null}(n,r);null!==o&&(e.scrollTop+=o)}}(n,dR(e,o))}}function vR(e){var t=e.getBoundingClientRect();if(!e.collapsed||t.height>0)return t;var n=e.startContainer,r=e.startOffset;return n.nodeType===Node.TEXT_NODE?function(e,t){if(e.data.length){var n=document.createRange();return 0===t?(n.setStart(e,0),n.setEnd(e,1)):(n.setStart(e,t-1),n.setEnd(e,t)),n.getBoundingClientRect()}return br(0===uR(e),"F:scroll-to-view-selection;L:129"),e.parentNode.getBoundingClientRect()}(n,r):function(e,t){var n=(e.childNodes[t-1]||e.childNodes[t]||e).getBoundingClientRect();return{top:n.top,bottom:n.bottom,height:1}}(n,r)}function mR(e){if(!e.isRootNode()){var t=e._virtualNode;br(t,"F:repair-by-view-node;L:10"),t.repair(),e._virtualNode.isConnected||e.parentNode._virtualNode.insertByViewNode(e),e.isElement()&&e.children.forEach((function(e){e._virtualNode&&mR(e)}))}}function yR(e){br(e.isRootNode(),"F:destory-tree-by-root-node;L:4"),e.children.reverse().forEach((function(e){!function e(t){t.isElement()&&t.children.reverse().forEach((function(t){e(t)})),t.destroy()}(e)}))}function gR(e,t,n,r){if(0===r.childNodes.length)return null;var o=function(e,t,n){var r;if(document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e,t);if(null==o||!o.startContainer)return null;(r=o.startContainer).nodeType===Node.ELEMENT_NODE&&(r=r.childNodes[o.startOffset]||r.childNodes[o.startOffset-1]||r)}else if(document.caretPositionFromPoint){var i=document.caretPositionFromPoint(e,t);if(null==i||!i.offsetNode)return null;(r=i.offsetNode).nodeType===Node.ELEMENT_NODE&&(r=r.childNodes[i.offset]||r.childNodes[i.offset-1]||r)}return r&&n!==r&&n.contains(r)?r:null}(e,t,r);return o||(o=function e(t,n,r){if(br(r.length>0,"F:get-first-visible-view-node;L:58"),1===r.length)return r[0];var o=Math.floor(r.length/2),i=r[o],a=i.getBoundingClientRect();return a.bottom<=t?e(t,n,r.slice(o+1)):a.top>=n?e(t,n,r.slice(0,o)):i}(t,n,Array.from(r.childNodes))),o?function(e){for(;e;){if(e._neRef)return e._neRef;e=e.parentNode}return null}(o):null}var bR=function(e){u()(i,GC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_textNode",null),e}return a()(i,[{key:"init",value:function(){this._domNode=document.createElement("ne-text"),this._textNode=document.createTextNode(""),this._domNode.appendChild(this._textNode),this._domNode._neRef=this._viewNode,this._updateTextData(),KC.syncDOMNodeAttrs(this.registry,this._domNode,this._viewNode.attrs)}},{key:"isConnected",get:function(){var e,t;return!(null===(e=this._domNode)||void 0===e||!e.isConnected||null===(t=this._textNode)||void 0===t||!t.isConnected)}},{key:"isTextNode",value:function(){return!0}},{key:"updateTextData",value:function(){this._updateTextData()}},{key:"repair",value:function(){this._updateTextData(),1===this._domNode.childNodes.length&&this._domNode.firstChild===this._textNode||(this._domNode.innerHTML="",this._domNode.appendChild(this._textNode))}},{key:"_updateTextData",value:function(){var e=this._viewNode.data;this._textNode.data!==e&&(this._textNode.data=e||"")}}]),i}();function wR(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];br("function"==typeof e.destroy,"F:bind-dom-event;L:4"),br("function"==typeof t.addEventListener,"F:bind-dom-event;L:5");var c="function"==typeof e.$attached,l=e.destroy,s=function(){c&&!e.isAttached||r.apply(void 0,arguments)};t.addEventListener.apply(t,[n,s].concat(i)),e.destroy=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];l.apply.apply(l,[e].concat(o)),t.removeEventListener.apply(t,[n,s].concat(i))}}var xR=function(e){u()(i,GC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_instance",null),m()(l()(e),"_cardRootNode",null),m()(l()(e),"_disabled",!1),m()(l()(e),"_focused",!1),e}return a()(i,[{key:"isCardNode",value:function(){return!0}},{key:"isFocused",value:function(){return this._focused}},{key:"init",value:function(){var e=this._viewNode,t=e.nodeName,n=e.attrs;br(this.registry.getCardClass(t),"CardClass for ".concat(t," not registered"),"F:virtual-card-node;L:26");var r=this._createContainer(t),o=r.container,i=r.cardRootNode;o.setAttribute("id",n.id),this._cardRootNode=i,this._domNode=o,this._domNode._neRef=this._viewNode}},{key:"$afterInit",value:function(){B()(p()(i.prototype),"$afterInit",this).call(this),this._newInstance(),this.$enableHover()}},{key:"_newInstance",value:function(){var e=this._viewNode.nodeName,t=this.registry.getCardClass(e);br(t,"CardClass for ".concat(e," not registered"),"F:virtual-card-node;L:45");var n=t.definition,r=t.pluginInstance;br(n&&r,"F:virtual-card-node;L:47"),n.factory?this._instance=n.factory(this.iRenderer,this._viewNode,this._cardRootNode,r,n.pluginContext):this._instance=new n(this.iRenderer,this._viewNode,this._cardRootNode,r),this._instance.isAttached=!0,this._instance.init()}},{key:"$afterAttach",value:function(){B()(p()(i.prototype),"$afterAttach",this).call(this),this._instance.isAttached=!0,this._instance.$attached()}},{key:"$afterRefresh",value:function(e){br("boolean"==typeof e,"F:virtual-card-node;L:67"),this._instance.$didUpdate(e),B()(p()(i.prototype),"$afterRefresh",this).call(this)}},{key:"$beforeDetach",value:function(){this._instance.$willDetach(),this._instance.isAttached=!1,B()(p()(i.prototype),"$beforeDetach",this).call(this)}},{key:"$disable",value:function(){this._disabled=!0,this._domNode&&this._domNode.classList.add("ne-card-mask")}},{key:"$enable",value:function(){this._disabled=!1,this._domNode&&this._domNode.classList.remove("ne-card-mask")}},{key:"$enableHover",value:function(){var e=this;wR(this,this._cardRootNode,"mouseenter",(function(){e.$hover()})),wR(this,this._cardRootNode,"mouseleave",(function(){e.$leave()}))}},{key:"$hover",value:function(){this._disabled||(this._domNode&&this._domNode.classList.add("ne-card-hovered"),this._instance._$hover())}},{key:"$leave",value:function(){this._disabled||(this._domNode&&this._domNode.classList.remove("ne-card-hovered"),this._instance._$leave())}},{key:"$focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._disabled||e&&!this._instance.constructor.$ExternalFocus||(this._instance._$beforeFocus(),this._focused=!0,this._instance.$focus(),this._instance._$afterFocus())}},{key:"$blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._disabled&&this._instance){if(e&&!this._instance.constructor.$ExternalFocus)return;this._instance._$beforeBlur(),this._focused=!1,this._instance.$blur()}}},{key:"destroy",value:function(){this._instance.destroy(),this._instance._$destroy(),this._instance=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_createContainer",value:function(e){return{container:null,cardRootNode:null}}}]),i}();m()(xR,"$ExternalFocus",!1);var _R=function(e){u()(i,xR);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"_createContainer",value:function(e){var t=document.createElement("ne-card"),n=document.createElement("ne-card-root");return t.setAttribute("data-card-name",e),t.setAttribute("data-card-type","block"),t.contentEditable="false",t.appendChild(n),{cardRootNode:n,container:t}}}]),i}();var kR=function(e){u()(i,xR);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"_createContainer",value:function(e){var t=document.createElement("ne-card"),n=document.createElement("ne-card-root");return t.setAttribute("data-card-name",e),t.setAttribute("data-card-type","inline"),t.contentEditable="false",t.appendChild(n),{cardRootNode:n,container:t}}}]),i}();var CR=function(e){u()(i,eR);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_instance",null),e}return a()(i,[{key:"isBoxNode",value:function(){return!0}},{key:"isElement",value:function(){return!0}},{key:"init",value:function(){this._newInstance()}},{key:"_init",value:function(){B()(p()(i.prototype),"_init",this).call(this),this._instance.isAttached=!0}},{key:"$afterInit",value:function(){this._instance._afterInit()}},{key:"$afterRefresh",value:function(e){br("boolean"==typeof e,"F:virtual-box-node;L:31"),B()(p()(i.prototype),"$afterRefresh",this).call(this),this._instance.$didUpdate(e)}},{key:"$afterAttach",value:function(){B()(p()(i.prototype),"$afterAttach",this).call(this),this._instance.isAttached=!0,this._instance.$attached()}},{key:"$beforeDetach",value:function(){this._instance.$willDetach(),this._instance.isAttached=!1,B()(p()(i.prototype),"$beforeDetach",this).call(this)}},{key:"destroy",value:function(){this._instance.destroy(),this._instance._$destroy(),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"updateAttribute",value:function(e,t){br(this._instance,"F:virtual-box-node;L:55"),this._instance.updateAttribute(KC.translateChange(this.registry,this._viewNode.attrs,e),e,t)}},{key:"_newInstance",value:function(){var e=this._viewNode,t=this.registry.getBoxDefinition(e.nodeName);br(t.clazz||t.factory,"F:virtual-box-node;L:63"),t.clazz?this._instance=new t.clazz(this.iRenderer,e,e.nodeName,t.pluginContext):this._instance=t.factory(this.iRenderer,e,e.nodeName,t.pluginContext),this._instance.init(KC.translateAll(this.registry,e.attrs)),this._domNode=this._instance.getMainDOMNode(),this._domNode._neRef=e}},{key:"repair",value:function(){var e,t;null===(e=this._instance)||void 0===e||null===(t=e.repair)||void 0===t||t.call(e)}},{key:"getMainDOMNode",value:function(){return this._domNode}},{key:"getContentDOMNode",value:function(){return this._instance.getContentDOMNode()}}]),i}();var RR=function(e){u()(i,GC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"isFillerNode",value:function(){return!0}},{key:"isTextFillerNode",value:function(){return!0}},{key:"init",value:function(){var e=document.createElement("span");e.className="ne-t-filler",e.innerHTML="\ufeff",this._domNode=e,this._domNode._neRef=this._viewNode}},{key:"$afterRefresh",value:function(){this._repair()}},{key:"repair",value:function(){this._repair()}},{key:"_repair",value:function(){1===this._domNode.childNodes.length&&"\ufeff"===this._domNode.firstChild.data||(this._domNode.innerHTML="\ufeff")}}]),i}();var NR=function(e){u()(i,GC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"isFillerNode",value:function(){return!0}},{key:"isBlockFillerNode",value:function(){return!0}},{key:"init",value:function(){this._domNode=document.createElement("span"),this._domNode.className="ne-b-filler",this._domNode.appendChild(document.createElement("br")),this._domNode._neRef=this._viewNode}},{key:"$afterRefresh",value:function(){this._repair()}},{key:"repair",value:function(){this._repair()}},{key:"_repair",value:function(){1===this._domNode.childNodes.length&&"BR"===this._domNode.firstChild.nodeName||(this._domNode.innerHTML="<br>")}}]),i}();var ER=function(e){u()(i,GC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"isFillerNode",value:function(){return!0}},{key:"isInlineFillerNode",value:function(){return!0}},{key:"init",value:function(){var e=document.createElement("span");e.className="ne-i-filler",e.appendChild(document.createElement("br")),this._domNode=e,this._domNode._neRef=this._viewNode}},{key:"$afterRefresh",value:function(){this._repair()}},{key:"repair",value:function(){this._repair()}},{key:"_repair",value:function(){1===this._domNode.childNodes.length&&"BR"===this._domNode.firstChild.nodeName||(this._domNode.innerHTML="<br>")}}]),i}(),OR=/[A-Z]/g;function DR(e){return e.replace(OR,(function(e){return"-".concat(e.toLowerCase())}))}var SR=function(e){u()(i,eR);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"isElement",value:function(){return!0}},{key:"init",value:function(){var e=this._viewNode;this._domNode=document.createElement("ne-".concat(DR(this.nodeName))),this._domNode._neRef=e,KC.syncDOMNodeAttrs(this.registry,this._domNode,e.attrs)}}]),i}();function BR(e,t){br(!t._virtualNode,"F:create-by-view-node;L:12");var n=function(e,t){return t.isTextNode()?new bR(e,t):t.isBlockCardNode()?new _R(e,t):t.isInlineCardNode()?new kR(e,t):e.registry.isBoxNode(t.nodeName)?new CR(e,t):t.isTextFillerNode()?new RR(e,t):t.isBlockFillerNode()?new NR(e,t):t.isInlineFillerNode()?new ER(e,t):(br(t.isElement(),"F:create-by-view-node;L:54"),new SR(e,t))}(e,t);t._virtualNode=n,n.init(),n._init(),t.parentNode._virtualNode.insertByViewNode(t),n.$afterInit()}var PR=function(){function e(){o()(this,e)}return a()(e,null,[{key:"destroyByViewNodes",value:function(e){e.forEach((function(e){var t=e._virtualNode;t&&!t.isDestroyed&&(delete e._virtualNode,t.getMainDOMNode().remove(),t.destroy())}))}},{key:"createByViewNodes",value:function(e,t){(t=function(e){return e.slice().sort((function(e,t){var n=e.compare(t);return br(!n.equal,"F:sort-view-node;L:7"),n.contains||n.preceding?-1:1}))}(t)).forEach((function(t){br(!t._virtualNode,"F:printer/index;L:30"),BR(e,t)}))}},{key:"attachTreeByViewNode",value:function(e,t){br(t._isRenderRootNode,"F:printer/index;L:36"),t.ancestors.slice(1).filter((function(e){var t=e._virtualNode;return!t||!t.isConnected})).concat(FR(t)).forEach((function(n){if(n._virtualNode){var r=n._virtualNode,o=r.isAttached;t===n&&e.repairByViewNode(n),n.parentNode._virtualNode.insertByViewNode(n),o||r.$afterAttach()}else BR(e,n)}))}},{key:"forceAttachTreeByViewNode",value:function(e,t){br(t._isRenderRootNode,"F:printer/index;L:66"),t.ancestors.slice(1).concat(FR(t)).forEach((function(n){if(n._virtualNode){var r=n._virtualNode,o=r.isAttached;t===n&&e.repairByViewNode(n),n.parentNode._virtualNode.insertByViewNode(n),o||r.$afterAttach()}else BR(e,n)}))}},{key:"updateTextByViewNodes",value:function(e){e.forEach((function(e){var t=e._virtualNode;br(t&&t.isTextNode(),"F:printer/index;L:95"),t.updateTextData()}))}},{key:"updateAttrByAttrChanges",value:function(e,t){e.forEach((function(e){var n=e.node,r=e.attrs,o=n._virtualNode;br(o,"F:printer/index;L:105"),o.updateAttribute(r,t),o.$afterRefresh(t)}))}},{key:"resetPosition",value:function(e,t,n,r){t.forEach((function(e){br(e.isConnected,"F:printer/index;L:114"),e.parentNode._virtualNode.insertByViewNode(e),r(e)&&e._virtualNode.$afterRefresh(n)}))}}]),e}();function FR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.push(e),e.isElement()&&e.children.forEach((function(e){FR(e,t)})),t}function TR(e,t){var n=t.isDirty();if(t.unmarkDirty(),n)return PR.forceAttachTreeByViewNode(e,t.viewNode),!0;var r=!t._virtualNode;return t.isConnected||PR.attachTreeByViewNode(e,t.viewNode),r}var MR=Math.max(window.screen.availHeight||window.outerHeight||window.screen.height||1e3,1e3),LR=function(){function e(t){o()(this,e),m()(this,"_originUnit",null),m()(this,"_head",null),m()(this,"_tail",null),m()(this,"_stopped",!1),m()(this,"_topHeight",0),m()(this,"_bottomHeight",0),m()(this,"_units",[]),this._originUnit=t,this._head=t.prevUnit,this._tail=t.nextUnit,this._units.push(t)}return a()(e,[{key:"originUnit",get:function(){return this._originUnit}},{key:"getAllUnits",value:function(){return x()(this._units)}},{key:"prev",value:function(){if(!this._head||this._topHeight>=MR)return null;var e=this._head;return this._units.unshift(e),this._head=this._head.prevUnit,e}},{key:"next",value:function(){if(!this._tail||this._bottomHeight>=2*MR)return null;var e=this._tail;return this._units.push(e),this._tail=this._tail.nextUnit,e}},{key:"addTopHeight",value:function(e){this._topHeight+=e}},{key:"addBottomHeight",value:function(e){this._bottomHeight+=e}}]),e}();function AR(e,t,n){var r,o=e.viewport,i=o.renderUnitManager,a=o.renderer,c=t.removedNodes,l=t.addedNodes,s=t.textChanges,u=t.attrChanges,d=t.positionChanges;PR.destroyByViewNodes(c),r=s,PR.updateTextByViewNodes(r.filter((function(e){return e._virtualNode}))),function(e,t){PR.updateAttrByAttrChanges(e.filter((function(e){return e.node._virtualNode})),t)}(u,n),function(e,t,n,r,o,i){var a=new Set,c=new Set;n.forEach((function(e){var n=t.getRenderUnitWithAncestor(e);if(!n)return!1;n.markDirty(),a.add(n)})),r.forEach((function(e){var n=t.getRenderUnitWithAncestor(e);br(n,"F:apply-changes;L:53"),n.viewNode!==e&&n.isConnected?c.add(e):(n.markDirty(),a.add(n))})),a.forEach((function(t){TR(e,t)})),PR.resetPosition(e,c,o,(function(e){return!u.includes(e)}))}(a,i,l,d,n)}var IR=function(){function e(t,n){o()(this,e),m()(this,"_processor",null),m()(this,"_originUnit",null),m()(this,"_topUnit",null),m()(this,"_bottomUnit",null),m()(this,"_renderer",null),m()(this,"_topContinue",!0),m()(this,"_bottomContinue",!0),m()(this,"_originTopPos",0),this._processor=t,this._originUnit=n,this._topUnit=n,this._bottomUnit=n,this._renderer=t._viewport.renderer,this._originTopPos=n.getDisplayRect().top}var t,n;return a()(e,[{key:"stop",value:function(){this._stopped=!0,this._processor=null,this._originUnit=null,this._topUnit=null,this._bottomUnit=null,this._renderer=null,this._topContinue=!1,this._bottomContinue=!1}},{key:"start",value:function(e){var t=this;this._processor.isAllTileReady()||xe()(ke.a.mark((function n(){var r;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("up"!==e){n.next=11;break}return n.next=3,t._renderUp();case 3:if(n.t0=n.sent,!n.t0){n.next=8;break}return n.next=7,t._renderDown();case 7:n.t0=n.sent;case 8:r=n.t0,n.next=19;break;case 11:return n.next=13,t._renderDown();case 13:if(n.t1=n.sent,!n.t1){n.next=18;break}return n.next=17,t._renderUp();case 17:n.t1=n.sent;case 18:r=n.t1;case 19:r&&t._processor.setAllTileReady();case 20:case"end":return n.stop()}}),n)})))()}},{key:"_renderUp",value:(n=xe()(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){requestAnimationFrame(xe()(ke.a.mark((function n(){var r;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t._stopped){n.next=3;break}return e(!1),n.abrupt("return");case 3:if(r=!0,!t._prevPaint()){n.next=8;break}return n.next=7,t._renderUp();case 7:r=n.sent;case 8:e(r);case 9:case"end":return n.stop()}}),n)}))))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"_renderDown",value:(t=xe()(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){requestAnimationFrame(xe()(ke.a.mark((function n(){var r;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t._stopped){n.next=3;break}return e(!1),n.abrupt("return");case 3:if(r=!0,!t._nextPaint()){n.next=8;break}return n.next=7,t._renderDown();case 7:r=n.sent;case 8:e(r);case 9:case"end":return n.stop()}}),n)}))))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"_prevPaint",value:function(){if(!this._topContinue)return!1;if(!this._topUnit)return this._topContinue=!1,!1;for(var e=[],t=!1,n=0;n<10;n++){var r=this._topUnit.prevUnit;if(!r){this._topContinue=!1;break}this._topUnit=r,e.push(r),TR(this._renderer,r)&&(t=!0)}if(!e.length)return this._topContinue=!1,!1;if(t){var o=this._originUnit.getDisplayRect().top;o!==this._originTopPos&&this._renderer.iRenderer.requestSetScrollTo(this._renderer.iRenderer._scrollNode.scrollTop+o-this._originTopPos)}return this._topContinue}},{key:"_nextPaint",value:function(){if(!this._bottomContinue)return!1;if(!this._bottomUnit)return this._bottomContinue=!1,!1;for(var e=[],t=0;t<10;t++){var n=this._bottomUnit.nextUnit;if(!n){this._bottomContinue=!1;break}this._bottomUnit=n,e.push(n),TR(this._renderer,n)}return e.length?this._bottomContinue:(this._bottomContinue=!1,!1)}}]),e}();var jR=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_viewport",null),m()(l()(n),"_scrollNode",null),m()(l()(n),"_cursorUnits",[]),m()(l()(n),"_cleanState",-1),m()(l()(n),"_cleanTask",null),m()(l()(n),"_scrollRenderTask",null),m()(l()(n),"_allTileReady",!1),n._viewport=e,n._scrollNode=t,n}return a()(i,[{key:"destroy",value:function(){var e,t;this._viewport=null,this._scrollNode=null,null===(e=this._cleanTask)||void 0===e||e.stop(),null===(t=this._scrollRenderTask)||void 0===t||t.stop()}},{key:"viewport",get:function(){return this._viewport}},{key:"cursorUnits",get:function(){return x()(this._cursorUnits)}},{key:"isAllTileReady",value:function(){return this._allTileReady}},{key:"setAllTileReady",value:function(){this._allTileReady=!0,this._viewport.renderer.emit("tileRenderCompleted")}},{key:"renderByNodeId",value:function(e,t){this._stopClean(),this._stopScrollTask();var n=this._getRenderUnitByNodeId(e);n&&(this.renderByUnit(n,t),this._anchorToRenderUnit(n),this._markNeedClean())}},{key:"renderByUnit",value:function(e,t){this._stopClean(),this._stopScrollTask();var n,r,o,i=this._viewport.renderer,a=new LR(e),c=e.isConnected;for(c&&(n=e.getDisplayRect().top),TR(i,a.originUnit);r=a.prev();)TR(i,r),a.addTopHeight(r.getDisplayHeight());for(;o=a.next();)TR(i,o),a.addBottomHeight(o.getDisplayHeight());if(t&&this._renderCursor(t),c){var l=e.getDisplayRect().top-n;l&&this._viewport.renderer.iRenderer.requestSetScrollTo(this._scrollNode.scrollTop+l)}}},{key:"directRenderByUnits",value:function(e){var t=this._viewport.renderer;e.forEach((function(e){TR(t,e)}))}},{key:"applyChanges",value:function(e,t){this._stopClean(),this._stopScrollTask(),this._allTileReady=!1,AR(this,e,t)}},{key:"renderSelection",value:function(e){this._stopClean(),this._renderCursor(e)}},{key:"renderByScroll",value:function(e){if(!this._allTileReady){br(0!==e,"F:tile-processor/index;L:137"),this._stopClean(),this._stopScrollTask();var t=e<0?"up":"down";this._scrollRenderTask=function(e,t){var n=e._viewport.renderer,r=function(e){var t=e._viewport.domRootNode,n=t.getBoundingClientRect(),r=e._scrollNode.getBoundingClientRect(),o=gR(n.x+100,r.y+50,r.bottom,t);if(!o)return null;var i=e._viewport.renderUnitManager.getFirstRenderUnitByViewNode(o);return br(i,"F:get-first-visible-render-unit;L:16"),i}(e);TR(n,r);var o=new IR(e,r);return o.start(t),o}(this,t),this._markNeedClean()}}},{key:"_markNeedClean",value:function(){br(1!==this._cleanState,"F:tile-processor/index;L:149"),this._cleanState=0}},{key:"_stopClean",value:function(){1===this._cleanState&&(br(this._cleanTask,"F:tile-processor/index;L:158"),this._cleanTask.stop(),this._cleanTask=null,this._cleanState=0)}},{key:"_stopScrollTask",value:function(){this._scrollRenderTask&&(this._scrollRenderTask.stop(),this._scrollRenderTask=null)}},{key:"_renderCursor",value:function(e){this._cursorUnits=function(e,t){var n,r=e.renderUnitManager,o=t.firstRange,i=t.lastRange,a=t.collapsed,c=function(e,t){var n=t.node,r=t.offset,o=n;return n.isElement()&&(o=n.getChildByOffset(r)||n),br(o,"F:render-cursor;L:62"),e.getFirstRenderUnitByViewNode(o)}(r,o.start);br(c,"F:render-cursor;L:9"),a||(n=function(e,t){var n=t.node,r=t.offset,o=n;return n.isElement()&&(o=n.getChildByOffset(r-1)||n),br(o,"F:render-cursor;L:74"),e.getLastRenderUnitByViewNode(o)}(r,i.end),br(n,"F:render-cursor;L:13"),n===c&&(n=null));var l=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){if(t){var n=t.prevUnit,r=t.nextUnit;n&&e.add(n),e.add(t),r&&e.add(r)}})),Array.from(e)}(c,n);return l.forEach((function(t){TR(e.renderer,t)})),l}(this._viewport,e)}},{key:"_getRenderUnitByNodeId",value:function(e){var t=this._viewport,n=t.viewDocument.getNodeById(e);return n?t.renderUnitManager.getFirstRenderUnitByViewNode(n):null}},{key:"_anchorToRenderUnit",value:function(e){br(e.isConnected,"F:tile-processor/index;L:187");var t=e.getDisplayRect().top,n=this._scrollNode.getBoundingClientRect();t!==n.top&&this._viewport.renderer.iRenderer.requestSetScrollTo(this._scrollNode.scrollTop+t-n.top)}}]),i}();function VR(e,t){var n=e._renderUnitManager,r=new Set;return t.forEach((function(e){var t=function(e,t){var n=t.node,r=t.offset;if(n.isTextNode()||n.isCardNode())return e.getRenderUnitWithAncestor(n);var o=n.children[r]||n;return e.getFirstRenderUnitByViewNode(o)}(n,e.start);if(br(t,"F:get-render-units-by-view-ranges;L:10"),r.add(t),!e.isCollapsed){var o=function(e,t){var n=t.node,r=t.offset;if(n.isTextNode())return e.getRenderUnitWithAncestor(n);var o=n.children[r-1]||n.children[r]||n;return e.getLastRenderUnitByViewNode(o)}(n,e.end);if(br(o,"F:get-render-units-by-view-ranges;L:20"),t!==o){var i=t;do{br(i=i.nextUnit,"F:get-render-units-by-view-ranges;L:30"),r.add(i)}while(i!==o)}}})),Array.from(r)}var zR=function(){function e(t,n,r){o()(this,e),m()(this,"_viewport",null),m()(this,"_editDOMNode",null),m()(this,"_scrollNode",null),m()(this,"_firstRendered",!1),this._viewport=t,this._editDOMNode=n,this._scrollNode=r,this._tileProcessor=new jR(t,r)}return a()(e,[{key:"destroy",value:function(){yR(this._viewport.virtualRootNode),this._viewport=null,this._editDOMNode=null,this._scrollNode=null,this._tileProcessor.destroy()}},{key:"applyContentChange",value:function(e,t,n){if(this._firstRendered){this._tileProcessor.applyChanges(e,n);var r=this._getFirstVisibleUnit();r||(r=this._getFirstRenderUnit()),br(r,"F:tile-render-controller/index;L:49"),this._tileProcessor.renderByUnit(r,t)}else this._firstRender(t)}},{key:"applySelectionChange",value:function(e){this._tileProcessor.renderSelection(e)}},{key:"repaintByScroll",value:function(e){this._tileProcessor.renderByScroll(e)}},{key:"scrollByNodeId",value:function(e){this._tileProcessor.renderByNodeId(e),this._tileProcessor.renderByScroll(-1)}},{key:"scrollToSelection",value:function(e,t){var n=this._viewport.renderer,r=function(e,t){var n=e._renderUnitManager;if(t.isTableSelection)return[n.getRenderUnitWithAncestor(t.firstRange.start.node)];var r=function(e,t){var n=t.node,r=t.offset;if(n.isTextNode()||n.isCardNode())return e.getRenderUnitWithAncestor(n);var o=n.children[r]||n;return e.getFirstRenderUnitByViewNode(o)}(n,t.firstRange.start);if(br(r,"F:get-render-units-by-view-selection;L:12"),t.isCollapsed)return[r];var o=function(e,t){var n=t.node,r=t.offset;if(n.isTextNode())return e.getRenderUnitWithAncestor(n);var o=n.children[r-1]||n.children[r]||n;return e.getLastRenderUnitByViewNode(o)}(n,t.lastRange.end);if(br(o,"F:get-render-units-by-view-selection;L:20"),r===o)return[r];var i=[r],a=r;do{br(a=a.nextUnit,"F:get-render-units-by-view-selection;L:32"),i.push(a)}while(a!==o);return i}(this._viewport,t);this._tileProcessor.directRenderByUnits(r),pR(n,e,n.scrollNode,t)}},{key:"repairByViewNode",value:function(e){mR(e)}},{key:"repairByViewRange",value:function(e){var t=VR(this._viewport,[e]);this._tileProcessor.directRenderByUnits(t)}},{key:"repairByViewRanges",value:function(e){var t=VR(this._viewport,e);this._tileProcessor.directRenderByUnits(t)}},{key:"_firstRender",value:function(e){var t;br(!this._firstRendered,"F:tile-render-controller/index;L:91"),this._firstRendered=!0,this._viewport.renderer.emit("tileRenderStart");var n=this._viewport.viewDocument.entryPoint;n&&(t=this._getRenderUnitByNodeId(n)),t?this._tileProcessor.renderByNodeId(t.viewNode.id,e):(br(t=this._getFirstRenderUnit(),"F:tile-render-controller/index;L:108"),this._tileProcessor.renderByUnit(t,e)),this._tileProcessor.renderByScroll(-1)}},{key:"_getFirstVisibleUnit",value:function(){var e=this._viewport.domRootNode,t=e.getBoundingClientRect(),n=this._scrollNode.getBoundingClientRect(),r=gR(t.x+100,n.y+50,n.bottom,e);if(!r)return null;var o=this._viewport.renderUnitManager.getFirstRenderUnitByViewNode(r);return br(o,"F:tile-render-controller/index;L:128"),o}},{key:"_getRenderUnitByNodeId",value:function(e){var t=this._viewport,n=t.viewDocument.getNodeById(e);return n?t.renderUnitManager.getFirstRenderUnitByViewNode(n):null}},{key:"_getFirstRenderUnit",value:function(){var e=this._viewport;return e.renderUnitManager.getFirstRenderUnitByViewNode(e.viewRootNode)}}]),e}(),UR=function(){function e(){o()(this,e)}return a()(e,null,[{key:"renderByChanges",value:function(e,t,n){var r=t.removedNodes,o=t.addedNodes,i=t.textChanges,a=t.attrChanges,c=t.positionChanges,l=e.renderUnitManager,s=e.renderer;PR.destroyByViewNodes(r);var u=new Set;new Set([].concat(x()(o),x()(a.map((function(e){return e.node}))),x()(i),x()(c))).forEach((function(e){var t=l.getRenderUnitWithAncestor(e);t&&u.add(t)}));var d=HR(l,i.map((function(e){return{viewNode:e,payload:e}}))),f=HR(l,a.map((function(e){return{viewNode:e.node,payload:e}}))),h=function(e){var t=e.addedNodeMap,n=e.attrChangesMap,r=e.textChangesMap,o=e.positionChangesMap;return function(e){return{addedNodes:Array.from(t.get(e)||[]),textChanges:Array.from(r.get(e)||[]),attrChanges:Array.from(n.get(e)||[]),positionChanges:Array.from(o.get(e)||[])}}}({addedNodeMap:HR(l,o.map((function(e){return{viewNode:e,payload:e}}))),attrChangesMap:f,textChangesMap:d,positionChangesMap:HR(l,c.map((function(e){return{viewNode:e,payload:e}})))});Array.from(u).sort((function(e,t){var n=e.viewNode,r=t.viewNode,o=n.compare(r);return o.following?1:(br(o.preceding,"F:general-render-helper/index;L:82"),-1)})).forEach((function(e){!function(e,t,n,r){var o=n.addedNodes,i=n.textChanges,a=n.attrChanges,c=n.positionChanges,l=t.viewNode.ancestors;PR.updateTextByViewNodes(i),PR.updateAttrByAttrChanges(a,r);for(var s=l.length-1;s>=1;s--)l[s]._virtualNode||o.unshift(l[s]);PR.createByViewNodes(e,o),PR.resetPosition(e,c,r,(function(e){return!a.includes(e)}))}(s,e,h(e),n)})),function(e,t,n){if(t){var r=t.attrChanges;PR.updateAttrByAttrChanges(r,n)}}(0,h("*"),n)}},{key:"repairByViewNode",value:function(e){return mR(e)}},{key:"repairByViewRanges",value:function(t){var n=new Set;t.forEach((function(e){var t=e.start,r=e.end,o=qR(t.node,t.offset),i=qR(r.node,r.offset);if(o)do{if(n.add(o),o===i)return;o=o.nextSibling}while(o)})),n.forEach((function(t){e.repairByViewNode(t)}))}}]),e}();function HR(e,t){var n=new Map;return t.forEach((function(t){var r=t.viewNode,o=t.payload,i=e.getRenderUnitWithAncestor(r);i||(i="*"),n.has(i)||n.set(i,new Set),n.get(i).add(o)})),n}function qR(e,t){if(e.isRootNode())return e.children[t]||e.children[t-1];for(;e;){var n=e.parentNode;if(n.isRootNode())return e;e=n}br(!1,"F:general-render-helper/index;L:177")}var WR=function(){function e(t,n,r){o()(this,e),m()(this,"_viewport",null),m()(this,"_editDOMNode",null),m()(this,"_scrollNode",null),m()(this,"_firstRendered",!1),this._viewport=t,this._editDOMNode=n,this._scrollNode=r}return a()(e,[{key:"destroy",value:function(){yR(this._viewport.virtualRootNode),this._viewport=null,this._editDOMNode=null,this._scrollNode=null}},{key:"applyContentChange",value:function(e,t,n){if(!this._firstRendered)return this._firstRender();UR.renderByChanges(this._viewport,e,n)}},{key:"applySelectionChange",value:function(){}},{key:"repairByViewNode",value:function(e){UR.repairByViewNode(e)}},{key:"repairByViewRange",value:function(e){UR.repairByViewRanges([e])}},{key:"repairByViewRanges",value:function(e){UR.repairByViewRanges(e)}},{key:"scrollToSelection",value:function(e,t){var n=this._viewport.renderer;pR(n,e,n.scrollNode,t)}},{key:"scrollByNodeId",value:function(e){var t=document.getElementById(e);if(t){var n=t.getBoundingClientRect(),r=this._scrollNode.getBoundingClientRect();this._scrollNode.scrollTop=n.top-r.top}}},{key:"_firstRender",value:function(){br(!this._firstRendered,"F:general-render-controller/index;L:69"),this._firstRendered=!0;var e=this._viewport,t=e.renderUnitManager.getFirstRenderUnitByViewNode(e.viewRootNode);!function(e,t){for(var n=e.renderer,r=t;r;)TR(n,r),r=r.nextUnit}(this._viewport,t)}},{key:"repaintByScroll",value:function(){}}]),e}(),ZR=function(){function e(t,n,r,i){o()(this,e),m()(this,"_viewport",null),m()(this,"_controller",null),this._viewport=t,i.isTileRendering()?this._controller=new zR(t,n,r):this._controller=new WR(t,n,r)}return a()(e,[{key:"destroy",value:function(){this._controller.destroy(),this._viewport=null,this._controller=null}},{key:"applyContentChange",value:function(e,t,n,r){this._controller.applyContentChange(e,n,"ot"!==t),"auto"!==t&&"silent"!==t&&this.checkActive(n,r)}},{key:"applySelectionChange",value:function(e,t){this._controller.applySelectionChange(e),this.checkActive(e,t)}},{key:"repairByViewNode",value:function(e){return this._controller.repairByViewNode(e)}},{key:"repairByViewRange",value:function(e){return this._controller.repairByViewRange(e)}},{key:"repairByViewRanges",value:function(e){return this._controller.repairByViewRanges(e)}},{key:"scrollByNodeId",value:function(e){return this._controller.scrollByNodeId(e)}},{key:"scrollToSelection",value:function(e,t){this._controller.scrollToSelection(e,t)}},{key:"repaintByScroll",value:function(e){this._controller.repaintByScroll(e)}},{key:"checkActive",value:function(e,t){var n=e.firstRange.start.node,r=t?t.firstRange.start.node:null,o=n.isCardNode()?n:null,i=r&&r.isCardNode()?r:null;o!==i&&(i&&i.isConnected&&(br(i._virtualNode,"F:render-controller/index;L:77"),i._virtualNode.$blur()),o&&(br(o.isConnected&&o._virtualNode,"F:render-controller/index;L:83"),o._virtualNode.$focus()))}}]),e}();function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KR(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JR(e,t,n){for(var r,o=t;o;){if(o._neRef){r=o._neRef;break}o=o.parentNode}return r?r.isCardNode()?{node:r,offset:0}:r.isFillerNode()?{node:r.parentNode,offset:r.offset}:(e.repairByViewNode(r),function(e,t,n){return e.isTextNode()?(br(e._virtualNode.getContentDOMNode().firstChild===t,"F:to-view-range;L:81"),{node:e,offset:Math.min(n,e.dataLength)}):function(e,t,n){return br(e.isElement(),"F:to-view-range;L:93"),e.hasCategory([Er.Root,Er.LikeRoot])?function(e,t,n){if(0===e.childCount)return{node:e,offset:0};var r=e._virtualNode.getContentDOMNode(),o=document.createRange();o.setStart(t,n),o.collapse(!0);var i=document.createRange();if(i.setStart(r,0),i.collapse(!0),YR(o,i)||GR(o,i))return{node:e,offset:0};var a=document.createRange();return a.setStart(r,r.childNodes.length),a.collapse(!0),XR(o,a)?{node:e,offset:e.childCount}:QR(e,t,n)}(e,t,n):function(e,t,n){var r=e._virtualNode.getContentDOMNode(),o=document.createRange();o.setStart(t,n),o.collapse(!0);var i=document.createRange();if(i.setStart(r,0),i.collapse(!0),YR(o,i))return{node:e,offset:0};if(GR(o,i))return{node:e.parentNode,offset:e.offset};var a=document.createRange();return a.setStart(r,r.childNodes.length),a.collapse(!0),XR(o,a)?{node:e.parentNode,offset:e.offset+1}:QR(e,t,n)}(e,t,n)}(e,t,n)}(r,t,n)):null}function YR(e,t){return 0===e.compareBoundaryPoints(Range.END_TO_END,t)}function GR(e,t){return-1===e.compareBoundaryPoints(Range.END_TO_END,t)}function XR(e,t){return 1===e.compareBoundaryPoints(Range.END_TO_END,t)}function QR(e,t,n){var r=e.children,o=document.createRange();o.setStart(t,n),o.collapse(!0);for(var i=0,a=r.length;i<a;i++){var c=r[i]._virtualNode.getMainDOMNode(),l=document.createRange();if(l.selectNode(c),l.collapse(!0),YR(o,l)||GR(o,l))return{node:e,offset:i}}return{node:e,offset:e.childCount}}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nN=function(){function e(t){if(o()(this,e),!t.container)throw new Error("please set a dom cantainer!");this.options=tN(tN({container:null,limitHeight:5e3,canvasCache:[],hPadding:0},t),{},{limitWidth:t.container.offsetWidth-2*(t.hPadding||0)}),t.container.style.overflow="hidden"}return a()(e,[{key:"_removeCanvas",value:function(){var e=this.options;e.canvasCache.forEach((function(e){e.parentElement.removeChild(e)})),e.canvasCache=[]}},{key:"_getCanvas",value:function(e){var t=this.options;return t.canvasCache[e]||this._createCanvasToCount(e+1),t.canvasCache[e]}},{key:"_createCanvasToCount",value:function(e){var t=this.options,n=t.limitHeight,r=t.container,o=t.canvasCache;if(!(o.length>=e))for(var i=o.length;i<e;i++){var a=document.createElement("canvas");a.style.position="absolute",a.style.top=i*n+"px",a.setAttribute("width",r.offsetWidth),a.setAttribute("height",n),r.appendChild(a),o.push(a)}}},{key:"_handleSingleRect",value:function(e){var t=e.x,n=e.y,r=e.index,o=e.width,i=e.height,a=e.callback,c=this.options.limitHeight,l=this._getCanvas(r);if(l){var s=l.getContext("2d");o=Math.max(0,Math.min(t+o,this.options.limitWidth+this.options.hPadding)-Math.max(t,this.options.hPadding)),a({x:t=Math.max(t,this.options.hPadding),y:n-c*r,width:o,height:i,context:s})}}},{key:"_drawRect",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.fill,a=void 0===i?"#FFEC3D":i,c=e.stroke,l=void 0===c?"#FFEC3D":c;this._handleRect({x:t,y:n,width:r,height:o,callback:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.context;i.fillStyle=a,i.strokeStyle=l,i.fillRect(t,n,r,o)}})}},{key:"_handleRect",value:function(e){for(var t=e.x,n=e.y,r=e.width,o=e.height,i=e.callback,a=this.options.limitHeight,c={x:t,y:n},l=n+o,s=Math.floor(c.y/a),u=Math.floor(l/a),d=s;d<=u;)this._handleSingleRect(tN(tN({},c),{},{index:d,width:r,height:o,callback:i})),d++}},{key:"getImageData",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=this.options.limitHeight,a=Math.floor(n/i);return this._getCanvas(a).getContext("2d").getImageData(t,n,r,o)}},{key:"draw",value:function(e,t){this["_draw"+e](t)}},{key:"clearRect",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height;this._handleRect({x:t,y:n,width:r,height:o,callback:function(e){var t=e.x,n=e.y,r=e.width,o=e.height;e.context.clearRect(t,n,r,o)}})}},{key:"clear",value:function(){this.options.canvasCache.forEach((function(e){var t=e.getContext("2d"),n=Number(e.getAttribute("width")),r=Number(e.getAttribute("height"));t.clearRect(0,0,n,r)}))}},{key:"destroy",value:function(){this._removeCanvas()}}]),e}();function rN(e,t){var n=document.createRange();return n.setStart(e,t),n.collapse(!0),n.getBoundingClientRect()}function oN(e,t){var n;if(function(e){return e.start.node===e.end.node&&"td"===e.start.node.nodeName}(e)||function(e){return e.start.node.isCardNode()&&0===e.start.offset}(e))return null!==(n=e.start.node._virtualNode)&&void 0!==n&&n.isConnected?[e.start.node._virtualNode.getMainDOMNode().getBoundingClientRect()]:null;if(e.collapsed)return function(e){var t,n=e.node,r=e.offset;if(null===(t=n._virtualNode)||void 0===t||!t.isConnected)return null;var o=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]._virtualNode;if(null!=o&&o.isConnected){var i=o.getMainDOMNode();return o.isTextNode()&&(i=i.firstChild),0===n?{node:i,offset:t}:{node:i.parentNode,offset:uR(i)}}}br(!1,"F:get-rect-by-view-range;L:345")}([n],r),i=null;if(hN(o.node))i=o.node.getBoundingClientRect();else if(o.node.childNodes&&hN(o.node.childNodes[o.offset]))i=o.node.childNodes[o.offset].getBoundingClientRect();else if(o.node.nodeType===Node.TEXT_NODE)if(""===o.node.data){var a=o.node.prevSibling,c=o.node.nextSibling,l=o.node.parentNode;a?((i=a.getBoundingClientRect()).x=i.x+i.width,i.width=0):c?(i=c.getBoundingClientRect()).width=0:(i=l.getBoundingClientRect()).width=0}else{var s=document.createRange();s.setStart(o.node,Math.min(o.node.data.length,o.offset)),s.collapse(!0),i=s.getBoundingClientRect()}else if(o.node.nodeType===Node.ELEMENT_NODE){var u=o.node.childNodes[o.offset-1],d=o.node.childNodes[o.offset];u?((i=u.getBoundingClientRect()).x=i.x+i.width,i.width=0):d?(i=d.getBoundingClientRect()).width=0:(i=o.node.getBoundingClientRect()).width=0}return[i]}(e.start);if(!t){var r,o,i=function(e){var t=function(e,t){for(var n=e.start,r=e.end,o=uN(n),i=dN(r);!t(o);){if(o===i)return null;o=cN(o)}return o}(e,(function(e){return e.isConnected})),n=function(e,t){for(var n=e.start,r=dN(e.end),o=uN(n);!t(r);){if(r===o)return null;r=lN(r)}return r}(e,(function(e){return e.isConnected}));return{start:t,end:n}}(e),a=i.start,c=i.end;if(!a)return;var l=a===e.start.node?e.start.offset:0,s=c===e.end.node?e.end.offset:aN(c),u=function(e){for(var t=e.start,n=e.end,r=t.node,o=t.offset,i=n.node,a=n.offset;r&&iN(r)&&r.children[o];)r=r.children[o],o=0;for(;i&&iN(i)&&i.children[a-1];)a=aN(i=i.children[a-1]);return{start:{node:r,offset:o},end:{node:i,offset:a}}}({start:{node:a,offset:l},end:{node:c,offset:s}}),d=u.start.node;l=u.start.offset;var f=u.end.node;s=u.end.offset;var h=null===(r=d._virtualNode)||void 0===r?void 0:r.getMainDOMNode(),p=null===(o=f._virtualNode)||void 0===o?void 0:o.getMainDOMNode();if(!h||!p)return;return function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset,i=document.createRange();i.setStart(t,n),i.setEnd(r,o);var a,c,l=i.getBoundingClientRect(),s={x:l.x,y:l.y,top:l.top,left:l.left,width:l.width,height:l.height,right:l.right,bottom:l.bottom};if(t.nodeType===Node.TEXT_NODE){var u=rN(t,n);(a={top:u.top,left:Math.max(s.left,u.left),width:s.width-u.left+s.left,height:u.height}).x=a.left,a.y=a.top,a.bottom=a.top+a.height,a.right=a.left+a.width,s.height=s.bottom-a.bottom,s.top=a.bottom,s.y=s.top}if(r.nodeType===Node.TEXT_NODE){var d=rN(r,o);c={top:d.top,left:s.left,width:d.left-s.left,height:d.height}}else{var f=r.getBoundingClientRect();c={top:f.top,left:s.left,width:f.left-s.left,height:f.height}}c.x=c.left,c.y=c.top,c.bottom=c.top+c.height,c.right=c.left+c.width,s.height=c.top-s.top,s.bottom=c.top;var h=[s];return a&&h.unshift(a),h.push(c),h}({startContainer:d.isTextNode()?h.firstChild:h,startOffset:l,endContainer:f.isTextNode()?p.firstChild:p,endOffset:s})}var v=[];if(function e(t,n,r){var o=n.nodeName,i=o?n:n.node.isTextNode()?n.node:n.node.children[n.offset],a=r.node.isTextNode()?r.node:r.node.children[r.offset],c=!r.node.isTextNode();if((i!==a||!c)&&i&&(fN(i)?t.push({node:i}):i.isTextNode()&&t.push({isText:!0,node:i,startOffset:o?0:n.offset,endOffset:i===a?r.offset:i.dataLength}),i!==a)){if(!fN(i)&&i.isElement()&&i.firstChild)return e(t,i.firstChild,r);if(i.nextSibling)return e(t,i.nextSibling,r);for(;i.parentNode;){if(i.parentNode.nextSibling)return e(t,i.parentNode.nextSibling,r);i=i.parentNode}}}(v,e.start,e.end),0===v.length)return[];var m=[];return v.forEach((function(e){if(e.node.isConnected){var t=e.node._virtualNode.getMainDOMNode();m=e.isText?m.concat(function(e,t,n){return function e(t,n,r){br(n<r,"F:rect-calc;L:22");var o=[],i=rN(t,n),a=rN(t,r);if(i.top===a.top||n+1===r)return o.push({textNode:t,startOffset:n,endOffset:r,top:a.top}),o;var c,l=Math.ceil((r+n)/2),s=rN(t,l);s.top===i.top?o.push({textNode:t,startOffset:n,endOffset:l,top:i.top}):o=o.concat(e(t,n,l)),s.top!==a.top?o=o.concat(e(t,l,r)):o.push({textNode:t,startOffset:l,endOffset:r,top:s.top});var u=[];return o.forEach((function(e){void 0===c||c!==e.top?(u.push(e),c=e.top):u[u.length-1].endOffset=e.endOffset})),u}(e,t,n).map((function(e){return function(e,t,n){var r=document.createRange();return r.setStart(e,t),r.setEnd(e,n),r.getBoundingClientRect()}(e.textNode,e.startOffset,e.endOffset)}))}(t.firstChild,e.startOffset,e.endOffset)):m.concat([t.getBoundingClientRect()])}})),m}function iN(e){return!e.isCardNode()&&"td"!==e.nodeName&&e.children}function aN(e){return e.isTextNode()?e.dataLength:e.children?e.children.length:0}function cN(e){if(e.nextSibling)return e.nextSibling;for(;e.parentNode;){if(e.parentNode.nextSibling)return e.parentNode.nextSibling;e=e.parentNode}return null}function lN(e){if(e.previousSibling)return e.previousSibling;for(;e.parentNode;){if(e.parentNode.previousSibling)return e.parentNode.previousSibling;e=e.parentNode}return null}function sN(e){return e.isTextNode()||e.isCardNode()}function uN(e){var t=e.node,n=e.offset;return sN(t)?t:t.children&&t.children[n]?t.children[n]:cN(t)}function dN(e){var t=e.node,n=e.offset;return sN(t)?t:t.children&&t.children[n-1]?t.children[n-1]:lN(t)}function fN(e){return e.isCardNode()||"table"===e.nodeName||"tr"===e.nodeName||"td"===e.nodeName}function hN(e){return e&&e.classList&&e.classList.contains("ne-b-filler")}function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mN=function(){function e(t,n){o()(this,e),m()(this,"_destroyed",!1),m()(this,"_renderer",null),m()(this,"_domRootNode",null),m()(this,"_boxNode",null),m()(this,"_drawer",null),this._renderer=t,this._domRootNode=n,this._boxNode=document.createElement("div"),this._boxNode.className="ne-drawer-box",n.nextSibling?n.parentNode.insertBefore(this._boxNode,n.nextSibling):n.parentNode.appendChild(this._boxNode),this._drawer=new nN({container:this._boxNode,hPadding:60}),this.refresh()}return a()(e,[{key:"insideViewport",value:function(e){return e>=this._drawer.options.hPadding&&e<=this._drawer.options.hPadding+this._drawer.options.limitWidth}},{key:"destroy",value:function(){this._destroyed=!0,this._drawer.destroy(),this._boxNode.remove(),this._boxNode=null}},{key:"refresh",value:function(){this._destroyed||(this.boxRect=this._boxNode.getBoundingClientRect())}},{key:"drawRanges",value:function(e,t,n){var r=this;return this._destroyed||!e.length?[]:(this.refresh(),e.map((function(e){var o=oN(e,n);if(!o||0===o.length)return null;var i=o[o.length-1].bottom-o[0].top;return o=o.map((function(e){return{x:e.x-r.boxRect.x,y:e.y-r.boxRect.y,width:e.width,height:e.height||20}})),r._drawRects(o,t),{viewRange:e,style:t,rects:o,viewHeight:i}})))}},{key:"drawRects",value:function(e,t){this._destroyed||this._drawRects(e,t)}},{key:"clearRects",value:function(e){var t=this;this._destroyed||e.forEach((function(e){t._drawer.clearRect(e)}))}},{key:"clearAll",value:function(){this._destroyed||this._drawer.clear()}},{key:"_drawRects",value:function(e,t){var n=this;e.forEach((function(e){n._drawer.draw("Rect",vN(vN({},e),{},{fill:t&&t.fill,stroke:t&&t.stroke}))}))}},{key:"getRectByViewRange",value:function(e){return oN(e)}},{key:"clear",value:function(){this._destroyed||this._drawer.clear()}}]),e}(),yN=function(){function e(t,n,r){o()(this,e),m()(this,"_virtualRootNode",null),m()(this,"_viewRootNode",null),m()(this,"_viewDoc",null),m()(this,"_renderer",null),m()(this,"_domRootNode",null),m()(this,"_renderController",null),m()(this,"_renderUnitManager",null),m()(this,"_drawers",[]);var i=n.rootNode;r.innerHTML="",r._viewNode=i,this._virtualRootNode=new tR(t,i,r),i._virtualNode=this._virtualRootNode,this._renderer=t,this._viewDoc=n,this._viewRootNode=i,this._domRootNode=r,this._renderUnitManager=new lR,this._renderController=new ZR(this,r,t.scrollNode,t.option)}return a()(e,[{key:"destroy",value:function(){this._renderUnitManager.destroy(),this._renderController.destroy(),this._drawers.forEach((function(e){e.destroy()})),this._domRootNode.innerHTML="",this._virtualRootNode=null,this._viewDoc=null,this._renderController=null}},{key:"renderer",get:function(){return this._renderer}},{key:"renderUnitManager",get:function(){return this._renderUnitManager}},{key:"viewRootNode",get:function(){return this._viewRootNode}},{key:"domRootNode",get:function(){return this._domRootNode}},{key:"viewDocument",get:function(){return this._viewDoc}},{key:"virtualRootNode",get:function(){return this._virtualRootNode}},{key:"applyContentChange",value:function(e,t,n,r){this._renderController.applyContentChange(e,t,n,r)}},{key:"applySelectionChange",value:function(e,t){this._renderController.applySelectionChange(e,t)}},{key:"refreshSelection",value:function(){}},{key:"createDrawer",value:function(){var e=new mN(this._renderer,this._domRootNode);return this._drawers.push(e),e}},{key:"repairByViewNode",value:function(e){return this._renderController.repairByViewNode(e)}},{key:"repairByViewRange",value:function(e){return this._renderController.repairByViewRange(e)}},{key:"repairByViewRanges",value:function(e){return this._renderController.repairByViewRanges(e)}},{key:"repaintByScroll",value:function(e){this._renderController.repaintByScroll(e)}},{key:"scrollByNodeId",value:function(e){return this._renderController.scrollByNodeId(e)}},{key:"scrollToSelection",value:function(e,t){this._renderController.scrollToSelection(e,t)}},{key:"toViewRange",value:function(e){return function(e,t){var n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=t.collapsed,c=JR(e,n,r);if(!c)return null;if(a)return{start:c,end:$R({},c)};var l=JR(e,o,i);return l?{start:c,end:l}:null}(this._renderer,e)}},{key:"toDOMRange",value:function(e){return dR(this._renderer,e)}}]),e}(),gN=function(){function e(t,n,r){o()(this,e),m()(this,"_renderer",null),m()(this,"_viewDoc",null),m()(this,"_viewport",null),this._renderer=t,this._viewDoc=n,this._viewport=new yN(t,n,r),this._init()}return a()(e,[{key:"_init",value:function(){var e=this;Ls(this,this._viewDoc,"contentchange",(function(t){e._viewport.applyContentChange(t.changes,t.mode,t.selection,t.prevSelection),e._renderer.emit("contentchange",{ranges:t.selection.ranges.map((function(t){return e._viewport.toDOMRange(t)})),mode:t.mode,focus:t.selection.focus,anchor:t.selection.anchor}),e._renderer.engine.emit("contentchange",t.mode)})),Ls(this,this._viewDoc,"selectionchange",(function(t){e._viewport.applySelectionChange(t.selection,t.prevSelection),e._renderer.emit("selectionchange",{focus:t.selection.focus,anchor:t.selection.anchor,ranges:t.selection.ranges.map((function(t){return e._viewport.toDOMRange(t)}))}),e._renderer.engine.emit("selectionchange")}))}},{key:"destroy",value:function(){this._viewport.destroy()}},{key:"createDrawer",value:function(){return this._viewport.createDrawer()}},{key:"repairByViewNode",value:function(e){return this._viewport.repairByViewNode(e)}},{key:"repairByViewRange",value:function(e){return this._viewport.repairByViewRange(e)}},{key:"repairByViewRanges",value:function(e){return this._viewport.repairByViewRanges(e)}},{key:"repaintByScroll",value:function(e){this._viewport.repaintByScroll(e)}},{key:"scrollToCurrentSelection",value:function(e){this._viewport.scrollToSelection(e,this._viewDoc.selection)}},{key:"scrollByNodeId",value:function(e){return this._viewport.scrollByNodeId(e)}},{key:"scrollToSelection",value:function(e,t){return this._viewport.scrollToSelection(t,e)}},{key:"toViewRange",value:function(e){return this._viewport.toViewRange(e)}},{key:"toDOMRange",value:function(e){return this._viewport.toDOMRange(e)}}]),e}(),bN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o()(this,e),m()(this,"_domNode",null),m()(this,"_eventFilter",null),m()(this,"_handlers",[]),this._domNode=t,this._eventFilter=n}return a()(e,[{key:"destroy",value:function(){this.removeAllListener(),this._domNode=null,this._eventFilter=null,this._handlers=null}},{key:"on",value:function(e,t,n){var r=this,o=t,i=this._eventFilter;return t=function(e){if(!i||!1!==i(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.apply(void 0,[e].concat(n))}},this._handlers.push([e,t,n]),this._domNode.addEventListener(e,t,n),function(){r._domNode.removeEventListener(e,t,n)}}},{key:"once",value:function(e,t,n){var r=this,o=function(){r._domNode.removeEventListener(e,t,n)},i=t;return t=function(){o(),i.apply(void 0,arguments)},this._handlers.push([e,t,n]),this._domNode.addEventListener(e,t,n),o}},{key:"off",value:function(e,t,n){this._domNode.removeEventListener(e,t,n)}},{key:"removeAllListener",value:function(){var e=this._domNode;this._handlers.forEach((function(t){var n=E()(t,3),r=n[0],o=n[1],i=n[2];e.removeEventListener(r,o,i)}))}}]),e}();function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xN=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_renderer",null),m()(l()(n),"_domRootNode",null),m()(l()(n),"_rootNodeObserver",null),m()(l()(n),"_focused",!1),m()(l()(n),"_disabled",!1),n._renderer=e,n._domRootNode=t,n._rootNodeObserver=new bN(t),n._rootNodeObserver.on("mousedown",(function(){n._disabled||n._focused||(n._focused=!0,n.emit("focus"))})),n._rootNodeObserver.on("selectionchange",(function(e){n._disabled&&(e.stopPropagation(),e.stopImmediatePropagation())})),n._rootNodeObserver.on("focusin",(function(){n._disabled||n._focused||(n._focused=!0,n.emit("focus"))})),n._rootNodeObserver.on("focusout",(function(e){if(!n._disabled&&n._focused)if(e.relatedTarget){if(t.contains(e.relatedTarget))return;n._focused=!1,n.emit("blur"),n._checkNodeBlur()}else setTimeout((function(){document.activeElement&&t.contains(document.activeElement)||(n._focused=!1,n.emit("blur"))}))})),n}return a()(i,[{key:"destroy",value:function(){this._rootNodeObserver.destroy()}},{key:"disable",value:function(){this._disabled=!0}},{key:"enable",value:function(){this._disabled=!1}},{key:"focus",value:function(e){e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preventScroll:!1},e);var t=document.getSelection(),n=this._renderer.engine.view.getViewSelection(),r=this._renderer.scrollNode.scrollTop;this._domRootNode.focus({preventScroll:e.preventScroll});var o=this._renderer.toDOMRange(n.firstRange);t.removeAllRanges(),t.addRange(o),this._renderer.scrollNode.scrollTop=r,e.preventScroll||this._renderer.scrollToCurrentSelection(!0),this._checkNodeFocus()}},{key:"isDisabled",value:function(){return this._disabled}},{key:"isFocus",value:function(){return this._focused}},{key:"_checkNodeFocus",value:function(){var e=this._renderer.engine.view.getViewSelection(),t=e.firstRange.start.node;e.collapsed&&t.isCardNode()&&t._virtualNode.$focus(!0)}},{key:"_checkNodeBlur",value:function(){var e=this._renderer.engine.view.getViewSelection(),t=e.firstRange.start.node;e.collapsed&&t.isCardNode()&&t._virtualNode.$blur(!0)}}]),i}();function _N(e){return kd(e,"[".concat("data-event-boundary","]"),document.body)}function kN(e){return null!==_N(e)}function CN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",n=_N(e);return n&&n.getAttribute("data-card-type")===t}function RN(e){return!(e.target.isConnected&&!kN(e.target))}var NN=function(e){u()(i,xa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;o()(this,i),a=r.call(this),m()(l()(a),"_renderer",null),m()(l()(a),"_engine",null),m()(l()(a),"_domRootNode",null),m()(l()(a),"_scrollNode",null),m()(l()(a),"_rootNodeObserver",null),m()(l()(a),"_rootNodeForceObserver",null),m()(l()(a),"_documentObserver",null),m()(l()(a),"_scrollNodeObserver",null),m()(l()(a),"_resizeObserver",null),m()(l()(a),"_widthChangeEmitter",null),a._renderer=e,a._engine=e.engine,a._domRootNode=t,a._scrollNode=n,a._rootNodeObserver=new bN(t,(function(e){if(RN(e))return!1})),a._rootNodeForceObserver=new bN(t),a._documentObserver=new bN(t.ownerDocument),a._scrollNodeObserver=new bN(n),a._widthChangeEmitter=new g.a;var c=-1;return a._resizeObserver=new ResizeObserver((function(e){var t=e[0].width;-1===c?c=t:c!==t&&(c=t,a._widthChangeEmitter.emit("change"))})),a._resizeObserver.observe(a._domRootNode),a}return a()(i,[{key:"destroy",value:function(){this._widthChangeEmitter.removeAllListeners(),this._rootNodeObserver.destroy(),this._rootNodeForceObserver.destroy(),this._documentObserver.destroy(),this._scrollNodeObserver.destroy(),this._resizeObserver.disconnect(),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"id",get:function(){return this._renderer.id}},{key:"domRootNode",get:function(){return this._domRootNode}},{key:"globalOverlayNode",get:function(){return this._renderer.globalOverlayNode}},{key:"scrollableOverlayNode",get:function(){return this._renderer.scrollableOverlayNode}},{key:"uiEmitter",get:function(){return this._renderer.uiEmitter}},{key:"option",get:function(){return this._renderer.option}},{key:"domDocument",get:function(){return this._domRootNode.ownerDocument}},{key:"scrollNode",get:function(){return this._scrollNode}},{key:"iKernel",get:function(){return this._engine.kernel.iKernel}},{key:"iEngine",get:function(){return this._engine.iEngine}},{key:"scrollToCurrentSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._renderer.scrollToCurrentSelection(e)}},{key:"scrollToSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._renderer.scrollToSelection(e,t)}},{key:"scrollByNodeId",value:function(e){return this._renderer.scrollByNodeId(e)}},{key:"emitEvent",value:function(){var e;(e=this._engine).emitEvent.apply(e,arguments)}},{key:"sendMessage",value:function(){var e;(e=this._engine).sendMessage.apply(e,arguments)}},{key:"isFocus",value:function(){return this._renderer.focusManager.isFocus()}},{key:"focus",value:function(e){this._renderer.focusManager.focus(e)}},{key:"repaintByScroll",value:function(e){this._renderer.repaintByScroll(e)}},{key:"registerCommand",value:function(){var e;return(e=this._engine).registerCommand.apply(e,arguments)}},{key:"registerBoxNode",value:function(e,t,n){this._renderer.registerBoxNode(e,t,n)}},{key:"registerInlineCard",value:function(e,t,n){this._renderer.registerInlineCard(e,t,n)}},{key:"registerBlockCard",value:function(e,t,n){this._renderer.registerBlockCard(e,t,n)}},{key:"registerAttrTranslator",value:function(e,t){this._renderer.registerAttrTranslator(e,t)}},{key:"onRootNode",value:function(e,t,n){return this._rootNodeObserver.on(e,t,n)}},{key:"onForceRootNode",value:function(e,t,n){return this._rootNodeForceObserver.on(e,t,n)}},{key:"onceRootNode",value:function(e,t,n){return this._rootNodeObserver.once(e,t,n)}},{key:"onDocument",value:function(e,t,n){return this._documentObserver.on(e,t,n)}},{key:"onViewportWidthChange",value:function(e){return this._widthChangeEmitter.on("change",e)}},{key:"onceDocument",value:function(e,t,n){return this._documentObserver.once(e,t,n)}},{key:"onScroll",value:function(e){return this._scrollNodeObserver.on("scroll",e,{passive:!0})}},{key:"createDrawer",value:function(){return this._renderer.createDrawer()}},{key:"getVirtualNode",value:function(e){return e._virtualNode}},{key:"repairByViewNode",value:function(e){return this._renderer.repairByViewNode(e)}},{key:"repairByViewRange",value:function(e){return this._renderer.repairByViewRange(e)}},{key:"repairByViewRanges",value:function(e){return this._renderer.repairByViewRanges(e)}},{key:"on",value:function(e,t){this._renderer.on(e,t)}},{key:"off",value:function(e,t){this._renderer.off(e,t)}},{key:"emit",value:function(){var e;(e=this._renderer).emit.apply(e,arguments)}}]),i}();_r(NN,"_engine");var EN=function(){function e(t,n){o()(this,e),m()(this,"_engineBox",null),m()(this,"_mountNode",null),m()(this,"_domRootNode",null),m()(this,"_globalOverlayNode",null),m()(this,"_scrollableOverlayNode",null),m()(this,"_documentListener",null),this._mountNode=t,t.innerHTML='<div class="ne-engine-box"><div class="ne-engine"></div></div>',this._engineBox=t.firstChild,this._scrollableOverlayNode=this._engineBox.firstChild,this._domRootNode=this._engineBox.lastChild,this._domRootNode.contentEditable=!0,this._domRootNode.spellcheck=!1,this._domRootNode.selectionStart=0,this._domRootNode.selectionEnd=0,this._domRootNode.tabIndex=1,this._initOverlay(n),this._documentListener=new bN(this._mountNode.ownerDocument)}return a()(e,[{key:"_initOverlay",value:function(e){var t=e.globalOverlayNode,n=e.scrollableOverlayNode;t?this._globalOverlayNode=t:(this._globalOverlayNode=Qk("div",{className:"ne-engine-global-overlay"}),document.body.appendChild(this._globalOverlayNode)),n?this._scrollableOverlayNode=n:(this._scrollableOverlayNode=Qk("div",{className:"ne-engine-scrollable-overlay"}),this._mountNode.firstChild.appendChild(this._scrollableOverlayNode))}},{key:"destroy",value:function(){this._mountNode=null,this._domRootNode=null,this._documentListener.destroy(),this._documentListener=null}},{key:"domRootNode",get:function(){return this._domRootNode}},{key:"globalOverlayNode",get:function(){return this._globalOverlayNode}},{key:"scrollableOverlayNode",get:function(){return this._scrollableOverlayNode}}]),e}();var ON=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_engine",null),m()(l()(c),"_domRootNode",null),m()(l()(c),"_nativeDoc",null),m()(l()(c),"_registry",null),m()(l()(c),"_iRenderer",null),m()(l()(c),"_plugins",[]),m()(l()(c),"_engineOption",null),m()(l()(c),"_resizeObserver",null),c._engine=e,c._layer=new EN(t,n),c._engineOption=n,c._domRootNode=c._layer.domRootNode,c._focusManager=new xN(l()(c),c._domRootNode),c._registry=new WC,c._uiEmitter=n.uiEmitter||new HC,c._iRenderer=new NN(l()(c),c._layer.domRootNode,n.getScrollNode()),c._init(a),c._resizeObserver=new ResizeObserver((function(){var e;null===(e=c._iRenderer)||void 0===e||e.emit("resize")})),c._resizeObserver.observe(c._domRootNode),c}return a()(i,[{key:"_init",value:function(e){var t=this,n=this._iRenderer,r=this._layer.iLayer,o=this._engine,a=o.iEngine,c=o.kernel,l=this._engine._engineOption.disabledPlugins;Object.keys(i.PLUGIN).forEach((function(o){if(!l.includes(o)){var s=i.PLUGIN[o],u=s.PluginOption,d=u?new u(e[u.OptionName]):null;d&&(d.kernelOption=c.option);var f=new s(d,n,a,r,c);br(f instanceof Hk,"F:renderer/index;L:91"),f.init(n,a,r,c),t._plugins.push(f),br(void 0===t._plugins[o],"F:renderer/index;L:96"),t._plugins[o]=f}})),this._engine.view.on("document.create",(function(e){t._nativeDoc=new gN(t,e,t._domRootNode),t.emit("document.create")})),this._engine.view.on("document.destroy",(function(){t.emit("document.destroy"),t._nativeDoc.destroy(),t._nativeDoc=null})),this._focusManager.on("focus",(function(){t.emit("focusstatuschange",!0)})),this._focusManager.on("blur",(function(){t.emit("focusstatuschange",!1)})),c.iEditing.on("operationRollback",(function(){var e=a.getViewSelection();e.isTableSelection||e.ranges.forEach((function(e){t.repairByViewRange(e)}))}))}},{key:"destroy",value:function(){this.removeAllListeners(),this._resizeObserver.disconnect(),this._resizeObserver=null,this._plugins.forEach((function(e){e.destroy()})),this._uiEmitter!==this._engine._engineOption.uiEmitter&&this._uiEmitter.removeAllListeners(),this._nativeDoc&&(this._nativeDoc.destroy(),this._nativeDoc=null),this._registry.destroy(),this._focusManager.destroy(),this._layer.destroy(),this._iRenderer.destroy()}},{key:"id",get:function(){return this._engine.id}},{key:"globalOverlayNode",get:function(){return this._layer.globalOverlayNode}},{key:"scrollableOverlayNode",get:function(){return this._layer.scrollableOverlayNode}},{key:"engine",get:function(){return this._engine}},{key:"plugins",get:function(){return this._plugins}},{key:"option",get:function(){return this._engineOption}},{key:"iRenderer",get:function(){return this._iRenderer}},{key:"uiEmitter",get:function(){return this._uiEmitter}},{key:"registry",get:function(){return this._registry}},{key:"scrollNode",get:function(){return this._engineOption.getScrollNode()}},{key:"domRootNode",get:function(){return this._domRootNode}},{key:"focusManager",get:function(){return this._focusManager}},{key:"registerAttrTranslator",value:function(e,t){this._registry.registerAttrTranslator(e,t)}},{key:"registerInlineCard",value:function(e,t,n){this._registry.registerInlineCard(e,t,n)}},{key:"registerBlockCard",value:function(e,t,n){this._registry.registerBlockCard(e,t,n)}},{key:"registerBoxNode",value:function(e,t,n){this._registry.registerBoxNode(e,t,n)}},{key:"repaintByScroll",value:function(e){return!!this._nativeDoc&&(this._nativeDoc.repaintByScroll(e),!0)}},{key:"createDrawer",value:function(){return this._nativeDoc.createDrawer()}},{key:"scrollToCurrentSelection",value:function(e){return this._nativeDoc.scrollToCurrentSelection(e)}},{key:"scrollToSelection",value:function(e,t){return this._nativeDoc.scrollToSelection(e,t)}},{key:"scrollByNodeId",value:function(e){return this._nativeDoc.scrollByNodeId(e)}},{key:"repairByViewNode",value:function(e){return this._nativeDoc.repairByViewNode(e)}},{key:"repairByViewRange",value:function(e){return this._nativeDoc.repairByViewRange(e)}},{key:"repairByViewRanges",value:function(e){return this._nativeDoc.repairByViewRanges(e)}},{key:"toViewRange",value:function(e){if(!this._nativeDoc)return null;var t=this._nativeDoc.toViewRange(e);return t?new pC(new hC(t.start.node,t.start.offset),new hC(t.end.node,t.end.offset)):null}},{key:"toDOMRange",value:function(e){return this._nativeDoc.toDOMRange(e)}},{key:"canGetDocument",value:function(){var e=!1;return this._plugins.forEach((function(t){t.sync()||(e=!0)})),!e}}],[{key:"registerPlugin",value:function(e){Array.from(e).forEach((function(e){if(!e.PluginName)throw new Error("missing PluginName");i.PLUGIN[e.PluginName]=e}))}}]),i}();m()(ON,"PLUGIN",{});var DN=function(){function e(t){o()(this,e),m()(this,"_engine",null),this._engine=t}return a()(e,[{key:"id",get:function(){return this._engine.id}},{key:"option",get:function(){return this._engine.option}},{key:"viewDocument",get:function(){return this._engine.view.viewDocument}},{key:"nodeIsInTree",value:function(e){return this._engine.view.nodeIsInTree(e)}},{key:"transformDOMRange",value:function(e){var t=this._engine.renderer.toViewRange(e);return t?this._engine.view.getModelRangeInfo(t):null}},{key:"modelRangeToViewRange",value:function(e){return this._engine.view.modelRangeToViewRange(e)}},{key:"viewRangeToDOMRange",value:function(e){return this._engine.renderer.toDOMRange(e)}},{key:"createViewSelection",value:function(e){return this._engine._view.getViewSelection().cloneByRanges(e)}},{key:"getViewSelection",value:function(){return this._engine.view.getViewSelection()}},{key:"on",value:function(e,t){this._engine.on(e,t)}}]),e}();function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_r(DN,"_engine");var PN=function(e){u()(i,aC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_view",null),m()(l()(n),"_engineOption",null),m()(l()(n),"_renderer",null),m()(l()(n),"_kernel",null),m()(l()(n),"_iEngine",null),n._engineOption=new oC(l()(n),t),n._iEngine=new DN(l()(n)),n._kernel=new fc(BN(BN({},t),{},{eventEmitter:t.eventEmitter||l()(n)})),n._view=new UC(l()(n),n._kernel),n._renderer=new ON(l()(n),e,n._engineOption,t),n._$commandUnderlay=n._kernel,n._init(),n}return a()(i,[{key:"_init",value:function(){var e=this;this._renderer.on("focusstatuschange",(function(t){e.emit("focusstatuschange",t),e.emitEvent("focusstatuschange",t)}))}},{key:"destroy",value:function(){this.emit("beforedestroy"),B()(p()(i.prototype),"destroy",this).call(this),this._kernel.destroy(),this._view.destroy(),this._renderer.destroy()}},{key:"id",get:function(){return this._kernel.id}},{key:"kernel",get:function(){return this._kernel}},{key:"view",get:function(){return this._view}},{key:"renderer",get:function(){return this._renderer}},{key:"plugins",get:function(){return this._renderer.plugins}},{key:"iEngine",get:function(){return this._iEngine}},{key:"iRenderer",get:function(){return this._renderer.iRenderer}},{key:"option",get:function(){return this._engineOption}},{key:"emitEvent",value:function(){var e;(e=this._engineOption.eventEmitter||this).emit.apply(e,arguments)}},{key:"sendMessage",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._option.eventEmitter||this).emit.apply(e,["message"].concat(n))}},{key:"onMessage",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this._option.eventEmitter||this).on.apply(e,["message"].concat(n))}},{key:"setDocument",value:function(){var e;(e=this._kernel).setDocument.apply(e,arguments)}},{key:"canGetDocument",value:function(){var e=!0;return this._renderer.canGetDocument()||(e=!1),this._kernel.canGetDocument()||(e=!1),e}},{key:"getDocument",value:function(e,t){return this._kernel.getDocument(e,t)}}],[{key:"registerRenderPlugin",value:function(e){ON.registerPlugin(e)}},{key:"registerKernelPlugin",value:function(e){fc.registerPlugin(e)}}]),i}();function FN(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-engine-box {\n  position: relative;\n  overflow-anchor: none;\n}\n.ne-engine-box .ne-engine-global-overlay {\n  position: relative;\n}\n.ne-engine-box .ne-engine-scrollable-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n}\n.ne-engine-box .ne-drawer-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  pointer-events: none;\n  opacity: 0.3;\n}\n.ne-engine {\n  position: relative;\n  z-index: 1;\n  outline: none;\n  white-space: break-spaces;\n  word-break: break-word;\n  word-wrap: break-word;\n  font-family: 'Chinese Quote', 'Segoe UI', Roboto, RobotoNum, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  --link-color: #096DD9;\n}\n.ne-engine ::selection {\n  background: rgba(180, 213, 254, 0.5) !important;\n  color: inherit!important;\n}\n.ne-engine .ne-table {\n  white-space: pre-wrap;\n}\n.ne-engine:after {\n  content: ' ';\n}\n.ne-engine span.ne-b-filler,\n.ne-engine span.ne-i-filler,\n.ne-engine span.ne-t-filler {\n  text-indent: 0;\n  min-width: 1px;\n  vertical-align: baseline;\n  font-size: 1em;\n  height: 1em;\n}\n.ne-engine span.ne-t-filler {\n  display: inline;\n}\n.ne-engine span.ne-i-filler {\n  display: inline;\n}\n.ne-engine span.ne-b-filler {\n  display: inline;\n}\nne-hole,\nne-card[data-card-type=\"inline\"] {\n  max-width: calc(100% - 2px);\n}\nne-hole.ne-spacing-all,\nne-card.ne-spacing-all {\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\nne-hole.ne-spacing-top,\nne-card.ne-spacing-top {\n  margin-top: 16px;\n}\nne-hole.ne-spacing-bottom,\nne-card.ne-spacing-bottom {\n  margin-bottom: 16px;\n}\nne-hole.ne-spacing-all:first-child {\n  margin-top: 0;\n}\nne-hole.ne-spacing-top:first-child {\n  margin-top: 0;\n}\nne-card {\n  position: relative;\n  z-index: 1;\n  line-height: 1em;\n  font-size: 15px;\n  letter-spacing: normal;\n  text-indent: 0;\n  height: fit-content;\n}\nne-card .ne-card-container {\n  line-height: 1.74;\n}\n[data-card-type=\"inline\"] {\n  display: inline-flex;\n  vertical-align: baseline;\n  margin: 0 1px;\n}\n[data-card-type=\"inline\"] ne-card-root {\n  display: inline;\n  width: 100%;\n  z-index: 1;\n}\n[data-card-type=\"inline\"] .ne-card-container {\n  display: inline;\n}\n[data-card-type=\"block\"] {\n  display: block;\n  width: calc(100% - 2px);\n  max-width: 100%;\n}\n[data-card-type=\"block\"] ne-card-root {\n  display: block;\n  width: 100%;\n  z-index: 1;\n}\n[data-card-type=\"block\"] ne-card-root .ne-card-container {\n  background-color: #fff;\n}\nne-card[data-card-type=\"inline\"] ne-l-ph,\nne-card[data-card-type=\"inline\"] ne-r-ph {\n  width: 1px;\n}\n");var TN=function(e){u()(i,xa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_editor",null),t._editor=e,t._editor.engine.on("selectionchange",(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=t).emit.apply(e,["selectionchange"].concat(r))})),t._editor.engine.on("contentchange",(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(e=t).emit.apply(e,["contentchange"].concat(r))})),t._editor.engine.on("focusstatuschange",(function(e){t.emit("focusstatuschange",{focused:e})})),t}return a()(i,[{key:"id",get:function(){return this._editor.id}},{key:"plugins",get:function(){return this._editor.plugins}},{key:"editorNode",get:function(){return this._editor.editorNode}},{key:"editorWrapNode",get:function(){return this._editor.editorWrapNode}},{key:"scrollbarIsVisible",get:function(){return this._editor._layerManager.scrollbarIsVisible}},{key:"uiLayer",get:function(){return this._editor.uiLayer}},{key:"uiExtraBox",get:function(){return this._editor.uiExtraBox}},{key:"uiEmitter",get:function(){return this._editor.uiEmitter}},{key:"editBox",get:function(){return this._editor.editBox}},{key:"editorExtraBox",get:function(){return this._editor.editorExtraBox}},{key:"overlayContainer",get:function(){return this._editor.overlayContainer}},{key:"innerOverlayContainer",get:function(){return this._editor.innerOverlayContainer}},{key:"option",get:function(){return this._editor.option}},{key:"iKernel",get:function(){return this._editor.engine.iRenderer.iKernel}},{key:"iEditing",get:function(){return this._editor.kernel.iEditing}},{key:"iEngine",get:function(){return this._editor.engine.iEngine}},{key:"iRenderer",get:function(){return this._editor.engine.iRenderer}},{key:"isMaxView",get:function(){return this._editor.isMaxView}},{key:"scrollNode",get:function(){return this._editor.option.getScrollNode()}},{key:"editor",get:function(){return this._editor}},{key:"emitEvent",value:function(){var e;(e=this._editor).emit.apply(e,arguments)}},{key:"sendMessage",value:function(){var e;(e=this._editor).sendMessage.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this._editor).registerCommand.apply(e,arguments)}},{key:"createCardUI",value:function(e){var t=e.constructor,n=t.$EditableCardUI,r=t.name;if("function"!=typeof n)throw new Error("未在 CardNode 类上声明静态属性 $EditableCardUI，无法创建卡片UI：".concat(r));var o=new n(this,e);o._beforeInit();for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return o.init.apply(o,a),o._afterInit(),e._$cardUI=o,o}},{key:"enterMaxView",value:function(){var e;return(e=this._editor)._enterMaxView.apply(e,arguments)}},{key:"exitMaxView",value:function(){var e;return(e=this._editor)._exitMaxView.apply(e,arguments)}}]),i}();_r(TN,"_editor");var MN=document.createElement("div");function LN(e){MN.innerHTML=e;var t=MN.childNodes.length;return br(t>0,"F:template;L:10"),1===t?MN.childNodes[0]:Array.from(MN.childNodes)}function AN(){var e=document.createElement("div");e.style.cssText="width: 100px; height: 10px; position: fixed; top: -9999999px; left: -9999999px; overflow: scroll;",e.innerHTML="<div></div>",document.body.appendChild(e);var t=100!==e.firstElementChild.getBoundingClientRect().width;return e.remove(),t}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-max-view {\n  position: fixed!important;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1010;\n  height: auto;\n}\n.ne-ui-max-view .ne-ui-sidebar-visible .ne-editor-wrap:after {\n  content: ' ';\n  display: block;\n  width: 288px;\n}\n.ne-ui-max-view .ne-ui-sidebar-visible .ne-ui-sidebar {\n  right: 0;\n}\n.ne-ui-max-view .ne-editor-extra-box {\n  display: none;\n}\n.ne-ui-max-view .ne-editor {\n  height: 100%;\n}\n.ne-ui-max-view .ne-editor-body {\n  height: calc(100% - 50px - 54px);\n}\n.ne-ui-max-view .ne-editor-wrap {\n  padding-top: 16px;\n  height: 100%;\n  display: flex;\n}\n.ne-ui-max-view .ne-editor-wrap-content {\n  margin: 0 16px;\n  height: 100%;\n  flex: 1;\n  width: 440px;\n}\n.ne-ui-max-view .ne-editor-wrap-box,\n.ne-ui-max-view .ne-editor-outer-wrap-box,\n.ne-ui-max-view .ne-editor-box,\n.ne-ui-max-view .ne-engine-box {\n  height: 100%;\n}\n.ne-ui-max-view .ne-engine-box .ne-engine {\n  height: 100%;\n  overflow: hidden;\n}\n.ne-ui-max-view .ne-editor-header,\n.ne-ui-max-view .ne-ui {\n  border-bottom: 1px solid #f5f5f5;\n}\n.ne-ui-max-view .ne-ui-sidebar {\n  top: 0;\n}\n.ne-ui-max-view .ne-ui {\n  padding-left: 40px;\n}\n.ne-ui-max-view.ne-ui-max-view-no-toolbar .ne-ui {\n  display: none;\n}\n.ne-ui-max-view.ne-ui-max-view-no-toolbar .ne-editor-wrap-content {\n  margin: 0;\n}\n.ne-ui-max-view.ne-ui-max-view-no-toolbar .ne-editor-wrap {\n  padding-top: 0;\n}\n.ne-ui-max-view.ne-ui-max-view-no-toolbar .ne-editor-body {\n  height: calc(100% - 54px);\n}\n.ne-ui-max-view .ne-ui-max-view-node {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 999;\n  width: auto;\n  height: auto!important;\n}\n.ne-ui-max-view .ne-ui-max-view-node ne-card-root,\n.ne-ui-max-view .ne-ui-max-view-node .ne-card-container {\n  height: 100%!important;\n}\n.ne-ui-max-view .ne-editor-body {\n  background: #fafafa;\n}\n.ne-ui-max-view .ne-editor-header {\n  display: block;\n}\n.ne-editor {\n  position: relative;\n  background-color: #ffffff;\n}\n.ne-editor-header {\n  background-color: #fff;\n  display: none;\n}\n.ne-editor-header .ne-ui-exit-max-view-btn {\n  background: url(\"https://gw.alipayobjects.com/zos/bmw-prod/09ca6e30-fd03-49ff-b2fb-15a2fbd8042a.svg\") no-repeat left center;\n  border: none;\n  outline: none;\n  color: #595959;\n  cursor: pointer;\n  height: 54px;\n  line-height: 54px;\n  margin-left: 36px;\n  padding: 0 30px 0 24px;\n}\n.ne-editor-header .ne-ui-exit-max-view-btn:HOVER {\n  color: #8C8C8C;\n}\n.ne-ui {\n  position: relative;\n  top: 0;\n  left: 0;\n  z-index: 4;\n}\n.ne-ui .ant-dropdown {\n  transform: translateZ(0);\n}\n.ne-editor-body {\n  position: relative;\n}\n.ne-editor-wrap {\n  position: relative;\n  overflow-anchor: none;\n}\n.ne-editor-box {\n  position: relative;\n}\n.ne-editor-extra-box {\n  position: relative;\n}\n.ne-overlay-container,\n.ne-inner-overlay-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 4;\n}\n.ne-overlay-container {\n  z-index: 1012;\n}\n.ne-overlay-container {\n  position: fixed;\n}\n");var IN=function(){function e(t,n){var r=this;o()(this,e),m()(this,"editor",null),m()(this,"_editorRootNode",null),m()(this,"_headerLayer",null),m()(this,"_uiLayer",null),m()(this,"_uiExtraBox",null),m()(this,"_boxWrapNode",null),m()(this,"_editorExtraBox",null),m()(this,"_editBox",null),m()(this,"_overlayContainer",null),m()(this,"_innerOverlayContainer",null),m()(this,"_editorWrapNode",null),m()(this,"_isMaxView",!1),m()(this,"_maxViewNode",null),m()(this,"_scrollbarIsVisible",!1),m()(this,"_exitMaxBeforeCallback",null),m()(this,"_exitMaxAfterCallback",null),AN()&&(this._scrollbarIsVisible=!0,n.classList.add("ne-ui-scrollbar-visible")),this.editor=t,this._editorRootNode=n,this._boxWrapNode=LN('<div class="ne-editor-wrap-content"><div class="ne-editor-outer-wrap-box"><div class="ne-editor-wrap-box"><div class="ne-editor-extra-box"></div><div class="ne-editor-box"></div></div></div></div>'),this._editorExtraBox=this._boxWrapNode.firstChild.firstChild.firstChild,this._editBox=this._editorExtraBox.nextSibling,this._editorNode=LN('<div class="ne-editor"></div>'),this._headerLayer=LN('<div class="ne-editor-header"><button class="ne-ui-exit-max-view-btn">'.concat(xm("返回文档"),"</button></div>")),this._uiLayer=LN('<div class="ne-ui"></div>'),this._uiExtraBox=LN('<div class="ne-ui-extra"></div>'),this._overlayContainer=LN('<div class="ne-overlay-container" data-event-boundary="overlay"></div>'),this._innerOverlayContainer=LN('<div class="ne-inner-overlay-container"></div>');var i=LN('<div class="ne-editor-body"></div>'),a=LN('<div class="ne-editor-wrap"></div>');i.appendChild(a),a.appendChild(this._innerOverlayContainer),a.appendChild(this._boxWrapNode),this._editorWrapNode=a,this._editorNode.appendChild(this._headerLayer),this._editorNode.appendChild(this._uiLayer),this._editorNode.appendChild(this._uiExtraBox),this._editorNode.appendChild(i),document.body.appendChild(this._overlayContainer),n.innerHTML="",n.appendChild(this._editorNode),wR(this,a,"mousedown",(function(e){e.target===a&&e.preventDefault()}),!1),wR(this,this._uiLayer,"mousedown",(function(e){RN(e)||e.preventDefault()}),!1),wR(this,this._headerLayer,"mousedown",(function(e){e.preventDefault()})),wR(this,this._headerLayer,"click",(function(e){e.target.closest(".ne-ui-exit-max-view-btn")&&r.editor._exitMaxView()}));var c=t.option.getScrollNode(),l=Date.now();wR(this,c||document.body,"scroll",(function(){var e=Date.now(),n=l;l=e,e-n<500||t.uiEmitter.emit("closePopover")}),{passive:!0})}return a()(e,[{key:"destroy",value:function(){this._editorRootNode.classList.remove("ne-ui-scrollbar-visible"),this._editorRootNode.innerHTML="",this._overlayContainer.remove()}},{key:"isMaxView",get:function(){return this._isMaxView}},{key:"scrollbarIsVisible",get:function(){return this._scrollbarIsVisible}},{key:"editorRootNode",get:function(){return this._editorRootNode}},{key:"uiExtraBox",get:function(){return this._uiExtraBox}},{key:"editorWrapNode",get:function(){return this._editorWrapNode}},{key:"editorExtraBox",get:function(){return this._editorExtraBox}},{key:"editBox",get:function(){return this._editBox}},{key:"editorNode",get:function(){return this._editorNode}},{key:"uiLayer",get:function(){return this._uiLayer}},{key:"overlayContainer",get:function(){return this._overlayContainer}},{key:"innerOverlayContainer",get:function(){return this._innerOverlayContainer}},{key:"enterMaxView",value:function(e,t,n,r){return!(this._isMaxView||!e||(this.editor._iEditor.emit("beforeEnterMaxView"),this._isMaxView=!0,this._maxViewNode=e,this._exitMaxBeforeCallback=n,this._exitMaxAfterCallback=r,this._editorRootNode.classList.add("ne-ui-max-view"),this._maxViewNode.classList.add("ne-ui-max-view-node","ne-max"),t.toolbar?this._editorRootNode.classList.remove("ne-ui-max-view-no-toolbar"):this._editorRootNode.classList.add("ne-ui-max-view-no-toolbar"),0))}},{key:"exitMaxView",value:function(){if(!this._isMaxView)return!1;var e=this._exitMaxBeforeCallback,t=this._exitMaxAfterCallback;return this._exitMaxBeforeCallback=null,this._exitMaxAfterCallback=null,null==e||e(),this._isMaxView=!1,this._editorRootNode.classList.remove("ne-ui-max-view","ne-ui-concise-max-view"),this._maxViewNode.classList.remove("ne-ui-max-view-node","ne-max"),null==t||t(),!0}}]),e}(),jN=function(){function e(){o()(this,e)}return a()(e,[{key:"openLink",value:function(e,t){}},{key:"openLocalLink",value:function(e){}},{key:"openYuqueDocLink",value:function(e){}},{key:"openLocalYuqueDocLink",value:function(e){}},{key:"openBookmarkLink",value:function(e){}},{key:"openThirdpartyLink",value:function(e){}},{key:"_init",value:function(e){var t=this;this._editor=e,this._editor.on("visitLink",(function(e,n){t.openLink(e,n)})).on("visitLocalLink",(function(e){t.openLocalLink(e)})).on("openYuqueDocLink",(function(e){t.openYuqueDocLink(e)})).on("openLocalYuqueDocLink",(function(e){t.openLocalYuqueDocLink(e)})).on("openBookmarkLink",(function(e){t.openBookmarkLink(e)})).on("openThirdpartyLink",(function(e){t.openThirdpartyLink(e)}))}}]),e}();function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UN={disabledPlugins:[],scrollNode:null,header:null,envAdapter:null},HN=function(){function e(t,n){o()(this,e),m()(this,"_editor",null),m()(this,"_option",null),this._editor=t,this._option=zN(zN({},UN),n),this._option.envAdapter||(this._option.envAdapter=new jN),br(this._option.envAdapter instanceof jN,"F:editor-option;L:28")}return a()(e,[{key:"disabledPlugins",get:function(){return this._option.disabledPlugins.slice()}},{key:"currentURL",get:function(){return this._editor.engine.option.currentURL}},{key:"envAdapter",get:function(){return this._option.envAdapter}},{key:"header",get:function(){return this._option.header}},{key:"extend",value:function(e){var t=e.OptionName;br(t&&!this[t],"F:editor-option;L:50"),this[t]=new e(z()(this._option,t))}},{key:"getScrollNode",value:function(){return br(this._option.scrollNode,"F:editor-option;L:55"),"function"==typeof this._option.scrollNode?this._option.scrollNode():this._option.scrollNode}}]),e}();function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZN=function(e){u()(i,aC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iEditor",null),m()(l()(n),"_engine",null),m()(l()(n),"_uiEmitter",null),m()(l()(n),"_layerManager",null),m()(l()(n),"_plugins",[]),m()(l()(n),"_option",null),t=WN({},t),n._option=new HN(l()(n),t),n._uiEmitter=new HC,n._layerManager=new IN(l()(n),e),n._layerManager.editorNode._editor=l()(n),n._option.header&&be.a.render(n._option.header,n._layerManager.editorExtraBox),n._engine=new PN(n._layerManager.editBox,WN(WN({},t),{},{globalOverlayNode:n._layerManager.overlayContainer,scrollableOverlayNode:n._layerManager.innerOverlayContainer,uiEmitter:n._uiEmitter,eventEmitter:l()(n)})),n._iEditor=new TN(l()(n)),n._$commandUnderlay=n._engine,n._init(),n}return a()(i,[{key:"_init",value:function(){var e=this,t=this._iEditor,n=this._plugins,r=this._option,o=this._engine,a=o.iRenderer,c=o.kernel,l=r.disabledPlugins;r.envAdapter._init(this),Object.keys(i.Plugins).map((function(o){if(l.includes(o))return null;var s=i.Plugins[o],u=s.PluginOption;u&&r.extend(u);var d=u?r[u.OptionName]:null;d&&(d.editorOption=e._option,d.engineOption=e._engine.option,d.kernelOption=e._engine.kernel.option);var f=new s(d,t,a,c);return f.init(t,a,c),n.push(f),br(void 0===n[o],"F:editor;L:119"),n[o]=f,f})).filter(Boolean).forEach((function(e){e.afterInit()}))}},{key:"destroy",value:function(){this.emit("beforedestroy"),this._uiEmitter.removeAllListeners(),this._uiEmitter=null,this.removeAllListeners(),delete this._layerManager.editorNode._editor,this._plugins.forEach((function(e){e.destroy()})),this._engine.destroy(),this._layerManager.destroy(),this._iEditor.destroy()}},{key:"id",get:function(){return this._engine.id}},{key:"option",get:function(){return this._option}},{key:"engine",get:function(){return this._engine}},{key:"uiEmitter",get:function(){return this._uiEmitter}},{key:"kernel",get:function(){return this._engine.kernel}},{key:"editorNode",get:function(){return this._layerManager.editorNode}},{key:"editorWrapNode",get:function(){return this._layerManager.editorWrapNode}},{key:"editorExtraBox",get:function(){return this._layerManager.editorExtraBox}},{key:"editBox",get:function(){return this._layerManager.editBox}},{key:"uiLayer",get:function(){return this._layerManager.uiLayer}},{key:"uiExtraBox",get:function(){return this._layerManager.uiExtraBox}},{key:"overlayContainer",get:function(){return this._layerManager.overlayContainer}},{key:"innerOverlayContainer",get:function(){return this._layerManager.innerOverlayContainer}},{key:"plugins",get:function(){return this._plugins}},{key:"isMaxView",get:function(){return this._layerManager.isMaxView}},{key:"sendMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.emit.apply(this,["message"].concat(t))}},{key:"onMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.on.apply(this,["message"].concat(t))}},{key:"setDocument",value:function(){var e;(e=this._engine).setDocument.apply(e,arguments)}},{key:"canGetDocument",value:function(){var e=!0;return this._plugins.forEach((function(t){t.sync()||(e=!1)})),this._engine.canGetDocument()||(e=!1),e}},{key:"getDocument",value:function(e,t){return this._engine.getDocument(e,t)}},{key:"_enterMaxView",value:function(e,t,n,r){var o={sidebar:!0,toolbar:!0};t&&(t.concise?(o.sidebar=!1,o.toolbar=!1):(!1===t.sidebar?o.sidebar=!1:o.sidebar=!0,!1===t.toolbar?o.toolbar=!1:o.toolbar=!0)),this._layerManager.enterMaxView(e,o,n,r)&&(this._iEditor.emit("enterMaxView",WN({},o)),this.emit("enterMaxView",WN({},o)))}},{key:"_exitMaxView",value:function(){this._layerManager.exitMaxView()&&(this._iEditor.emit("leaveMaxView"),this.emit("leaveMaxView"))}}],[{key:"registerKernelPlugin",value:function(e){PN.registerKernelPlugin(e)}},{key:"registerRenderPlugin",value:function(e){PN.registerRenderPlugin(e)}},{key:"registerEditorPlugin",value:function(e){Array.from(e).forEach((function(e){if(!e.PluginName)throw new Error("missing PluginName");i.Plugins[e.PluginName]=e}))}}]),i}();m()(ZN,"Plugins",{});var KN=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"option",null),m()(l()(c),"iEditor",null),m()(l()(c),"iKernel",null),m()(l()(c),"iRenderer",null),m()(l()(c),"kernel",null),m()(l()(c),"_cardNodes",[]),c.option=e,c.iEditor=t,c.iRenderer=n,c.iKernel=t.iKernel,c.kernel=a,c}return a()(i,[{key:"cardNodes",get:function(){return this._cardNodes}},{key:"init",value:function(e,t,n){}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"sync",value:function(){return!0}},{key:"afterInit",value:function(){}}]),i}();function $N(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];br("function"==typeof t.on,"F:bind-event-for-react-component;L:12"),br("function"==typeof t.off,"F:bind-event-for-react-component;L:13");var c=e.componentWillUnmount;e.componentWillUnmount=function(){if(c){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];c.call.apply(c,[e].concat(a))}t.off.apply(t,[n,r].concat(i))},t.on.apply(t,[n,r].concat(i))}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GN=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{}),t._props=e.props,t._ref=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.props.cardData;t&&(this._syncClassName(),$N(this,t,"change",(function(){e._syncClassName(),e.forceUpdate()})))}},{key:"getRef",value:function(){return this._ref.current}},{key:"update",value:function(e){this._props=YN(YN({},this._props),e),this.forceUpdate()}},{key:"render",value:function(){var e=this.props.component;return"function"==typeof e?Re.a.createElement(e,Ee()({},this._props,{ref:this._ref})):Re.a.createElement(e.type,Ee()({},this._props,{ref:this._ref}),e.props.children)}},{key:"_syncClassName",value:function(){var e=this.props.cardContainerNode;if(e){var t=this.props.props.cardData.cardAlias;t?e.setAttribute("data-alias",t):e.removeAttribute("data-alias")}}}]),i}();m()(GN,"propTypes",{props:De.a.object.isRequired,cardContainerNode:De.a.object,component:De.a.any.isRequired});var XN=function(){function e(){o()(this,e)}return a()(e,null,[{key:"render",value:function(e,t,n,r){var o=null;return r&&br(r.classList.contains("ne-card-container"),"F:card-data-view-helper;L:15"),be.a.render(Re.a.createElement(GN,{props:t,cardContainerNode:r,component:e,ref:function(e){o=e}}),n),{getReactRef:function(){return o.getRef()},rerender:function(e){o&&o.update(e)},destroy:function(){be.a.unmountComponentAtNode(n)}}}},{key:"unmount",value:function(e){be.a.unmountComponentAtNode(e)}}]),e}();function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QN(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}FN("ne-overlay-tmp {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n}\n");var tE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"openOnlyByType",value:function(e,t){var n=t.overlayClassName,r=t.containerNode,o=t.targetNode,i=t.reactComponent,a=t.closeCallback,c=t.autoClose;this._overlaysTypeMap[e]&&(this._overlaysTypeMap[e].cancel(),delete this._overlaysTypeMap[e]);var l=this.open({overlayClassName:n,containerNode:r,targetNode:o,reactComponent:i,closeCallback:a,autoClose:c});return this._overlaysTypeMap[e]=l,l}},{key:"open",value:function(e){var t=e.overlayClassName,n=e.containerNode,r=e.targetNode,o=e.reactComponent,i=e.closeCallback,a=e.autoClose,c=void 0===a||a;if(!r.isConnected)return null;var l,s=function(e,t){var n=document.createElement("ne-overlay-tmp");return n.contentEditable="false",n.setAttribute("data-event-boundary","overlay"),t&&(n.className=t),e.prepend(n),n}(n,t),u={focused:!1,hovered:!1},d=function(){u.hovered=!0},f=function(){u.hovered=!1,c&&("function"!=typeof c||c())&&u.lazyCancel()};return u.isConnected=function(){return s.isConnected},u.cancel=function(){u.removed||(be.a.unmountComponentAtNode(s),s.remove(),r.removeEventListener("mouseenter",d),r.removeEventListener("mouseleave",f),i&&i.apply(void 0,arguments),u.removed=!0)},u.lazyCancel=function(){l&&clearTimeout(l),l=setTimeout((function(){u.hovered||u.focused||u.cancel()}),300)},u.rerender=function(e){be.a.render(Re.a.createElement(o.type,Ee()({},eE(eE({},o.props),e),{ref:o.ref,targetNode:r,onClose:u.cancel})),s)},u.rerender({}),s.firstChild.addEventListener("mouseleave",f),s.firstChild.addEventListener("mouseenter",d),s.firstChild.addEventListener("focusin",(function(){u.focused=!0})),s.firstChild.addEventListener("focusout",(function(){u.focused=!1,c&&("function"!=typeof c||c())&&u.lazyCancel()})),r.addEventListener("mouseenter",d),r.addEventListener("mouseleave",f),u}}]),e}();function nE(e,t,n){return e?("string"==typeof e&&(e=[e]),e=e.map((function(e,t){return e?Re.a.createElement("div",{key:t},e):null})),window.h5?t:Re.a.createElement(Be.a,Ee()({overlayClassName:"ne-ui-tooltip",title:Re.a.createElement("div",{className:"ne-ui-tooltip-content"},e),trigger:["hover","click"],placement:"bottom"},n),t)):t}m()(tE,"_overlaysTypeMap",{}),FN(".ne-ui-tooltip {\n  pointer-events: none;\n}\n.ne-ui-tooltip-content {\n  max-width: 100px;\n  text-align: center;\n}\n");var rE={attachment:n(3227),check:n(3228),close:n(3229),copy:n(3126),cut:n(3230),paste:n(3231),"arrow-up":n(3232),"arrow-left":n(3233),"arrow-right":n(3234),"arrow-down":n(3235),"select-arrow":n(3236),"up-outlined":n(3237),"left-outlined":n(3238),"right-outlined":n(3239),"down-outlined":n(3240),delete:n(3158),clear:n(3241),plus:n(3242),lock:n(3243),unlock:n(3244),"litter-unlock-outlined":n(3245),"lock-outlined":n(3246),"unlock-outlined":n(3247),"clock-circle":n(3248),question:n(3249),"upload-error":n(3250),exclamation:n(3251),preferences:n(3252),search:n(3253),loading:n(3254),preview:n(3255),eye:n(3256),"eye-outlined":n(3257),rmb:n(3258),"warning-outlined":n(3259),expand:n(3260),"t-insert-card":n(3261),"t-subscript":n(3262),"t-superscript":n(3263),"t-code":n(3264),"t-delete-row":n(3265),"t-delete-column":n(3266),"t-clear-format":n(3267),"t-format-painter":n(3268),"t-extensions":n(3269),"t-indent":n(3270),"t-outdent":n(3271),"t-bold":n(3272),"t-strikethrough":n(3273),"t-italic":n(3274),"t-underline":n(3275),"t-alignment-left":n(3276),"t-alignment-right":n(3277),"t-alignment-center":n(3278),"t-alignment-justify":n(3279),"t-order-list":n(3280),"t-unorder-list":n(3281),"t-task-list":n(3282),"t-link":n(3283),"t-quote":n(3284),"t-hr":n(3285),"t-searchreplace":n(3286),"t-translate":n(3287),"t-toc":n(3288),"t-material-library":n(3289),"t-table-cell-merge":n(3290),"t-heading1":n(3291),"t-heading2":n(3292),"t-heading3":n(3293),"t-heading4":n(3294),"t-fullscreen":n(3295),"t-exit-fullscreen":n(3296),"t-border-visible":n(3297),"t-vertical-align":n(3298),"t-bottom-align":n(3299),"t-top-align":n(3300),"t-moremark":n(3301),"t-image-style":n(3302),"t-image-rotation":n(3303),"t-image-title":n(3304),"t-image-crop":n(3305),"t-image-reset":n(3306),"t-image-cancel":n(3307),"t-image-confirm":n(3308),"o-visit-link":n(3309),"o-edit":n(3310),"o-unlink":n(3311),"o-card-drag":n(3312),"c-tb-copy":n(3126),"c-tb-delete":n(3158),"c-tb-copy-link":n(3313),"c-tb-spacing":n(3314),"c-tb-maximize":n(3315),"c-tb-width-mode-unfold":n(3316),"c-tb-width-mode-fold":n(3317),"card-tb-bookmark":n(3318),"card-tb-card-view":n(3319),"card-tb-copy":n(3126),"card-tb-embed-view":n(3159),"card-tb-embed-preview":n(3159),"card-tb-preview":n(3320),"card-tb-download":n(3321),"card-tb-more":n(3322),"card-tb-setting":n(3323),"card-tb-save-to-resource":n(3324),"card-tb-title-view":n(3325),"card-tb-share":n(3326),"card-tb-embed-adaptive":n(3327),"card-tb-embed-default":n(3328),"card-board":n(3329),"card-blank-board":n(3330),"card-basic-draw":n(3331),"card-audio":n(3332),"card-audio-a":n(3333),"card-image":n(3334),"card-calendar":n(3335),"card-bilibili":n(3336),"card-bilibili-a":n(3337),"card-yida":n(3338),"card-yida-a":n(3339),"card-canva":n(3340),"card-canva-a":n(3341),"card-codeblock":n(3342),"card-codeblock-more":n(3343),"card-codepen":n(3344),"card-codepen-a":n(3345),"card-figma":n(3346),"card-figma-a":n(3347),"card-file":n(3348),"card-amap":n(3349),"card-amap-a":n(3350),"card-jinshuju":n(3351),"card-jinshuju-a":n(3352),"card-mindmap":n(3353),"card-flowchart":n(3354),"card-label":n(3355),"card-locked-text":n(3356),"card-math":n(3357),"card-modao":n(3358),"card-modao-a":n(3359),"card-processon":n(3360),"card-processon-a":n(3361),"card-table":n(3362),"card-taobao":n(3363),"card-taobao-a":n(3364),"card-text-diagram":n(3365),"card-vote":n(3366),"card-xiami":n(3367),"card-music163":n(3368),"card-music163-a":n(3369),"card-youku":n(3370),"card-youku-a":n(3371),"card-ali":n(3372),"card-ali-a":n(3373),"card-premium":n(3374),"card-thirdparty":n(3375),"card-thirdparty-unavailable":n(3376),"card-local-doc":n(3377),"card-local-doc-pdf":n(3378),"card-local-doc-pdf-a":n(3379),"card-local-doc-design":n(3380),"card-local-doc-design-a":n(3381),"card-local-doc-video":n(3382),"card-local-doc-audio":n(3383),"card-local-doc-mindmap":n(3384),"card-local-doc-mindmap-a":n(3385),"card-local-doc-ms-office":n(3386),"card-local-doc-ms-office-a":n(3387),"card-local-doc-mac-office":n(3388),"card-local-doc-mac-office-a":n(3389),"card-local-doc-plus":n(3390),"card-arrow":n(3391),"card-audio-play":n(3392),"ext-csv":n(3393),"ext-doc":n(3394),"ext-docx":n(3395),"ext-eddx":n(3396),"ext-eps":n(3397),"ext-key":n(3398),"ext-keynote":n(3399),"ext-mindnode":n(3400),"ext-mmad":n(3401),"ext-numbers":n(3402),"ext-pages":n(3403),"ext-pdf":n(3404),"ext-ppt":n(3405),"ext-pptx":n(3406),"ext-psd":n(3407),"ext-rp":n(3408),"ext-sketch":n(3409),"ext-xd":n(3410),"ext-xls":n(3411),"ext-xlsx":n(3412),"ext-xmind":n(3413),"card-yuque":n(3414),"card-yuque-main":n(3415),"yuque-design":n(3416),"yuque-doc":n(3417),"yuque-mind":n(3418),"yuque-sheet":n(3419),"yuque-thread":n(3420),"yuque-repo-design":n(3421),"yuque-repo-doc":n(3422),"yuque-repo-thread":n(3423),"card-video":n(3424),"card-video-a":n(3425),"card-video-normal":n(3426),"card-video-warn":n(3427),"repo-resource":n(3428),"file-cloud":n(3429),"file-ai":n(3430),"file-audio":n(3431),"file-axure":n(3432),"file-default":n(3433),"file-doc":n(3434),"file-excel":n(3435),"file-folder":n(3436),"file-graffle":n(3437),"file-image":n(3438),"file-keynote":n(3439),"file-mindmap":n(3440),"file-mindnode":n(3441),"file-numbers":n(3442),"file-pdf":n(3443),"file-ppt":n(3444),"file-psd":n(3445),"file-rar":n(3446),"file-sheet":n(3447),"file-sketch":n(3448),"file-txt":n(3449),"file-video":n(3450),"file-word":n(3451),"file-xmind":n(3452),"doc-type-default":n(3453),"doc-type-sheet":n(3454),"note-image":n(3455),"note-checkbox":n(3456),"note-bookmark":n(3457),"note-file":n(3458),"note-tag":n(3459),"o-desktop-open":n(3460)};FN("@keyframes neIconLoading {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\ndiv.ne-icon {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 1em;\n  height: 1em;\n  font-size: 16px;\n  background-position: center;\n  background-repeat: no-repeat;\n}\ndiv.ne-icon .ne-icon-symbol {\n  width: 1em;\n  height: 1em;\n  fill: currentColor;\n  overflow: hidden;\n}\ndiv.ne-icon-loading {\n  animation: neIconLoading 1000ms linear infinite;\n}\n"),FN(".ne-svg-icon {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  vertical-align: -0.15em;\n  text-align: center;\n  text-transform: none;\n  line-height: 1;\n  text-rendering: auto;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.ne-svg-icon-helper-tips {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/45ba264b-0967-4439-9289-ee41b040a0c2.svg');\n}\n.ne-svg-icon-alert {\n  width: 16px;\n  height: 16px;\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/be5b1e2a-b47e-479c-9217-430229bef84e.svg');\n}\n.ne-svg-icon-file {\n  width: 14px;\n  height: 11px;\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/ecda03cc-fd8e-45d2-834c-c904048f9583.svg');\n}\n.ne-svg-icon-image {\n  width: 14px;\n  height: 11px;\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/44718df0-a6d9-4b93-909d-8482f70476ab.svg');\n}\n.ne-svg-icon-error-image {\n  width: 22px;\n  height: 18px;\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/2295f9e0-1cb2-4d63-86aa-e9799273b28d.svg');\n}\n.ne-svg-icon-error-file {\n  width: 22px;\n  height: 18px;\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/42090c56-d17b-4cf0-be63-59e164e47ba6.svg');\n}\n.ne-svg-icon-insert {\n  background-image: url(\"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*o_5bR4s5I4QAAAAAAAAAAABjAQAAAQ/original\");\n  width: 18px;\n  height: 18px;\n  margin-bottom: -1px;\n}\n.ne-svg-icon-label {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/20747dac-1cc8-49f6-a91a-0c8c501d189b.svg');\n}\n.ne-svg-icon-new-card {\n  width: 30px;\n  height: 12px;\n  margin-top: 5px;\n  margin-left: 4px;\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/7e255d95-cbe3-4559-a4a3-dbe69cd3e38b.svg');\n}\n.ne-svg-icon-puml {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/4d2be8de-b7b7-41df-a36f-77ff0b6a5b9f.svg');\n}\n.ne-svg-icon-flowchart {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/c82343e1-60ab-4b62-8135-d71401191104.svg');\n}\n.ne-svg-icon-graphviz {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/19178ae8-0b12-463e-b466-e927094e9ea0.svg');\n}\n.ne-svg-icon-mermaid {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/a15d98ca-089f-4cc2-9c11-032cc56fcacb.svg');\n}\n.ne-svg-icon-processon {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/5c0fa950-66ff-4a3b-a788-477ea178e6bb.svg');\n}\n.ne-svg-icon-modao {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/04162a86-307b-409e-8f8c-71f2200891f5.svg');\n}\n.ne-svg-icon-herbox {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/f6d5ceab-a3e0-413f-a1ab-3c9ded96d632.svg');\n}\n.ne-svg-icon-deepinsight {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/69f6859c-220e-490c-8c8a-b3bdaa7cbcb3.svg');\n}\n.ne-svg-icon-ali {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/25837bdf-8082-430b-a8ac-4168cd84e093.svg');\n}\n.ne-svg-icon-codepen {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/29539843-153d-4c7b-af8f-4475e743398b.svg');\n}\n.ne-svg-icon-riddle {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/f0328014-fe24-4690-90a4-82c8e150c5bf.svg');\n}\n.ne-svg-icon-figma {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/d0b58b9f-0ac3-4d0f-958a-c0aa8a3265eb.svg');\n}\n.ne-svg-icon-xiami {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/c71358bb-d7cc-45dc-96ae-19d28febbb03.svg');\n}\n.ne-svg-icon-music163 {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/e3416ec0-a688-4160-8772-9bbecad88d28.svg');\n}\n.ne-svg-icon-gaode {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/02def0ac-858f-4f90-886c-295290725024.svg');\n}\n.ne-svg-icon-taobao {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/57a7cb99-7f36-4869-8f94-d9c87d069cd6.svg');\n}\n.ne-svg-icon-preview {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/95b6cdec-29f5-495f-8f1b-8835bcd2c541.svg');\n}\n.ne-svg-icon-youku {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/4825b4b8-96a3-463f-8e6a-c28ae8b792b0.svg');\n}\n.ne-svg-icon-bilibili {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/93d6bda1-2ab6-4b20-97e5-c0a73f2a42cd.svg');\n}\n.ne-svg-icon-mmad {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/5e8132a4-5ec0-4c4e-95c4-7f5b19f23c19.svg');\n}\n.ne-svg-icon-psd {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/df8dd01c-ecb1-4d33-99f6-8079591bb46c.svg');\n}\n.ne-svg-icon-sketch {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/ef845454-388c-47b3-8066-298e335a2741.svg');\n}\n.ne-svg-icon-xmind {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/46f6c8fc-5d56-41d7-b419-a89335f82dfc.svg');\n}\n.ne-svg-icon-rp {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/f8f40533-79d9-4a3c-8051-31c34390f96d.svg');\n}\n.ne-svg-icon-key {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/73dc752c-3f7b-4b0b-ada9-eb7e208d9b34.svg');\n}\n.ne-svg-icon-mindnode {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/3fbedc10-029c-4670-a343-8b224ab0978e.svg');\n}\n.ne-svg-icon-keynote {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/73dc752c-3f7b-4b0b-ada9-eb7e208d9b34.svg');\n}\n.ne-svg-icon-xd {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/139561c7-309c-4669-882b-1107e217179c.svg');\n}\n.ne-svg-icon-numbers {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/1eecfe2b-d250-4575-b3b4-78de3503007c.svg');\n}\n.ne-svg-icon-pages {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/60e30d6d-9ee0-47b7-8955-cdd4aff6b2ac.svg');\n}\n.ne-svg-icon-ppt,\n.ne-svg-icon-pptx,\n.ne-svg-icon-potx {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/d62af37c-9f13-4ca2-8861-f2b18c98f3a9.svg');\n}\n.ne-svg-icon-xls {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/1874c8cc-a103-429b-8465-bb3adfe78d43.svg');\n}\n.ne-svg-icon-xlsx {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/1874c8cc-a103-429b-8465-bb3adfe78d43.svg');\n}\n.ne-svg-icon-doc {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/d98a673f-ef0f-46a6-83e3-ba6d01a4ec9d.svg');\n}\n.ne-svg-icon-docx {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/d98a673f-ef0f-46a6-83e3-ba6d01a4ec9d.svg');\n}\n.ne-svg-icon-pdf {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/02e0700b-d617-4afb-b4de-a4ea4c9bf7e7.svg');\n}\n.ne-svg-icon-eddx {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/e1c51c39-f5b6-4e14-9ba9-0102d3579b9a.svg');\n}\n.ne-svg-icon-eps {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/84b8024a-c65c-44e3-9be8-269af985af54.svg');\n}\n.ne-svg-icon-insert-local-doc {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/f54a24bd-f973-4945-978c-abb923e20090.svg');\n}\n.ne-svg-icon-insert-yuque {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/99e327dd-1cfe-40dd-b3e5-28c9d88d182d.svg');\n}\n.ne-svg-icon-insert-table {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/a9cf6f64-3741-493b-a112-8952baedd1f6.svg');\n}\n.ne-svg-icon-insert-image {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/dcf2220d-9226-41c9-b1f6-cc0c0a110dc1.svg');\n}\n.ne-svg-icon-insert-file {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/2c7fe359-ac3d-493e-998d-f285305d28bd.svg');\n}\n.ne-svg-icon-insert-video {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/1ef56c12-3adc-42c6-bb7c-9cb13111d8e2.svg');\n}\n.ne-svg-icon-insert-thirdparty {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/e3ebe9af-b207-4d94-8dc4-2fdf5469f5e7.svg');\n}\n.ne-svg-icon-insert-youku {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/4825b4b8-96a3-463f-8e6a-c28ae8b792b0.svg');\n}\n.ne-svg-icon-insert-codeblock {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/7fd18334-db2e-49d0-ba80-b92689b81b3f.svg');\n}\n.ne-svg-icon-insert-math {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/762f00b4-45d7-47b8-8c7b-2c9f886612b5.svg');\n}\n.ne-svg-icon-insert-mindmap {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/f6510a5f-33d9-4bcb-8b54-5dc30bd89e79.svg');\n}\n.ne-svg-icon-insert-puml {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/10a9cc50-3a01-4a5c-8335-9a194fdcb614.svg');\n}\n.ne-svg-icon-insert-flowchart {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/0e0309c1-2b5c-433c-b9d7-e0d2486ce885.svg');\n}\n.ne-svg-icon-insert-graphviz {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/44e449b2-9756-4de6-b227-bf4205964d20.svg');\n}\n.ne-svg-icon-insert-mermaid {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/59cb287f-06f2-4712-a206-e1c4d173830b.svg');\n}\n.ne-svg-icon-insert-lockedtext {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/bc8adb5a-18d2-4385-8ca4-710b57ad1664.svg');\n}\n.ne-svg-icon-insert-calendar {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/2dd842ba-ea59-4cd1-994e-c5f31bd1ead2.svg');\n}\n.ne-svg-icon-check-success {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/4c17d1ec-bd3f-4b86-a77b-dfd91e9c9626.svg');\n}\n.ne-svg-icon-calendar-arrow-left {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/2f3e5fca-16d2-48b3-a5d2-fff2328df92c.svg');\n}\n.ne-svg-icon-calendar-arrow-right {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/a03bff1a-3aef-4871-bc74-de2a3f81e3ff.svg');\n}\n.ne-svg-icon-desc {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/a085f457-6982-434a-808d-372cac6624e7.svg');\n}\n.ne-svg-icon-error {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/8f8fcc17-b080-421e-b733-7772d62be204.svg');\n}\n.ne-svg-icon-warning {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/d1b4c5f6-8dcd-4d10-ab31-265abdbb9579.svg');\n}\n.ne-svg-insert-yuan {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/b1c64e6e-3787-408c-bc49-dd0f9d9b2ebc.svg');\n}\n.ne-svg-icon-yuan {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/6145eac0-5d9d-4b9b-84be-7ed8bfde32c7.svg');\n}\n.ne-svg-icon-line-height {\n  background-image: url('https://gw.alipayobjects.com/zos/basement_prod/40d4fb04-d3c2-43e8-a99d-7f68345f7f0a.svg');\n}\n.ne-svg-icon-yuque-group {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/a69b963b-47e0-445d-8851-1eee4e853c95.svg');\n  background-size: 110%;\n}\n.ne-svg-icon-yuque-doc {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/11d695b4-30c1-478f-940a-e20095ccb2fe.svg');\n}\n.ne-svg-icon-yuque-thread {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/1f4ca629-5760-465a-9207-7a7f49d01ca6.svg');\n}\n.ne-svg-icon-yuque-design {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/f0eded1a-a849-44f6-a5e2-3d8f5724ebef.svg');\n}\n.ne-svg-icon-yuque-sheet {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/34c09a2c-3c80-44c8-a49a-20fa92774b34.svg');\n}\n.ne-svg-icon-yuque-table {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/0d0a1799-c870-4f66-8164-3b6a788e0f89.svg');\n}\n.ne-svg-icon-yuque-mind {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/b74e7bab-1935-48ae-80f8-82ea648697e5.svg');\n}\n.ne-svg-icon-yuque-board {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/d62043aa-bdc3-4d0c-b68c-a771108516a3.svg');\n}\n.ne-svg-icon-yuque-show {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/de70d404-fec2-4606-aa45-eb4d6560a1cc.svg');\n}\n.ne-svg-icon-yuque-repo-mind {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/b74e7bab-1935-48ae-80f8-82ea648697e5.svg');\n}\n.ne-svg-icon-yuque-repo-sheet {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/3be374af-05cc-4115-a9ac-477131b54212.svg');\n}\n.ne-svg-icon-yuque-repo-doc {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/2a1ba540-5d0d-46a2-98fb-6753300d3749.svg');\n}\n.ne-svg-icon-yuque-repo-thread {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/3f6aa5c3-e7b1-4d78-932e-b00379e8d38c.svg');\n}\n.ne-svg-icon-yuque-repo-design {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/48e3d64b-aec0-4f3f-9838-d1f685781dfd.svg');\n}\n.ne-svg-icon-search {\n  background-image: url('https://gw.alipayobjects.com/zos/bmw-prod/086f31be-d7f0-4675-aa2c-8c8cf21c088b.svg');\n}\n.ne-svg-icon-plus {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/fa994e91-3fa4-421d-b0fc-9823dc5cf330.svg\");\n}\n.ne-svg-icon-video {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/31499aa4-1105-4a4b-a8c7-f33ceaf8e012.svg\");\n}\n.ne-svg-icon-canva {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/c1678a81-2534-4fdd-b38b-a510d69a6661.svg\");\n}\n.ne-svg-icon-yuque-for-embed {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/5dfd3248-3206-41dc-bc2c-1d7fb9847ecb.svg\");\n}\n.ne-svg-icon-file-for-embed {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/6ac1386e-5c04-45a5-a351-7d94a61d7bba.svg\");\n}\n.ne-svg-icon-jinshuju {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/3f11de9a-3da8-402d-a8bc-81df6ec52d2c.svg\");\n}\n.ne-svg-icon-vote {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/929ed4d4-a244-4d78-96e2-f472642daf2a.svg\");\n}\n.ne-svg-icon-cloud {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/58c42f2b-cdf1-49c3-a77a-d5e63c561a36.svg\");\n}\n.ne-svg-icon-folder {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/9890c046-6d10-4d2f-917a-b40a8e92ea7f.svg\");\n}\n.ne-svg-icon-audio {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/4aa43d0f-2881-46ab-a894-afd617b08afc.svg\");\n}\n.ne-svg-icon-audio-icon {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/b9d51288-551f-447e-930f-7e1132a4a90b.svg\");\n}\n.ne-svg-icon-audio-error-icon {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/dc01c10b-e433-4bb3-bf7e-8b679725b823.svg\");\n}\n.ne-svg-icon-regret {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/9436ba3b-352d-4dd2-a97b-b3c525390508.svg\");\n}\n.ne-svg-icon-note-file {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/a8cab1ab-68dd-48be-82ab-c667e0c43556.svg\");\n}\n.ne-svg-icon-note-image {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/6efcc064-f6e7-4823-983e-a09d449fcf55.svg\");\n}\n.ne-svg-icon-note-tasklist {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/32d03522-996b-4c48-bd08-274a2ed15204.svg\");\n}\n.ne-svg-icon-note-link {\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/a232cebb-7862-420f-a220-31eff086e997.svg\");\n}\n.ne-svg-icon-emoji {\n  width: 16px;\n  height: 16px;\n  margin-bottom: 1px;\n  background-size: contain;\n  background-image: url(\"https://gw.alipayobjects.com/zos/bmw-prod/72fc758e-01ca-4317-b9c9-1d25e9b3a577.svg\");\n}\n");var oE=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.iconfont;return t?t.startsWith("iconfont-")?this._renderIconFont(t.substring(9)):this._renderSVGSymbol():this._renderIconFont(n)}},{key:"_renderSVGSymbol",value:function(){var e=this.props,t=e.size,n=e.type,r=nw(this.props.className,"ne-icon","ne-icon-".concat(n)),o={};t&&(o.fontSize=t+"px");var i="none",a=rE[n];return a&&(i=a.default&&a.default.id||a.generateSymbol()),Re.a.createElement("div",{className:r,style:o,"data-name":n},Re.a.createElement("svg",{className:"ne-icon-symbol","aria-hidden":!0},Re.a.createElement("use",{xlinkHref:"#".concat(i)})))}},{key:"_renderIconFont",value:function(e){var t=this.props.size,n=nw(this.props.className,"ne-icon","ne-iconfont"),r={};return t&&(r.fontSize=t+"px"),Re.a.createElement("div",{className:n,"data-name":e,style:r},Re.a.createElement("span",{className:"lake-icon lake-icon-".concat(e),style:r}))}}]),i}();function iE(e){return e.nodeType===Node.ELEMENT_NODE?e.getBoundingClientRect().height:(br(e.nodeType===Node.TEXT_NODE,"F:get-node-height;L:8"),e.parentNode.getBoundingClientRect().height)}function aE(e,t){return"ne-hole"===e.parentNode.nodeName.toLowerCase()?t:uR(e)+t}m()(oE,"propTypes",{className:De.a.string,type:De.a.string,iconfont:De.a.string,size:De.a.number}),FN("ne-drag-cursor {\n  position: absolute;\n  top: -999999px;\n  left: -999999px;\n  width: 2px;\n  height: 0;\n  background-color: #16914f;\n  pointer-events: none;\n  z-index: 999;\n}\n.ne-card-drag-image {\n  position: fixed;\n  top: -999999999px;\n  left: -9999999999px;\n  background-color: #f9f9f9;\n}\n.ne-card-drag-image-placeholder {\n  background-color: #f9f9f9;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);\n}\n");var cE=function(){function e(t,n,r,i){o()(this,e),m()(this,"boundaryDOMNode",null),m()(this,"cardRootNode",null),m()(this,"overlayNode",null),m()(this,"triggerDomNode",null),m()(this,"dragImageNode",null),m()(this,"_cursor",null),m()(this,"_lastRect",null),m()(this,"_placeholderImage","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="),this.boundaryDOMNode=t,this.overlayNode=n,this.cardRootNode=r,this.triggerDomNode=i}return a()(e,[{key:"run",value:function(e,t){var n=this;e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move";var r=this.cardRootNode.getBoundingClientRect(),o=document.createElement(Fe.ua.firefox?"div":"img");o.className=Fe.ua.firefox?"ne-card-drag-image":"ne-card-drag-image-placeholder","IMG"===o.nodeName&&(o.src=this._placeholderImage),o.style.width=r.width+"px",o.style.height=r.height+"px",this.dragImageNode=o,document.body.appendChild(o),e.dataTransfer.setDragImage(o,0,0);var i=this.overlayNode.querySelectorAll(".ne-card-toolbar");this._hideToolbars(i),wR(this,this.boundaryDOMNode,"dragover",(function(e){e.preventDefault(),n._handleMove(e)}),!1),wR(this,this.boundaryDOMNode,"dragenter",(function(e){e.preventDefault(),n._handleMove(e)}),!1),wR(this,this.boundaryDOMNode,"dragleave",(function(){n._clearCursor()}),!1),wR(this,this.boundaryDOMNode,"dragend",(function(){e.preventDefault(),n._restoreToolbars(),n.destroy()}),!1),wR(this,this.boundaryDOMNode,"drop",(function(e){e.preventDefault();var r=n._lastRect;n._restoreToolbars(i),n.destroy(),r&&t({node:r.node,offset:r.offset})}),!1)}},{key:"_handleMove",value:function(e){var t=e.clientX,n=function(e,t){if(document.caretPositionFromPoint){var n=document.caretPositionFromPoint(e,t);return n?{node:n.offsetNode,offset:n.offset}:null}if(document.caretRangeFromPoint){var r=document.caretRangeFromPoint(e,t);return r?{node:r.startContainer,offset:r.startOffset}:null}return null}(t,e.clientY);if(n){var r=this._getRect(t,n);r?this._resetCursor(r):this._clearCursor()}}},{key:"_hideToolbars",value:function(e){if(e)for(var t=0,n=e.length;t<n;t++)e[t].style.display="none"}},{key:"_restoreToolbars",value:function(e){if(e)for(var t=0,n=e.length;t<n;t++)e[t].style.display=""}},{key:"_resetCursor",value:function(e){if(this._cursor||(this._cursor=document.createElement("ne-drag-cursor"),this.boundaryDOMNode.appendChild(this._cursor)),!this._lastRect||this._lastRect.x!==e.x||this._lastRect.y!==e.y){var t=this.boundaryDOMNode.getBoundingClientRect(),n=e.x-t.x,r=e.y-t.y;this._lastRect=e,this._cursor.style.cssText="top: ".concat(r,"px; left: ").concat(n,"px; height: ").concat(e.height,"px")}}},{key:"_clearCursor",value:function(){this._cursor&&(this._cursor.remove(),this._lastRect=null,this._cursor=null)}},{key:"destroy",value:function(){this.dragImageNode&&(this.dragImageNode.remove(),this.dragImageNode=null),this._clearCursor(),this.boundaryDOMNode=null,this.cardRootNode=null,this.overlayNode=null,this.triggerDomNode=null,this._cursor=null,this._lastRect=null}},{key:"_getRect",value:function(e,t){var n,r=t.node,o=t.offset,i=kd(r,"ne-card",this.boundaryDOMNode);if(i&&i===this.cardRootNode)return null;if(r.classList&&r.classList.contains("ne-b-filler"))n=r.getBoundingClientRect();else{var a=document.createRange();a.setStart(r,o),a.collapse(!0),n=a.getBoundingClientRect()}if(i){var c=i.getBoundingClientRect();return e>c.left+c.width/2?{x:c.right+1,y:c.top,height:c.height,node:i.parentNode,offset:aE(i,1)}:{x:c.left-2-1,y:c.top,height:c.height,node:i.parentNode,offset:aE(i,0)}}return 0===n.left&&0===n.top?null:{x:n.left-2-1,y:n.top,height:n.height||iE(r),node:r,offset:o}}}]),e}(),lE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"run",value:function(e,t,n,r,o,i){new cE(e,t,n,r).run(o,i)}}]),e}();function sE(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];br("function"==typeof t.addEventListener,"F:bind-dom-event-for-react-component;L:12"),br("function"==typeof t.removeEventListener,"F:bind-dom-event-for-react-component;L:13");var c=e.componentWillUnmount;e.componentWillUnmount=function(){if(c){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];c.call.apply(c,[e].concat(a))}t.removeEventListener.apply(t,[n,r].concat(i))},t.addEventListener.apply(t,[n,r].concat(i))}function uE(e){var t=window.innerWidth,n=window.innerHeight;if(e===window||e===document||e===document.documentElement||e===document.body)return{top:0,left:0,right:t,bottom:n,width:t,height:n};var r=e.getBoundingClientRect();if(r.left>t||r.top>n||r.left<0||r.top<0)return{top:r.top,left:r.left,right:r.right,bottom:r.bottom,width:r.width,height:r.height};var o=Math.min(t-r.left,r.width),i=Math.min(n-r.top,r.height);return{top:r.top,left:r.left,bottom:r.top+i,right:r.left+o,width:o,height:i}}function dE(e,t,n,r,o,i,a){var c=(t.width-o)/2,l=(t.height-i)/2;switch(e){case"top":return{left:fE(t.left+c-n.left,o,r.width),bottom:n.bottom-(t.top-a)};case"bottom":return{left:fE(t.left+c-n.left,o,r.width),top:t.bottom+a-n.top};case"left":return{right:n.right-(t.left-a),top:t.top+l-n.top};case"right":return{left:t.right+a-n.left,top:t.top+l-n.top};case"topLeft":return{left:t.left-n.left,bottom:n.bottom-(t.top-a)};case"leftTop":return{right:n.right-(t.left-a),top:t.top-n.top};case"topRight":return{left:t.right-o-n.left,bottom:n.bottom-(t.top-a)};case"rightTop":return{left:t.right+a-n.left,top:t.top-n.top};case"bottomLeft":return{left:t.left-n.left,top:t.bottom+a-n.top};case"leftBottom":return{right:n.right-(t.left-a),bottom:n.bottom-t.bottom};case"bottomRight":return{left:t.right-o-n.left,top:t.bottom+a-n.top};case"rightBottom":return{left:t.right+a-n.left,top:t.bottom-i-n.top};default:br(!1,"F:calc-position-by-node;L:123")}}function fE(e,t,n){return e<0?0:e+t>n?Math.max(0,n-t):e}FN(".ne-ui-boundary-popover {\n  display: none;\n  position: absolute;\n  top: -999999999px;\n  left: -999999999px;\n}\n");var hE=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_wrapNodeRef",null),m()(l()(t),"_handleMouseDown",(function(e){if(!t._ignore(e)){var n=t._wrapNodeRef.current;n&&(n.contains(e.target)||t.props.onClose())}})),t._wrapNodeRef=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this;this.props.allowClose&&sE(this,document,"mousedown",this._handleMouseDown,!0),this.props.uiEmitter&&$N(this,this.props.uiEmitter,"closePopover",(function(){e.props.onClose(),e.props.onCancel()})),this.props.visible&&this._show()}},{key:"componentDidUpdate",value:function(e){this.props.visible!==e.visible&&(this.props.visible?this._show():this._hide())}},{key:"render",value:function(){return Re.a.createElement("div",{ref:this._wrapNodeRef,className:nw("ne-ui-boundary-popover",this.props.className)},this.props.children)}},{key:"updatePos",value:function(){var e=this._wrapNodeRef.current;if(e&&e.firstChild){e.style.top="-999999px",e.style.left="-999999px",e.style.display="block";var t,n=this.props,r=n.placement,o=n.offset,i=n.boundaryNode,a=n.targetNode,c=n.point,l=n.options,s=this._getOverlaySize(e),u=s.width,d=s.height;if(t=c?function(e,t,n,r,o,i){var a,c=r.getBoundingClientRect(),l=function(e,t,n,r,o){if(e?"string"==typeof e&&(e=[e]):e=["topLeft"],t.x>n.right||t.x<n.left||t.y>n.bottom||t.y<n.top)return e;var i=function(e,t,n,r){var o=t.x,i=t.y,a=i+r,c=o-n,l=o+n,s=i-r>e.top,u=a<e.bottom,d=c>e.left,f=l<e.right,h=[];return s&&(d&&(h.push("topLeft"),h.push("leftTop")),f&&(h.push("topRight"),h.push("rightTop"))),u&&(d&&(h.push("bottomLeft"),h.push("leftBottom")),f&&(h.push("bottomRight"),h.push("rightBottom"))),h}(n,t,r,o),a=e.filter((function(e){return i.includes(e)}));return a.length?a:i}(e,t,uE(n),o,i);return a=l.length?function(e,t,n,r){var o=t.x,i=t.y;switch(e){case"topLeft":case"leftTop":return{x:o-n,y:i-r};case"topRight":case"rightTop":return{x:o,y:i-r};case"bottomLeft":case"leftBottom":return{x:o-n,y:i};case"bottomRight":case"rightBottom":return{x:o,y:i};default:br(!1,"F:calc-position-by-point;L:70")}}(l[0],t,o,i):t,{placement:l[0],pos:{left:a.x-c.x,top:a.y-c.y}}}(r,c,i||document.body,e.parentNode,u,d):function(e,t,n,r,o,i,a,c){var l=uE(r);null!=e&&e.topOffset&&(l.top+=e.topOffset,l.height-=e.topOffset,l.height<0&&(l.height=0,l.top=l.bottom));var s=o.getBoundingClientRect(),u=i.getBoundingClientRect(),d=function(e,t,n,r,o,i,a){var c=!!e;"string"==typeof e&&(e=[e]);var l=function(e,t,n,r,o){var i=t.bottom+o,a=t.left-r,c=t.right+r,l=t.top-o>=e.top,s=i<=e.bottom,u=a>=e.left,d=c<=e.right,f=t.top>=e.top&&t.top<=e.bottom,h=t.bottom<=e.bottom&&t.bottom>=e.top,p=t.left>=e.left&&t.left+r<=e.right,v=t.right<=e.right&&t.right-r>=e.left,m=[];return l&&(m.push("top"),p&&m.push("topLeft"),v&&m.push("topRight")),s&&(m.push("bottom"),p&&m.push("bottomLeft"),v&&m.push("bottomRight")),u&&(m.push("left"),f&&m.push("leftTop"),h&&m.push("leftBottom")),d&&(m.push("right"),f&&m.push("rightTop"),h&&m.push("rightBottom")),m}(n,{top:r.top-t,left:r.left-t,right:r.right+t,bottom:r.bottom+t,width:r.width+2*t,height:r.height+2*t},0,i,a);if(c&&l.length)for(var s=0,u=e.length;s<u;s++)if(l.includes(e[s]))return e[s];return c?e[0]:l.length?l[0]:function(e,t,n){if(1===e.length)return e[0];var r=n.top-t.top,o=t.bottom-n.bottom,i=n.left-t.left,a=t.right-n.right,c=r>o,l=i>=a,s={2:[],1:[]};return e.forEach((function(e){switch(e){case"top":c&&s[2].push(e);break;case"topLeft":case"leftTop":c&&l?s[2].push(e):(c||l)&&s[1].push(e);break;case"topRight":case"rightTop":c&&!l?s[2].push(e):!c&&l||s[1].push(e);break;case"bottom":c||s[2].push(e);break;case"bottomLeft":case"leftBottom":!c&&l?s[2].push(e):c&&!l||s[1].push(e);break;case"bottomRight":case"rightBottom":c||l?c&&l||s[1].push(e):s[2].push(e);break;case"left":l&&s[2].push(e);break;case"right":l||s[2].push(e);break;default:br(!1,"F:calc-position-by-node;L:314")}return!1})),s[2].length?s[2][0]:s[1].length?s[1][0]:e[0]}(l.concat(["bottomLeft"]),n,r)}(t,n,l,s,0,a,c);return{placement:d,pos:dE(d,s,u,l,a,c,n)}}(l,r,o,i||document.body,"function"==typeof a?a():a,e.parentNode,u,d),this.props.positionHandle)e.style.top="auto",e.style.left="auto",this.props.positionHandle(e,t.placement,t.pos);else{var f=t.pos;e.style.top=void 0!==f.top?f.top+"px":"auto",e.style.right=void 0!==f.right?f.right+"px":"auto",e.style.bottom=void 0!==f.bottom?f.bottom+"px":"auto",e.style.left=void 0!==f.left?f.left+"px":"auto"}}}},{key:"_show",value:function(){this.updatePos(),this.props.onOpen()}},{key:"_hide",value:function(){var e=this._wrapNodeRef.current;e&&(e.style.display="none")}},{key:"_ignore",value:function(e){var t;return!!kd(e.target,"[".concat("data-event-boundary",'="overlay"]'),document.body)||!(null===(t=this.props.closeExclude)||void 0===t||!t.contains(e.target))}},{key:"_getOverlaySize",value:function(e){var t=this.props,n=t.overlayWidth,r=t.overlayHeight;if(n&&r)return{width:n,height:r};var o=e.getBoundingClientRect();return{width:o.width,height:o.height}}}]),i}();function pE(e){if(!e.icon)return null;var t=e.icon;return"function"==typeof t&&(t=t(e.cardData)),Re.a.createElement(oE,{type:t})}function vE(e){if(!e.text)return null;var t=e.text;return"function"==typeof t?t(e.cardData):t}m()(hE,"propTypes",{uiEmitter:De.a.instanceOf(HC),boundaryNode:De.a.object,closeExclude:De.a.object,targetNode:De.a.oneOfType([De.a.object,De.a.func]).isRequired,point:De.a.shape({x:De.a.number.isRequired,y:De.a.number.isRequired}),overlayWidth:De.a.number,overlayHeight:De.a.number,children:De.a.element.isRequired,offset:De.a.number,allowClose:De.a.bool,placement:De.a.oneOfType([De.a.string,De.a.arrayOf(De.a.oneOf(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]))]),className:De.a.string,visible:De.a.bool,positionHandle:De.a.func,onClose:De.a.func,onCancel:De.a.func,onOpen:De.a.func,options:De.a.object}),m()(hE,"defaultProps",{offset:0,visible:!1,allowClose:!0,placement:"topLeft",onOpen:function(){},onClose:function(){},onCancel:function(){}}),FN(".ne-container-toolbar .ne-icon {\n  color: #262626;\n}\n.ne-ui-container-toolbar-trigger {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 2px;\n  cursor: grab;\n}\n.ne-ui-container-toolbar-trigger:hover {\n  background-color: #f4f4f4;\n}\n.ne-container-toolbar-tip {\n  text-align: center;\n  color: rgba(255, 255, 255, 0.6);\n}\n.ne-container-toolbar-tip span {\n  color: #ffffff;\n}\n.ne-card-tooltip-text {\n  min-width: 100px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.6);\n}\n.ne-card-tooltip-text > span {\n  color: #fff;\n}\n.ne-container-toolbar-overlay {\n  padding-right: 0;\n  z-index: 9999;\n}\n.ne-container-toolbar-overlay .ne-card-container-menu {\n  padding: 8px 0;\n}\n.ne-container-toolbar-overlay .ant-popover-arrow {\n  display: none;\n}\n.ne-container-toolbar-overlay .ant-popover-inner-content {\n  padding: 0;\n}\n.ne-container-toolbar-overlay .ant-menu-vertical > .ant-menu-item {\n  height: 34px;\n  line-height: 34px;\n}\n.ne-container-toolbar-switch-item {\n  cursor: default!important;\n}\n.ne-container-toolbar-item {\n  display: flex;\n  min-width: 148px;\n  align-items: center;\n}\n.ne-container-toolbar-item > label {\n  display: flex;\n  flex: 1;\n  cursor: pointer;\n  align-items: center;\n}\n.ne-container-toolbar-item .ne-icon {\n  margin-right: 10px;\n}\n.ne-container-toolbar-item .ant-switch {\n  margin-right: 0;\n  margin-left: auto;\n}\n.ne-container-toolbar-item-shortcut {\n  font-size: 12px;\n  color: #BFBFBF;\n  text-align: right;\n  flex: 1 0 auto;\n}\n");var mE=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_triggerRef",Re.a.createRef()),m()(l()(e),"_boundaryRef",Re.a.createRef()),m()(l()(e),"_destroyed",!1),m()(l()(e),"state",{isMenuVisible:!1,tooltipVisible:!1,popoverPlacement:"leftTop"}),m()(l()(e),"_handleTooltipMouseEnter",(function(){e.setState({tooltipVisible:!0})})),m()(l()(e),"_handleTooltipMouseLeave",(function(){e.setState({tooltipVisible:!1})})),m()(l()(e),"_handleTooltipMouseDown",(function(){e.setState({tooltipVisible:!1})})),m()(l()(e),"_handleVisibleChange",(function(t){if(e.props.onMenuVisibleChange&&e.props.onMenuVisibleChange(t),t||e._destroyed||e.setState({isMenuVisible:!1}),t){var n=e._triggerRef.current.getBoundingClientRect();e.setState({popoverPlacement:n.left>=240?"leftTop":"rightTop"})}})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this._triggerRef.current,n=!1;sE(this,t,"mousedown",(function(){n=!1,e.state.isMenuVisible||document.addEventListener("mouseup",(function r(o){document.removeEventListener("mouseup",r,!1),!n&&t.contains(o.target)&&e.showMenu()}),!1)}),!1),this.props.config.draggable&&sE(this,t,"dragstart",(function(r){n=!0,lE.run(e.props.dragBoundaryNode,e.props.overlayNode,e.props.targetNode,t,r,(function(t){n=!1,e.props.onDrop(t)}))}))}},{key:"componentWillUnmount",value:function(){this._destroyed=!0}},{key:"showMenu",value:function(){var e=this;setTimeout((function(){e._destroyed||e.setState({isMenuVisible:!0})}),32)}},{key:"render",value:function(){var e=Re.a.createElement(Be.a,{title:this._renderTooltipTitle(),visible:this.state.tooltipVisible,autoAdjustOverflow:!1,onMouseEnter:this._handleTooltipMouseEnter,onMouseLeave:this._handleTooltipMouseLeave,onMouseDown:this._handleTooltipMouseDown},Re.a.createElement("div",{ref:this._triggerRef,className:"ne-ui-container-toolbar-trigger",draggable:this.props.config.draggable},Re.a.createElement(oE,{type:"o-card-drag",size:20}))),t=this.props.config.items?Re.a.createElement("div",{className:"ne-container-toolbar",onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()}},Re.a.createElement(Se.a,{overlayClassName:"ne-container-toolbar-overlay",content:this._renderMenu(),onVisibleChange:this._handleVisibleChange,getPopupContainer:function(e){return e},onMouseDown:function(e){return e.stopPropagation()},trigger:"click",placement:this.state.popoverPlacement,visible:this.state.isMenuVisible},e)):e;return Re.a.createElement(hE,{ref:this._boundaryRef,targetNode:this.props.targetNode,offset:this.props.config.offset||6,className:this.props.config.className,visible:!0,placement:"leftTop",positionHandle:this.props.config.positionHandle},t)}},{key:"updatePos",value:function(){this._boundaryRef.current&&this._boundaryRef.current.updatePos()}},{key:"_handleItemClick",value:function(){this.setState({isMenuVisible:!1})}},{key:"_renderTooltipTitle",value:function(){var e;return e=this.props.config.draggable?Re.a.createElement(Re.a.Fragment,null,Re.a.createElement("div",null,Re.a.createElement("span",null,xm("长按")),xm("拖拽")),Re.a.createElement("div",null,Re.a.createElement("span",null,xm("点击")),xm("打开菜单"))):Re.a.createElement("div",null,Re.a.createElement("span",null,xm("点击"),xm("打开菜单"))),Re.a.createElement("div",{className:"ne-container-toolbar-tip"},e)}},{key:"_renderMenu",value:function(){var e=this,t=this.props.config.items.map((function(t,n){if("|"===t)return Re.a.createElement(Pe.a.Divider,{key:"divider-".concat(n)});var r=t.name+""+n;if("switch"===t.type)return e._renderSwitchItem(t,r);var o=pE(t),i=t.shortcut?Re.a.createElement("span",{className:"ne-container-toolbar-item-shortcut"},t.shortcut):null;return Re.a.createElement(Pe.a.Item,{key:r,onClick:function(){e._handleItemClick(),t.onClick(t)}},Re.a.createElement("div",{className:"ne-container-toolbar-item","data-action":t.name},o,vE(t),i))}));return Re.a.createElement(Pe.a,{className:"ne-card-container-menu ne-card-container-actions",selectable:!1,align:{offset:[0,0]}},t)}},{key:"_renderSwitchItem",value:function(e,t){var n,r=e.icon?Re.a.createElement(oE,{type:e.icon}):null;return Re.a.createElement(Pe.a.Item,{key:t,className:"ne-container-toolbar-switch-item"},Re.a.createElement("div",{className:"ne-container-toolbar-item","data-action":e.name},Re.a.createElement("label",null,r,e.text,Re.a.createElement(Te.a,{onClick:function(t){e.onClick(e,t)},defaultChecked:null===(n=e.isChecked)||void 0===n?void 0:n.call(e),size:"small"}))))}}]),i}();m()(mE,"propTypes",{config:De.a.shape({offset:De.a.number,draggable:De.a.bool,items:De.a.array.isRequired,className:De.a.string,positionHandle:De.a.func}).isRequired,overlayNode:De.a.object,dragBoundaryNode:De.a.object.isRequired,onDrop:De.a.func,targetNode:De.a.object,onMenuVisibleChange:De.a.func}),m()(mE,"defaultProps",{onDrop:function(){}}),FN(".ne-container-toolbar-wrap {\n  left: -18px;\n}\n");var yE=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_editBox",null),m()(l()(c),"_overlayContainer",null),m()(l()(c),"_targetNode",null),m()(l()(c),"_toolbarContainer",null),m()(l()(c),"_config",null),m()(l()(c),"_overlay",null),m()(l()(c),"_isDestroyed",!1),m()(l()(c),"_containerToolbarViewRef",Re.a.createRef()),m()(l()(c),"_onContainerToolbarMenuVisibleChange",(function(e){c.emit("menuVisibleChange",e)})),c._editBox=e,c._overlayContainer=t,c._targetNode=n,c._config=a,c._open(),c}return a()(i,[{key:"destroy",value:function(){var e=this;setTimeout((function(){e._overlay&&(e._overlay.cancel(),e._overlay=null)})),this._editBox=null,this._overlayContainer=null,this._targetNode=null,this._config=null,this._toolbarContainer=null,this._isDestroyed=!0,this.removeAllListeners()}},{key:"updatePos",value:function(){this._containerToolbarViewRef.current&&this._containerToolbarViewRef.current.updatePos()}},{key:"mountNode",get:function(){var e;return null===(e=this._overlay)||void 0===e?void 0:e.mountNode}},{key:"_open",value:function(){var e=this._config,t=this._overlayContainer,n=this._editBox,r=this._targetNode;this._overlay=tE.openOnlyByType("containerBar",{containerNode:t,targetNode:r,reactComponent:Re.a.createElement(mE,{ref:this._containerToolbarViewRef,dragBoundaryNode:n,overlayNode:t,onDrop:e.onDrop,config:e,onMenuVisibleChange:this._onContainerToolbarMenuVisibleChange})})}},{key:"update",value:function(e){this._isDestroyed||(!this._overlay||this._overlay.removed?(this._config=e,this._open()):this.updatePos())}}]),i}();FN('.ne-card-toolbar-select-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  padding: 5px;\n  width: 38px;\n  height: 28px;\n}\n.ne-card-toolbar-select-item:hover {\n  background-color: #F5F5F5;\n}\n.ne-card-toolbar-arrow-down-icon {\n  width: 16px;\n  height: 16px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-image: url("https://gw.alipayobjects.com/zos/bmw-prod/d5fce5b0-cd60-43b0-a351-9463486be4d2.svg");\n}\n.ne-card-toolbar-select-menu {\n  border-radius: 5px;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item {\n  position: relative;\n  padding: 10px 20px 10px 30px;\n  line-height: 30px;\n  font-size: 12px;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item.ant-dropdown-menu-item-selected {\n  background: none;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item.ant-dropdown-menu-item-selected .ne-card-toolbar-check-icon {\n  opacity: 1;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item .ne-card-toolbar-check-icon {\n  position: absolute;\n  left: 2px;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item .ne-card-toolbar-select-item-content {\n  display: flex;\n  align-items: center;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item .ne-card-toolbar-select-item-content .ne-card-toolbar-select-item-icon {\n  margin-right: 3px;\n}\n.ne-card-toolbar-select-menu .ne-card-toolbar-select-menu-item .ne-card-toolbar-select-item-content .ne-card-toolbar-select-item-label {\n  font-size: 14px;\n  line-height: 22px;\n  color: #595959;\n}\n');var gE=function(e){var t=e.icon,n=e.menuItems,r=e.onSelect,o=e.toolTip,i=e.selectValue,a=e.index,c=e.name,l=e.dropdownComponentConfig,s=void 0===l?{}:l,u=e.tooltipPlacement;return Re.a.createElement(Le.a,Ee()({overlay:Re.a.createElement(Pe.a,{className:"ne-card-toolbar-select-menu",selectedKeys:i,onClick:function(e){return r(e.key)},onMouseDown:function(e){return e.preventDefault()}},n.map((function(e){return Re.a.createElement(Pe.a.Item,{key:e.value+"",className:"ne-card-toolbar-select-menu-item"},Re.a.createElement("div",{className:"ne-card-toolbar-check-icon"},Re.a.createElement(oE,{iconfont:"toolbar-check"})),Re.a.createElement("div",{className:"ne-card-toolbar-select-item-content"},e.icon&&Re.a.createElement(oE,{className:"ne-card-toolbar-select-item-icon",type:e.icon}),Re.a.createElement("div",{className:"ne-card-toolbar-select-item-label"},e.label)))}))),getPopupContainer:function(e){return e}},s),nE(o,Re.a.createElement("div",{className:"ne-card-toolbar-select-item",key:a+c},Re.a.createElement(oE,{type:t}),Re.a.createElement("div",{className:"ne-card-toolbar-arrow-down-icon"})),{placement:u}))};gE.propTypes={icon:De.a.string.isRequired,menuItems:De.a.array.isRequired,onSelect:De.a.func,toolTip:De.a.string,selectValue:De.a.string,index:De.a.number,name:De.a.string,dropdownComponentConfig:De.a.object,tooltipPlacement:De.a.string},FN(".ne-card-toolbar {\n  display: inline-flex;\n  align-items: center;\n  flex-direction: row;\n  border-radius: 4px;\n  border: 1px solid #e8e8e8;\n  background-color: #fff;\n  padding: 6px 12px;\n  box-shadow: rgba(0, 0, 0, 0.06) 0 8px 16px 6px;\n}\n.ne-card-toolbar .ant-tooltip-content {\n  white-space: nowrap;\n}\n.ne-card-toolbar .ne-icon {\n  color: #262626;\n}\n.ne-card-toolbar .ne-card-toolbar-item {\n  width: 28px;\n  height: 28px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 0 4px;\n}\n.ne-card-toolbar .ne-card-toolbar-item:first-child {\n  margin-left: 0;\n}\n.ne-card-toolbar .ne-card-toolbar-item:last-child {\n  margin-right: 0;\n}\n.ne-card-toolbar .ne-card-toolbar-item:hover,\n.ne-card-toolbar .ne-card-toolbar-item.selected {\n  background-color: #f5f5f5;\n}\n.ne-card-toolbar .ne-card-toolbar-item.ne-card-toolbar-item-has-title {\n  padding: 0 6px;\n}\n.ne-card-toolbar .ne-card-toolbar-item[data-disabled] {\n  cursor: not-allowed;\n}\n.ne-card-toolbar .ne-card-toolbar-item[data-disabled]:hover {\n  background: transparent;\n}\n.ne-card-toolbar .ne-card-toolbar-item[data-disabled] .ne-icon {\n  color: #bfbfbf;\n}\n.ne-card-toolbar .ne-card-toolbar-item.ne-card-toolbar-item-has-title {\n  width: auto;\n  white-space: nowrap;\n  line-height: 28px;\n}\n.ne-card-toolbar .ne-card-toolbar-item.ne-card-toolbar-item-has-title span {\n  margin-left: 6px;\n}\n.ne-card-toolbar .ne-card-toolbar-item.ne-card-toolbar-item-has-title span:first-child {\n  margin-left: 0;\n}\n.ne-card-toolbar .ne-card-toolbar-input-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 28px;\n  margin: 0 4px;\n}\n.ne-card-toolbar .ne-card-toolbar-input-container .ne-card-toolbar-input-title {\n  font-size: 14px;\n  line-height: 22px;\n}\n.ne-card-toolbar .ne-card-toolbar-input-container .ne-card-toolbar-input {\n  width: 54px;\n  border-radius: 4px;\n  margin-left: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  line-height: 22px;\n}\n.ne-card-toolbar .ne-ui-card-toolbar-divider {\n  width: 1px;\n  height: 16px;\n  background-color: #E9E9E9;\n  margin: 0 6px;\n}\n.ne-card-toolbar .ne-ui-card-toolbar-divider:last-child {\n  margin-right: 0;\n}\n");var bE=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_boundaryRef",Re.a.createRef()),m()(l()(e),"state",{isMenuVisible:!1}),e}return a()(i,[{key:"render",value:function(){return Re.a.createElement(hE,{visible:!0,ref:this._boundaryRef,offset:void 0!==this.props.options.offset?this.props.options.offset:2,placement:["top","bottom"],targetNode:this.props.targetNode,boundaryNode:this.props.boundaryNode,options:this.props.options},Re.a.createElement("div",{className:"ne-card-toolbar",onMouseDown:function(e){var t,n;if("INPUT"!==e.target.nodeName){var r=document.getSelection();(null==r||null===(t=r.anchorNode)||void 0===t||null===(n=t.closest)||void 0===n?void 0:n.call(t,".ne-card-toolbar"))!==e.currentTarget&&e.preventDefault()}}},this._renderItems()))}},{key:"updatePos",value:function(){this._boundaryRef.current&&this._boundaryRef.current.updatePos()}},{key:"_renderItems",value:function(){var e=this;return this.props.items.map((function(t,n){return e._renderItem(t,n)}))}},{key:"_renderItem",value:function(e,t){if("|"===e)return Re.a.createElement("div",{className:"ne-ui-card-toolbar-divider",key:"|"+t});if(!e.type)return this._renderNormalItem(e,t);switch(e.type){case"input":return this._renderInputItem(e,t);case"select":return this._renderSelectItem(e,t);case"item":return this._renderNormalItem(e,t);default:br(!1,"F:card-toolbar-view;L:97")}}},{key:"_renderNormalItem",value:function(e,t){var n=Re.a.createElement("div",{"data-disabled":!!e.disabled||null,"data-testid":"ne-card-toolbar-item-".concat(e.name),onClick:function(){e.disabled||e.onClick&&e.onClick()},style:e.style,className:"ne-card-toolbar-item ".concat(e.title?"ne-card-toolbar-item-has-title":e.selected?"selected":""),key:e.name+""+t},pE(e),e.title&&Re.a.createElement("span",null,e.title));return e.disableTooltip?n:Re.a.createElement(Be.a,{key:e.name+""+t,trigger:e.disabled?["hover"]:["hover","click"],title:vE(e),getPopupContainer:function(e){return e}},n)}},{key:"_renderInputItem",value:function(e,t){var n=e.title,r=e.name,o=e.componentProperty,i=void 0===o?null:o;return Re.a.createElement("div",{className:"ne-card-toolbar-input-container",key:r+t+i.defaultValue},Re.a.createElement("span",{className:"ne-card-toolbar-input-title"},n),Re.a.createElement(Me.a,Ee()({disabled:e.disabled,className:"ne-card-toolbar-input",size:"small"},i)))}},{key:"_processDropdownConfig",value:function(e){var t=this,n=e.onVisibleChange;return e.onVisibleChange=function(e){t.props.onSelectVisibleChange(e),n&&n(e)},e}},{key:"_renderSelectItem",value:function(e,t){var n=e.icon,r=e.items,o=e.onSelect,i=e.text,a=e.name,c=e.dropdownComponentConfig,l=void 0===c?{}:c,s=e.selectValue,u=e.tooltipPlacement;return Re.a.createElement(gE,{index:t,name:a,icon:n,menuItems:r,onSelect:o,toolTip:i,selectValue:s,tooltipPlacement:u,dropdownComponentConfig:this._processDropdownConfig(l)})}}]),i}();m()(bE,"propTypes",{items:De.a.array.isRequired,targetNode:De.a.object,boundaryNode:De.a.object,options:De.a.object,onSelectVisibleChange:De.a.func}),m()(bE,"defaultProps",{onSelectVisibleChange:function(){}}),FN(".ne-card-toolbar-wrap {\n  width: 100%;\n  height: 0;\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  margin-bottom: 5px;\n}\n");var wE=["autoClose"];function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _E=function(){function e(t,n,r,i,a){var c=this;o()(this,e),m()(this,"_targetNode",null),m()(this,"_overlayContainer",null),m()(this,"_toolbarContainer",null),m()(this,"_items",null),m()(this,"_options",null),m()(this,"_overlay",null),m()(this,"_isDestroyed",!1),m()(this,"_delayUpdate",!1),m()(this,"_autoClose",void 0),m()(this,"_delayUpdateTimeId",void 0),m()(this,"_cardToolbarViewRef",Re.a.createRef()),m()(this,"_handleSelectVisibleChange",(function(e){e&&(c._delayUpdate=!0,clearTimeout(c._delayUpdateTimeId),c._delayUpdateTimeId=setTimeout((function(){c._delayUpdate=!1}),350))})),this._targetNode=t,this._overlayContainer=n,this._boundaryNode=r,this._items=i;var l=a.autoClose,s=j()(a,wE);this._autoClose=l,this._options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xE(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({topOffset:0},s),this._open()}return a()(e,[{key:"isFocusOrHover",value:function(){return this._overlay&&this._overlay.isConnected()&&(this._overlay.hovered||this._overlay.focused)}},{key:"mountNode",get:function(){var e;return null===(e=this._overlay)||void 0===e?void 0:e.mountNode}},{key:"destroy",value:function(){this._overlay&&(this._overlay.cancel(),this._overlay=null),this._targetNode=null,this._overlayContainer=null,this._toolbarContainer=null,this._items=null,this._isDestroyed=!0}},{key:"updatePos",value:function(){this._cardToolbarViewRef.current&&this._cardToolbarViewRef.current.updatePos()}},{key:"update",value:function(e){if(!this._isDestroyed){if(this._overlay){if(this._overlay.isConnected()&&(this._overlay.hovered||this._overlay.focused||this._delayUpdate))return void this._overlay.rerender({items:e});this._overlay.cancel()}this._items=e,this._open()}}},{key:"_open",value:function(){var e=this._overlayContainer,t=this._targetNode,n=this._items,r=this._boundaryNode;this._overlay=tE.openOnlyByType("cardToolbar",{containerNode:e,targetNode:t,autoClose:this._autoClose,reactComponent:Re.a.createElement(bE,{ref:this._cardToolbarViewRef,onSelectVisibleChange:this._handleSelectVisibleChange,boundaryNode:r,items:n,options:this._options})})}}]),e}(),kE={copy:{type:"item",icon:"c-tb-copy",text:xm("复制")},delete:{type:"item",icon:"c-tb-delete",text:xm("删除")},copyLink:{type:"item",icon:"c-tb-copy-link",text:xm("复制链接")},spacing:{type:"switch",icon:"c-tb-spacing",text:xm("添加间距"),isChecked:function(){return!1}},maximize:{type:"item",icon:"c-tb-maximize",text:xm("全屏")},saveToResource:{name:"saveToResource",text:xm("保存到资源知识库"),icon:"card-tb-save-to-resource"},widthMode:{type:"item",icon:function(e){return"contain"===e.getWidthMode()?"c-tb-width-mode-fold":"c-tb-width-mode-unfold"},text:function(e){return"contain"===e.getWidthMode()?xm("标宽展示"):xm("全宽展示")}}};function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CE(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NE=new WeakMap,EE=new WeakMap,OE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"filter",value:function(e,t){return function(e,t){return e.filter((function(e){return"|"===e||!t.includes(e.name||e)})).reduce((function(e,t,n,r){return"|"===t&&("|"===e[e.length-1]&&e.pop(),0===e.length||n===r.length-1)||e.push(t),e}),[])}(e,t)}},{key:"updateContainerToolbar",value:function(e,t,n,r){var o=NE.get(e);if(r)return o?o.update(r):(o=new yE(t,n,e,r),NE.set(e,o)),o}},{key:"updateContainerToolbarPos",value:function(e){var t=NE.get(e);t&&t.updatePos()}},{key:"destroyContainerToolbar",value:function(e){NE.has(e)&&(NE.get(e).destroy(),NE.delete(e))}},{key:"updateCardToolbar",value:function(e,t,n,r,o){var i=EE.get(e);if(null!=r&&r.length)return i?i.update(r):(i=new _E(e,t,n,r,o),EE.set(e,i)),i;this.destroyCardToolbar(e)}},{key:"updateCardToolbarPos",value:function(e){var t=EE.get(e);t&&t.updatePos()}},{key:"destroyCardToolbar",value:function(e){EE.has(e)&&(EE.get(e).destroy(),EE.delete(e))}},{key:"generateToolbarItems",value:function(e){return e.map((function(e){return"|"===e?"|":(br(e.name&&e.onClick,"F:mini-toolbar/index;L:92"),RE(RE({},kE[e.name]),e))}))}}]),e}();FN(".ne-ui-card-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 9;\n}\n");var DE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"update",value:function(t,n){var r,o;!0===n?t._$mask||(t._$mask=(r=t._cardRootNode,(o=document.createElement("div")).className="ne-ui-card-mask",r.appendChild(o),o)):e.destroyMask(t)}},{key:"destroyMask",value:function(e){e._$mask&&(e._$mask.remove(),e._$mask=null)}}]),e}();FN(".ne-card-resizer {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 10;\n  cursor: row-resize;\n  display: block;\n}\n.ne-card-resizer-trigger {\n  width: 56px;\n  height: 8px;\n  background-color: #d9d9d9;\n  border-radius: 4px;\n  position: absolute;\n  top: -4px;\n  left: 50%;\n  margin-left: -28px;\n}\n.ne-card-resizer-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 9;\n  display: none;\n}\n");var SE=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_boundaryNode",null),m()(l()(c),"_targetNodeHandle",null),m()(l()(c),"_resizerRootNode",null),m()(l()(c),"_resizerTriggerNode",null),m()(l()(c),"_maskNode",null),m()(l()(c),"_min",-1),m()(l()(c),"_max",-1),m()(l()(c),"_callback",null),c._boundaryNode=e,c._targetNodeHandle=n,c._resizerRootNode=document.createElement("div"),c._resizerRootNode.className="ne-card-resizer",c._resizerTriggerNode=document.createElement("div"),c._resizerTriggerNode.className="ne-card-resizer-trigger",c._resizerTriggerNode.setAttribute("draggable","true"),c._resizerRootNode.appendChild(c._resizerTriggerNode),c._maskNode=document.createElement("div"),c._maskNode.className="ne-card-resizer-mask",c._update(a),t.appendChild(c._resizerRootNode),t.appendChild(c._maskNode),c._initEvent(),c}return a()(i,[{key:"destroy",value:function(){this._resizerRootNode.remove(),this._resizerRootNode=null,this._maskNode.remove(),this._maskNode=null,this.removeAllListeners()}},{key:"recoverHeight",value:function(){this._getTargetNode().style.height=""}},{key:"update",value:function(e){this._update(e)}},{key:"_update",value:function(e){var t=e.min,n=e.max;t?br(t>=0,"F:card-resizer;L:63"):t=0,n?br(n>t,"F:card-resizer;L:69"):n=Number.MAX_SAFE_INTEGER,this._min=t,this._max=n,this._callback=e.callback||null}},{key:"_initEvent",value:function(){var e=this,t=null;wR(this,this._resizerTriggerNode,"mousedown",(function(){var n=e._getTargetNode();e._maskNode.style.display="block",n.style.pointerEvents="none",wR(t={destroy:function(){e._maskNode&&(e._maskNode.style.display=""),n.style.pointerEvents=""}},document,"mouseup",(function(){t.destroy()}),!1)}),!1),wR(this,this._resizerTriggerNode,"dragstart",(function(n){n.dataTransfer.effectAllowed="move",n.dataTransfer.dropEffect="move";var r=document.createElement("div");r.style.cssText="position: fixed; width: 1px; height: 1px; top: -99999px; left: -99999px;",document.body.appendChild(r),n.dataTransfer.setDragImage(r,0,0),e._processDrag({destroy:function(){}},t,r)}),!1)}},{key:"_processDrag",value:function(e,t,n){var r=this,o=this._getTargetNode();wR(e,this._boundaryNode,"dragover",(function(e){e.preventDefault();var t=o.getBoundingClientRect().y;r._handleResize(e.clientY-t)}),!1),wR(e,this._boundaryNode,"dragenter",(function(e){e.preventDefault();var t=o.getBoundingClientRect().y;r._handleResize(e.clientY-t)}),!1),wR(e,this._boundaryNode,"dragend",(function(i){if(i.preventDefault(),n){var a=o.getBoundingClientRect().y;t.destroy(),e.destroy(),n.remove(),n=null,r._completed(i.clientY-a)}}),!1),wR(e,this._boundaryNode,"drop",(function(i){if(i.preventDefault(),n){var a=o.getBoundingClientRect().y;t.destroy(),e.destroy(),n.remove(),n=null,r._completed(i.clientY-a)}}),!1)}},{key:"show",value:function(){this._resizerRootNode.style.display="block"}},{key:"hide",value:function(){this._resizerRootNode.style.display="none"}},{key:"_getTargetNode",value:function(){return"function"==typeof this._targetNodeHandle?this._targetNodeHandle():this._targetNodeHandle}},{key:"_handleResize",value:function(e){return e=Math.min(this._max,Math.max(e,this._min)),this._getTargetNode().style.height=e+"px",this._getTargetNode().style.maxHeight="unset",e}},{key:"_completed",value:function(e){e=this._handleResize(e),this._getTargetNode().style.maxHeight="",this._callback&&this._callback(e),this.emit("resize",e)}}]),i}();function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BE(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"update",value:function(e,t,n,r,o,i){var a=e._$cardResizer;o?(o="object"!==R()(o)?{callback:i}:PE(PE({},o),{},{callback:i}),a?e._$cardResizer.update(o):e._$cardResizer=new SE(t,n,r,o)):a&&(a.recoverHeight(),a.destroy(),e._$cardResizer=null)}},{key:"destroyResizer",value:function(e){e._$cardResizer&&(e._$cardResizer.destroy(),e._$cardResizer=null)}}]),e}(),TE=/^[a-z0-9]$/i,ME=Fe.ua.macos;function LE(e){e=e.map((function(e){return(e+"").toLowerCase()}));var t={any:!1,cmd:!1,alt:!1,shift:!1,ctrl:!1};e.forEach((function(n){"cmd"===n?ME?t.cmd=!0:t.ctrl=!0:"ctrl"===n?t.ctrl=!0:"shift"===n?t.shift=!0:"alt"===n||"opt"===n||"option"===n?t.alt=!0:"*"===n?t.any=!0:n?(br(!t.key,"invalid shortcut-key name: "+e,"F:parse-keys;L:36"),TE.test(n)?t.key=n.toUpperCase().charCodeAt(0):t.key=n):console.warn("invalid shortcut-key: "+e)}));var n={};return t.any?n.any=!0:(n.cmd=t.cmd,n.shift=t.shift,n.alt=t.alt,n.ctrl=t.ctrl),{keyName:t.key,modifier:n}}var AE=function(){function e(t){o()(this,e),m()(this,"_keyInfo",null),this._keyInfo=LE(t)}return a()(e,[{key:"match",value:function(e){var t=e.key,n=e.keyCode,r=this._keyInfo,o=r.keyName,i=r.modifier;return!!t&&(t.toLowerCase()===o||n===o)&&IE(e,i)}}],[{key:"parseKeys",value:function(e){return LE(e)}},{key:"isMatchModifier",value:function(e,t){return IE(e,t)}}]),e}();function IE(e,t){return!!t.any||t.cmd===e.metaKey&&t.alt===e.altKey&&t.ctrl===e.ctrlKey&&t.shift===e.shiftKey}var jE=a()((function e(){o()(this,e)})),VE={isEnter:function(e){return e.key?"Enter"===e.key:13===e.keyCode},isCmdEnter:function(e){return VE.isEnter(e)&&VE.onlyMeta(e)},isShift:function(e){return e.key?"Shift"===e.key:16===e.keyCode},isBackspace:function(e){return e.key?"Backspace"===e.key:8===e.keyCode},isDelete:function(e){return e.key?"Delete"===e.key:46===e.keyCode},isArrowKey:function(e){var t=e.key,n=e.keyCode;return t?"ArrowLeft"===t||"ArrowRight"===t||"ArrowUp"===t||"ArrowDown"===t:n>=37&&n<=40},isHome:function(e){return e.key?"Home"===e.key:36===e.keyCode},isEnd:function(e){return e.key?"End"===e.key:35===e.keyCode},isChar:function(e,t){var n=e.key,r=e.keyCode;return t=t.toLowerCase(),n?n.toLowerCase()===t:65===r},isTab:function(e){return e.key?"Tab"===e.key:9===e.keyCode},isArrowDown:function(e){return e.key?"ArrowDown"===e.key:40===e.keyCode},isArrowRight:function(e){return e.key?"ArrowRight"===e.key:39===e.keyCode},isArrowUp:function(e){return e.key?"ArrowUp"===e.key:38===e.keyCode},isArrowLeft:function(e){return e.key?"ArrowLeft"===e.key:37===e.keyCode},onlyMeta:function(e){return e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey},onlyAlt:function(e){return e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey},onlyCtrl:function(e){return e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey},isEscape:function(e){return e.key?"Escape"===e.key:27===e.keyCode}};Object.keys(VE).forEach((function(e){jE[e]=function(t){if(229===t.keyCode)return!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return VE[e].apply(VE,[t].concat(r))}}));var zE=new AE(["cmd","c"]),UE=new AE(["cmd","x"]),HE={match:function(e){return jE.isDelete(e)||jE.isBackspace(e)}},qE=function(){function e(t,n){var r=this;o()(this,e),m()(this,"bindDOMEvent",(function(){r.domEventListener=new bN(r._iRenderer.domRootNode,r._domEventFilter),r.domEventListener.on("keydown",r._domEventHandler)})),m()(this,"_domEventFilter",(function(e){if(r.hasRegister){if(!e.target.isConnected||e.target!==r._iRenderer.domRootNode)return!1;var t=document.getSelection();if(1===t.rangeCount){var n=kd(t.getRangeAt(0).commonAncestorContainer,"ne-card");if(n)return r.activeCardId=n.getAttribute("id"),!0}}return!1})),m()(this,"_domEventHandler",(function(e){br(r.activeCardId,"F:hot-key-helper;L:57","F:hot-key-helper;L:57");var t="";[{matcher:zE,action:"_copyCard"},{matcher:UE,action:"_cutCard"},{matcher:HE,action:"_deleteCard"}].some((function(n){var r=n.matcher,o=n.action;return!!r.match(e)&&(t=o,!0)})),t&&r[t](e),r.activeCardId=""})),m()(this,"_copyCard",(function(){r.copyCardMap.get(r.activeCardId)&&r._iEditor.execCommand("copy")})),m()(this,"_cutCard",(function(){r.cutCardMap.get(r.activeCardId)&&r._iEditor.execCommand("cut")})),m()(this,"_deleteCard",(function(){var e=r.deleteCardMap.get(r.activeCardId);e&&r._iEditor.execCommand("deleteCard",e.id)})),this.copyCardMap=new Map,this.cutCardMap=new Map,this.deleteCardMap=new Map,this.activeCardId="",this._iEditor=t,this._iRenderer=n,this.bindDOMEvent()}return a()(e,[{key:"hasRegister",get:function(){return this.copyCardMap.size>0||this.cutCardMap.size>0||this.deleteCardMap.size>0}},{key:"register",value:function(e,t){var n=e.id;br(n,"F:hot-key-helper;L:103"),this.toggleCardRegister(t.copy,this.copyCardMap,n,e),this.toggleCardRegister(t.cut,this.cutCardMap,n,e),this.toggleCardRegister(t.delete,this.deleteCardMap,n,e)}},{key:"toggleCardRegister",value:function(e,t,n,r){e?t.set(n,r):t.remove(n)}},{key:"remove",value:function(e){var t=e.id;t&&(this.copyCardMap.delete(t),this.cutCardMap.delete(t),this.deleteCardMap.delete(t))}}]),e}(),WE=null,ZE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"register",value:function(e,t){WE||(WE=new qE(e.iEditor,e.iEditor.iRenderer)),WE.register(e,t)}},{key:"destroyHotKey",value:function(e){WE&&WE.remove(e)}}]),e}(),KE=[function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new URL(e,"http://localhost/"),o=r.pathname;return!!JE.test(o)||!!n&&$E.test(o)},function(e,t){var n=new URL(e,"http://localhost").pathname;try{var r=new URL(t);return r.pathname!==n&&r.pathname+"/edit"!==n}catch(e){return!0}},function(e){var t;try{t=new URL(e).pathname}catch(e){return!1}return!["/settings/applications/","/login/callback","/login/oauth","/sites/","/settings/callback/","/dashboard/","/about/"].some((function(e){return t.startsWith(e)}))&&(!["/topics/"].some((function(e){return t.includes(e)}))&&!["/invitation","/apply","/settings/basic","/settings/advanced","/settings/lab","/topics/kanban","/settings/logs","/s","/watchers","/stargazers","/new","/dashboard"].some((function(e){return t.endsWith(e)})))}],$E=/^\/[^/]{2,}$/,JE=/^\/[^/]{2,}\/[^/]+(\/[^/]+)?$/,YE=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isValidURL",value:function(e,t,n){return!KE.some((function(r){return!r(e,t,n)}))}},{key:"isGroupURL",value:function(e,t){return!!t&&function(e){var t=new URL(e,"http://localhost/").pathname;return $E.test(t)}(e)}}]),e}(),GE=[/\.yuque\.com$/];function XE(e){try{var t=new URL(e).hostname;return!!GE.some((function(e){return e.test(t)}))}catch(e){return!1}}var QE=[/(^|\.)yuque(-pre)?\.(antfin|alibaba)-inc\.com$/,/(^|\.)yuque(-pre)?\.antfin\.com$/,/\.alipay\.net$/];function eO(e){try{var t=new URL(e).hostname;return!!QE.some((function(e){return e.test(t)}))}catch(e){return!1}}function tO(e,t){if(eO(e)&&eO(t))try{var n=new URL(e).origin,r=new URL(t).origin;e=e.replace(n,r)}catch(e){}try{var o=new URL(e);if(o.searchParams.set("view","doc_embed"),o.hash.length>1){var i=o.hash.substring(1);i.startsWith("%20%E3%80%8A")||o.searchParams.set("inner",i)}return o.hash="",o.toString()}catch(e){return null}}function nO(e){try{var t,n,r=new URL(e).hostname;return(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.hostname)===r}catch(e){return!1}}var rO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isYuqueDomainURL",value:function(e){return XE(e)}},{key:"isLarkDomainURL",value:function(e){return eO(e)}},{key:"isGroupURL",value:function(e){if(!XE(e)||!eO(e))return!1;try{var t=new URL(e).pathname;return/^\/[^/]{2,}$/.test(t)}catch(e){return!1}}},{key:"getYuqueDocPreviewURL",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.allowGroupLink,o=void 0!==r&&r,i=n.allowLarkURL,a=void 0!==i&&i;if(!e)return{success:!1,message:xm("无效链接")};if(!(XE(e)||a&&eO(e)||nO(e)))return{success:!1,message:xm("不支持嵌入该链接")};if(!YE.isValidURL(e,t,o))return{success:!1,message:xm("不支持嵌入该链接")};var c=tO(e,t);return c?{isGroup:YE.isGroupURL(e,o),success:!0,url:c}:{success:!1,message:xm("不支持嵌入该链接")}}},{key:"generateCardLink",value:function(e,t){try{var n=new URL(e);return n.hash="",n.pathname=n.pathname.replace(/\/edit$/,""),n.searchParams.set("inner",t),n.toString()}catch(e){return null}}},{key:"generateHashLink",value:function(e,t){try{var n=new URL(e);return n.hash="",n.pathname=n.pathname.replace(/\/edit$/,""),n.hash=t,n.toString()}catch(e){return null}}}]),e}(),oO={copy:function(e,t){var n=document.createRange();n.selectNode(t.cardRootNode.parentNode),e.execCommand("copy",n)?je.b.success(xm("复制成功")):je.b.error(xm("复制失败"))},delete:function(e,t){e.execCommand("deleteCard",t.id),e.execCommand("focus",{preventScroll:!0})},copyLink:function(e,t){var n=e.option.currentURL;if(n){var r=rO.generateCardLink(n,t.id);r?(Ie()(r,{format:"text/plain"}),je.b.success(xm("复制成功"))):je.b.error(xm("复制失败"))}},spacing:function(e,t){t.cardData&&(t.cardData.toggleCardSpacing(),t.cardData.sync(!1))},maximize:function(e,t,n){t.enterMaxView(n.option)},saveToResource:function(e,t){if(e.hasExtendMethod("saveToResource")){var n,r,o,i,a,c=null!==(n=null==t||null===(r=t.cardData)||void 0===r||null===(o=r.getResourceValue)||void 0===o?void 0:o.call(r))&&void 0!==n?n:null==t||null===(i=t.cardData)||void 0===i||null===(a=i.getCardValue)||void 0===a?void 0:a.call(i);e.saveToResource({data:c||{}},e.overlayContainer)}},widthMode:function(e,t){var n,r;null==t||null===(n=t.cardData)||void 0===n||n.toggleWidthMode(),null==t||null===(r=t.cardData)||void 0===r||r.sync(!1)}};function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iO(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}FN(".ne-card-container {\n  position: relative;\n}\n.ne-container-toolbar-wrap {\n  position: absolute;\n  top: 0;\n}\n");var cO=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;o()(this,i),n=r.call(this),m()(l()(n),"resizeTarget",null),m()(l()(n),"iEditor",null),m()(l()(n),"cardNode",null),m()(l()(n),"plugin",null),m()(l()(n),"containerNode",null),m()(l()(n),"pluginOption",null),m()(l()(n),"_cardData",null),m()(l()(n),"_cardID",null),m()(l()(n),"_cardRootNode",null),m()(l()(n),"_$cardResizer",null),m()(l()(n),"_needReset",!1),m()(l()(n),"_isFocused",!1),m()(l()(n),"_isHovered",!1),m()(l()(n),"_destroyed",!1),m()(l()(n),"_cardToolbar",null);var a=t.id,c=t.cardRootNode,s=t.cardData,u=t.pluginOption,d=t.plugin;return n.iEditor=e,n.cardNode=t,n.plugin=d,n.pluginOption=u,n._cardID=a,n._cardRootNode=c,n.containerNode=document.createElement("div"),n.containerNode.className="ne-card-container",n._cardData=s,n._focusByKeyboard=null,n._cancelEnterCardListener=null,c.appendChild(n.containerNode),Ls(l()(n),e.iEditing,"afterExecCommand",(function(e){var t=e.commandName;n._isFocused&&"alignment"===t&&n._refreshToolbar()})),n._cancelRefreshToolbarListener=e.onPluginEvent("requestRefreshToolbar",(function(){n._refreshToolbar()})),n._cancelEnterCardListener=e.iRenderer.onPluginEvent("enterCardByKeyboard:".concat(t.id),(function(e){n._focusByKeyboard=e})),e.on("layoutChange",(function(){n._needReset&&n._refreshToolbar()})),s&&(s.on("spacingChange",(function(){n._refreshCardSpacing(),n._refreshToolbar()})),s.on("heightChange",(function(e){var t=e.newHeight,r=e.oldHeight;n.heightChanged(t,r),n.refreshResizer()})),s.on("widthModeChange",(function(){n._refreshCardWidthMode(),n._refreshToolbar()}))),n}return a()(i,[{key:"init",value:function(){}},{key:"id",get:function(){return this._cardID}},{key:"name",get:function(){return this.cardNode.nodeName}},{key:"destroyed",get:function(){return this._destroyed}},{key:"isHovered",get:function(){return this._isHovered}},{key:"isFocused",get:function(){return this._isFocused}},{key:"beforeMaximizeChanged",value:function(e){}},{key:"afterMaximizeChanged",value:function(e){}},{key:"heightChanged",value:function(e,t){}},{key:"hover",value:function(){}},{key:"leave",value:function(){}},{key:"focus",value:function(){}},{key:"blur",value:function(){}},{key:"focusCardTo",value:function(e){var t=this.iEditor,n=t.iRenderer;t.isMaxView||n.execCommand("focusCard",this.cardNode.id,e)}},{key:"_beforeInit",value:function(){}},{key:"_afterInit",value:function(){var e=this;this._refreshMask(!0),this._registerHotKey(),this._cardData&&(this._refreshCardSpacing(),Ls(this,this._cardData,"cardHeightReset",(function(){e.containerNode.style.height=""})),this._resizeCardHeight(),this._refreshCardWidthMode())}},{key:"destroy",value:function(){var e,t;null===(e=this._cancelEnterCardListener)||void 0===e||e.call(this),null===(t=this._cancelRefreshToolbarListener)||void 0===t||t.call(this),this._destroyed=!0,this._destroyMask(),this._destroyResizer(),this._destroyToolbar(),this._destroyHotKey(),this.containerNode.remove(),this.removeAllListeners()}},{key:"cardData",get:function(){return this._cardData}},{key:"cardRootNode",get:function(){return this._cardRootNode}},{key:"focusByKeyboard",get:function(){return this._focusByKeyboard}},{key:"getContainerToolbarConfig",value:function(){return null}},{key:"getResizerConfig",value:function(){return null}},{key:"getCardMaskConfig",value:function(){return!1}},{key:"getCardToolbarConfig",value:function(){return null}},{key:"getHotKeyConfig",value:function(){return{copy:!0,cut:!0,delete:!0}}},{key:"refreshMask",value:function(){return this._refreshMask()}},{key:"refreshResizer",value:function(){return this._refreshResizer()}},{key:"refreshToolbar",value:function(){this._refreshToolbar()}},{key:"showAllToolbar",value:function(){this._refreshToolbar()}},{key:"refreshToolbarPos",value:function(){this._updateToolbarPos()}},{key:"handleCardToolbarAutoClose",value:function(){return!0}},{key:"showResizer",value:function(){this._$cardResizer&&this._$cardResizer.show()}},{key:"hideAllToolbar",value:function(){this._destroyToolbar()}},{key:"hideResizer",value:function(){this._$cardResizer&&this._$cardResizer.hide()}},{key:"_registerHotKey",value:function(){var e=this.getHotKeyConfig();e&&ZE.register(this,e)}},{key:"_destroyHotKey",value:function(){ZE.destroyHotKey(this)}},{key:"_hover",value:function(){this._isHovered=!0,this._showToolbar(),this.hover()}},{key:"_leave",value:function(){this._isHovered=!1,this.leave()}},{key:"_afterFocus",value:function(){this._isFocused=!0,this._destroyMask(),this._refreshResizer(),this._refreshToolbar()}},{key:"_beforeBlur",value:function(){this._isFocused=!1,this._focusByKeyboard=null,this._refreshMask(),this._destroyResizer(),this._destroyToolbar()}},{key:"_refreshMask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this._isFocused){var t=this.getCardMaskConfig();DE.update(this,t)}}},{key:"_destroyMask",value:function(){DE.destroyMask(this)}},{key:"_resizeCardHeight",value:function(){if(this._cardData){var e=this._cardData.getCardHeight();if(this.getResizerConfig()&&e){var t=this.containerNode;this.resizeTarget&&(t=this.resizeTarget,"function"==typeof this.resizeTarget&&(t=this.resizeTarget())),t&&(t.style.height=e+"px")}}}},{key:"_refreshResizer",value:function(){var e=this;this._resizeCardHeight();var t=this.getResizerConfig();FE.update(this,this.iEditor.editBox,this.cardRootNode,this.resizeTarget||this.containerNode,t,(function(t){e._cardData&&(e._cardData._resetCardValue(e._cardData.__getCardValueWithNewHeight(t)),e._cardData.sync(!1))}))}},{key:"_destroyResizer",value:function(){FE.destroyResizer(this)}},{key:"_refreshToolbar",value:function(){this._isFocused||this._isHovered||this._cardToolbar&&this._cardToolbar.isFocusOrHover()?this._showToolbar():this._destroyToolbar()}},{key:"_showToolbar",value:function(){var e=this;if(!this.iEditor.isMaxView){this._needReset=!0;var t=this.iEditor,n=t.editBox,r=t.scrollNode,o=t.innerOverlayContainer,i=t.iRenderer,a=OE.updateContainerToolbar(this.cardRootNode,n,o,this._transformContainerToolbarConfig(this.getContainerToolbarConfig()));this._cardToolbar=OE.updateCardToolbar(this.cardRootNode,o,r,this._transformToolbarItem(this.getCardToolbarConfig()),{autoClose:this.handleCardToolbarAutoClose}),a&&a.on("menuVisibleChange",(function(t){t&&i.focusCard(e.cardRootNode.parentNode)}))}}},{key:"_updateToolbarPos",value:function(){this.iEditor.isMaxView||(OE.updateContainerToolbarPos(this.cardRootNode),OE.updateCardToolbarPos(this.cardRootNode))}},{key:"_destroyToolbar",value:function(){this._needReset=!1,OE.destroyContainerToolbar(this.cardRootNode),OE.destroyCardToolbar(this.cardRootNode),this._cardToolbar=null}},{key:"_transformContainerToolbarConfig",value:function(e){var t=this;if(!e)return e;var n=this.iEditor.iRenderer;return aO(aO({},e),{},{onDrop:function(e){var r=e.node,o=e.offset,i=document.createRange();i.setStart(r,o),i.collapse(!0);var a=t.iEditor.iEngine.transformDOMRange(i);n.execCommand("moveCard",t._cardID,a.start)},items:this._transformToolbarItem(e.items)})}},{key:"_transformToolbarItem",value:function(e){var t=this;return e?(e=e.map((function(e){if("|"===e)return e;var n=e;"string"!=typeof e?(n=e.name,e=aO({onClick:oO[n]},e)):e={name:n,onClick:oO[n]};var r=aO(aO({name:n},e),{},{cardData:t.cardData,onClick:function(){e.onClick&&e.onClick(t.iEditor,t,e)}});return"spacing"===n&&(r.isChecked=function(){var e;return(null===(e=t.cardData)||void 0===e?void 0:e.hasCardSpacing())||!1}),r})),this.iEditor.hasExtendMethod("getDisabledMiniToolbarItems")&&(e=OE.filter(e,this.iEditor.getDisabledMiniToolbarItems())),this.iEditor.hasExtendMethod("getFilterMiniToolbarItems")&&(e=OE.filter(e,this.iEditor.getFilterMiniToolbarItems(this.cardNode.viewNode,e))),OE.generateToolbarItems(e)):e}},{key:"_refreshCardSpacing",value:function(){var e=this.cardNode.viewNode;if("image"===e.nodeName||e.hasCategory(Er.BlockCard)){var t=this._cardData.getCardSpacing(),n=this._cardRootNode.parentNode,r=n;"NE-HOLE"===n.parentNode.nodeName&&(r=n.parentNode),r.classList.remove("ne-spacing-all","ne-spacing-top","ne-spacing-bottom"),"both"===t?r.classList.add("ne-spacing-all"):"top"===t?r.classList.add("ne-spacing-top"):"bottom"===t&&r.classList.add("ne-spacing-bottom")}}},{key:"enterMaxView",value:function(e){var t=this;this.beforeMaximizeChanged(!0),this.hideAllToolbar(),this.hideResizer(),this.iEditor.enterMaxView(this.cardRootNode.parentNode,e,(function(){t.beforeMaximizeChanged(!1)}),(function(){Promise.resolve().then((function(){t.showAllToolbar(),t.showResizer()})),t.afterMaximizeChanged(!1)})),this.afterMaximizeChanged(!0)}},{key:"_refreshCardWidthMode",value:function(){var e=this._cardData.getWidthMode(),t=this._cardRootNode.parentNode,n=t;"NE-HOLE"===t.parentNode.nodeName&&(n=t.parentNode),"contain"===e?n.classList.add("ne-full-width"):n.classList.remove("ne-full-width")}}],[{key:"render",value:function(e,t,n){return XN.render(e,t,n,n)}},{key:"ummount",value:function(e){XN.unmount(e)}}]),i}(),lO={cmd:W.ua.macos?"⌘":"Ctrl",command:W.ua.macos?"⌘":"Ctrl",option:W.ua.macos?"Option":"Alt",opt:W.ua.macos?"Opt":"Alt",190:".",188:","};function sO(e,t){return e.map((function(e){var t=(e+="").toLowerCase();return lO[t]||t[0].toUpperCase()+t.substring(1)})).join(t||"+")}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var dO=function(){function e(t){var n=this;o()(this,e),m()(this,"_keyMaps",{}),m()(this,"_named",{}),t.onRootNode("keydown",(function(e){if(229!==e.keyCode){var t=document.getSelection();if(1===t.rangeCount&&kN(t.getRangeAt(0).commonAncestorContainer))return;var r=n._getKeyHandlers(e);if(r)for(var o=!0,i={stop:function(){o=!1,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}},a=0,c=r.length;a<c;a++)if((0,r[a])(i),!o)return}}),!1)}return a()(e,[{key:"destroy",value:function(){this._keyMaps=null,this._named=null}},{key:"register",value:function(e,t,n,r){br(r>0,"F:hot-key;L:61");var o=AE.parseKeys(t);if(o){var i=o.keyName,a=o.modifier;this._keyMaps[i]||(this._keyMaps[i]=[]),function(e,t){if(0!==e.length){var n=t.priority;if(n>e[0].priority)e.unshift(t);else{for(var r=e.length-1;r>=0;r--){if(n<=e[r].priority)return void e.splice(r+1,0,t)}br(!1,"F:hot-key;L:140")}}else e.push(t)}(this._keyMaps[i],{name:e,modifier:a,handler:n,priority:r}),this._named[e]={keys:x()(t),text:sO(t)}}}},{key:"getKeyByName",value:function(e){return this._named[e]}},{key:"getAllKeys",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uO(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._named)}},{key:"_getKeyHandlers",value:function(e){var t=e.key,n=e.keyCode,r=this._keyMaps[t.toLowerCase()]||this._keyMaps[n];if(!r)return null;var o=[];return r.forEach((function(t){AE.isMatchModifier(e,t.modifier)&&o.push(t.handler)})),o.length?o:null}}]),e}();var fO=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_hotKey",null),e}return a()(i,[{key:"init",value:function(e){var t=new dO(e);this._hotKey=t,e.extendMethods({registerHotKey:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;t.register(e,n,r,o)},getHotKeyByName:function(e){return t.getKeyByName(e)},getAllHotKeys:function(){return t.getAllKeys()}})}},{key:"destroy",value:function(){this._hotKey.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(fO,"PluginName","hotKey");var hO=function(){function e(){o()(this,e),m()(this,"_currentTableNodes",[]),m()(this,"_currentCardNodes",[]),m()(this,"_currentCellNodes",[]),m()(this,"_multipleTableNode",null)}return a()(e,[{key:"destroy",value:function(){this._currentTableNodes=null,this._currentCardNodes=null,this._currentCellNodes=null,this._multipleTableNode=null}},{key:"reset",value:function(e,t,n){e=e.map((function(e){return e._wrapNode})),this._resetFakeSelection(this._currentTableNodes,e),this._resetFakeSelection(this._currentCardNodes,t),this._resetTableCellFakeSelection(this._currentCellNodes,n),this._currentTableNodes=e,this._currentCardNodes=t,this._currentCellNodes=n}},{key:"_resetFakeSelection",value:function(e,t){e.forEach((function(e){-1===t.indexOf(e)&&e.removeAttribute("ne-fake-selection")})),t.forEach((function(e){e.setAttribute("ne-fake-selection","true")}))}},{key:"_resetTableCellFakeSelection",value:function(e,t){if(e.forEach((function(e){-1===t.indexOf(e)&&e.removeAttribute("ne-fake-cell-selection")})),t.forEach((function(e){e.setAttribute("ne-fake-cell-selection","true")})),t.length){var n=t[0].parentNode.parentNode.parentNode;br("TABLE"===n.nodeName,"F:draw-context;L:59"),this._multipleTableNode&&this._multipleTableNode!==n&&this._multipleTableNode.removeAttribute("ne-fake-table-selection"),n.setAttribute("ne-fake-table-selection",!0),this._multipleTableNode=n}else this._multipleTableNode&&(this._multipleTableNode.removeAttribute("ne-fake-table-selection"),this._multipleTableNode=null)}}]),e}(),pO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"createRange",value:function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset,i=document.createRange();if(t===r)return n===o?(i.setStart(t,n),i.collapse(!0)):n<o?(i.setStart(t,n),i.setEnd(r,o)):(i.setStart(r,o),i.setEnd(t,n)),i;var a=t,c=r;t.nodeType===Node.ELEMENT_NODE&&(a=t.childNodes[n]||t),r.nodeType===Node.ELEMENT_NODE&&(c=r.childNodes[o]||r);var l=a.compareDocumentPosition(c);return l&Node.DOCUMENT_POSITION_FOLLOWING?(i.setStart(t,n),i.setEnd(r,o),i):l&Node.DOCUMENT_POSITION_PRECEDING?(i.setStart(r,o),i.setEnd(t,n),i):l&Node.DOCUMENT_POSITION_CONTAINS?(i.setStart(t,n),i.setEnd(r,o),i):l&Node.DOCUMENT_POSITION_CONTAINED_BY?(i.setStart(r,o),i.setEnd(t,n),i):void br(!1,"F:dom-selection-helper/index;L:75")}},{key:"setRangeToPoint",value:function(e,t){var n;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(e,t);else{if(!document.caretPositionFromPoint)throw new Error("Does not support caretRangeFromPoint or caretPositionFromPoint");var r=document.caretPositionFromPoint(e,t);n=document.createRange(),r&&(n.setStart(r.offsetNode,r.offset),n.setEnd(r.offsetNode,r.offset))}var o=document.getSelection();return o&&(o.removeAllRanges(),o.addRange(n)),o}},{key:"getRangeRect",value:function(e){if(e){if(e.collapsed&&e.getClientRects){var t=ze()(e.getClientRects()[0]);if(!He()(t))return t}else if(e.getBoundingClientRect){var n=ze()(e.getBoundingClientRect());if(!He()(n))return n}var r=e.startContainer;return r.nodeType===Node.TEXT_NODE&&(r=r.parentElement),r.nodeType===Node.ELEMENT_NODE?r.getBoundingClientRect():void 0}}}]),e}(),vO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"getSelection",value:function(){return document.getSelection()}},{key:"currentRange",value:function(){var e=document.getSelection();if(1===e.rangeCount)return e.getRangeAt(0).cloneRange();if(e.rangeCount>1){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);if("TR"===t.startContainer.nodeName&&"TR"===n.endContainer.nodeName){var r=document.createRange();r.setStart(t.startContainer.childNodes[t.startOffset],0);var o=n.endContainer.childNodes[n.endOffset-1];return r.setEnd(o,o.childNodes.length),r}var i=document.createRange();return i.setStart(t.startContainer,t.startOffset),i.setEnd(n.endContainer,n.endOffset),i.cloneRange()}return null}},{key:"setRange",value:function(e,t,n,r){if(t.length>1){var o=kd(t[0].startContainer,"td");br(o,"F:dom-selection-helper;L:52");var i=o._viewNode._virtualNode.getContentDOMNode();return br(i,"F:dom-selection-helper;L:55"),void e.setBaseAndExtent(i,0,i,i.childNodes.length)}var a=function(e){var t;if(e.collapsed&&e.startContainer.nodeType===Node.TEXT_NODE&&0===e.startOffset&&"\ufeff"===e.startContainer.data&&(e.setEnd(e.startContainer,1),e.collapse(!1)),e.collapsed&&e.startContainer.nodeType===Node.ELEMENT_NODE&&"NE-CARD"===(null===(t=e.startContainer.childNodes[e.startOffset])||void 0===t?void 0:t.nodeName)&&e.startContainer.childNodes[e.startOffset-1]&&"NE-CARD"!==e.startContainer.childNodes[e.startOffset-1].nodeName)return e.selectNodeContents(e.startContainer.childNodes[e.startOffset-1]),e.collapse(!1),e;var n=vO.currentRange();if(e=e.cloneRange(),!n)return e;var r=e,o=r.startContainer,i=r.startOffset,a=r.endContainer,c=r.endOffset,l=r.collapsed,s=xO({node:o,offset:i},{node:n.startContainer,offset:n.startOffset});if(e.setStart(s.node,s.offset),l)return e.collapse(!0),e;var u=xO({node:a,offset:c},{node:n.endContainer,offset:n.endOffset});return e.setEnd(u.node,u.offset),e}(t[0]),c=a.startContainer,l=a.startOffset,s=a.endContainer,u=a.endOffset,d=a.collapsed;"start"===r?e.setBaseAndExtent(c,l,s,u):e.setBaseAndExtent(s,u,c,l),br(e.getRangeAt(0).collapsed===d,"F:dom-selection-helper;L:69")}},{key:"createRange",value:function(e){return pO.createRange(e)}},{key:"createRangeByNodeContents",value:function(e){br(e.nodeType===Node.ELEMENT_NODE,"F:dom-selection-helper;L:77");var t=document.createRange();return t.selectNodeContents(e),t}},{key:"getFocusTableCell",value:function(e,t){return kd(e.focusNode,"td",t)}},{key:"isFocusInTable",value:function(e,t){return!!kd(e.focusNode,"table",t)}},{key:"focusNodeInFirstCell",value:function(e,t){var n=kd(e.focusNode,"td",t);return!!n&&0===n.cellIndex&&0===uR(n.parentNode)}},{key:"isAnchorInTable",value:function(e,t){return!!kd(e.anchorNode,"table",t)}},{key:"getTableTailRangeByCellNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];br(e.rangeCount>0,"F:dom-selection-helper;L:114");var r=e.focusNode,o=e.focusOffset,i=t;"TD"===t.nodeName&&(i=t.parentNode.parentNode.parentNode),br(i&&"TABLE"===i.nodeName,"F:dom-selection-helper;L:123");var a=i.parentNode.parentNode.parentNode,c=e.getRangeAt(0).cloneRange();return n?(c.collapsed?wO(c,a.parentNode,uR(a)+1):c.endContainer===r&&c.endOffset===o?c.setEnd(a.parentNode,uR(a)+1):c.setStart(a.parentNode,uR(a)+1),bO(c)):(c.setStart(a.parentNode,uR(a)+1),c.collapse(!0),bO(c))}},{key:"getTableHeadRangeByCellNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];br(e.rangeCount>0,"F:dom-selection-helper;L:149");var r=e.focusNode,o=e.focusOffset,i=t;"TD"===t.nodeName&&(i=t.parentNode.parentNode.parentNode),br(e.rangeCount>0&&i,"F:dom-selection-helper;L:158"),br("TABLE"===i.nodeName,"F:dom-selection-helper;L:159");var a=i.parentNode.parentNode.parentNode,c=e.getRangeAt(0).cloneRange();return n?(c.collapsed||(c.endContainer===r&&c.endOffset===o?c.collapse(!0):c.collapse(!1)),wO(c,a.parentNode,uR(a)),bO(c)):(c.setStart(a.parentNode,uR(a)),c.collapse(!0),bO(c))}},{key:"getTableTailRange",value:function(t,n){br(t.rangeCount>0,"F:dom-selection-helper;L:188");var r=kd(t.focusNode,"td",n);return br(r,"F:dom-selection-helper;L:193"),e.getTableTailRangeByCellNode(t,r)}},{key:"getTableHeadRange",value:function(t,n){br(t.rangeCount>0,"F:dom-selection-helper;L:199");var r=kd(t.focusNode,"td",n);return e.getTableHeadRangeByCellNode(t,r)}},{key:"transformRange",value:function(e,t){if(e.collapsed)return{anchor:"start",focus:"start",ranges:[e]};var n=kd(e.startContainer,"table",t),r=kd(e.endContainer,"table",t);return n||r?n===r?function(e,t){var n=kd((e=function(e,t){var n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset;if("TR"===n.nodeName){br("TR"===o.nodeName,"F:dom-selection-helper;L:827");var a=n.childNodes[r],c=o.childNodes[i-1];return vO.createRange({startContainer:a,startOffset:0,endContainer:c,endOffset:c.childNodes.length})}return br(kd(n,"td",t),"F:dom-selection-helper;L:839"),br(kd(o,"td",t),"F:dom-selection-helper;L:840"),e}(e,t)).startContainer,"td",t),r=kd(e.endContainer,"td",t);if(n===r)return bO(e);var o=n.parentNode,i=r.parentNode,a=o.parentNode.parentNode;return br("TR"===o.nodeName&&"TR"===i.nodeName&&"TABLE"===a.nodeName,"F:dom-selection-helper;L:446"),function(e,t){br(e.length>1,"F:dom-selection-helper;L:626");var n,r,o=vO.getCellEndPoint(t),i=o.anchorCellNode,a=o.focusCellNode,c=kd(e[0].startContainer,"td",t),l=kd(e[e.length-1].endContainer,"td",t);if(br(i&&a&&c,"F:dom-selection-helper;L:631"),i===c||a===l)n="start",r="end";else if(a===c||i===l)n="end",r="start";else{var s=parseInt(a.getAttribute("data-col"),10),u=parseInt(i.getAttribute("data-col"),10),d=uR(a.parentNode),f=uR(i.parentNode);br(s>=0&&u>=0,"F:dom-selection-helper;L:648"),br(s!==u&&d!==f,"F:dom-selection-helper;L:650"),s>u?d>=f?(r="end",n="start"):(r="topRight",n="bottomLeft"):s===u?(br(d!==f,"F:dom-selection-helper;L:661"),d>f?(r="end",n="start"):(r="start",n="end")):d<=f?(r="start",n="end"):(r="bottomLeft",n="topRight")}return{anchor:n,focus:r,ranges:e}}(function(e,t,n){var r=e.map.get(t),o=e.map.get(n),i=Math.min(r.realMinColIndex,o.realMinColIndex),a=Math.max(r.realMaxColIndex,o.realMaxColIndex);return function e(t,n,r,o,i){for(var a=t.cells,c=t.map,l=new Set,s=n;s<=r;s++)for(var u=o;u<=i;u++){var d=a[s][u],f=c.get(d);if(f.realMinRowIndex<n)return e(t,f.realMinRowIndex,r,o,i);if(f.realMinColIndex<o)return e(t,n,r,f.realMinColIndex,i);if(f.realMaxRowIndex>r)return e(t,n,f.realMaxRowIndex,o,i);if(f.realMaxColIndex>i)return e(t,n,r,o,f.realMaxColIndex);l.add(d)}return Array.from(l)}(e,Math.min(r.realMinRowIndex,o.realMinRowIndex),Math.max(r.realMaxRowIndex,o.realMaxRowIndex),i,a)}(function(e){var t={map:new Map,cells:[]};function n(e,n){t.cells[e]||(t.cells[e]=[]);var r=n.colSpan,o=parseInt(n.getAttribute("data-col"),10);br(o>=0,"F:dom-selection-helper;L:499"),t.cells[e][o]=n;for(var i=1,a=r;i<a;i++)t.cells[e][o+i]=n;return o}return Array.from(e.tBodies[0].rows).forEach((function(e){var r=e.rowIndex;Array.from(e.cells).forEach((function(e){for(var o=e.rowSpan,i=e.colSpan,a=n(r,e),c=1;c<o;c++)n(r+c,e);t.map.set(e,{realMinRowIndex:r,realMaxRowIndex:r+o-1,realMinColIndex:a,realMaxColIndex:a+i-1})}))})),t}(a),n,r).map((function(t){return(e=e.cloneRange()).selectNodeContents(t),e})),t)}(e,t):function(e,t){var n=kd(e.startContainer,"table",t),r=kd(e.endContainer,"table",t),o=e.startContainer,i=e.startOffset,a=e.endContainer,c=e.endOffset;if(n){var l=n.parentNode.parentNode.parentNode;o=l.parentNode,i=uR(l)}if(r)if(r!==n){var s=r.parentNode.parentNode.parentNode;a=s.parentNode,c=uR(s)+1}else a=o,c=i+1;var u=document.createRange();return u.setStart(o,i),u.setEnd(a,c),bO(u)}(e,t):bO(e)}},{key:"getCellEndPoint",value:function(e){var t=document.getSelection(),n=t.rangeCount;if(0===n)return null;if(1===n){var r=t.getRangeAt(0);return{focusCellNode:kd(t.focusNode,"td",e),anchorCellNode:kd(t.anchorNode,"td",e),firstCellNode:kd(r.startContainer,"td",e),lastCellNode:kd(r.endContainer,"td",e)}}for(var o=[],i=0;i<n;i++){var a=t.getRangeAt(i);br("TR"===a.startContainer.nodeName&&a.startOffset+1===a.endOffset,"F:dom-selection-helper;L:255");var c=a.startContainer.childNodes[a.startOffset];o.push(c)}var l=t.focusNode,s=t.focusOffset,u=t.anchorNode,d=t.anchorOffset;br("TR"===l.nodeName,"F:dom-selection-helper;L:264"),br(l===u&&1===Math.abs(s-d),"F:dom-selection-helper;L:265");var f=l.childNodes[Math.min(s,d)],h=o[0],p=o[o.length-1],v=null;if(f===h)v=p;else if(f===p)v=h;else if(h.parentNode===f.parentNode)for(var m=p;m&&o.includes(m);)v=m,m=m.previousElementSibling;else for(var y=h;y&&o.includes(y);)v=y,y=y.nextElementSibling;return br(v,"F:dom-selection-helper;L:311"),{focusCellNode:f,anchorCellNode:v,firstCellNode:h,lastCellNode:p}}},{key:"refreshSelection",value:function(){var e=document.getSelection(),t=document.activeElement;if(!(0===e.rangeCount||null!=t&&t.closest("ne-card"))){var n=e.anchorNode,r=e.anchorOffset,o=e.focusNode,i=e.focusOffset;e.removeAllRanges(),e.setBaseAndExtent(n,r,o,i)}}}]),e}();function mO(e){var t=document.createRange();return t.setStart(e,0),t.collapse(!0),t}function yO(e){var t=e=e.cloneRange(),n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=gO(n,r),c=gO(o,i);return e.setStart(a.node,a.offset),e.setEnd(c.node,c.offset),e}function gO(e,t){for(;e.nodeType===Node.ELEMENT_NODE&&"BR"!==e.nodeName;){var n=e.childNodes[t];if(n)e=n,t=0;else{if(!(n=e.childNodes[t-1])){t=0;break}t=(e=n).nodeType===Node.ELEMENT_NODE?e.childNodes.length:e.data.length}}return{node:e,offset:t}}function bO(e){if(e.collapsed)return{anchor:"start",focus:"start",ranges:[e]};var t=document.getSelection(),n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,a=t.anchorNode,c=t.anchorOffset,l=t.focusNode,s=t.focusOffset;if(n===o&&"TD"===n.nodeName)return{anchor:"start",focus:"end",ranges:[e]};if(n===a&&r===c||o===l&&i===s)return{anchor:"start",focus:"end",ranges:[e]};if(o===a&&i===c||n===l&&r===s)return{anchor:"end",focus:"start",ranges:[e]};var u=kd(l,"ne-table-wrap"),d=kd(a,"ne-table-wrap");br(u&&d,"F:dom-selection-helper;L:598");var f=n.childNodes[r],h=o.childNodes[i-1];return f===u||h===d?{anchor:"end",focus:"start",ranges:[e]}:(br(f===d||h===u,"F:dom-selection-helper;L:612"),{anchor:"start",focus:"end",ranges:[e]})}function wO(e,t,n){br(e.collapsed,"F:dom-selection-helper;L:689"),-1===e.comparePoint(t,n)?e.setStart(t,n):e.setEnd(t,n)}function xO(e,t){var n=e.node,r=e.offset;if(n.nodeType!==Node.ELEMENT_NODE)return e;var o=function(e){var t=e.node;return t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),t._viewNode&&(t._viewNode.isTextFillerNode()||t._viewNode.isInlineFillerNode())?t:null}(t);if(!o)return e;var i=n.childNodes[r];if(i&&i===o&&i._viewNode&&(i._viewNode.isInlineFillerNode()||i._viewNode.isTextFillerNode()))return{node:o,offset:1};var a=n.childNodes[r-1];return a&&a===o&&a._viewNode&&(a._viewNode.isInlineFillerNode()||a._viewNode.isTextFillerNode())?{node:o,offset:1}:e}function _O(e,t){var n,r,o=e.rangeCount?e.getRangeAt(0):null,i=t.ranges,a=t.focus,c=t.anchor,l=i[0].startContainer;if(l._viewNode&&l._viewNode.isCardNode()){if(o&&!l.contains(o.startContainer)){var s=document.createRange();s.setStart(i[0].startContainer,0),s.collapse(!0),vO.setRange(e,[s],"start","start")}}else r=o,(n=i[0])&&r&&n.collapsed===r.collapsed&&n.startContainer===r.startContainer&&n.endContainer===r.endContainer&&n.startOffset===r.startOffset&&n.endOffset===r.endOffset||vO.setRange(e,i,a,c)}function kO(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.collapsed)return!1;var r=document.createRange();return r.selectNode(t),n?1!==e.compareBoundaryPoints(Range.START_TO_END,r)&&-1!==e.compareBoundaryPoints(Range.END_TO_START,r):e.compareBoundaryPoints(Range.START_TO_START,r)<1&&e.compareBoundaryPoints(Range.END_TO_END,r)>-1}function CO(e){var t=e.commonAncestorContainer;if(e.collapsed||t.nodeType!==Node.ELEMENT_NODE)return[];var n=t.querySelectorAll("ne-card");return Array.from(n).filter((function(t){return kO(e,t,!1)}))}function RO(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=n.ranges;o&&_O(t,n);var a=[],c=i.map((function(e){CO(e).forEach((function(e){a.push(e)}));var t=kd(e.startContainer,"td",r);return br(t,"F:draw-multiple;L:22"),t}));e.reset([],a,c)}function NO(e){var t=e.commonAncestorContainer;if(t.nodeType!==Node.ELEMENT_NODE)return[];var n=t.querySelectorAll("table");return Array.from(n).filter((function(t){return kO(e,t,!1)}))}function EO(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r&&_O(t,n);var o=NO(n.ranges[0]),i=CO(n.ranges[0]);e.reset(o,i,[])}m()(vO,"focusToStartOfNode",(function(e){if("NE-CARD"===e.nodeName)return mO(e);var t=document.createRange();return t.selectNodeContents(e),t.collapse(!0),yO(t)})),m()(vO,"focusToEndOfNode",(function(e){if("NE-CARD"===e.nodeName)return mO(e);var t=document.createRange();return t.selectNodeContents(e),t.collapse(!1),yO(t)})),m()(vO,"createCardRange",mO),m()(vO,"shrinkRange",yO),m()(vO,"shrinkPositionToTextNode",gO);var OO=function(){function e(t){o()(this,e),m()(this,"_rootNode",null),m()(this,"_domDocument",null),m()(this,"_domSelection",null),m()(this,"_drawContext",null),this._rootNode=t.domRootNode,this._domDocument=this._rootNode.ownerDocument,this._domSelection=this._domDocument.getSelection(),this._drawContext=new hO}return a()(e,[{key:"destroy",value:function(){this._drawContext.destroy(),this._rootNode=null,this._domDocument=null,this._domSelection=null,this._drawContext=null}},{key:"clear",value:function(){this._drawContext.reset([],[],[])}},{key:"refresh",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.ranges.length>1?RO(this._drawContext,this._domSelection,e,t,n):EO(this._drawContext,this._domSelection,e,n)}}]),e}(),DO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"generateLayout",value:function(e){return t=e.parentNode.parentNode.parentNode._viewNode,n=[],o=(r=t.attrs).rowCount,i=r.colCount,t.children.forEach((function(e,t){e.children.forEach((function(e){for(var r=e.attrs,o=r.rowSpan,i=void 0===o?1:o,a=r.colSpan,c=void 0===a?1:a,l=r.col,s=l+c-1,u=t+i-1,d=0;d<i;d++){var f=t+d;n[f]||(n[f]=[]);for(var h=0;h<c;h++)n[f][l+h]={minCol:l,maxCol:s,minRow:t,maxRow:u,viewNode:e,domNode:e._virtualNode.getMainDOMNode()}}})),br(n[t].length===i,"F:table-selection-helper;L:337")})),br(n.length===o,"F:table-selection-helper;L:340"),n;var t,n,r,o,i}},{key:"getBoundary",value:function(e,t){br("TD"===e.nodeName&&"TD"===t.nodeName,"F:table-selection-helper;L:17");var n=e.parentNode.rowIndex,r=n+e.rowSpan-1,o=e.parentNode.rowIndex,i=o+t.rowSpan-1,a=parseInt(e.getAttribute("data-col"),10),c=a+e.colSpan-1,l=parseInt(t.getAttribute("data-col"),10),s=l+t.colSpan-1;return br(a>=0&&l>=0,"F:table-selection-helper;L:28"),{minRow:Math.min(n,o),maxRow:Math.max(r,i),minCol:Math.min(a,l),maxCol:Math.max(c,s)}}},{key:"extendRight",value:function(e,t,n,r){br("TABLE"===n.nodeName,"F:table-selection-helper;L:40");var o=n.parentNode.parentNode.parentNode._viewNode;br(o&&"table"===o.nodeName,"F:table-selection-helper;L:45");var i=t.getViewSelection(),a=i.anchor,c=i.focus,l=BO(e,a,r),s=function(e,t,n,r){var o=BO(e,t,r),i=BO(e,n,r),a=function e(t,n,r,o){if((r+=1)===t[0].length)return null;for(var i=n.minRow,a=n.maxRow,c=Math.min(r,o.minCol),l=Math.max(r,o.maxCol),s=i;s<=a;s++){var u=t[s][r],d=u.minCol,f=u.maxCol;if(d<c||f>l)return e(t,n,r,o)}return r}(e,r,o.maxCol,i);return null===a?null:SO(e,{minRow:r.minRow,maxRow:r.maxRow,minCol:Math.min(a,i.minCol),maxCol:Math.max(a,i.maxCol)})}(e,c,a,r);return s?PO(e,a,l,r,s):null}},{key:"moveRight",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n.minRow,i=n.maxRow,a=n.minCol,c=n.maxCol;br(o!==i||a!==c,"F:table-selection-helper;L:63");var l,s=e[o][c+1];return s&&s.viewNode.parentNode.offset===o?l=vO.createRangeByNodeContents(s.domNode):(br(e[o][c],"F:table-selection-helper;L:76"),l=vO.createRangeByNodeContents(e[o][c].domNode)),r&&l.collapse(!0),{anchor:"start",focus:"start",ranges:[l]}}},{key:"extendLeft",value:function(e,t,n,r){br("TABLE"===n.nodeName,"F:table-selection-helper;L:93");var o=n.parentNode.parentNode.parentNode._viewNode;br(o&&"table"===o.nodeName,"F:table-selection-helper;L:98");var i=t.getViewSelection(),a=i.anchor,c=function(e,t,n,r){var o=BO(e,t,r),i=BO(e,n,r),a=function e(t,n,r,o){if((r-=1)<0)return null;for(var i=n.minRow,a=n.maxRow,c=Math.min(r,o.minCol),l=Math.max(r,o.maxCol),s=i;s<=a;s++){var u=t[s][r],d=u.minCol,f=u.maxCol;if(d<c||f>l)return e(t,n,r,o)}return r}(e,r,o.minCol,i);return null===a?null:SO(e,{minRow:r.minRow,maxRow:r.maxRow,minCol:Math.min(a,i.minCol),maxCol:Math.max(a,i.maxCol)})}(e,i.focus,a,r);return c?PO(e,a,BO(e,a,r),r,c):null}},{key:"moveLeft",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n.minRow,i=n.maxRow,a=n.minCol,c=n.maxCol;br(o!==i||a!==c,"F:table-selection-helper;L:117");var l,s=e[o][a-1];return s&&s.viewNode.parentNode.offset===o?l=vO.createRangeByNodeContents(s.domNode):(br(e[o][a],"F:table-selection-helper;L:129"),l=vO.createRangeByNodeContents(e[o][a].domNode)),r&&l.collapse(!0),{anchor:"start",focus:"start",ranges:[l]}}},{key:"extendUp",value:function(e,t,n,r){br("TABLE"===n.nodeName,"F:table-selection-helper;L:145");var o=n.parentNode.parentNode.parentNode._viewNode;br(o&&"table"===o.nodeName,"F:table-selection-helper;L:150");var i=t.getViewSelection(),a=i.anchor,c=function(e,t,n,r){var o=BO(e,t,r),i=BO(e,n,r),a=function e(t,n,r,o){if((r-=1)<0)return null;for(var i=n.minCol,a=n.maxCol,c=Math.min(r,o.minRow),l=Math.max(r,o.maxRow),s=t[r],u=i;u<=a;u++){var d=s[u],f=d.minRow,h=d.maxRow;if(f<c||h>l)return e(t,n,r,o)}return r}(e,r,o.minRow,i);return null===a?null:SO(e,{minRow:Math.min(a,i.minRow),maxRow:Math.max(a,i.maxRow),minCol:r.minCol,maxCol:r.maxCol})}(e,i.focus,a,r);return c?PO(e,a,BO(e,a,r),r,c):null}},{key:"moveUp",value:function(e,t,n){var r,o=n.minRow,i=n.maxRow,a=n.minCol,c=n.maxCol,l=e[o-1]&&e[o-1][a];if(l)r=vO.createRangeByNodeContents(l.domNode);else{var s=e[o][a];if(s.maxRow===i&&s.maxCol===c)return null;br(e[o][a],"F:table-selection-helper;L:186"),r=vO.createRangeByNodeContents(e[o][a].domNode)}return r.collapse(!0),{anchor:"start",focus:"start",ranges:[r]}}},{key:"extendDown",value:function(e,t,n,r){br("TABLE"===n.nodeName,"F:table-selection-helper;L:201");var o=n.parentNode.parentNode.parentNode._viewNode;br(o&&"table"===o.nodeName,"F:table-selection-helper;L:206");var i=t.getViewSelection(),a=i.anchor,c=function(e,t,n,r){var o=BO(e,t,r),i=BO(e,n,r),a=function e(t,n,r,o){if((r+=1)===t.length)return null;for(var i=n.minCol,a=n.maxCol,c=Math.min(r,o.minRow),l=Math.max(r,o.maxRow),s=t[r],u=i;u<=a;u++){var d=s[u],f=d.minRow,h=d.maxRow;if(f<c||h>l)return e(t,n,r,o)}return r}(e,r,o.maxRow,i);return null===a?null:SO(e,{minRow:Math.min(a,i.minRow),maxRow:Math.max(a,i.maxRow),minCol:r.minCol,maxCol:r.maxCol})}(e,i.focus,a,r);return c?PO(e,a,BO(e,a,r),r,c):null}},{key:"moveDown",value:function(e,t,n){var r,o=n.minRow,i=n.maxRow,a=n.minCol,c=n.maxCol,l=e[i+1]&&e[i+1][a];if(l)r=vO.createRangeByNodeContents(l.domNode);else{if(o===i&&a===c)return null;br(e[i][a],"F:table-selection-helper;L:239"),r=vO.createRangeByNodeContents(e[i][a].domNode)}return r.collapse(!0),{anchor:"start",focus:"start",ranges:[r]}}}]),e}();function SO(e,t){for(var n=t.minRow,r=t.maxRow,o=t.minCol,i=t.maxCol,a=n,c=r,l=o,s=i,u=n;u<=r;u++)for(var d=o;d<=i;d++){var f=e[u][d];o=Math.min(o,f.minCol),n=Math.min(n,f.minRow),i=Math.max(i,f.maxCol),r=Math.max(r,f.maxRow)}return o!==l||i!==s||n!==a||r!==c?SO(e,{minRow:n,maxRow:r,minCol:o,maxCol:i}):{minRow:n,maxRow:r,minCol:o,maxCol:i}}function BO(e,t,n){return"start"===t?e[n.minRow][n.minCol]:"end"===t?e[n.maxRow][n.maxCol]:"topRight"===t?e[n.minRow][n.maxCol]:(br("bottomLeft"===t,"F:table-selection-helper;L:359"),e[n.maxRow][n.minCol])}function PO(e,t,n,r,o){var i=function(e,t){for(var n=new Set,r=SO(e,t),o=r.minRow,i=r.maxRow,a=r.minCol,c=r.maxCol,l=o;l<=i;l++)for(var s=a;s<=c;s++){var u=e[l][s];n.add(u.viewNode)}return Array.from(n).map((function(e){return e._virtualNode.getMainDOMNode()}))}(e,o),a=document.createRange(),c=i.map((function(e){var t=a.cloneRange();return t.selectNodeContents(e),t}));if(1===c.length)return{focus:"start",anchor:"start",ranges:c};br(c.length>1,"F:table-selection-helper;L:381");var l=function(e,t,n,r,o){var i=o.minRow,a=o.maxRow,c=o.minCol,l=o.maxCol,s=n.minRow,u=n.maxRow,d=n.minCol,f=n.maxCol;if(s===i&&d===c)return"start";if(u===a&&f===l)return"end";if(s===i&&f===l)return"topRight";if(u===a&&d===c)return"bottomLeft";br(u<=a&&f<=l&&s>=i&&d>=c,"F:table-selection-helper;L:418");var h=r.minRow===i,p=r.maxCol===l,v=r.maxRow===a,m=r.minCol===c;return"start"===t?h?m||!p?"start":"topRight":m||!p?"bottomLeft":"end":"end"===t?v?p||!m?"end":"bottomLeft":p||!m?"topRight":"start":"topRight"===t?h?p||!m?"topRight":"start":p||!m?"end":"bottomLeft":"bottomLeft"===t?v?m||!p?"bottomLeft":"end":m||!p?"start":"topRight":void 0}(0,t,n,r,o);return{focus:FO(l),anchor:l,ranges:c}}function FO(e){return"start"===e?"end":"end"===e?"start":"bottomLeft"===e?"topRight":(br("topRight"===e,"F:table-selection-helper;L:507"),"bottomLeft")}var TO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isTab",value:function(e){var t=e.key,n=e.keyCode;return t?"Tab"===t:9===n}},{key:"isArrowUp",value:function(e){var t=e.key,n=e.keyCode;return t?"ArrowUp"===t:38===n}},{key:"isArrowDown",value:function(e){var t=e.key,n=e.keyCode;return t?"ArrowDown"===t:40===n}},{key:"isArrowLeft",value:function(e){var t=e.key,n=e.keyCode;return t?"ArrowLeft"===t:37===n}},{key:"isArrowRight",value:function(e){var t=e.key,n=e.keyCode;return t?"ArrowRight"===t:39===n}}]),e}();function MO(e,t,n){var r=e.focusNode,o=e.focusOffset,i=e.anchorNode,a=e.anchorOffset;n();var c=kd(e.focusNode,"td",t);return e.setBaseAndExtent(i,a,r,o),W.ua.firefox&&(n(),e.focusNode===r&&e.focusOffset===o&&e.anchorNode===i&&e.anchorOffset===a||e.setBaseAndExtent(i,a,r,o)),c}function LO(e){return e.nodeType===Node.TEXT_NODE&&(e=e.parentNode),e._viewNode}var AO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"tryInterceptKeyDown",value:function(e,t,n,r,o,i,a){var c=e.shiftKey;if(TO.isTab(e)){if(e.stopImmediatePropagation(),-1!==t.queryCommandState("canIndent"))return e.preventDefault(),c?t.execCommand("outdent"):t.execCommand("indent"),{changed:!0};if(c)return function(e,t,n,r){return{changed:!0,selectionData:n?DO.moveLeft(t,e,n,!1):function(e,t,n){var r=kd(vO.getSelection().focusNode,"td",n);br(r,"F:move-left-by-tab;L:25");var o=r.previousSibling;if(o)br("TD"===o.nodeName,"F:move-left-by-tab;L:30");else for(var i=e.tBodies[0].rows,a=r.parentNode.rowIndex-1;a>=0;a--)if(i[a].cells.length){o=i[a].cells[i[a].cells.length-1];break}return o?{focus:"start",anchor:"end",ranges:[vO.createRangeByNodeContents(o)]}:null}(e,0,r)}}(r,n,o,a);var l=function(e,t,n,r){return{changed:!0,selectionData:n?DO.moveRight(t,e,n,!1):function(e,t,n){var r=kd(vO.getSelection().focusNode,"td",n);br(r,"F:move-right-by-tab;L:25");var o=r.nextSibling;if(o)br("TD"===o.nodeName,"F:move-right-by-tab;L:30");else for(var i=e.tBodies[0].rows,a=r.parentNode.rowIndex+1,c=i.length;a<c;a++)if(i[a].cells[0]){o=i[a].cells[0];break}return o?{focus:"start",anchor:"end",ranges:[vO.createRangeByNodeContents(o)]}:null}(e,0,r)}}(r,n,o,a);return l.selectionData||t.execCommand("tableInsertAfterRow",1,-1,!0),l}return TO.isArrowLeft(e)?function(e,t,n,r,o,i,a){return o?function(e,t,n,r,o){return{changed:!0,selectionData:e?DO.extendLeft(r,t,n,o):DO.moveLeft(r,n,o)}}(e,t,n,r,o):function e(t,n,r,o,i,a){var c=vO.getSelection(),l=MO(c,a,(function(){c.modify("extend","left","character")}));if(!l)return t||r._isMaxView?{changed:!0,selectionData:null}:function(e,t,n){var r=t.parentNode.parentNode.parentNode;br("ne-table-wrap"===r.nodeName.toLowerCase(),"F:move-left;L:117");for(var o=10;o>0;){o--,e.modify("move","left","character");var i=kd(e.anchorNode,"ne-table-wrap",n);if(!i||i!==r)break}var a=e.focusNode;return a.childNodes&&a.childNodes[e.focusOffset-1]&&a.childNodes[e.focusOffset-1].nodeName.toLowerCase()===Df&&e.modify("move","left","character"),{changed:!0,selectionData:vO.transformRange(e.getRangeAt(0),n)}}(c,r,a);if(!i||l===i){i||br(!t,"F:move-left;L:59");var s=c.focusNode;c.modify(t?"extend":"move","left","character");var u,d=c.focusNode,f=c.focusOffset;return(u=d.nodeType===Node.TEXT_NODE?LO(d.parentNode):LO(d))&&u.isTextFillerNode()&&0===f&&(0===f||d===s)?e(t,n,r,o,i,a):{changed:!0,selectionData:vO.transformRange(c.getRangeAt(0),a)}}return function(e,t,n,r,o){br(e,"F:move-left;L:98");var i=uR(o.parentNode);br(parseInt(o.getAttribute("data-col"),10)>=0&&i>=0,"F:move-left;L:103");var a=DO.getBoundary(o,o);return{changed:!0,selectionData:DO.extendLeft(n,t,o.parentNode.parentNode.parentNode,a)}}(t,n,o,0,i)}(e,t,n,r,i,a)}(c,t,r,n,o,i,a):TO.isArrowRight(e)?function(e,t,n,r,o,i,a){return o?function(e,t,n,r,o){return{changed:!0,selectionData:e?DO.extendRight(r,t,n,o):DO.moveRight(r,n,o)}}(e,t,n,r,o):function(e,t,n,r,o,i){var a=vO.getSelection(),c=MO(a,i,(function(){a.modify("extend","right","character")}));return c?o&&c!==o?function(e,t,n,r,o){br(e,"F:move-right;L:74");var i=uR(o.parentNode);br(parseInt(o.getAttribute("data-col"),10)>=0&&i>=0,"F:move-right;L:79");var a=DO.getBoundary(o,o),c=DO.extendRight(n,t,o.parentNode.parentNode.parentNode,a);return br(c,"F:move-right;L:84"),{changed:!0,selectionData:c}}(e,t,r,0,o):(o||br(!e,"F:move-right;L:57"),a.modify(e?"extend":"move","right","character"),{changed:!0,selectionData:vO.transformRange(a.getRangeAt(0),i)}):e||n._isMaxView?{changed:!0,selectionData:null}:function(e,t,n){var r=t.parentNode.parentNode.parentNode;br("ne-table-wrap"===r.nodeName.toLowerCase(),"F:move-right;L:95");for(var o=10;o>0;){o--,e.modify("move","right","character");var i=kd(e.anchorNode,"ne-table-wrap",n);if(!i||i!==r)break}var a=e.focusNode;return a.childNodes&&a.childNodes[e.focusOffset]&&a.childNodes[e.focusOffset].nodeName.toLowerCase()===Df&&e.modify("move","right","character"),{changed:!0,selectionData:vO.transformRange(e.getRangeAt(0),n)}}(a,n,i)}(e,t,n,r,i,a)}(c,t,r,n,o,i,a):TO.isArrowUp(e)?function(e,t,n,r,o,i){return o?function(e,t,n,r,o){return{changed:!0,selectionData:e?DO.extendUp(r,t,n,o):DO.moveUp(r,n,o)}}(e,t,n,r,o):function(e,t,n,r,o){var i=vO.getSelection(),a=kd(i.focusNode,"td",o);return MO(i,o,(function(){i.modify(e?"extend":"move","left","line")}))===a?(i.modify(e?"extend":"move","left","line"),{changed:!0,selectionData:vO.transformRange(i.getRangeAt(0),o)}):function(e,t,n,r,o,i){var a=uR(o.parentNode);br(parseInt(o.getAttribute("data-col"),10)>=0&&a>=0,"F:move-up;L:59");var c=o.parentNode.parentNode.parentNode;br("TABLE"===c.nodeName,"F:move-up;L:62");var l,s=DO.getBoundary(o,o);if(e)l=DO.extendUp(n,t,c,s);else if(!(l=DO.moveUp(n,c,s))&&!c._isMaxView)return function(e,t,n){var r=kd(e.focusNode,"td",n);if(r&&0===r.parentNode.rowIndex&&!kd(r,"ne-table-wrap").previousSibling)return{changed:!0};var o=t.parentNode.parentNode.parentNode;br("ne-table-wrap"===o.nodeName.toLowerCase(),"F:move-up;L:101");var i=o.parentNode,a=uR(o);e.setBaseAndExtent(i,a,i,a);var c=o.previousSibling;if(c&&"ne-table-wrap"===c.nodeName.toLowerCase()){for(var l,s=c.querySelector("table").tBodies[0].rows,u=s.length-1;u>=0;u--){var d=s[u].cells;if(d.length){l=d[d.length-1];break}}br(l,"F:move-up;L:125"),e.setBaseAndExtent(l,l.childNodes.length,l,l.childNodes.length)}else e.modify("move","left","character"),e.modify("move","right","character");return{changed:!0,selectionData:vO.transformRange(e.getRangeAt(0),n)}}(r,c,i);return{changed:!0,selectionData:l}}(e,t,r,i,a,o)}(e,t,0,r,i)}(c,t,r,n,o,a):TO.isArrowDown(e)?function(e,t,n,r,o,i){return o?function(e,t,n,r,o){return{changed:!0,selectionData:e?DO.extendDown(r,t,n,o):DO.moveDown(r,n,o)}}(e,t,n,r,o):function(e,t,n,r,o){var i=vO.getSelection(),a=kd(i.focusNode,"td",o);return MO(i,o,(function(){i.modify("extend","right","line")}))===a?(i.modify(e?"extend":"move","right","line"),{changed:!0,selectionData:vO.transformRange(i.getRangeAt(0),o)}):function(e,t,n,r,o,i){var a=uR(o.parentNode);br(parseInt(o.getAttribute("data-col"),10)>=0&&a>=0,"F:move-down;L:60");var c=o.parentNode.parentNode.parentNode;br("TABLE"===c.nodeName,"F:move-down;L:63");var l,s=DO.getBoundary(o,o);if(e)l=DO.extendDown(n,t,c,s);else if(!(l=DO.moveDown(n,c,s))&&!c._isMaxView)return function(e,t,n){var r=t.parentNode.parentNode.parentNode;br("ne-table-wrap"===r.nodeName.toLowerCase(),"F:move-down;L:89");var o=r.parentNode,i=uR(r)+1;e.setBaseAndExtent(o,i,o,i);var a=r.nextSibling;if(a&&"ne-table-wrap"===a.nodeName.toLowerCase()){for(var c,l=a.querySelector("table").tBodies[0].rows,s=0,u=l.length;s<u;s++){var d=l[s].cells;if(d.length){c=d[0];break}}br(c,"F:move-down;L:113"),e.setBaseAndExtent(c,0,c,0)}else a&&a._viewNode&&a._viewNode.hasCategory(Er.TextContainer)&&(e.modify("move","right","character"),e.modify("move","left","character"));return{changed:!0,selectionData:vO.transformRange(e.getRangeAt(0),n)}}(r,c,i);return{changed:!0,selectionData:l}}(e,t,r,i,a,o)}(e,t,0,r,i)}(c,t,r,n,o,a):null}}]),e}();var IO=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iRenderer",null),m()(l()(n),"_iEngine",null),m()(l()(n),"_rootNode",null),m()(l()(n),"_isProcessed",!1),n._iRenderer=e,n._iEngine=t,n._rootNode=e.domRootNode,n}return a()(i,[{key:"destroy",value:function(){this._iRenderer=null,this._iEngine=null,this._rootNode=null,this.removeAllListeners()}},{key:"isProcessed",get:function(){return this._isProcessed}},{key:"start",value:function(){var e=this,t=this._iRenderer,n=this._iEngine,r=this._rootNode,o=null;t.onRootNode("keydown",(function(t){e._isProcessed=!1;var i=vO.currentRange();if(i&&e._isAllInTable(i)&&!(jE.isHome(t)||jE.isEnd(t)||229===t.keyCode||t.isComposing||t.defaultPrevented)){var a=t.ctrlKey,c=t.metaKey,l=t.altKey;if(!(a||c||l)){e._isProcessed=!0;var s=vO.getSelection();if(jE.isShift(t))o=kd(s.anchorNode,"td",r);else{var u=kd(s.anchorNode,"table",r),d=DO.generateLayout(u);br(u&&"TABLE"===u.nodeName,"F:table-keyboard;L:76");var f=function(e){var t=e.querySelectorAll("td[ne-fake-cell-selection]");if(0===t.length)return null;var n=t[0].parentNode.rowIndex,r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return Array.from(t).forEach((function(e){var t=parseInt(e.getAttribute("data-col"),10),n=e.parentNode.rowIndex;br(t>=0,"F:table-keyboard;L:136"),r=Math.min(r,t),o=Math.max(o,t+e.colSpan-1),i=Math.max(i,n+e.rowSpan-1)})),{minCol:r,maxCol:o,minRow:n,maxRow:i}}(u),h=AO.tryInterceptKeyDown(t,n,d,u,f,o,r);h&&h.changed&&(t.preventDefault(),h.selectionData&&e.emit("change",h.selectionData))}}}}),!1),t.onRootNode("keyup",(function(e){jE.isShift(e)&&(o=null)}))}},{key:"_isAllInTable",value:function(e){var t=e.startContainer,n=e.endContainer,r=e.collapsed,o=kd(t,"table",this._rootNode);return!(!o||!r&&o!==kd(n,"table",this._rootNode))}}]),i}(),jO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"isAtTableHole",value:function(){return!!VO()}},{key:"move",value:function(e,t){var n=VO(),r=n.tableHoleNode,o=n.pos;return br(r,"F:table-hole-move-helper;L:24"),TO.isArrowUp(e)?function(e,t,n){var r=t.firstChild,o=t.lastChild;if(br(r.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:47"),br(o.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:48"),"end"===n)return e?{focus:"start",anchor:"end",ranges:[vO.createRange({startContainer:r,startOffset:0,endContainer:o,endOffset:0})]}:{focus:"start",anchor:"start",ranges:[vO.createRange({startContainer:r,startOffset:0,endContainer:r,endOffset:0})]};var i=t.previousSibling;if(!i)return{changed:!0};if("NE-TABLE-HOLE"===i.nodeName||"NE-HOLE"===i.nodeName){if(!e){var a=i.lastChild,c=i,l=i.childNodes.length;return null!=a&&a.classList.contains("ne-i-filler")&&(c=a,l=0),{changed:!0,selectionData:{focus:"start",anchor:"start",ranges:[vO.createRange({startContainer:c,startOffset:l,endContainer:c,endOffset:0})]}}}return{changed:!0,selectionData:{focus:"start",anchor:"end",ranges:[vO.createRange({startContainer:i,startOffset:0,endContainer:t,endOffset:0})]}}}return null}(t,r,o):TO.isArrowDown(e)?function(e,t,n){var r=t.firstChild,o=t.lastChild;if(br(r.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:138"),br(o.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:139"),"start"===n)return e?{focus:"end",anchor:"start",ranges:[vO.createRange({startContainer:r,startOffset:0,endContainer:o,endOffset:0})]}:{focus:"start",anchor:"start",ranges:[vO.createRange({startContainer:o,startOffset:0,endContainer:o,endOffset:0})]};var i=t.nextSibling;if(!i)return{changed:!0};if("NE-TABLE-HOLE"===i.nodeName||"NE-HOLE"===i.nodeName){if(!e){var a=i.firstChild,c=i,l=i.childNodes.length;return null!=a&&a.classList.contains("ne-i-filler")&&(c=a,l=0),{changed:!0,selectionData:{focus:"start",anchor:"start",ranges:[vO.createRange({startContainer:c,startOffset:l,endContainer:c,endOffset:l})]}}}return{changed:!0,selectionData:{focus:"end",anchor:"start",ranges:[vO.createRange({startContainer:t,startOffset:t.childNodes.length-1,endContainer:i,endOffset:i.childNodes.length})]}}}return null}(t,r,o):TO.isArrowLeft(e)?function(e,t,n){if("end"===n){var r=t.firstChild,o=t.lastChild;if(br(r.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:230"),br(o.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:231"),e)return{focus:"start",anchor:"end",ranges:[vO.createRange({startContainer:r,startOffset:0,endContainer:o,endOffset:0})]};var i=t.querySelectorAll(".ne-td");if(i.length)return{focus:"start",anchor:"end",ranges:[vO.createRange({startContainer:i[i.length-1],startOffset:0,endContainer:i[i.length-1],endOffset:0})]}}return null}(t,r,o):TO.isArrowRight(e)?function(e,t,n){if(e&&"start"===n){var r=t.firstChild,o=t.lastChild;return br(r.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:269"),br(o.classList.contains("ne-i-filler"),"F:table-hole-move-helper;L:270"),{focus:"end",anchor:"start",ranges:[vO.createRange({startContainer:r,startOffset:0,endContainer:o,endOffset:0})]}}return null}(t,r,o):void 0}}]),e}();function VO(){var e=vO.getSelection(),t=e.focusNode,n=e.focusOffset;if(!t)return null;if(t.nodeType!==Node.ELEMENT_NODE)return null;var r=t._neRef,o="start";return!!r&&(r.isFillerNode()?(o=0===r.offset?"start":"end",r=r.parentNode):o=0===n||1===n?"start":"end",!!r.hasCategory(Er.TableHole)&&{tableHoleNode:r._virtualNode.getContentDOMNode(),pos:o})}var zO=function(){function e(){o()(this,e)}return a()(e,null,[{key:"tryInterceptKeyDown",value:function(e){var t=e.ctrlKey,n=e.metaKey,r=e.altKey,o=e.shiftKey;return t||n||r?null:vO.getSelection().isCollapsed?function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(jO.isAtTableHole()&&(t=jO.move(e,n)))return t;if(TO.isArrowUp(e)){if(!n)return null;var r=HO();if(r)return vO.getTableHeadRangeByCellNode(vO.getSelection(),r,n);var o=WO();return o?vO.getTableHeadRangeByCellNode(vO.getSelection(),o,n):null}if(TO.isArrowDown(e)){if(!n)return null;var i=UO();if(i)return vO.getTableTailRangeByCellNode(vO.getSelection(),i,n);var a=ZO();return a?vO.getTableTailRangeByCellNode(vO.getSelection(),a,n):null}if(TO.isArrowLeft(e)){if(!n)return YO();var c=KO();return c?vO.getTableHeadRangeByCellNode(vO.getSelection(),c,n):GO()}if(TO.isArrowRight(e)){if(!n)return XO();var l=$O();return l?vO.getTableTailRangeByCellNode(vO.getSelection(),l,n):QO()}}(e,o):function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=TO.isArrowUp(e)||TO.isArrowLeft(e),r=TO.isArrowDown(e)||TO.isArrowRight(e);if(!n&&!r)return null;var o=vO.currentRange();br(o,"F:general-keyboard-helper;L:137");var i=o.cloneRange();return i.collapse(n),{changed:!0,selectionData:{focus:"start",anchor:"start",ranges:[i]}}}var a=vO.getSelection(),c=a.anchorNode,l=a.anchorOffset,s=document.createRange();if(s.setStart(c,l),s.collapse(!0),TO.isArrowUp(e)){var u=HO();if(u)return vO.getTableHeadRangeByCellNode(vO.getSelection(),u,t);var d=WO();if(d)return eD(d,s)?vO.getTableHeadRangeByCellNode(vO.getSelection(),d,t):vO.getTableTailRangeByCellNode(vO.getSelection(),d,t)}if(TO.isArrowDown(e)){var f=UO();if(f)return vO.getTableTailRangeByCellNode(vO.getSelection(),f,t);var h=ZO();return h?eD(h,s)?vO.getTableHeadRangeByCellNode(vO.getSelection(),h,t):vO.getTableTailRangeByCellNode(vO.getSelection(),h,t):null}if(TO.isArrowLeft(e)){var p=HO();if(p)return vO.getTableHeadRangeByCellNode(vO.getSelection(),p,t);var v=KO();return v?vO.getTableHeadRangeByCellNode(vO.getSelection(),v,t):GO()}if(TO.isArrowRight(e)){var m=UO();if(m)return vO.getTableTailRangeByCellNode(vO.getSelection(),m,t);var y=$O();return y?vO.getTableTailRangeByCellNode(vO.getSelection(),y,t):QO()}}(e,o)}}]),e}();function UO(){var e=vO.getSelection();return qO(e.focusNode,e.focusOffset)}function HO(){var e=vO.getSelection();return qO(e.focusNode,e.focusOffset-1)}function qO(e,t){if(e.nodeType!==Node.ELEMENT_NODE||!e.childNodes[t])return null;var n=e.childNodes[t];return"ne-table-wrap"===n.nodeName.toLowerCase()?n.lastChild.firstChild.firstChild:null}function WO(){var e=vO.getSelection();return JO((function(){e.modify("extend","left","line")}))}function ZO(){var e=vO.getSelection();return JO((function(){e.modify("extend","right","line")}))}function KO(){var e=vO.getSelection();return JO((function(){e.modify("extend","left","character")}))}function $O(){var e=vO.getSelection();return JO((function(){e.modify("extend","right","character")}))}function JO(e){var t=vO.getSelection(),n=t.focusNode,r=t.focusOffset,o=t.anchorNode,i=t.anchorOffset;e();var a=t.focusNode,c=t.focusOffset,l=kd(t.focusNode,"td");if(l)return l;var s=a.nodeName.toLowerCase();if("ne-table-wrap"===s||"ne-table-inner-wrap"===s||"ne-table-box"===s){var u=a.firstChild;if(br("TABLE"===u.nodeName,"F:general-keyboard-helper;L:318"),1===c){var d=u.rows[u.tBodies[0].rows.length-1];return d.cells[d.cells.length-1]}return br(0===c,"F:general-keyboard-helper;L:327"),u.tBodies[0].rows[0].cells[0]}return t.setBaseAndExtent(o,i,n,r),null}function YO(){var e=vO.getSelection(),t=e.focusNode,n=e.focusOffset,r=e.anchorNode,o=e.anchorOffset,i=tD(e);if(i){var a,c,l=null===(a=i.previousSibling)||void 0===a||null===(c=a._virtualNode)||void 0===c?void 0:c.getContentDOMNode();if(l)return{focus:"start",anchor:"start",ranges:[vO.focusToEndOfNode(l)]}}else{var s=function(e){var t,n,r,o=e.focusNode,i=e.focusOffset;if(o.nodeType===Node.TEXT_NODE&&0!==i)return null;if(o.nodeType===Node.ELEMENT_NODE&&o.childNodes[i-1]&&(r=nD(o.childNodes[i-1])),!r){var a=nD(o);r=null==a?void 0:a.previousSibling}return null!==(t=r)&&void 0!==t&&t.isCardNode()?r:null!==(n=r)&&void 0!==n&&n.isFillerNode()?r.previousSibling:null}(e);if(s){var u,d=null===(u=s._virtualNode)||void 0===u?void 0:u.getContentDOMNode();if(d)return{focus:"start",anchor:"start",ranges:[vO.focusToEndOfNode(d)]}}}e.modify("move","left","character");var f,h=e.focusNode,p=e.focusOffset,v=h.nodeName.toLowerCase();if("ne-table-wrap"===v||"ne-table-inner-wrap"===v||"ne-table-box"===v)return null;if((f=h.nodeType===Node.TEXT_NODE?nD(h.parentNode):nD(h))&&f.isTextFillerNode()&&0===p){if(0===p&&0===n&&!t.previousSibling)return null;if(0===p||h===t)return YO()}return e.setBaseAndExtent(r,o,t,n),null}function GO(){var e,t=vO.getSelection(),n=0,r=nD(t.focusNode.nodeType===Node.TEXT_NODE?t.focusNode.parentNode:t.focusNode);do{n++,t.modify("extend","left","character");var o=t.focusNode,i=o.nodeName.toLowerCase();if("ne-table-wrap"!==i&&"ne-table-inner-wrap"!==i&&"ne-table-box"!==i&&"ne-oli"!==i&&"ne-uli"!==i&&"ne-tli"!==i){if(br(e=nD(o.nodeType===Node.TEXT_NODE?o.parentNode:o),"F:general-keyboard-helper;L:441"),!e.isTextFillerNode())break;if(r.isTextFillerNode()&&e!==r&&e.nextSibling!==r)break;r=e}else n--}while(n<=3);br(e,"F:general-keyboard-helper;L:458"),t.modify("extend","right","character")}function XO(){var e=vO.getSelection(),t=e.focusNode,n=e.focusOffset,r=e.anchorNode,o=e.anchorOffset,i=tD(e);if(i){var a,c,l=null===(a=i.nextSibling)||void 0===a||null===(c=a._virtualNode)||void 0===c?void 0:c.getContentDOMNode();if(l&&!i.nextSibling.isBlockFillerNode())return{focus:"start",anchor:"start",ranges:[vO.focusToStartOfNode(l)]}}else{var s=function(e){var t,n,r,o=e.focusNode,i=e.focusOffset;if(o.nodeType===Node.TEXT_NODE&&i!==o.data.length)return null;if(o.nodeType===Node.ELEMENT_NODE&&o.childNodes[i]&&(r=nD(o.childNodes[i])),!r){var a=nD(o);r=null==a?void 0:a.nextSibling}return null!==(t=r)&&void 0!==t&&t.isCardNode()?r:null!==(n=r)&&void 0!==n&&n.isFillerNode()?r.nextSibling:null}(e);if(s){var u,d=null===(u=s._virtualNode)||void 0===u?void 0:u.getContentDOMNode();if(d)return{focus:"start",anchor:"start",ranges:[vO.focusToStartOfNode(d)]}}}e.modify("move","right","character");var f,h=e.focusNode,p=e.focusOffset,v=h.nodeName.toLowerCase();"ne-table-wrap"!==v&&"ne-table-inner-wrap"!==v&&"ne-table-box"!==v&&"ne-oli"!==v&&"ne-uli"!==v&&"ne-tli"!==v&&((f=h.nodeType===Node.TEXT_NODE?nD(h.parentNode):nD(h))&&f.isTextFillerNode()&&(0===p||h===t)||e.setBaseAndExtent(r,o,t,n))}function QO(){var e=vO.getSelection();e.modify("extend","right","character");var t=e.focusNode.nodeName.toLowerCase();"ne-oli"!==t&&"ne-uli"!==t&&"ne-tli"!==t&&e.modify("extend","left","character")}function eD(e,t){return-1===t.comparePoint(e,0)}function tD(e){var t,n,r=e.focusNode,o=e.focusOffset,i=nD(r);if(null!==(t=i)&&void 0!==t&&t.isCardNode())return i;if(r.nodeType===Node.ELEMENT_NODE&&r.childNodes[o]&&null!==(n=i=nD(r.childNodes[o]))&&void 0!==n&&n.isCardNode())return i;var a=kd(r,"ne-card");return a?nD(a):null}function nD(e){var t;for(e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);e&&!e._viewNode;)e=e.parentNode;return null===(t=e)||void 0===t?void 0:t._viewNode}var rD=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iRenderer",null),m()(l()(n),"_tableKeyboard",null),m()(l()(n),"_rootNode",null),m()(l()(n),"_isChanged",!1),m()(l()(n),"_lastContentChangeTime",1),n._iRenderer=e,n._tableKeyboard=t,n._rootNode=e.domRootNode,n}return a()(i,[{key:"destroy",value:function(){this._iRenderer=null,this._tableKeyboard=null,this._rootNode=null,this.removeAllListeners()}},{key:"start",value:function(){var e=this,t=this._iRenderer,n=this._rootNode,r=null;t.onRootNode("keydown",(function(t){if(e._isChanged=!1,e._lastContentChangeTime=Date.now(),jE.isHome(t)&&!t.ctrlKey&&!t.shiftKey)return t.preventDefault(),void e._moveToLineBoundary(!0);if(jE.isEnd(t)&&!t.ctrlKey&&!t.shiftKey)return t.preventDefault(),void e._moveToLineBoundary(!1);if(!(e._tableKeyboard.isProcessed||229===t.keyCode||t.isComposing||t.defaultPrevented||jE.isShift(t)||0===document.getSelection().rangeCount)){var o=zO.tryInterceptKeyDown(t,n),i=o;if(Bo(o,"changed")&&(i=o.selectionData),o)return t.preventDefault(),void(i&&e.emit("change",i));e._isChanged=!0,r=t}}),!1),t.onRootNode("input",(function(){e._isChanged=!1,e._lastContentChangeTime=Date.now()}),!1),t.onForceRootNode("mousedown",(function(){e._lastContentChangeTime=Date.now()}),!1),t.onForceRootNode("mousemove",(function(){e._lastContentChangeTime=Date.now()}),!1),t.onForceRootNode("mouseup",(function(){e._lastContentChangeTime=Date.now()}),!1);var o=null,i=t.domRootNode,a=document.getSelection();t.onDocument("selectionchange",(function(){var t=a.focusNode,c=a.focusOffset;a.isCollapsed&&t&&(!document.activeElement||!i.contains(document.activeElement)&&i.contains(t))&&(i.focus({preventScroll:!0}),a.setBaseAndExtent(t,c,t,c)),Date.now()-e._lastContentChangeTime>300?requestAnimationFrame((function(){e._syncSelectionFromDOM()})):e._isChanged&&(clearTimeout(o),o=setTimeout((function(){e._isChanged=!1;var t=null,o=document.getSelection();o.focusNode&&(vO.isFocusInTable(o,n)&&!vO.isAnchorInTable(o,n)?TO.isArrowLeft(r)||TO.isArrowUp(r)?t=vO.getTableHeadRange(o,n):TO.isArrowRight(r)||TO.isArrowDown(r)?t=vO.focusNodeInFirstCell(o,n)?vO.getTableHeadRange(o,n):vO.getTableTailRange(o,n):br(!1,"F:general-keyboard;L:173"):t=vO.transformRange(vO.currentRange(),n),t&&e.emit("change",t))}),16))}),!1)}},{key:"_syncSelectionFromDOM",value:function(){if(document.getSelection().focusNode){var e=vO.currentRange();if(e){var t=vO.transformRange(e,this._rootNode);t&&this.emit("change",t)}}}},{key:"updateRangeChangeTime",value:function(e){this._isChanged=!1,"content"===e&&(this._lastContentChangeTime=Date.now())}},{key:"_moveToLineBoundary",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=vO.getSelection();t.modify("move",e?"left":"right","lineboundary");var n=vO.transformRange(vO.currentRange(),this._rootNode);this.emit("change",n)}}]),i}();var oD=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iRenderer",null),m()(l()(n),"_tableKeyboard",null),m()(l()(n),"_generalKeyboard",null),n._iRenderer=e,n._tableKeyboard=new IO(e,t),n._generalKeyboard=new rD(e,n._tableKeyboard),n._generalKeyboard.on("change",(function(e){n.emit("change",{selectionData:e,isComposing:!1})})),n._tableKeyboard.on("change",(function(e){n.emit("change",{selectionData:e,isComposing:!1})})),n}return a()(i,[{key:"destroy",value:function(){this._tableKeyboard.destroy(),this._generalKeyboard.destroy(),this._iRenderer=null,this._tableKeyboard=null,this._generalKeyboard=null}},{key:"start",value:function(){this._tableKeyboard.start(),this._generalKeyboard.start()}},{key:"updateRangeChangeTime",value:function(e){this._generalKeyboard.updateRangeChangeTime(e)}}]),i}();var iD=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iRenderer",null),m()(l()(t),"_rootNode",null),m()(l()(t),"_lastContentChangeTime",1),m()(l()(t),"_lastContentChangeRange",null),t._iRenderer=e,t._rootNode=e.domRootNode,t}return a()(i,[{key:"destroy",value:function(){this._iRenderer=null,this._rootNode=null,this.removeAllListeners()}},{key:"start",value:function(){var e=this,t=this._iRenderer,n=0,r=!1,o=!1,i=!1,a=function(){o&&(n=0,i=!1,o=!1,e._emitChange(!1))};t.onRootNode("keydown",a),t.onRootNode("beforeinput",a),t.onRootNode("touchstart",(function(n){var r;o=!0;var i=t.onceDocument("touchend",(function(){o=!1,clearTimeout(r)}),!1);r=setTimeout((function(){i(),requestAnimationFrame((function(){o=!1,e._emitChange(!1,n.target)}))}),1e3)})),t.onRootNode("mousedown",(function(a){if(r=!1,2===a.button||3===a.which){if(a.target.closest("[ne-fake-cell-selection]"))return void a.preventDefault();a.target.closest("ne-card")||(r=!0)}n=a.timeStamp,o=!0,i=!0;var c=t.onDocument("mousemove",(function(e){n=e.timeStamp}),!1);t.onceDocument("mouseup",(function(t){n=0,i=!1,c(),requestAnimationFrame((function(){o=!1,e._emitChange(!1,t.target)}))}),!1)}),!1),t.onDocument("selectionchange",(function(){if(0!==n)r&&function(){var e=vO.currentRange();if(e&&!e.collapsed){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset,i=function(e){for(;e;){if(e._neRef)return e._neRef;e=e.parentNode}return null}(t);if(i){var a=e.toString();if(i.isFillerNode()&&0===a.length){var c=uR(t);vO.getSelection().setBaseAndExtent(t.parentNode,c,t.parentNode,c)}else i.isTextNode()&&"\n"===a&&t===r&&n+1===o&&vO.getSelection().setBaseAndExtent(t,n,t,n)}}}(),n=0,e._emitChange(i);else if(Date.now()-e._lastContentChangeTime<1e3&&e._lastContentChangeRange){var t=vO.currentRange();t&&t.collapsed&&e._lastContentChangeRange.collapsed&&t.startContainer===e._lastContentChangeRange.startContainer&&t.startOffset===e._lastContentChangeRange.startOffset-1&&(e._lastContentChangeTime=1,e._emitChange(!1))}}),!1)}},{key:"setContentChangeRange",value:function(e){this._lastContentChangeTime=Date.now(),this._lastContentChangeRange=e}},{key:"_emitChange",value:function(e,t){var n=this._rootNode,r=vO.currentRange();if(r){t&&(r=function(e,t){return function(e,t){var n,r;if(!e.collapsed)return e;var o=e,i=o.startContainer,a=o.startOffset,c=kd(i,"ne-code");return c?c.contains(t)||i.nodeType!==Node.TEXT_NODE?e:null!==(n=i.parentNode)&&void 0!==n&&null!==(r=n._neRef)&&void 0!==r&&r.isTextNode()?0===a?((e=e.cloneRange()).setStart(c.parentNode,uR(c)),e.collapse(!0),e):a===i.data.length?((e=e.cloneRange()).setStart(c.parentNode,uR(c)+1),e.collapse(!0),e):e:e:e}(e,t)}(r,t));var o=vO.transformRange(r,n);o&&this.emit("change",{selectionData:o,isComposing:e})}}}]),i}();var aD=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iRenderer",null),m()(l()(n),"_keyboard",null),m()(l()(n),"_mouse",null),n._iRenderer=e,n._keyboard=new oD(e,t),n._mouse=new iD(e),n._init(),n}return a()(i,[{key:"_init",value:function(){var e=this;this._keyboard.on("change",(function(t){e._onSelectionChange("keyboard",t)})),this._mouse.on("change",(function(t){e._onSelectionChange("mouse",t)})),this._keyboard.start(),this._mouse.start()}},{key:"destroy",value:function(){this._keyboard.destroy(),this._mouse.destroy(),this._iRenderer=null,this._keyboard=null,this._mouse=null,this.removeAllListeners()}},{key:"setContentChangeRange",value:function(e){this._mouse.setContentChangeRange(e)}},{key:"updateRangeChangeTime",value:function(e){this._keyboard.updateRangeChangeTime(e)}},{key:"_onSelectionChange",value:function(e,t){t&&(t.type=e,this.emit("change",t))}}]),i}();var cD=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"execute",value:function(e){e?this._plugin.setSelection(e.node,e.offset):this._plugin._syncSelection()}}]),i}();function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lD(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-engine ne-table-wrap ::selection,\n.ne-engine ne-card ::selection {\n  background-color: transparent !important;\n}\n.ne-engine ne-table-wrap {\n  caret-color: transparent;\n}\n.ne-engine ne-table-wrap.ne-table-focus {\n  caret-color: unset;\n}\n.ne-engine ne-table-wrap.ne-table-focus ::selection {\n  background-color: rgba(180, 213, 254, 0.5) !important;\n}\n.ne-engine ne-table-wrap table[ne-fake-table-selection] td {\n  caret-color: transparent;\n}\n.ne-engine ne-table-wrap table[ne-fake-table-selection] td ::selection {\n  background-color: transparent !important;\n}\n.ne-engine ne-card.ne-focused ::selection {\n  background-color: rgba(180, 213, 254, 0.5) !important;\n}\n/* ---- table start ----- */\nne-table-wrap[ne-fake-selection] ne-table-box:after {\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 2;\n  background-color: rgba(180, 213, 254, 0.5);\n  pointer-events: none;\n}\ntd[ne-fake-cell-selection] {\n  caret-color: transparent;\n}\ntd[ne-fake-cell-selection]:after {\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(180, 213, 254, 0.5);\n  pointer-events: none;\n  z-index: 2;\n}\n/* ---- table end ----- */\n/* ---- card start ----- */\nne-card.ne-active {\n  background: #fff4c2;\n}\nne-card[ne-fake-selection]:after {\n  content: ' ';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(180, 213, 254, 0.5);\n  pointer-events: none;\n  z-index: 99;\n}\n/* ---- card end ----- */\n");var uD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_observer",null),m()(l()(e),"_painter",null),m()(l()(e),"_blockReset",!1),m()(l()(e),"_preventSetSelection",!1),e}return a()(i,[{key:"init",value:function(e,t){var n=this;this._observer=new aD(e,t),this._painter=new OO(e),e.extendMethods({repaintSelection:function(e){n._repaint(e)},focusCard:function(e){n.kernel.execCommand("selection",{ranges:[t.transformDOMRange(vO.createRange({startContainer:e,startOffset:0,endContainer:e,endOffset:0}))],start:"start",end:"start"})}}),e.registerCommand("selection",new cD(this)),this._observer.on("change",(function(r){var o=r.selectionData,i=r.isComposing,a=r.type;n._blockReset=!1,e.isFocus()&&(i?(n._blockReset=!0,e.emitPluginEvent("blockSelectionChange"),e.emitPluginEvent("uiSelectionChange",o.ranges),n._painter.refresh(o,e.domRootNode,!1),n._observer.updateRangeChangeTime("selection")):(n._blockReset=!1,e.emitPluginEvent("unblockSelectionChange"),"keyboard"===a&&n._emitKeyboardEnterEvent(o,e,t),n._selectionChange(o,"mouse"!==a)))})),e.on("contentchange",(function(t){e.isFocus()&&!n._blockReset&&(n._painter.refresh(t,e.domRootNode,!0),n._observer.updateRangeChangeTime("content"),n._observer.setContentChangeRange(vO.currentRange()))})),e.on("selectionchange",(function(t){e.isFocus()&&!n._blockReset&&(n._painter.refresh(t,e.domRootNode,!0),n._observer.updateRangeChangeTime("selection"))})),e.onPluginEvent("tableSelectionChange",(function(){n._painter.clear()})),e.onPluginEvent("requestSetRange",(function(e){n._selectionChange(e)})),e.onPluginEvent("blockReset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n._blockReset=e}));var r=null;e.onForceRootNode("mousedown",(function(n){r=null;var o=kd(n.target,"ne-card-root",document.body);o&&2!==n.button&&3!==n.which&&t.getViewSelection().firstRange.start.node!==o.parentNode._viewNode&&(r=o,e.focusCard(o.parentNode))}),!1),e.onForceRootNode("mouseup",(function(){r&&e.focusCard(r.parentNode),r=null}),!1),e.onDocument("mousedown",(function(){n._preventSetSelection=!0;var t=e.onDocument("mousemove",(function(e){e.which||e.button?n._preventSetSelection=!0:(t(),n._preventSetSelection=!1)}),!1);e.onceDocument("mouseup",(function(){t(),n._preventSetSelection=!1}))}),!1),this.kernel.iEditing.on("operationRollback",(function(){e.isFocus()&&!n._blockReset&&n._repaint()}))}},{key:"destroy",value:function(){this._observer.destroy(),this._painter.destroy(),this._observer=null,this._painter=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_syncSelection",value:function(){var e=vO.transformRange(vO.currentRange(),this.iRenderer.domRootNode);this._selectionChange(e)}},{key:"setSelection",value:function(e,t){var n=document.createRange();n.setStart(e,t),n.collapse(!0),this._selectionChange({ranges:[n]})}},{key:"_selectionChange",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.iEngine,r=!1,o=e.ranges.map((function(e){return r?null:n.transformDOMRange(e)||(r=!0,null)}));r||this.kernel.execCommand("selection",sD(sD({},e),{},{ranges:o}),t)}},{key:"_repaint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._preventSetSelection){var t=this.iEngine,n=this.iRenderer,r=t.getViewSelection();if(r){var o=r.ranges.map((function(e){return t.viewRangeToDOMRange(e)})),i=!this._preventSetSelection&&e;this._painter.refresh({anchor:r.anchor,focus:r.focus,ranges:o},n.domRootNode,i),this._observer.updateRangeChangeTime("selection"),i&&vO.refreshSelection()}}}},{key:"_emitKeyboardEnterEvent",value:function(e,t,n){try{var r=e.ranges.map((function(e){return n.transformDOMRange(e)||null})),o=this._checkCursorEnterDirec(r,n.getViewSelection().ranges);if(o){var i=r[0].start.node;t.emitPluginEvent("enterCardByKeyboard:".concat(i.id),o)}}catch(e){return null}}},{key:"_checkCursorEnterDirec",value:function(e,t){var n=e[0].start.node,r=t[0]?t[0].start.node:null,o=n.isCardNode()?n:null,i=r&&r.isCardNode()?r:null;if(o===i)return null;if(!i&&o){var a="";return r.id===n.parentNode.id&&(a=t[0].start.offset>n.offset?"after":"before"),r.parentNode.id===n.parentNode.id&&(a=r.offset>n.offset?"after":"before"),a}return null}}]),i}();function dD(e,t){if(t.rangeCount&&t.isCollapsed){var n=t.getRangeAt(0),r=n.startContainer,o=n.startOffset;if(r.nodeType===Node.TEXT_NODE){var i=r.data[o-1]||"",a=r.parentNode,c=a._neRef||a._viewNode;if(c){e.repairByViewNode(c);var l=c.previousSibling,s=c.nextSibling;W.ua.safari&&(l&&l.isTextNode()&&e.repairByViewNode(l),s&&s.isTextNode()&&e.repairByViewNode(s))}else console.warn("输入清理",r),r.remove();return i}return null}}m()(uD,"PluginName","selection");var fD=Fe.ua.mobile?function(e,t){t.onRootNode("keydown",(function(e){229===e.keyCode&&(e.stopPropagation(),e.stopImmediatePropagation())}),!1),t.onRootNode("beforeinput",(function(t){if("insertReplacementText"===t.inputType){t.preventDefault();var n=t.getTargetRanges();if(n.length){var r=n[0];r.startContainer===r.endContainer&&r.startContainer.nodeType===Node.TEXT_NODE&&r.endOffset-r.startOffset>0&&e.emit("deleteBackward",r)}var o=t.dataTransfer.getData("text/plain");e.emit("input",{composition:!1,data:o})}}),!1),t.onRootNode("input",(function(t){var n=t.inputType;"deleteContentBackward"!==n?"insertCompositionText"!==n&&t.data&&e.emit("input",{data:t.data,composition:!1}):e.emit("deleteBackward")}),!1)}:function(e,t){var n=document.getSelection(),r=!1;t.onRootNode("keydown",(function(e){229===e.keyCode&&(e.stopPropagation(),e.stopImmediatePropagation())}),!1),t.onRootNode("input",(function(o){"deleteContentBackward"!==o.inputType?r||(dD(t,n),o.data&&e.emit("input",{data:o.data,composition:!1})):e.emit("deleteBackward")}),!1),t.onRootNode("beforeinput",(function(o){if("insertReplacementText"!==o.inputType)r||n.isCollapsed||t.execCommand("delete",!0,!1);else{o.preventDefault();var i=o.getTargetRanges();if(i.length){var a=i[0];a.startContainer===a.endContainer&&a.startContainer.nodeType===Node.TEXT_NODE&&a.endOffset-a.startOffset>0&&e.emit("deleteBackward",a)}var c=o.dataTransfer.getData("text/plain");e.emit("input",{composition:!1,data:c})}}),!1),t.onRootNode("compositionstart",(function(){r=!0,e.emit("compositionstart"),n.isCollapsed||t.execCommand("delete",!0,!1)}),!1),t.onRootNode("compositionend",(function(o){r=!1,dD(t,n),o.data&&e.emit("input",{data:o.data,composition:!0})}),!1)};function hD(e){var t=e.anchorNode,n=e.focusNode;return{anchor:pD(t),focus:pD(n)}}function pD(e){for(var t=null;e&&!(t=e._viewNode);)e=e.parentNode;if(!t)return null;for(;t;){if(t.hasCategory(Er.Block))return t;var n=t.parentNode;if(!n||n.hasCategory([Er.Root,Er.LikeRoot]))return t;t=n}return null}function vD(e,t){var n=t.anchor,r=t.focus;n.isConnected&&e.repairByViewNode(n),r!==n&&r.isConnected&&e.repairByViewNode(r)}function mD(e){return e?e.replace(/[\b]/g,""):""}var yD=Fe.ua.mobile?function(e,t,n){var r=document.getSelection(),o=!1,i=!1,a=!1,c=null;t.onRootNode("keydown",(function(e){229!==e.keyCode||o||(a=!0)}),!1),t.onRootNode("beforeinput",(function(t){if(a=!1,"insertCompositionText"!==t.inputType||c){if("deleteContentBackward"===t.inputType){var o=t.getTargetRanges();o.length?e.emit("deleteBackward",o[0]):e.emit("deleteBackward")}}else c=function(){if(!r.rangeCount)return null;var e=r.getRangeAt(0);return n.transformDOMRange(e)||null}()})),t.onRootNode("input",(function(t){if(i=!0,!o&&"deleteContentBackward"!==t.inputType){i=!1;var n=t.data;n?e.emit("input",{data:n,composition:!1}):e.emit("inputCancel")}})),t.onRootNode("compositionstart",(function(){i=!1,o=!0,c=null,e.emit("compositionstart"),r.isCollapsed||t.execCommand("delete",!0,!1)}),!1),t.onRootNode("compositionend",(function(t){var n=a;if(o=!1,a=!1,i){i=!1,!n&&c&&e.emit("beforeReplace",c),c=null;var r=t.data;r?e.emit("input",{data:r,composition:!0}):e.emit("inputCancel")}}),!1)}:function(e,t){var n=document.getSelection(),r=!1,o=!1,i=null,a=!1;t.onRootNode("keydown",(function(e){if(r||229===e.keyCode)return e.stopPropagation(),void e.stopImmediatePropagation();n.isCollapsed||(i=hD(n))}),!1),t.onRootNode("keyup",(function(){i=null}),!1),t.onRootNode("beforeinput",(function(i){if("insertText"===i.inputType){a=!0,dD(t,n),r=!1;var c=mD(i.data||"");if(!c)return void e.emit("inputCancel");e.emit("input",{data:c,composition:!0})}else{if("deleteContentBackward"===i.inputType){var l=i.getTargetRanges();return l.length?e.emit("deleteBackward",l[0]):e.emit("deleteBackward"),void(a=!0)}a=!1}o&&r&&!n.isCollapsed&&t.execCommand("delete",!0,!1),o=!1})),t.onRootNode("input",(function(c){if(o=!1,a)a=!1;else if("deleteContentBackward"!==c.inputType)if(r)br(!i,"F:pc;L:88");else{var l=dD(t,n),s=mD(c.data||l);s?(e.emit("input",{data:s,composition:!1}),i&&(vD(t,i),i=null)):e.emit("inputCancel")}})),t.onRootNode("compositionstart",(function(){r=!0,o=!0,e.emit("compositionstart");var t=n.focusNode,i=n.focusOffset;if(n.isCollapsed&&(null==t?void 0:t.nodeType)===Node.TEXT_NODE){var a=t.data;t.data=a.substring(0,i)+"​​​​​​"+a.substring(i),n.setBaseAndExtent(t,i,t,i)}}),!1),t.onRootNode("compositionend",(function(i){if(o=!1,a)a=!1;else if(dD(t,n),r){r=!1;var c=mD(i.data);c?e.emit("input",{data:c,composition:!0}):e.emit("inputCancel")}}),!1)};var gD=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iRenderer",null),n._iRenderer=e,n._init(e,t),n}return a()(i,[{key:"_init",value:function(e,t){W.ua.safari?fD(this,e):W.ua.firefox?function(e,t){var n=document.getSelection(),r=null;t.onRootNode("keydown",(function(e){229===e.keyCode&&(e.stopPropagation(),e.stopImmediatePropagation()),n.isCollapsed||(r=hD(n))}),!1),t.onRootNode("keyup",(function(){r=null}),!1),t.onRootNode("compositionstart",(function(){n.isCollapsed||t.execCommand("delete",!0,!1),e.emit("compositionstart")}),!1),t.onRootNode("input",(function(o){o.isComposing||(dD(t,n),o.data&&(e.emit("input",{data:o.data,composition:!1}),r&&(vD(t,r),r=null)))}))}(this,e):yD(this,e,t)}},{key:"destroy",value:function(){this.removeAllListeners()}}]),i}();var bD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_observer",null),e}return a()(i,[{key:"init",value:function(e,t,n,r){br(e.hasExtendMethod("repaintSelection"),"F:render/index;L:15");var o=new gD(e,t),i=document.getSelection();this._observer=o,o.on("compositionstart",(function(){e.iKernel.hasExtendMethod("disableApplyOp")&&e.iKernel.disableApplyOp()})),o.on("input",(function(t){var n=t.data,o=t.composition;e.iKernel.hasExtendMethod("enableApplyOp")&&e.iKernel.enableApplyOp();var i=!1;"@"!==n&&"、"!==n||e.emitPluginEvent("beforeinput",{stop:function(){i=!0},data:"、"===n?"/":n}),i||r.execCommand("input",n,o),requestAnimationFrame((function(){wD(e)}))})),o.on("deleteBackward",(function(n){if(n)try{var o=t.transformDOMRange(n);if(!o||o.start.node===o.end.node&&o.start.offset===o.end.offset)return;r.execCommand("deleteByRange",o)}catch(e){console.error(e),console.warn("failed to execute deleteBackward")}else i.isCollapsed&&r.execCommand("delete");requestAnimationFrame((function(){wD(e)}))})),o.on("beforeReplace",(function(t){try{if(!t||t.start.node===t.end.node&&t.start.offset===t.end.offset)return;r.execCommand("deleteByRange",t)}catch(e){console.error(e),console.warn("failed to execute deleteByModelRange")}requestAnimationFrame((function(){wD(e)}))})),o.on("inputCancel",(function(){e.repaintSelection(!0)})),e.hasExtendMethod("registerHotKey")&&(e.registerHotKey("newLine",["shift","ENTER"],(function(e){e.stop(),-1!==r.queryCommandState("canInput")&&r.execCommand("input","\n",!1)})),e.registerHotKey("tab",["*","TAB"],(function(e){e.stop(),-1!==r.queryCommandState("canInput")&&r.execCommand("input","\t",!1)}),10))}},{key:"destroy",value:function(){this._observer.destroy(),this._observer=null,B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();function wD(e){var t=document.getSelection(),n=t.rangeCount?t.getRangeAt(0):null;if(n&&n.collapsed&&n.startContainer.nodeType===Node.TEXT_NODE){var r,o=null===(r=n.startContainer.parentNode)||void 0===r?void 0:r._neRef,i=null==o?void 0:o.closest(Er.Block);i&&(e.repairByViewNode(i),e.repaintSelection(!0))}}m()(bD,"PluginName","input");var xD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=e.scrollNode.scrollTop;if(e.extendMethods({requestSetScrollTo:function(n){e.scrollNode.scrollTop=n,t=e.scrollNode.scrollTop}}),e.option.isTileRendering()){br(e.hasExtendMethod("repaintSelection"),"F:render/index;L:22");var n=null;e.on("tileRenderStart",(function(){var r;null===(r=n)||void 0===r||r(),n=e.onScroll((function(){var n=t,r=e.scrollNode.scrollTop;t=r;var o=r-n;0!==o&&(e.repaintByScroll(o),e.repaintSelection(!0))}))})),e.on("tileRenderCompleted",(function(){var e;null===(e=n)||void 0===e||e(),n=null}))}}}]),i}();m()(xD,"PluginName","renderAssistant"),FN("ne-p {\n  display: block;\n  min-height: 24px;\n}\n");var _D=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(_D,"PluginName","paragraph");var kD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"attrName",""),t.attrName="ne-".concat(e),t}return a()(i,[{key:"translate",value:function(){return{type:qC.ATTR_NAME,name:this.attrName,value:"true"}}}]),i}();FN("[ne-bold] {\n  font-weight: bold;\n}\n[ne-italic] {\n  font-style: italic;\n}\n[ne-underline] {\n  text-decoration: underline;\n  text-underline-offset: 0.1em;\n}\n[ne-underline][ne-strikethrough] {\n  text-decoration: underline line-through;\n}\n@supports not (text-underline-offset: 0.1em) {\n  [ne-underline] {\n    text-decoration: none;\n    border-bottom: 0.1em solid;\n  }\n  [ne-underline][ne-strikethrough] {\n    text-decoration: line-through;\n  }\n}\n[ne-strikethrough] {\n  text-decoration: line-through;\n}\n");var CD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel;e.registerAttrTranslator({bold:new kD("bold"),italic:new kD("italic"),underline:new kD("underline"),strikethrough:new kD("strikethrough")}),e.hasExtendMethod("registerHotKey")&&[{key:["cmd","B"],command:"bold"},{key:["cmd","I"],command:"italic"},{key:["cmd","U"],command:"underline"},{key:["cmd","shift","X"],command:"strikethrough"}].forEach((function(n){var r=n.key,o=n.command;e.registerHotKey(o,r,(function(e){e.stop(),t.execCommand(o)}))}))}}]),i}();m()(CD,"PluginName","basicTextStyle");var RD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.STYLE_NAME,name:"color",value:t}}}]),i}();var ND=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("color",new RD)}}]),i}();m()(ND,"PluginName","color");var ED=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.STYLE_NAME,name:"background-color",value:t}}}]),i}();var OD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("bgColor",new ED)}}]),i}();m()(OD,"PluginName","bgColor");var DD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"ne-fontsize",value:t}}}]),i}();FN('.ne-engine [ne-fontsize="12"],\n.ne-viewer [ne-fontsize="12"] {\n  font-size: 12px;\n}\n.ne-engine [ne-fontsize="13"],\n.ne-viewer [ne-fontsize="13"] {\n  font-size: 13px;\n}\n.ne-engine [ne-fontsize="14"],\n.ne-viewer [ne-fontsize="14"] {\n  font-size: 14px;\n}\n.ne-engine [ne-fontsize="15"],\n.ne-viewer [ne-fontsize="15"] {\n  font-size: 15px;\n}\n.ne-engine [ne-fontsize="16"],\n.ne-viewer [ne-fontsize="16"] {\n  font-size: 16px;\n}\n.ne-engine [ne-fontsize="17"],\n.ne-viewer [ne-fontsize="17"] {\n  font-size: 17px;\n}\n.ne-engine [ne-fontsize="18"],\n.ne-viewer [ne-fontsize="18"] {\n  font-size: 18px;\n}\n.ne-engine [ne-fontsize="19"],\n.ne-viewer [ne-fontsize="19"] {\n  font-size: 19px;\n}\n.ne-engine [ne-fontsize="20"],\n.ne-viewer [ne-fontsize="20"] {\n  font-size: 20px;\n}\n.ne-engine [ne-fontsize="21"],\n.ne-viewer [ne-fontsize="21"] {\n  font-size: 21px;\n}\n.ne-engine [ne-fontsize="22"],\n.ne-viewer [ne-fontsize="22"] {\n  font-size: 22px;\n}\n.ne-engine [ne-fontsize="23"],\n.ne-viewer [ne-fontsize="23"] {\n  font-size: 23px;\n}\n.ne-engine [ne-fontsize="24"],\n.ne-viewer [ne-fontsize="24"] {\n  font-size: 24px;\n}\n.ne-engine [ne-fontsize="25"],\n.ne-viewer [ne-fontsize="25"] {\n  font-size: 25px;\n}\n.ne-engine [ne-fontsize="26"],\n.ne-viewer [ne-fontsize="26"] {\n  font-size: 26px;\n}\n.ne-engine [ne-fontsize="27"],\n.ne-viewer [ne-fontsize="27"] {\n  font-size: 27px;\n}\n.ne-engine [ne-fontsize="28"],\n.ne-viewer [ne-fontsize="28"] {\n  font-size: 28px;\n}\n.ne-engine [ne-fontsize="29"],\n.ne-viewer [ne-fontsize="29"] {\n  font-size: 29px;\n}\n.ne-engine [ne-fontsize="30"],\n.ne-viewer [ne-fontsize="30"] {\n  font-size: 30px;\n}\n.ne-engine [ne-fontsize="31"],\n.ne-viewer [ne-fontsize="31"] {\n  font-size: 31px;\n}\n.ne-engine [ne-fontsize="32"],\n.ne-viewer [ne-fontsize="32"] {\n  font-size: 32px;\n}\n.ne-engine [ne-fontsize="33"],\n.ne-viewer [ne-fontsize="33"] {\n  font-size: 33px;\n}\n.ne-engine [ne-fontsize="34"],\n.ne-viewer [ne-fontsize="34"] {\n  font-size: 34px;\n}\n.ne-engine [ne-fontsize="35"],\n.ne-viewer [ne-fontsize="35"] {\n  font-size: 35px;\n}\n.ne-engine [ne-fontsize="36"],\n.ne-viewer [ne-fontsize="36"] {\n  font-size: 36px;\n}\n.ne-engine [ne-fontsize="37"],\n.ne-viewer [ne-fontsize="37"] {\n  font-size: 37px;\n}\n.ne-engine [ne-fontsize="38"],\n.ne-viewer [ne-fontsize="38"] {\n  font-size: 38px;\n}\n.ne-engine [ne-fontsize="39"],\n.ne-viewer [ne-fontsize="39"] {\n  font-size: 39px;\n}\n.ne-engine [ne-fontsize="40"],\n.ne-viewer [ne-fontsize="40"] {\n  font-size: 40px;\n}\n.ne-engine [ne-fontsize="41"],\n.ne-viewer [ne-fontsize="41"] {\n  font-size: 41px;\n}\n.ne-engine [ne-fontsize="42"],\n.ne-viewer [ne-fontsize="42"] {\n  font-size: 42px;\n}\n.ne-engine [ne-fontsize="43"],\n.ne-viewer [ne-fontsize="43"] {\n  font-size: 43px;\n}\n.ne-engine [ne-fontsize="44"],\n.ne-viewer [ne-fontsize="44"] {\n  font-size: 44px;\n}\n.ne-engine [ne-fontsize="45"],\n.ne-viewer [ne-fontsize="45"] {\n  font-size: 45px;\n}\n.ne-engine [ne-fontsize="46"],\n.ne-viewer [ne-fontsize="46"] {\n  font-size: 46px;\n}\n.ne-engine [ne-fontsize="47"],\n.ne-viewer [ne-fontsize="47"] {\n  font-size: 47px;\n}\n.ne-engine [ne-fontsize="48"],\n.ne-viewer [ne-fontsize="48"] {\n  font-size: 48px;\n}\n');var SD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("fontsize",new DD)}}]),i}();function BD(e,t){var n=document.getSelection();if(0===n.rangeCount||!n.isCollapsed)return null;var r=n.focusNode,o=n.focusOffset,i=n.getRangeAt(0).cloneRange();n.modify("move",e,t);var a=n.getRangeAt(0),c=a,l=c.startContainer,s=c.startOffset;if(l===r&&s===o)return a;if(W.ua.chrome&&"left"===e&&"lineboundary"===t){var u=i.getBoundingClientRect();if(0===u.height)return n.setBaseAndExtent(r,o,r,o),a;if(pO.createRange({startContainer:l,startOffset:s,endContainer:l,endOffset:s}).getBoundingClientRect().bottom<=u.top)return n.setBaseAndExtent(r,o,r,o),a}return a=pO.createRange({startContainer:l,startOffset:s,endContainer:r,endOffset:o}),n.setBaseAndExtent(r,o,r,o),br(!a.collapsed,"F:_calc_range;L:57"),a}m()(SD,"PluginName","fontsize");var PD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;e.onRootNode("keydown",(function(e){var n=function(e){return Fe.ua.macos?function(e){return jE.isBackspace(e)?jE.onlyAlt(e)||jE.onlyCtrl(e)?"leftWord":jE.onlyMeta(e)?"lineHead":"left":jE.isChar(e,"H")&&jE.onlyCtrl(e)?"left":jE.isChar(e,"D")&&jE.onlyCtrl(e)?"right":jE.isDelete(e)?jE.onlyAlt(e)||jE.onlyCtrl(e)?"rightWord":"right":jE.isChar(e,"K")&&jE.onlyCtrl(e)?"end":null}(e):function(e){return jE.isBackspace(e)?jE.onlyCtrl(e)?"leftWord":"left":jE.isDelete(e)?jE.onlyCtrl(e)?"rightWord":"right":null}(e)}(e);if(n)if(e.preventDefault(),t.iEngine.getViewSelection().isCollapsed)switch(n){case"left":t.kernel.execCommand("delete",!0);break;case"right":t.kernel.execCommand("delete",!1);break;case"end":t.kernel.execCommand("deleteToBlockEnd")||t.kernel.execCommand("delete",!1);break;case"lineHead":t._deleteToLineHead();break;case"leftWord":t._deleteLeftWord();break;case"rightWord":t._deleteRightWord();break;default:console.warn("invalid delete action")}else t.kernel.execCommand("delete",!0)}))}},{key:"_deleteToLineHead",value:function(){this._deleteByRange(BD("left","lineboundary"))}},{key:"_deleteLeftWord",value:function(){this._deleteByRange(BD("left","word"))}},{key:"_deleteRightWord",value:function(){this._deleteByRange(BD("right","word"))}},{key:"_deleteByRange",value:function(e){if(e)if(e.collapsed)this.kernel.execCommand("delete",!0);else{var t=this.iEngine.transformDOMRange(e),n=t.start,r=t.end,o=this.iRenderer.iKernel.createModelRange(n,r);br(!o.collapsed,"F:render/index;L:94"),this.kernel.execCommand("deleteByRange",o)}}}]),i}();m()(PD,"PluginName","delete");var FD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"ne-level",value:t}}}]),i}(),TD={color:"color",bgColor:"backgroundColor"};function MD(e,t){e=e.firstChild,t=t||{},Ad.forEach((function(n){if("color"===n||"bgColor"===n)t[n]?e.style[TD[n]]=t[n]:e.style[TD[n]]="";else{var r="ne-".concat(n.toLowerCase());t[n]?e.setAttribute(r,t[n]):e.removeAttribute(r)}}))}var LD=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_indexNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(e){this._rootNode=eC.createElement("ne-uli"),this._indexNode=eC.createElement("ne-uli-i",{contentEditable:"false"}),this._contentNode=eC.createElement("ne-uli-c",{className:"ne-uli-content"}),eC.setAttributeByChange(this._rootNode,e),this._resetIndexSymbol(),this._rootNode.appendChild(this._indexNode),this._rootNode.appendChild(this._contentNode)}},{key:"updateAttribute",value:function(e){this._resetIndexSymbol(),eC.syncDOMAttrChange(this._rootNode,e)}},{key:"repair",value:function(){var e=this._rootNode,t=this._indexNode,n=this._contentNode;n.parentNode!==e&&e.appendChild(n),t.parentNode!==e&&e.prepend(t),2!==e.childNodes.length&&Array.from(e.childNodes).forEach((function(e){e!==n&&e!==t&&e.remove()}))}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_resetIndexSymbol",value:function(){this._indexNode.innerHTML='<span class="ne-list-symbol"><span>'.concat(this._getIndexText(),"</span></span>"),MD(this._indexNode,this.viewNode.attrs.indexStyle)}},{key:"_getIndexText",value:function(){var e=this.viewNode.attrs.level;return ff(void 0===e?0:e)}}]),i}();var AD=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_indexNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(e){this._rootNode=eC.createElement("ne-oli"),this._indexNode=eC.createElement("ne-oli-i",{contentEditable:"false"}),this._contentNode=eC.createElement("ne-oli-c",{className:"ne-oli-content"}),eC.setAttributeByChange(this._rootNode,e),this._resetIndexSymbol(),this._rootNode.appendChild(this._indexNode),this._rootNode.appendChild(this._contentNode)}},{key:"updateAttribute",value:function(e){this._resetIndexSymbol(),eC.syncDOMAttrChange(this._rootNode,e)}},{key:"repair",value:function(){var e=this._rootNode,t=this._indexNode,n=this._contentNode;n.parentNode!==e&&e.appendChild(n),t.parentNode!==e&&e.prepend(t),2!==e.childNodes.length&&Array.from(e.childNodes).forEach((function(e){e!==n&&e!==t&&e.remove()}))}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_resetIndexSymbol",value:function(){this._indexNode.innerHTML='<span class="ne-list-symbol">'.concat(this._getIndexText(),"</span>"),MD(this._indexNode,this.viewNode.attrs.indexStyle)}},{key:"_getIndexText",value:function(){var e=this.viewNode.attrs,t=e.index,n=e.level;return pf(t,void 0===n?0:n)}}]),i}();var ID=function(e){u()(i,Qe);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iKernel",null),t._iKernel=e,t}return a()(i,[{key:"sync",value:function(){B()(p()(i.prototype),"sync",this).call(this),this._iKernel.hasExtendMethod("syncDynamicDataRecord")&&this._iKernel.syncDynamicDataRecord(this)}}]),i}();var jD=function(e){u()(i,ID);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getChecked",value:function(){return this.getValue("checked")}},{key:"setChecked",value:function(e){return this.setValue("checked",e)}},{key:"getVersion",value:function(){return this.getValue("version")}},{key:"setVersion",value:function(e){return this.setValue("version",e)}}]),i}();function VD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VD(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(jD,"loadType",ID.LOAD_TYPE.sync),m()(jD,"scheme",{checked:{type:"boolean",allowNull:!1,defaultValue:!1},version:{type:"number",allowNull:!0}});var UD=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_checkbox",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_taskListModel",null),m()(l()(e),"_enableDynamic",!1),e}return a()(i,[{key:"init",value:function(e){var t=this;this._enableDynamic=this.pluginContext.option.enableDynamic,this._enableDynamic&&this._initDynamic(),this._rootNode=eC.createElement("ne-tli"),this._checkbox=eC.createElement("ne-tli-i",{contentEditable:"false",className:["ant-checkbox",this.viewNode.attrs.checked?"ant-checkbox-checked":""]}),this._checkbox.appendChild(eC.createElement("span",{className:"ant-checkbox-inner"})),this._contentNode=eC.createElement("ne-tli-c",{className:"ne-oli-content"}),wR(this,this._checkbox,"click",(function(){t.iRenderer.execCommand("taskStatus",t.viewNode.attrs.id)}),!1),eC.setAttributeByChange(this._rootNode,e),this._rootNode.appendChild(this._checkbox),this._rootNode.appendChild(this._contentNode)}},{key:"destroy",value:function(){this._taskListModel&&function e(t){return t.isTextNode()?0===t.dataLength:!t.isCardNode()&&(!!t.isFillerNode()||(br(t.isElement(),"F:is-like-empty;L:16"),!!t.isEmpty()||t.children.every((function(t){return e(t)}))))}(this.viewNode)&&this._taskListModel.remove()}},{key:"_getSheetId",value:function(){return ef(this.viewNode.attrs.id)}},{key:"_initDynamic",value:function(){if(this.iRenderer.iKernel.hasExtendMethod("getDynamicDataRecordByCardId")){var e=this.iRenderer.iKernel.getDynamicDataRecordByCardId(this._getSheetId());e&&this._initTaskListModel(e)}}},{key:"updateAttribute",value:function(e,t,n){this.viewNode.attrs.checked?this._checkbox.classList.add("ant-checkbox-checked"):this._checkbox.classList.remove("ant-checkbox-checked"),this._enableDynamic&&this.syncDataModel(t,n),eC.syncDOMAttrChange(this._rootNode,e)}},{key:"repair",value:function(){var e=this._rootNode,t=this._checkbox,n=this._contentNode;n.parentNode!==e&&e.appendChild(n),t.parentNode!==e&&e.prepend(t),2!==e.childNodes.length&&Array.from(e.childNodes).forEach((function(e){e!==n&&e!==t&&e.remove()}))}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"syncDataModel",value:function(e,t){t&&!this._taskListModel&&this._initTaskListModel(),this._taskListModel&&(this._taskListModel.setChecked(!!this.viewNode.attrs.checked),this._taskListModel.setVersion(this.viewNode.attrs.version),t&&this._taskListModel.sync())}},{key:"_initTaskListModel",value:function(e){var t=this.iRenderer.iKernel;this._taskListModel=new jD(t,zD(zD({},t.getDynamicDataBaseParams()),{},{sheetId:this._getSheetId(),viewType:"TASK_LIST"}),e)}}]),i}();var HD=function(e){u()(i,pc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){if("paste"===e.from){e.hasState("list")||e.setState("list",{});var n=e.getState("list");if(t.attrs.list){var r=n[t.attrs.list];r||(r=da(),n[t.attrs.list]=r),Mo.setAttribute(t,"list",r)}else Mo.setAttribute(t,"list",da())}}}]),i}();m()(HD,"NodeNames",["uli","oli","tli"]),FN('ne-oli,\nne-uli,\nne-tli {\n  display: block;\n  padding-left: 28px;\n}\nne-oli[ne-level="1"],\nne-uli[ne-level="1"],\nne-tli[ne-level="1"] {\n  padding-left: calc(28px + 2em);\n}\nne-oli[ne-level="2"],\nne-uli[ne-level="2"],\nne-tli[ne-level="2"] {\n  padding-left: calc(28px + 4em);\n}\nne-oli[ne-level="3"],\nne-uli[ne-level="3"],\nne-tli[ne-level="3"] {\n  padding-left: calc(28px + 6em);\n}\nne-oli[ne-level="4"],\nne-uli[ne-level="4"],\nne-tli[ne-level="4"] {\n  padding-left: calc(28px + 8em);\n}\nne-oli[ne-level="5"],\nne-uli[ne-level="5"],\nne-tli[ne-level="5"] {\n  padding-left: calc(28px + 10em);\n}\nne-oli[ne-level="6"],\nne-uli[ne-level="6"],\nne-tli[ne-level="6"] {\n  padding-left: calc(28px + 12em);\n}\nne-oli[ne-level="7"],\nne-uli[ne-level="7"],\nne-tli[ne-level="7"] {\n  padding-left: calc(28px + 14em);\n}\nne-oli[ne-level="8"],\nne-uli[ne-level="8"],\nne-tli[ne-level="8"] {\n  padding-left: calc(28px + 16em);\n}\nne-oli-i,\nne-uli-i,\nne-tli-i {\n  min-width: 28px;\n  margin-left: -28px;\n  text-indent: 0;\n  padding-left: 0;\n  display: inline-flex;\n  justify-content: flex-end;\n  user-select: none;\n  box-sizing: border-box;\n  white-space: nowrap;\n}\nne-oli-i .ne-list-symbol {\n  padding-right: 6px;\n  font-family: Helvetica Neue, Consolas;\n}\nne-oli-i .ne-list-symbol:after {\n  content: \'.\';\n}\nne-uli-i .ne-list-symbol {\n  padding-right: 6px;\n}\nne-uli-i .ne-list-symbol > span {\n  display: inline-block;\n  transform: scale(0.5);\n}\nne-tli ne-tli-i.ant-checkbox {\n  margin-left: -28px;\n  padding-right: 5px;\n}\nne-tli ne-tli-i.ant-checkbox:after {\n  display: none;\n}\nne-oli-c,\nne-uli-c,\nne-tli-c {\n  text-indent: 0;\n  padding-left: 0;\n  min-width: 1px;\n}\n/** symbol 样式 **/\nne-oli-i[ne-i-bold],\nne-uli-i[ne-i-bold] {\n  font-weight: bold;\n}\nne-oli-i[ne-i-italic],\nne-uli-i[ne-i-italic] {\n  font-style: italic;\n}\nne-oli-i[ne-i-underline],\nne-uli-i[ne-i-underline] {\n  text-decoration: underline;\n}\nne-oli-i[ne-i-underline][ne-i-strikethrough],\nne-uli-i[ne-i-underline][ne-i-strikethrough] {\n  text-decoration: underline line-through;\n}\nne-oli-i[ne-i-strikethrough],\nne-uli-i[ne-i-strikethrough] {\n  text-decoration: line-through;\n}\n');var qD=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("oli",AD),e.registerBoxNode("uli",LD),e.registerBoxNode("tli",UD,this),e.iKernel.hasExtendMethod("registerINodeNodePreReader")&&e.iKernel.registerINodeNodePreReader(HD.NodeNames,new HD),e.registerAttrTranslator({level:new FD}),this._initHotKey()}},{key:"_initHotKey",value:function(){var e=this.iRenderer;e.hasExtendMethod("registerHotKey")&&[{key:["cmd","shift","8"],command:"unorderedList"},{key:["cmd","shift","7"],command:"orderedList"},{key:["cmd","opt","T"],command:"taskList"}].forEach((function(t){var n=t.key,r=t.command;e.registerHotKey(r,n,(function(t){t.stop(),e.execCommand(r)}))}))}}]),i}();m()(qD,"PluginName","list"),m()(qD,"PluginOption",Md);var WD="simple",ZD="note";var KD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.STYLE_NAME,name:e,value:"".concat(t,"px")}}}]),i}();var $D=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:e,value:t+""}}}]),i}();var JD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"data-".concat(e),value:t+""}}}]),i}();var YD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.STYLE_NAME,name:"background-color",value:t+""}}}]),i}();var GD=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.STYLE_NAME,name:"vertical-align",value:t+""}}}]),i}();var XD=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_contentNode",null),m()(l()(e),"_breakNode",null),e}return a()(i,[{key:"init",value:function(e){this._rootNode=eC.createElement("td",{className:"ne-td"}),this._contentNode=eC.createElement("div",{className:"ne-td-content"}),this._breakNode=eC.createElement("div",{className:"ne-td-break",contentEditable:!1}),this._breakNode.innerHTML="<br>",this._rootNode.appendChild(this._contentNode),this._rootNode.appendChild(this._breakNode),this._updateAttributes({removed:[],updated:e})}},{key:"$didUpdate",value:function(){this._rootNode.dispatchEvent(new Event("table-cell-attr-change",{bubbles:!0,cancelable:!0}))}},{key:"updateAttribute",value:function(e){this._updateAttributes(e)}},{key:"repair",value:function(){var e=this._rootNode,t=this._contentNode,n=this._breakNode;t.parentNode!==e&&e.prepend(t),n.parentNode!==e&&e.appendChild(n),Array.from(e.childNodes).forEach((function(e){e!==t&&e!==n&&e.remove()}))}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_updateAttributes",value:function(e){eC.syncDOMAttrChange(this._rootNode,e)}}]),i}();var QD=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),e}return a()(i,[{key:"init",value:function(e){this._rootNode=eC.createElement("tr",{className:"ne-tr"}),eC.setAttributeByChange(this._rootNode,e)}},{key:"$didUpdate",value:function(){this._rootNode.dispatchEvent(new Event("table-cell-attr-change",{bubbles:!0,cancelable:!0}))}},{key:"updateAttribute",value:function(e){eC.syncDOMAttrChange(this._rootNode,e)}},{key:"getMainDOMNode",value:function(){return this._rootNode}}]),i}(),eS=function(){function e(t,n){o()(this,e),m()(this,"_viewNode",null),m()(this,"_tableDOMNode",null),m()(this,"_colGroup",null),m()(this,"_columns",[]),this._viewNode=t,this._tableDOMNode=n,this._colGroup=document.createElement("colgroup"),this._tableDOMNode.prepend(this._colGroup)}return a()(e,[{key:"destroy",value:function(){this._colGroup.remove()}},{key:"update",value:function(){this._updateColumnNode(),this._updateColumnWidth()}},{key:"_updateColumnNode",value:function(){var e=this._columns,t=this._viewNode.attrs.colCount;if(e.length!==t)if(e.length>t)e.splice(t,e.length-t).forEach((function(e){e.parentNode.removeChild(e)}));else for(var n=e.length;n<t;n++){var r=document.createElement("col");this._colGroup.appendChild(r),e.push(r)}}},{key:"_updateColumnWidth",value:function(){var e=this._columns,t=this._viewNode.attrs.colWidths,n=e.length-1,r=0;e.forEach((function(e,o){var i=t[o];o===n&&(i-=1),r+=i,e.getAttribute("width")!==i+""&&e.setAttribute("width",i)})),this._tableDOMNode.style.width=r+1+"px"}}]),e}();var tS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a,c){var s;return o()(this,i),s=r.call(this),m()(l()(s),"_tableNodeInstance",null),m()(l()(s),"_iRenderer",null),m()(l()(s),"_viewNode",null),m()(l()(s),"_tableDOMNode",null),m()(l()(s),"_tableFootNode",null),m()(l()(s),"_tableFootRowNode",null),m()(l()(s),"_tableInnerWrapNode",null),m()(l()(s),"_maxViewStatus",!1),s._tableNodeInstance=e,s._iRenderer=t,s._viewNode=n,s._tableDOMNode=a,s._tableBoxNode=a.parentNode,s._pluginContext=c,s._tableInnerWrapNode=a.parentNode.parentNode,s._tableFootNode=eC.createElement("tfoot"),s._tableFootRowNode=eC.createElement("tr"),s._tableFootNode.appendChild(s._tableFootRowNode),s.tableDOMNode.appendChild(s._tableFootNode),s}return a()(i,[{key:"destroy",value:function(){this._tableFootNode.remove(),this.removeAllListeners()}},{key:"isAttached",get:function(){return this._tableNodeInstance.isAttached}},{key:"refresh",value:function(){this.isAttached&&this.emit("change")}},{key:"tableDOMNode",get:function(){return this._tableDOMNode}},{key:"tableBoxNode",get:function(){return this._tableBoxNode}},{key:"tableWrapNode",get:function(){return this._tableInnerWrapNode.parentNode}},{key:"tableInnerWrapNode",get:function(){return this._tableInnerWrapNode}},{key:"columnCount",get:function(){return this._viewNode.attrs.colCount}},{key:"rowCount",get:function(){return this._viewNode.attrs.rowCount}},{key:"columnWidths",get:function(){return this._viewNode.attrs.colWidths}},{key:"rowHeights",get:function(){br(this._tableDOMNode.isConnected,"F:table-context;L:79");var e=this._tableDOMNode.tBodies[0].rows;return Array.from(e).map((function(e){return e.getBoundingClientRect().height}))}},{key:"colCount",get:function(){return this._viewNode.attrs.colCount}},{key:"canMergeCell",get:function(){return 0===this._iRenderer.queryCommandState("tableMergeCell")}},{key:"canUnmergeCell",get:function(){return 0===this._iRenderer.queryCommandState("tableUnmergeCell")}},{key:"tableWidth",get:function(){return this._viewNode.attrs.colWidths.reduce((function(e,t){return e+t}),0)}},{key:"isBorderVisible",get:function(){return!1!==this._viewNode.attrs.borderVisible}},{key:"headDisabled",get:function(){return this._pluginContext.headDisabled}},{key:"isMaxView",value:function(){return this._maxViewStatus}},{key:"setMaxView",value:function(){this._maxViewStatus=!0}},{key:"clearMaxView",value:function(){this._maxViewStatus=!1}},{key:"getColumnDisplayRect",value:function(e){return this._tableFootRowNode.children[e]||(this._tableFootRowNode.innerHTML="<td>".concat(new Array(this._viewNode.attrs.colCount).join("</td><td>"),"</td>")),this._tableFootRowNode.children[e].getBoundingClientRect()}},{key:"getRowDisplayRect",value:function(e){return br(this._tableDOMNode.isConnected,"F:table-context;L:135"),this._tableDOMNode.tBodies[0].rows[e]?this._tableDOMNode.tBodies[0].rows[e].getBoundingClientRect():{height:0}}},{key:"isCrossColumn",value:function(e){return 0!==e&&this._viewNode.children.some((function(t){for(var n=t.children,r=0,o=n.length;r<o;r++){var i=n[r].attrs,a=i.col,c=i.colSpan;if(a<e&&e<=a+(void 0===c?1:c)-1)return!0}return!1}))}},{key:"isCrossRow",value:function(e){if(0===e)return!1;for(var t=this._viewNode,n=t.attrs.colCount,r=t.children[e],o=0,i=0,a=r.children.length;i<a;i++){var c=r.children[i].attrs,l=c.col,s=c.colSpan;if(l!==o)return!0;o=l+(void 0===s?1:s)}return o!==n}},{key:"findColumnBoundary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;br(e<=t,"F:table-context;L:197");var n=e,r=t,o=this._viewNode,i=o.children;return i.forEach((function(n){n.children.forEach((function(n){var r=n.attrs,o=r.col,i=r.colSpan,a=o,c=o+(void 0===i?1:i)-1;c<e||a>t||(e=Math.min(e,a),t=Math.max(t,c))}))})),e!==n||t!==r?this.findColumnBoundary(e,t):{min:e,max:t}}},{key:"findRowBoundary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;br(e<=t,"F:table-context;L:233");var n=e,r=t,o=this._viewNode,i=o.children;return i.forEach((function(n,r){n.children.forEach((function(n){var o=n.attrs.rowSpan,i=r,a=r+(void 0===o?1:o)-1;a<e||i>t||(e=Math.min(e,i),t=Math.max(t,a))}))})),e!==n||t!==r?this.findRowBoundary(e,t):{min:e,max:t}}},{key:"execute",value:function(e){var t;switch(e){case"copy":return void document.execCommand("copy");case"cut":return void document.execCommand("cut");case"deleteTable":return void this._iRenderer.execCommand("deleteTable",this._viewNode.attrs.id);default:for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return void(t=this._iRenderer).execCommand.apply(t,[e].concat(r))}}},{key:"trySetColumnWidth",value:function(e,t){var n=this._tableDOMNode.firstElementChild.children[e],r=n.width,o=Number.parseInt(this._tableDOMNode.style.width,10);n.width=t;var i=t-r;o&&(this._tableDOMNode.style.width=o+i+"px");var a=this.getColumnDisplayRect(e).width;return n.width=r,this._tableDOMNode.style.width=o?o+"px":"",{width:a,rows:Array.from(this._tableDOMNode.tBodies[0].rows).map((function(e){return e.getBoundingClientRect().height}))}}},{key:"trySetRowHeight",value:function(e,t){var n=this._tableDOMNode.tBodies[0].children[e],r=Number.parseInt(n.style.height,10);n.style.height=t+"px";var o=n.getBoundingClientRect().height;return n.style.height=r?r+"px":"",o}}]),i}(),nS=function(){function e(t){o()(this,e),m()(this,"_domNode",null),m()(this,"_handlers",[]),this._domNode=t}return a()(e,[{key:"destroy",value:function(){var e=this;this._handlers.forEach((function(t){e._domNode.removeEventListener("mousedown",t,!1)}))}},{key:"listen",value:function(e){var t=this._domNode,n=function(n){function r(t){t.stopPropagation(),t.preventDefault(),e("move",t)}n.preventDefault(),e("start",n),t.ownerDocument.addEventListener("mousemove",r,!1),t.ownerDocument.addEventListener("mouseup",(function n(o){o.stopPropagation(),o.preventDefault(),t.ownerDocument.removeEventListener("mousemove",r,!1),t.ownerDocument.removeEventListener("mouseup",n,!1),e("end",o)}),!1)};t.addEventListener("mousedown",n,!1),this._handlers.push(n)}}]),e}();function rS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Math.max(t,0),o=r,i=e.length-1-r,a=!1,c=function(t){a||"function"!=typeof n||t<0||t>=e.length||(a=n(t))};c(r);for(var l=1;l<=Math.min(o,i);l++)c(r-l),c(r+l);if(o>i)for(var s=1;s<=o-i;s++)c(r-i-s);else if(o<i)for(var u=1;u<=i-o;u++)c(r+o+u)}function oS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var iS=function(){function e(t,n,r){o()(this,e),m()(this,"_dragNode",null),m()(this,"_tableNode",null),m()(this,"_callbacks",null),this._dragNode=t,this._tableNode=n,this._callbacks=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onStart:function(){},onMove:function(){},onCancel:function(){},onCompleted:function(){}},r),this._init()}return a()(e,[{key:"_init",value:function(){var e=this,t=this._dragNode;wR(this,t,"mousedown",(function(e){e.stopPropagation()}),!1);var n=null;wR(this,t,"dragstart",(function(t){t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move";var r="";e._callbacks.onStart({setTipText:function(e){r=e||""}}),(n=document.createElement("div")).className="ne-ui-table-moving-tip",n.innerText=r,document.body.appendChild(n),t.dataTransfer.setDragImage(n,0,0),e._run((function(){n.remove()}))}),!1)}},{key:"_run",value:function(e){var t=this,n={destroy:function(){e()}},r=this._tableNode,o=!1,i=-1,a=-1,c=function(e){e.preventDefault();var n=r.getBoundingClientRect(),o=e.clientX-n.x,c=e.clientY-n.y;o===i&&c===a||(i=o,a=c,t._handleMove(o,c))};wR(n,document,"dragover",c,!1),wR(n,document,"dragenter",c,!1),wR(n,document,"drop",(function(e){e.preventDefault();var n=r.getBoundingClientRect(),c=e.clientX-n.x,l=e.clientY-n.y;i=-1,a=-1,o=!0,t._handleDragEnd(c,l)}),!1),wR(n,document,"dragend",(function(e){e.preventDefault(),n.destroy(),o||(i=-1,a=-1,t._handleCancel())}),!1)}},{key:"_handleMove",value:function(e,t){this._callbacks.onMove(e,t)}},{key:"_handleDragEnd",value:function(e,t){this._callbacks.onCompleted(e,t)}},{key:"_handleCancel",value:function(){this._callbacks.onCancel()}},{key:"destroy",value:function(){this._dragNode=null,this._tableNode=null,this._callbacks=null}}]),e}(),aS=function(){function e(){o()(this,e)}return a()(e,null,[{key:"listen",value:function(e,t,n){return new iS(e,t,n).destroy}}]),e}();function cS(e,t,n){var r=t.startColumn,o=t.endColumn,i=e.columnWidths,a=Math.min(r,o),c=Math.max(r,o),l=function(e,t){var n=0;if(t<n)return null;for(var r=0,o=e.length;r<o;r++){if(t<=n+e[r]/2)return{index:r,x:n};if(t<=(n+=e[r]))return{index:r+1,x:n-(r===o-1?3:0)}}return{index:e.length,x:n-3}}(i,n);if(!l)return null;var s=l.index;return s>=a&&s<=c+1?null:s===e.columnCount?l:e.isCrossColumn(s)?null:l}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-table-column-bar {\n  height: 14px;\n  border-width: 1px 0 1px 1px;\n  border-style: solid;\n  border-color: #DFDFDF;\n  background-color: #F2F3F5;\n  cursor: pointer;\n  position: relative;\n}\n.ne-ui-table-column-bar:hover {\n  background-color: #E2E4E6;\n}\n.ne-ui-table-column-bar.ne-ui-active {\n  background-color: rgba(6, 137, 243, 0.8);\n}\n.ne-ui-table-column-bar.ne-ui-active .ne-ui-table-column-bar-move {\n  display: flex;\n}\n.ne-ui-table-column-bar:last-child .ne-ui-table-column-bar-resizer {\n  margin-left: -6px;\n}\n.ne-ui-table-column-bar-resizer {\n  width: 7px;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 100%;\n  bottom: 0;\n  z-index: 1;\n  margin-left: -4px;\n  background-color: #0689F3;\n  cursor: col-resize;\n}\n.ne-ui-table-column-bar-resizer:hover {\n  opacity: 1;\n}\n.ne-ui-table-column-bar-move {\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  display: none;\n  cursor: move;\n}\n");var lS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_controller",null),m()(l()(c),"_tableContext",null),m()(l()(c),"_tableSelectionContext",null),m()(l()(c),"_colNode",null),m()(l()(c),"_barRootNode",null),m()(l()(c),"_moveNode",null),m()(l()(c),"_abortMoveHandler",null),m()(l()(c),"_index",-1),c._controller=e,c._tableContext=t,c._tableSelectionContext=n,c._colNode=t.tableDOMNode.firstChild.children[a],c._index=a,c._barRootNode=eC.createElement("div",{className:"ne-ui-table-column-bar","data-col":a}),c._moveNode=eC.createElement("div",{className:"ne-ui-table-column-bar-move",draggable:"true"}),c._moveNode.innerHTML='<svg width="10px" height="6px" viewBox="0 0 10 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="文档中表格优化-V3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="编辑态优化" transform="translate(-331.000000, -1372.000000)" fill="#FFFFFF" fill-rule="nonzero">\n            <g id="04" transform="translate(20.000000, 1280.000000)">\n                <g id="3.2" transform="translate(0.000000, 23.000000)">\n                    <g id="编组-8备份" transform="translate(0.000000, 37.000000)">\n                        <g id="激活" transform="translate(219.000000, 29.000000)">\n                            <g id="1" transform="translate(3.000000, 0.000000)">\n                                <path d="M90,7 C89.5,7 89,7.5 89,8 C89,8.5 89.5,9 90,9 C90.5,9 91,8.5 91,8 C91,7.5 90.5,7 90,7 L90,7 Z M98,5 C98.5,5 99,4.5 99,4 C99,3.5 98.5,3 98,3 C97.5,3 97,3.5 97,4 C97,4.5 97.5,5 98,5 Z M90,3 C89.5,3 89,3.5 89,4 C89,4.5 89.5,5 90,5 C90.5,5 91,4.5 91,4 C91,3.5 90.5,3 90,3 L90,3 Z M98,7 C97.5,7 97,7.5 97,8 C97,8.5 97.5,9 98,9 C98.5,9 99,8.5 99,8 C99,7.5 98.5,7 98,7 Z M94,3 C93.5,3 93,3.5 93,4 C93,4.5 93.5,5 94,5 C94.5,5 95,4.5 95,4 C95,3.5 94.5,3 94,3 Z M94,7 C93.5,7 93,7.5 93,8 C93,8.5 93.5,9 94,9 C94.5,9 95,8.5 95,8 C95,7.5 94.5,7 94,7 Z" id="形状"></path>\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>',c._barRootNode._columnIndex=a,c._barRootNode.appendChild(c._moveNode),c._initEvent(),c}return a()(i,[{key:"destroy",value:function(){this._barRootNode.remove()}},{key:"_initEvent",value:function(){this._initMove()}},{key:"_initMove",value:function(){var e=this._tableContext,t=this._tableSelectionContext,n=this._controller;this._abortMoveHandler=aS.listen(this._moveNode,this._tableContext.tableDOMNode,{onStart:function(e){var n=t.startColumn,r=t.endColumn;e.setTipText(xm("正在移动".concat(Math.abs(r-n)+1,"列")))},onMove:function(r){var o=cS(e,t,r);n.emit("_columnMoveIndexChange",{index:o?o.index:null,x:o?o.x:null,completed:!1})},onCompleted:function(r){var o=cS(e,t,r);n.emit("_columnMoveIndexChange",{index:o?o.index:null,x:o?o.x:null,completed:!0})},onCancel:function(){n.emit("cancelMove")}})}},{key:"index",get:function(){return this._index}},{key:"setSelectState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?this._barRootNode.classList.add("ne-ui-selected",t?"ne-ui-active":null):this._barRootNode.classList.remove("ne-ui-selected","ne-ui-active")}},{key:"appendTo",value:function(e){e.appendChild(this._barRootNode)}},{key:"reset",value:function(){var e=this._tableContext.getColumnDisplayRect(this._index).width;this._barRootNode.style.width="".concat(e,"px")}},{key:"getCoordinate",value:function(){return this._barRootNode.getBoundingClientRect()}}]),i}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-table-wrap.ne-ui-table-column-resizing .ne-ui-table-column-delete-button,\nne-table-wrap.ne-ui-table-column-resizing .ne-ui-table-column-add-button {\n  display: none!important;\n}\n.ne-ui-table-column-controller {\n  position: absolute;\n  top: 1px;\n  left: 0;\n  user-select: none;\n}\n.ne-ui-table-column-controller.ne-ui-active .ne-ui-table-column-bar {\n  background-color: rgba(6, 137, 243, 0.8);\n}\n.ne-ui-table-column-controller-inner {\n  display: none;\n  position: relative;\n  left: 0;\n  bottom: 0;\n  height: 14px;\n  border-right: 1px solid #DFDFDF;\n}\n.ne-ui-table-column-controller-text-mask {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 14px;\n  height: 28px;\n  cursor: text;\n}\n.ne-ui-table-column-moving-line {\n  position: absolute;\n  left: -9999px;\n  z-index: 2;\n  margin-left: 1px;\n  width: 2px;\n  height: 999999px;\n  background: #0689F3;\n  display: none;\n  pointer-events: none;\n}\n.ne-ui-table-column-delete-button,\n.ne-ui-table-column-add-button-track {\n  position: absolute;\n  bottom: 100%;\n  display: none;\n  justify-content: center;\n  align-items: center;\n  z-index: 2;\n  margin-bottom: 4px;\n}\n.ne-ui-table-column-delete-button,\n.ne-ui-table-column-add-button {\n  width: 24px;\n  height: 24px;\n  border: 1px solid #e4e4e4;\n  border-radius: 2px;\n  cursor: pointer;\n  background: #fff;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n.ne-ui-table-column-delete-button {\n  margin-left: -12px;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='14' viewBox='0 0 12 14' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23404040' d='M8.5.75a1 1 0 0 1 1 1V3h2a.5.5 0 0 1 .5.5v.563a.125.125 0 0 1-.125.125h-.932l-.392 8.11a1 1 0 0 1-.999.952H2.448a1 1 0 0 1-1-.952l-.39-8.11H.124A.125.125 0 0 1 0 4.063V3.5A.5.5 0 0 1 .5 3h2V1.75a1 1 0 0 1 1-1h5zm1.269 3.438H2.23l.29 7.875H9.48l.29-7.876zM5 5.625c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125h-.813a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125H5zm2.813 0c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125H7a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125h.813zm.5-3.688H3.686V3h4.626V1.937z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-column-delete-button:hover {\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='14' viewBox='0 0 12 14' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ff4d4f' d='M8.5.75a1 1 0 0 1 1 1V3h2a.5.5 0 0 1 .5.5v.563a.125.125 0 0 1-.125.125h-.932l-.392 8.11a1 1 0 0 1-.999.952H2.448a1 1 0 0 1-1-.952l-.39-8.11H.124A.125.125 0 0 1 0 4.063V3.5A.5.5 0 0 1 .5 3h2V1.75a1 1 0 0 1 1-1h5zm1.269 3.438H2.23l.29 7.875H9.48l.29-7.876zM5 5.625c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125h-.813a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125H5zm2.813 0c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125H7a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125h.813zm.5-3.688H3.686V3h4.626V1.937z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-column-add-button {\n  position: static;\n  pointer-events: auto;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23404040' d='M5.531.375h.938c.083 0 .125.042.125.125v11c0 .083-.042.125-.125.125H5.53c-.083 0-.125-.042-.125-.125V.5c0-.083.042-.125.125-.125zM.75 5.406h10.5c.083 0 .125.042.125.125v.938c0 .083-.042.125-.125.125H.75c-.083 0-.125-.042-.125-.125V5.53c0-.083.042-.125.125-.125z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-column-add-button:before {\n  content: ' ';\n  display: none;\n  width: 2px;\n  height: 10000000px;\n  background: #0689F3;\n  position: absolute;\n  top: 24px;\n  left: 12px;\n}\n.ne-ui-table-column-add-button:hover {\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%230689F3' d='M5.531.375h.938c.083 0 .125.042.125.125v11c0 .083-.042.125-.125.125H5.53c-.083 0-.125-.042-.125-.125V.5c0-.083.042-.125.125-.125zM.75 5.406h10.5c.083 0 .125.042.125.125v.938c0 .083-.042.125-.125.125H.75c-.083 0-.125-.042-.125-.125V5.53c0-.083.042-.125.125-.125z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-column-add-button:hover:before {\n  display: block;\n}\n.ne-ui-table-column-add-button-track {\n  width: 24px;\n  pointer-events: none;\n}\n.ne-ui-table-column-add-button-track.ne-ui-table-column-add-button-fixed-offset-after .ne-ui-table-column-add-button:before {\n  left: auto;\n  right: 0;\n}\n.ne-ui-table-column-add-button-track.ne-ui-table-column-add-button-fixed-offset-before .ne-ui-table-column-add-button:before {\n  left: 1px;\n  right: auto;\n}\n");var sS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_tableContext",null),m()(l()(n),"_tableSelectionContext",null),m()(l()(n),"_containerNode",null),m()(l()(n),"_movingLineNode",null),m()(l()(n),"_deleteButton",null),m()(l()(n),"_addColumnButton",null),m()(l()(n),"_bars",[]),m()(l()(n),"_listener",null),m()(l()(n),"_dragSelector",null),m()(l()(n),"_lastSelectInfo",null),m()(l()(n),"_isVisible",!1),m()(l()(n),"_mouseX",-1),m()(l()(n),"_addColType",null),m()(l()(n),"_addColIndex",-1),n._tableContext=e,n._tableSelectionContext=t,n._containerNode=eC.createElement("div",{className:"ne-ui-table-column-controller",contentEditable:!1}),n._containerNodeInner=eC.createElement("div",{className:"ne-ui-table-column-controller-inner"}),n._containerNodeTextMask=eC.createElement("div",{className:"ne-ui-table-column-controller-text-mask"}),n._movingLineNode=eC.createElement("div",{className:"ne-ui-table-column-moving-line"}),n._deleteButton=eC.createElement("div",{className:"ne-ui-table-column-delete-button"}),n._addColumnButton=eC.createElement("div",{className:"ne-ui-table-column-add-button"}),n._addColumnButtonTrack=eC.createElement("div",{className:"ne-ui-table-column-add-button-track"}),n._containerNode.appendChild(n._containerNodeInner),n._containerNode.appendChild(n._containerNodeTextMask),n._containerNode.appendChild(n._movingLineNode),n._containerNodeInner.appendChild(n._deleteButton),n._containerNodeInner.appendChild(n._addColumnButtonTrack),n._addColumnButtonTrack.appendChild(n._addColumnButton),n._initEvent(),n}return a()(i,[{key:"bars",get:function(){return this._bars}},{key:"_isEnable",get:function(){return this._tableSelectionContext.isFocus()&&!this._tableContext.headDisabled}},{key:"destroy",value:function(){this._containerNode.remove(),this.removeAllListeners(),this._listener.destroy()}},{key:"appendTo",value:function(e){e.appendChild(this._containerNode)}},{key:"hideMovingLine",value:function(){this._movingLineNode.style.display="none"}},{key:"showMovingLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"move";if("move"===t)this._movingLineNode.style.cssText="top: 100%; left: ".concat(e,"px; display: block");else if("resize"===t){var n=this._isEnable?28:14;this._movingLineNode.style.cssText="top: ".concat(n,"px; left: ").concat(e,"px; display: block")}}},{key:"_initEvent",value:function(){var e=this,t=this._tableContext;this._initMovingEvent(),Ls(this,this._tableContext,"change",(function(){e._refresh()})),Ls(this,this._tableSelectionContext,"focus",(function(){e._refresh()})),Ls(this,this._tableSelectionContext,"change",(function(){e._updateSelection()})),this._listener=new bN(this._containerNode),this._listener.on("mousedown",(function(t){if(t.target===e._containerNodeTextMask)return!0;t.preventDefault(),t.stopPropagation()})),this._dragSelector=new nS(this._containerNode),wR(this,this._containerNode,"click",(function(n){if(n.target.classList.contains("ne-ui-table-column-bar")){n.stopPropagation();var r=parseInt(n.target.getAttribute("data-col"),10),o=t.findColumnBoundary(r);if(!n.shiftKey)return e.emit("selectChange",{isComposing:!1,start:o.min,end:o.max}),e._mouseX=n.clientX,void e._showAddColumnButton(!0);var i=e._tableSelectionContext.startColumn;o.min>=i?e.emit("selectChange",{isComposing:!1,start:i,end:o.max}):e.emit("selectChange",{isComposing:!1,start:i,end:o.min})}}),!1),wR(this,this._deleteButton,"mouseenter",(function(t){t.stopPropagation(),e._tableSelectionContext.highlight(!0,"column")}),!1),wR(this,this._deleteButton,"mousemove",(function(e){e.stopPropagation()}),!1),wR(this,this._deleteButton,"mouseleave",(function(){e._tableSelectionContext.highlight(!1)}),!1),wR(this,this._deleteButton,"mousedown",(function(e){e.preventDefault()}),!1),wR(this,this._deleteButton,"click",(function(t){t.preventDefault(),t.stopPropagation(),e._tableSelectionContext.highlight(!1),e._tableContext.execute("tableDeleteColumn")}),!1),wR(this,this._containerNode,"mousemove",(function(t){e._mouseX=t.clientX,e._showAddColumnButton()}),!1),wR(this,this._containerNode,"mouseleave",(function(){e._hideAddColumnButton()}),!1),wR(this,this._containerNodeTextMask,"click",(function(t){e._tableContext.isMaxView()||(e._tableSelectionContext.clear(),pO.setRangeToPoint(t.clientX,t.clientY))}),!1),wR(this,this._addColumnButton,"mousedown",(function(e){e.stopPropagation(),e.preventDefault()}),!1),wR(this,this._addColumnButton,"mousemove",(function(e){e.stopPropagation(),e.preventDefault()}),!1),wR(this,this._addColumnButton,"click",(function(t){t.stopPropagation();var n=e._addColumnButton.getAttribute("data-pos"),r=parseInt(e._addColumnButton.getAttribute("data-index"),10);r>=0&&("before"===n?e._tableContext.execute("tableInsertBeforeColumn",1,r):e._tableContext.execute("tableInsertAfterColumn",1,r))}),!1),Ls(this,this,"resizeEnd",(function(t){var n=t.originalEvent;e._mouseX=n.clientX,"column"===e._tableSelectionContext.type&&e._showDeleteButton()}))}},{key:"_initMovingEvent",value:function(){var e=this;this.on("_columnMoveIndexChange",(function(t){var n=t.index,r=t.x;if(t.completed)return e.hideMovingLine(),void e.emit("moveColumn",n);null===n?e.hideMovingLine():e.showMovingLine(r)})),this.on("cancelMove",(function(){e.hideMovingLine()}))}},{key:"_refresh",value:function(){this._generateBars(this._tableContext.columnCount).forEach((function(e,t){br(e.index===t,"F:column-controller;L:287"),e.reset()}))}},{key:"_generateBars",value:function(e){var t=this._bars,n=t.length;if(e===n)return t;if(e<n){for(var r=e;r<n;r++)t[r].destroy();return t.splice(e,n-e),t}for(var o=n;o<e;o++){var i=new lS(this,this._tableContext,this._tableSelectionContext,o);t.push(i),i.appendTo(this._containerNodeInner)}return t}},{key:"_updateSelection",value:function(){var e=this._tableSelectionContext,t=e.type,n=e.startColumn,r=e.endColumn;if(this._clearAllSelect(),this._isEnable){this._show();var o=Math.min(n,r),i=Math.max(n,r);if(this._lastSelectInfo={type:t,start:o,end:i},"column"===t?this._showDeleteButton():this._hideDeleteButton(),"all"===t)this._containerNode.classList.add("ne-ui-selected","ne-ui-active");else if("row"===t)this._containerNode.classList.add("ne-ui-selected");else for(var a=o;a<=i;a++)this._bars[a].setSelectState(!0,"cell"!==t)}else this._hide()}},{key:"_clearAllSelect",value:function(){if(this._lastSelectInfo){this._hideDeleteButton();var e=this._lastSelectInfo.type;"all"===e||"row"===e?this._containerNode.classList.remove("ne-ui-selected","ne-ui-active"):this._bars.forEach((function(e){e.setSelectState(!1)})),this._lastSelectInfo=null}}},{key:"_hide",value:function(){this._isVisible&&(this._isVisible=!1,this._containerNodeInner.style.display="none")}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._containerNodeInner.style.display="flex")}},{key:"_getDeleteButtonPositionX",value:function(){var e=this._tableSelectionContext,t=e.startColumn,n=e.endColumn,r=Math.min(t,n),o=Math.max(t,n),i=this._tableSelectionContext.getColumnRect(r,o);return i.x+i.width/2}},{key:"_showDeleteButton",value:function(){var e=this._getDeleteButtonPositionX();this._deleteButton.style.cssText="left: ".concat(e,"px; display: flex")}},{key:"_hideDeleteButton",value:function(){this._deleteButton.style.cssText=""}},{key:"_showAddColumnButton",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this._tableContext.tableDOMNode,o=r.getBoundingClientRect().x,i=this._bars,a=this._mouseX,c=null,l=-1;if(rS(i,this._addColIndex,(function(n){var r=i[n].index,o=i[n].getCoordinate(),s=o.x,u=o.width;if(a>=s&&a<s+u)return l=r,e=s,t=u,c=a<s+u/2?"before":"after",!0})),c&&c!==this._addColType||l>=0&&l!==this._addColIndex||n)return this._addColType=c,this._addColIndex=l,this._containerNode.classList.add("ne-add-column-btn-show"),this._showAddColumnButtonByPosition(this._addColType,this._addColIndex,e-o,t)}},{key:"_showAddColumnButtonByPosition",value:function(e,t,n,r){var o=this._tableSelectionContext.type;this._addColumnButton.setAttribute("data-pos",e),this._addColumnButton.setAttribute("data-index",t);var i=0,a="",c="";if("before"===e)i=n-12,0===t&&(i=n,c="before"),a="left: ".concat(i,"px; display: flex;");else{i=n+r-12;var l=this._tableContext.tableInnerWrapNode,s=l.clientWidth+l.scrollLeft;n+r+12>=s&&s>=n+r-12&&(c="after",i=s>n+r?n+r-24:s-24),a="left: ".concat(i,"px; display: flex;")}if("column"===o){var u=this._getDeleteButtonPositionX()-12,d="";i>u||i===u&&"before"===e?(a+="justify-content: flex-end;",d="margin-right: -".concat(Math.max(0,28-i+u),"px")):(i<u||i===u&&"after"===e)&&(a+="justify-content: flex-start;",d="margin-left: -".concat(Math.max(0,28-u+i),"px")),this._addColumnButton.style.cssText=d}this._addColumnButtonTrack.style.cssText=a,c?this._addColumnButtonTrack.classList.add("ne-ui-table-column-add-button-fixed-offset-".concat(c)):this._addColumnButtonTrack.classList.remove("ne-ui-table-column-add-button-fixed-offset-before","ne-ui-table-column-add-button-fixed-offset-after")}},{key:"_hideAddColumnButton",value:function(){this._mouseX=-1,this._addColType=null,this._addColIndex=-1,this._addColumnButtonTrack.style.cssText="",this._addColumnButton.style.cssText="",this._containerNode.classList.remove("ne-add-column-btn-show")}}]),i}();function uS(e,t,n){var r=t.startRow,o=t.endRow,i=e.rowHeights,a=Math.min(r,o),c=Math.max(r,o),l=function(e,t){var n=0;if(t<n)return null;for(var r=0,o=e.length;r<o;r++){if(t<=n+e[r]/2)return{index:r,y:n};if(t<=(n+=e[r]))return{index:r+1,y:n-(r===o-1?3:0)}}return{index:e.length,y:n-3}}(i,n);if(!l)return null;var s=l.index;return s>=a&&s<=c+1?null:s===e.rowCount?l:e.isCrossRow(s)?null:l}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-table-row-bar {\n  position: relative;\n  width: 14px;\n  border-width: 1px 1px 0 1px;\n  border-style: solid;\n  border-color: #DFDFDF;\n  background-color: #F2F3F5;\n  cursor: pointer;\n}\n.ne-ui-table-row-bar:hover {\n  background-color: #E2E4E6;\n}\n.ne-ui-table-row-bar.ne-ui-active {\n  background-color: rgba(6, 137, 243, 0.8);\n}\n.ne-ui-table-row-bar.ne-ui-active .ne-ui-table-row-bar-move {\n  display: flex;\n}\n.ne-ui-table-row-bar:last-child .ne-ui-table-row-bar-resizer {\n  margin-top: -6px;\n}\n.ne-ui-table-row-bar-resizer {\n  height: 7px;\n  opacity: 0;\n  position: absolute;\n  left: 0;\n  top: 100%;\n  right: 0;\n  z-index: 1;\n  margin-top: -4px;\n  background-color: #0689F3;\n  cursor: row-resize;\n}\n.ne-ui-table-row-bar-resizer:hover {\n  opacity: 1;\n}\n.ne-ui-table-row-bar-move {\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  display: none;\n  cursor: move;\n}\n.ne-ui-table-row-bar-line {\n  height: 1px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  z-index: 2;\n  background-color: #0689F3;\n}\n");var dS=function(){function e(t,n,r,i){o()(this,e),m()(this,"_controller",null),m()(this,"_tableContext",null),m()(this,"_tableSelectionContext",null),m()(this,"_rowNode",null),m()(this,"_barRootNode",null),m()(this,"_moveNode",null),m()(this,"_height",-1),m()(this,"_index",-1),this._controller=t,this._tableContext=n,this._tableSelectionContext=r,this._rowNode=n.tableDOMNode.tBodies[0].rows[i],this._index=i,this._barRootNode=eC.createElement("div",{className:"ne-ui-table-row-bar"}),this._moveNode=eC.createElement("div",{className:"ne-ui-table-row-bar-move",draggable:"true"}),this._moveNode.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="6px" height="10px" viewBox="0 0 6 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="文档中表格优化-V3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="编辑态优化" transform="translate(-747.000000, -1699.000000)" fill="#FFFFFF" fill-rule="nonzero">\n            <g id="05" transform="translate(20.000000, 1560.000000)">\n                <g id="编组-5" transform="translate(700.000000, 45.000000)">\n                    <g id="激活" transform="translate(24.000000, 44.000000)">\n                        <g id="1备份" transform="translate(0.000000, 37.000000)">\n                            <path d="M2,19 C1.5,19 1,19.5 1,20 C1,20.5 1.5,21 2,21 C2.5,21 3,20.5 3,20 C3,19.5 2.5,19 2,19 L2,19 Z M9.99999999,17 C10.5,17 11,16.5 11,16 C11,15.5 10.5,15 9.99999999,15 C9.49999999,15 8.99999999,15.5 8.99999999,16 C8.99999999,16.5 9.49999999,17 9.99999999,17 Z M2,15 C1.5,15 1,15.5 1,16 C1,16.5 1.5,17 2,17 C2.5,17 3,16.5 3,16 C3,15.5 2.5,15 2,15 L2,15 Z M9.99999999,19 C9.49999999,19 8.99999999,19.5 8.99999999,20 C8.99999999,20.5 9.49999999,21 9.99999999,21 C10.5,21 11,20.5 11,20 C11,19.5 10.5,19 9.99999999,19 Z M6,15 C5.5,15 5,15.5 5,16 C5,16.5 5.5,17 6,17 C6.5,17 7,16.5 7,16 C7,15.5 6.5,15 6,15 Z M6,19 C5.5,19 5,19.5 5,20 C5,20.5 5.5,21 6,21 C6.5,21 7,20.5 7,20 C7,19.5 6.5,19 6,19 Z" id="形状" transform="translate(6.000000, 18.000000) rotate(90.000000) translate(-6.000000, -18.000000) "></path>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>',this._barRootNode.appendChild(this._moveNode),this._barRootNode._rowIndex=i,this._initEvent()}return a()(e,[{key:"destroy",value:function(){this._barRootNode.remove()}},{key:"_initEvent",value:function(){this._initMove()}},{key:"_initMove",value:function(){var e=this._tableContext,t=this._tableSelectionContext,n=this._controller;aS.listen(this._moveNode,this._tableContext.tableDOMNode,{onStart:function(e){var n=t.startRow,r=t.endRow;e.setTipText(xm("正在移动".concat(Math.abs(r-n)+1,"行")))},onMove:function(r,o){var i=uS(e,t,o);n.emit("_rowMoveIndexChange",{index:i?i.index:null,y:i?i.y:null,completed:!1})},onCompleted:function(r,o){var i=uS(e,t,o);n.emit("_rowMoveIndexChange",{index:i?i.index:null,y:i?i.y:null,completed:!0})},onCancel:function(){n.emit("_cancelMove")}})}},{key:"index",get:function(){return this._index}},{key:"appendTo",value:function(e){e.appendChild(this._barRootNode)}},{key:"forceSetDOMHeight",value:function(e){this._barRootNode.style.height=e+"px"}},{key:"reset",value:function(){var e=this._tableContext.getRowDisplayRect(this._index).height;this._height=e,this._barRootNode.style.height="".concat(e,"px"),this._rowNode=this._tableContext.tableDOMNode.tBodies[0].rows[this._index]}},{key:"setSelectState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?this._barRootNode.classList.add("ne-ui-selected",t?"ne-ui-active":null):this._barRootNode.classList.remove("ne-ui-selected","ne-ui-active")}},{key:"getCoordinate",value:function(){return this._barRootNode.getBoundingClientRect()}}]),e}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-table-wrap.ne-ui-table-row-resizing .ne-ui-table-row-delete-button {\n  display: none!important;\n}\n.ne-ui-table-row-controller {\n  position: absolute;\n  top: 14px;\n  left: -8px;\n  width: 22px;\n  background-color: #FFF;\n}\n.ne-ui-table-row-controller.ne-ui-active .ne-ui-table-row-bar {\n  background-color: rgba(6, 137, 243, 0.8);\n}\n.ne-ui-table-row-controller .ne-ui-table-row-controller-inner {\n  position: relative;\n  left: 8px;\n  width: 14px;\n  border-bottom: 1px solid #DFDFDF;\n  display: none;\n}\n.ne-ui-table-row-moving-line {\n  position: absolute;\n  top: -9999px;\n  z-index: 2;\n  height: 2px;\n  width: 0;\n  background: #0689F3;\n  display: none;\n  pointer-events: none;\n}\n.ne-ui-table-row-delete-button,\n.ne-ui-table-row-add-button {\n  position: absolute;\n  right: 100%;\n  display: none;\n  justify-content: center;\n  align-items: center;\n  z-index: 2;\n  width: 24px;\n  height: 24px;\n  border: 1px solid #e4e4e4;\n  border-radius: 2px;\n  cursor: pointer;\n  background-color: #fff;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n.ne-ui-table-row-delete-button {\n  left: 14px;\n  margin-left: 2px;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='14' viewBox='0 0 12 14' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23404040' d='M8.5.75a1 1 0 0 1 1 1V3h2a.5.5 0 0 1 .5.5v.563a.125.125 0 0 1-.125.125h-.932l-.392 8.11a1 1 0 0 1-.999.952H2.448a1 1 0 0 1-1-.952l-.39-8.11H.124A.125.125 0 0 1 0 4.063V3.5A.5.5 0 0 1 .5 3h2V1.75a1 1 0 0 1 1-1h5zm1.269 3.438H2.23l.29 7.875H9.48l.29-7.876zM5 5.625c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125h-.813a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125H5zm2.813 0c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125H7a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125h.813zm.5-3.688H3.686V3h4.626V1.937z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-row-delete-button:hover {\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='14' viewBox='0 0 12 14' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ff4d4f' d='M8.5.75a1 1 0 0 1 1 1V3h2a.5.5 0 0 1 .5.5v.563a.125.125 0 0 1-.125.125h-.932l-.392 8.11a1 1 0 0 1-.999.952H2.448a1 1 0 0 1-1-.952l-.39-8.11H.124A.125.125 0 0 1 0 4.063V3.5A.5.5 0 0 1 .5 3h2V1.75a1 1 0 0 1 1-1h5zm1.269 3.438H2.23l.29 7.875H9.48l.29-7.876zM5 5.625c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125h-.813a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125H5zm2.813 0c.069 0 .125.056.125.125v4.75a.125.125 0 0 1-.125.125H7a.125.125 0 0 1-.125-.125V5.75c0-.069.056-.125.125-.125h.813zm.5-3.688H3.686V3h4.626V1.937z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-row-add-button {\n  margin-right: 2px;\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23404040' d='M5.531.375h.938c.083 0 .125.042.125.125v11c0 .083-.042.125-.125.125H5.53c-.083 0-.125-.042-.125-.125V.5c0-.083.042-.125.125-.125zM.75 5.406h10.5c.083 0 .125.042.125.125v.938c0 .083-.042.125-.125.125H.75c-.083 0-.125-.042-.125-.125V5.53c0-.083.042-.125.125-.125z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-row-add-button:hover {\n  background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%230689F3' d='M5.531.375h.938c.083 0 .125.042.125.125v11c0 .083-.042.125-.125.125H5.53c-.083 0-.125-.042-.125-.125V.5c0-.083.042-.125.125-.125zM.75 5.406h10.5c.083 0 .125.042.125.125v.938c0 .083-.042.125-.125.125H.75c-.083 0-.125-.042-.125-.125V5.53c0-.083.042-.125.125-.125z' fill-rule='nonzero'/%3E%3C/svg%3E\");\n}\n.ne-ui-table-row-delete-button {\n  margin-top: -12px;\n}\n");var fS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_containerNode",null),m()(l()(n),"_movingLineNode",null),m()(l()(n),"_deleteButton",null),m()(l()(n),"_addRowButton",null),m()(l()(n),"_bars",[]),m()(l()(n),"_tableContext",null),m()(l()(n),"_tableSelectionContext",null),m()(l()(n),"_lastSelectInfo",null),m()(l()(n),"_isVisible",!1),m()(l()(n),"_resizing",!1),m()(l()(n),"_mouseY",-1),m()(l()(n),"_addRowType",null),m()(l()(n),"_addRowIndex",-1),m()(l()(n),"_resizeObserver",null),m()(l()(n),"_firstRowBeforeTimer",null),n._tableContext=e,n._tableSelectionContext=t,n._containerNode=eC.createElement("div",{className:"ne-ui-table-row-controller"}),n._containerNodeInner=eC.createElement("div",{className:"ne-ui-table-row-controller-inner"}),n._movingLineNode=eC.createElement("div",{className:"ne-ui-table-row-moving-line"}),n._deleteButton=eC.createElement("div",{className:"ne-ui-table-row-delete-button"}),n._addRowButton=eC.createElement("div",{className:"ne-ui-table-row-add-button"}),n._containerNode.appendChild(n._containerNodeInner),n._containerNode.appendChild(n._movingLineNode),n._containerNodeInner.appendChild(n._deleteButton),n._containerNodeInner.appendChild(n._addRowButton),n._initEvent(),n._initResizeObserver(),n}return a()(i,[{key:"bars",get:function(){return this._bars}},{key:"_isEnable",get:function(){return this._tableSelectionContext.isFocus()&&!this._tableContext.headDisabled}},{key:"destroy",value:function(){this._resizeObserver.disconnect(),this.removeAllListeners(),this._containerNode.remove()}},{key:"appendTo",value:function(e){e.appendChild(this._containerNode)}},{key:"hideMovingLine",value:function(){this._movingLineNode.style.display="none"}},{key:"showMovingLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"move";if("move"===t){var n=this._tableContext.tableBoxNode.clientWidth+14+1,r=this._tableContext.tableInnerWrapNode.clientWidth+14+1,o=Math.min(n,r);this._movingLineNode.style.cssText="top: ".concat(e,"px; left: 6px; display: block; width: ").concat(o,"px")}else if("resize"===t){var i=this._isEnable?0:13,a=this._tableContext.tableBoxNode.clientWidth+14-1-i,c=this._tableContext.tableInnerWrapNode.clientWidth+14-1-i,l=Math.min(a,c);this._movingLineNode.style.cssText="top: ".concat(e,"px; left: ").concat(8+i,"px; display: block; width: ").concat(l,"px")}}},{key:"_initEvent",value:function(){var e=this,t=this._tableContext;this._initMovingEvent(),Ls(this,this._tableContext,"change",(function(){e._refresh()})),Ls(this,this._tableSelectionContext,"focus",(function(){e._refresh()})),Ls(this,this._tableSelectionContext,"change",(function(){e._updateSelection()})),Ls(this,this._tableContext,"_requestResetCols",(function(t){br(t.length===e._bars.length,"F:row-controller;L:135"),e._bars.forEach((function(n,r){n.forceSetDOMHeight(t[r]+(r===e._bars.length-1?-1:0))}))})),this._listener=new nS(this._containerNode),wR(this,this._containerNode,"click",(function(n){if(n.target.classList.contains("ne-ui-table-row-bar")){n.stopPropagation();var r=n.target._rowIndex,o=t.findRowBoundary(r);if(n.shiftKey){var i=e._tableSelectionContext.startRow;o.min>=i?e.emit("selectChange",{isComposing:!1,start:i,end:o.max}):e.emit("selectChange",{isComposing:!1,start:i,end:o.min})}else e.emit("selectChange",{isComposing:!1,start:o.min,end:o.max})}}),!1);var n=!1;wR(this,this._deleteButton,"mouseenter",(function(e){e.stopPropagation(),n=!0}),!1),wR(this,this._deleteButton,"mousemove",(function(t){t.stopPropagation(),n&&(n=!1,e._tableSelectionContext.highlight(!0,"row"))}),!1),wR(this,this._deleteButton,"mouseleave",(function(){e._tableSelectionContext.highlight(!1)}),!1),wR(this,this._deleteButton,"mousedown",(function(t){t.preventDefault(),e._hideAddRowButton()}),!1),wR(this,this._deleteButton,"click",(function(t){t.preventDefault(),e._tableSelectionContext.highlight(!1),e._tableContext.execute("tableDeleteRow")}),!1),wR(this,this._containerNode,"mousemove",(function(t){e._mouseY=t.clientY,e._showAddRowButton()}),!1),wR(this,this._containerNode,"mouseleave",(function(){e._hideAddRowButton()}),!1),wR(this,this._addRowButton,"click",(function(){var t=e._addRowButton.getAttribute("data-pos"),n=parseInt(e._addRowButton.getAttribute("data-index"),10);n>=0&&("before"===t?e._tableContext.execute("tableInsertBeforeRow",1,n):e._tableContext.execute("tableInsertAfterRow",1,n))}),!1),wR(this,this._addRowButton,"mouseenter",(function(){var t=e._tableContext.tableDOMNode.getBoundingClientRect(),n=e._addRowButton.getBoundingClientRect().y-t.y+12,r=e._addRowButton.getAttribute("data-index");parseInt(r,10)===e._bars.length-1&&(n-=1),e.showMovingLine(n)}),!1),wR(this,this._addRowButton,"mouseleave",(function(){e.hideMovingLine()}),!1),Ls(this,this,"resizeStart",(function(){e._resizing=!0,e._hideAddRowButton()})),Ls(this,this,"resizeEnd",(function(){e._resizing=!1,"row"===e._tableSelectionContext.type&&e._showDeleteButton(),e._showAddRowButton()}))}},{key:"_initResizeObserver",value:function(){var e=this,t=-1,n=new ResizeObserver((function(n){var r,o;if(e._resizing)t=-1;else if(null!==(r=e._tableContext)&&void 0!==r&&null!==(o=r.tableDOMNode)&&void 0!==o&&o.isConnected){br(1===n.length,"F:row-controller;L:291");var i=n[0].contentRect;-1!==t?i.height!==t&&(t=i.height,requestAnimationFrame((function(){e._tableContext.isAttached&&e._refresh()}))):t=i.height}}));n.observe(this._tableContext.tableDOMNode),this._resizeObserver=n}},{key:"_initMovingEvent",value:function(){var e=this;this.on("_rowMoveIndexChange",(function(t){var n=t.index,r=t.y;if(t.completed)return e.hideMovingLine(),void e.emit("moveRow",n);null===n?e.hideMovingLine():e.showMovingLine(r)})),this.on("_cancelMove",(function(){e.hideMovingLine()}))}},{key:"_refresh",value:function(){this._generateBars(this._tableContext.rowCount).forEach((function(e,t){br(e.index===t,"F:row-controller;L:342"),e.reset()}))}},{key:"_generateBars",value:function(e){var t=this._bars,n=t.length;if(e===n)return t;if(e<n){for(var r=e;r<n;r++)t[r].destroy();return t.splice(e,n-e),t}for(var o=n;o<e;o++){var i=new dS(this,this._tableContext,this._tableSelectionContext,o);t.push(i),i.appendTo(this._containerNodeInner)}return t}},{key:"_updateSelection",value:function(){var e=this._tableSelectionContext,t=e.type,n=e.startRow,r=e.endRow;if(this._clearAllSelect(),this._isEnable){this._show();var o=Math.min(n,r),i=Math.max(n,r);if(this._lastSelectInfo={type:t,start:o,end:i},"row"===t?this._showDeleteButton():this._hideDeleteButton(),"all"===t)this._containerNode.classList.add("ne-ui-selected","ne-ui-active");else if("column"===t)this._containerNode.classList.add("ne-ui-selected");else for(var a=o;a<=i;a++)this._bars[a].setSelectState(!0,"cell"!==t)}else this._hide()}},{key:"_clearAllSelect",value:function(){if(this._lastSelectInfo){var e=this._lastSelectInfo.type;this._hideDeleteButton(),"all"===e||"column"===e?this._containerNode.classList.remove("ne-ui-selected","ne-ui-active"):this._bars.forEach((function(e){e.setSelectState(!1)})),this._lastSelectInfo=null}}},{key:"_hide",value:function(){this._isVisible&&(this._isVisible=!1,this._containerNodeInner.style.display="none")}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._containerNodeInner.style.display="block")}},{key:"_showDeleteButton",value:function(){var e=this._tableSelectionContext,t=e.startRow,n=e.endRow,r=Math.min(t,n),o=Math.max(t,n),i=this._tableSelectionContext.getRowRect(r,o);this._deleteButton.style.cssText="top: ".concat(i.y+14-24-4,"px; display: flex")}},{key:"_hideDeleteButton",value:function(){this._deleteButton.style.cssText=""}},{key:"_showAddRowButton",value:function(){var e=this;if(!this._resizing){var t,n,r,o,i=this._tableContext.tableDOMNode.getBoundingClientRect().y,a=this._bars,c=this._mouseY;rS(a,this._addRowIndex,(function(e){var i=a[e].index,l=a[e].getCoordinate(),s=l.y,u=l.height;if(c>=s&&c<s+u)return n=i,r=s,o=u,t=c<s+u/2?"before":"after",!0})),(t&&t!==this._addRowType||n>=0&&n!==this._addRowIndex)&&(this._addRowType=t,this._addRowIndex=n,this._containerNode.classList.add("ne-add-row-btn-show"),this._firstRowBeforeTimer&&clearTimeout(this._firstRowBeforeTimer),"before"===t&&0===n?this._firstRowBeforeTimer=setTimeout((function(){e._showAddRowButtonByPosition(e._addRowType,e._addRowIndex,r-i,o)}),300):this._showAddRowButtonByPosition(this._addRowType,this._addRowIndex,r-i,o))}}},{key:"_showAddRowButtonByPosition",value:function(e,t,n,r){this._addRowButton.setAttribute("data-pos",e),this._addRowButton.setAttribute("data-index",t),this._addRowButton.style.cssText="before"===e?"top: ".concat(n-12,"px; display: flex;"):"top: ".concat(n+r-12,"px; display: flex")}},{key:"_hideAddRowButton",value:function(){this._mouseY=-1,this._addRowType=null,this._addRowIndex=-1,this._addRowButton.style.cssText="",this._containerNode.classList.remove("ne-add-row-btn-show"),clearTimeout(this._firstRowBeforeTimer),this._firstRowBeforeTimer=-1}}]),i}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-table-control-point-wrapper {\n  position: absolute;\n  top: 1px;\n  left: -8px;\n  width: 22px;\n  height: 14px;\n  background-color: #FFF;\n  display: none;\n}\n.ne-ui-table-control-point {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 14px;\n  height: 14px;\n  border: 1px solid #DFDFDF;\n  background-color: #F2F3F5;\n  border-top-left-radius: 50%;\n  cursor: pointer;\n}\n.ne-ui-table-control-point:hover {\n  background-color: #E2E4E6;\n}\n.ne-ui-table-control-point.ne-ui-active {\n  background-color: rgba(6, 137, 243, 0.8);\n}\n");var hS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_tableContext",null),m()(l()(n),"_tableSelectionContext",null),m()(l()(n),"_pointNode",null),n._tableContext=e,n._tableSelectionContext=t,n._pointNode=eC.createElement("div",{className:"ne-ui-table-control-point"}),n._pointNodeWrapper=eC.createElement("div",{className:"ne-ui-table-control-point-wrapper"}),n._pointNodeWrapper.appendChild(n._pointNode),n._initEvent(),n}return a()(i,[{key:"_isEnable",get:function(){return this._tableSelectionContext.isFocus()&&!this._tableContext.headDisabled}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"_initEvent",value:function(){var e=this;wR(this,this._pointNode,"click",(function(){e.emit("click")}),!1),Ls(this,this._tableSelectionContext,"change",(function(){e._updateState()}))}},{key:"appendTo",value:function(e){e.appendChild(this._pointNodeWrapper)}},{key:"_updateState",value:function(){var e=this._tableSelectionContext.type;this._isEnable?(this._show(),"all"===e?this._pointNode.classList.add("ne-ui-active"):this._pointNode.classList.remove("ne-ui-active")):this._hide()}},{key:"_hide",value:function(){this._isVisible&&(this._isVisible=!1,this._pointNodeWrapper.style.display="none")}},{key:"_show",value:function(){this._isVisible||(this._isVisible=!0,this._pointNodeWrapper.style.display="block")}}]),i}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-table-selection {\n  position: absolute;\n  top: 14px;\n  left: 0;\n  z-index: 2;\n}\n.ne-ui-table-selection-bg {\n  position: absolute;\n  background-color: rgba(180, 213, 254, 0.5);\n  z-index: 1;\n  pointer-events: none;\n  display: none;\n}\n.ne-ui-table-moving-tip {\n  position: absolute;\n  top: -999999999px;\n  left: -999999999px;\n  width: 150px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  color: #fff;\n  background-color: #0689F3;\n}\n");var pS=function(){function e(t){o()(this,e),m()(this,"_tableSelectionContext",null),m()(this,"_selectionRootNode",null),m()(this,"_bgNode",null),this._tableSelectionContext=t,this._selectionRootNode=eC.createElement("div",{className:"ne-ui-table-selection"}),this._bgNode=Xk("div",{className:"ne-ui-table-selection-bg"}),this._selectionRootNode.appendChild(this._bgNode),this._initEvent()}return a()(e,[{key:"destroy",value:function(){}},{key:"appendTo",value:function(e){e.appendChild(this._selectionRootNode)}},{key:"_initEvent",value:function(){var e=this;Ls(this,this._tableSelectionContext,"change",(function(){e._repaint()}))}},{key:"_repaint",value:function(){var e,t=this._tableSelectionContext,n=t.type,r=t.stable,o=t.startRow,i=t.endRow,a=t.startColumn,c=t.endColumn;if(r||"none"===n||"cell"===n)"none"!==this._bgNode.style.display&&(this._bgNode.style.display="none");else{"column"===n?e=this._tableSelectionContext.getColumnRect(a,c):"row"===n||"all"===n?e=this._tableSelectionContext.getRowRect(o,i):br(!1,"F:table-selection;L:67");var l=this._bgNode.style;l.display="block",l.top=e.y+"px",l.left=e.x+"px",l.width=e.width+"px",l.height=e.height+"px"}}}]),e}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-table-highlight {\n  background: #ff4d4f;\n  opacity: 0.08;\n  position: absolute;\n  z-index: 2;\n  pointer-events: none;\n}\n.ne-td[ne-fake-cell-selection] {\n  position: relative;\n}\n.ne-ui-selection-highlight td[ne-fake-cell-selection]:after {\n  background-color: transparent;\n}\n.ne-ui-selection-highlight-row .ne-ui-table-row-bar .ne-ui-table-row-bar-move {\n  display: none;\n}\n.ne-ui-selection-highlight-row .ne-ui-table-row-bar.ne-ui-selected {\n  background: rgba(255, 77, 79, 0.4) !important;\n}\n.ne-ui-selection-highlight-column .ne-ui-table-column-bar .ne-ui-table-column-bar-move {\n  display: none;\n}\n.ne-ui-selection-highlight-column .ne-ui-table-column-bar.ne-ui-selected {\n  background: rgba(255, 77, 79, 0.4) !important;\n}\n.ne-ui-selection-highlight-table .ne-ui-table-row-bar-move,\n.ne-ui-selection-highlight-table .ne-ui-table-column-bar-move {\n  display: none!important;\n}\n.ne-ui-selection-highlight-table .ne-ui-table-column-bar,\n.ne-ui-selection-highlight-table .ne-ui-table-row-bar,\n.ne-ui-selection-highlight-table .ne-ui-table-control-point {\n  background: rgba(255, 77, 79, 0.4) !important;\n}\n");var vS=function(){function e(t,n){o()(this,e),m()(this,"_tableSelectionContext",null),m()(this,"_tableNode",null),m()(this,"_highlightNode",null),this._tableSelectionContext=t,this._tableNode=n}return a()(e,[{key:"destroy",value:function(){this._tableSelectionContext=null,this._tableNode=null,this._highlightNode&&this._highlightNode.remove(),this._highlightNode=null}},{key:"show",value:function(e){var t=this._getInnerWrapNode();this._highlightNode||(this._highlightNode=document.createElement("div"),this._highlightNode.className="ne-table-highlight",this._getTableBoxNode().appendChild(this._highlightNode)),t.parentNode.classList.add("ne-ui-selection-highlight","ne-ui-selection-highlight-".concat(e)),"column"===e?this._showColumn():"row"===e?this._showRow():"table"===e&&this._showTable()}},{key:"hide",value:function(){this._getInnerWrapNode().parentNode.classList.remove("ne-ui-selection-highlight","ne-ui-selection-highlight-table","ne-ui-selection-highlight-row","ne-ui-selection-highlight-column"),this._highlightNode.style.display="none"}},{key:"_showColumn",value:function(){var e=this._tableSelectionContext,t=e.startColumn,n=e.endColumn,r=this._tableSelectionContext.getColumnRect(t,n),o=r.x,i=r.width,a=r.height;this._highlightNode.style.cssText="display: block; width: ".concat(i+1,"px; height: ").concat(a-1,"px; left: ").concat(o,"px; top: 0px;")}},{key:"_showRow",value:function(){var e=this._tableSelectionContext,t=e.startRow,n=e.endRow,r=this._tableSelectionContext.getRowRect(t,n),o=r.y,i=r.width,a=r.height;this._highlightNode.style.cssText="display: block; width: ".concat(i+1,"px; height: ").concat(a+1,"px; left: -1px; top: ").concat(o,"px;")}},{key:"_showTable",value:function(){var e=this._tableSelectionContext.getRowRect(0,this._tableNode.tBodies[0].rows.length-1),t=e.y,n=e.width,r=e.height;this._highlightNode.style.cssText="display: block; width: ".concat(n+1,"px; height: ").concat(r+1,"px; left: -1px; top: ").concat(t,"px;")}},{key:"_getInnerWrapNode",value:function(){return this._tableNode.parentNode.parentNode}},{key:"_getTableBoxNode",value:function(){return this._tableNode.parentNode}}]),e}();var mS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_iRenderer",null),m()(l()(c),"_viewNode",null),m()(l()(c),"_tableDOMNode",null),m()(l()(c),"_type",null),m()(l()(c),"_stable",!1),m()(l()(c),"_startColumn",-1),m()(l()(c),"_endColumn",-1),m()(l()(c),"_startRow",-1),m()(l()(c),"_endRow",-1),m()(l()(c),"_ranges",null),m()(l()(c),"_highlightManager",null),c._iRenderer=e,c._viewNode=t,c._tableDOMNode=n,c._highlightManager=new vS(l()(c),n,a),c}return a()(i,[{key:"destroy",value:function(){this.removeAllListeners(),this._highlightManager.destroy()}},{key:"refresh",value:function(){this.emit("change")}},{key:"type",get:function(){return this._type}},{key:"stable",get:function(){return this._stable}},{key:"startColumn",get:function(){return this._startColumn}},{key:"endColumn",get:function(){return this._endColumn}},{key:"startRow",get:function(){return this._startRow}},{key:"endRow",get:function(){return this._endRow}},{key:"ranges",get:function(){return this._ranges}},{key:"highlight",value:function(e,t){e?this._highlightManager.show(t):this._highlightManager.hide()}},{key:"getColumnRect",value:function(e,t){br(this._tableDOMNode.isConnected,"F:table-selection-context;L:75");for(var n=this._tableDOMNode.tBodies[0].rows,r=this._viewNode.attrs.colWidths,o=n[0],i=n[n.length-1].getBoundingClientRect().bottom-o.getBoundingClientRect().top,a=Math.min(e,t),c=Math.max(e,t),l=0,s=0,u=0;u<a;u++)l+=r[u];for(var d=a;d<=c;d++)s+=r[d];return{x:l,y:0,width:s,height:i}}},{key:"getRowRect",value:function(e,t){br(this._tableDOMNode.isConnected,"F:table-selection-context;L:106");var n=this._tableDOMNode.tBodies[0].rows,r=this._tableDOMNode.getBoundingClientRect(),o=Math.min(e,t),i=Math.max(e,t),a=n[o].getBoundingClientRect(),c=n[i].getBoundingClientRect();return{x:0,y:a.y-r.y,width:a.width,height:c.bottom-a.top}}},{key:"setRanges",value:function(e){this._ranges=e}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.startColumn,r=void 0===n?-1:n,o=t.endColumn,i=void 0===o?-1:o,a=t.startRow,c=void 0===a?-1:a,l=t.endRow,s=void 0===l?-1:l,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=this._type,f=this._stable,h=this._startColumn,p=this._endColumn,v=this._startRow,m=this._endRow;"all"===e&&(c=0,r=0,s=this._viewNode.attrs.rowCount-1,i=this._viewNode.attrs.colCount-1),this._type=e,this._stable=u,this._startColumn=r,this._endColumn=i,this._startRow=c,this._endRow=s,d===e&&f===u&&h===r&&p===i&&v===c&&m===s||(this.emit("change"),"none"===e?d&&d!==e&&this.emit("blur"):d&&"none"!==d||this.emit("focus"))}},{key:"isFocus",value:function(){return"none"!==this._type}},{key:"clear",value:function(){this.update("none"),this._ranges=null}}]),i}();FN(".ne-ui-table-context-menu {\n  background-color: #fff;\n  border: 1px solid #e9e9e9;\n  border-radius: 4px;\n  box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.08);\n  padding: 4px 0;\n}\n.ne-ui-table-context-menu-item {\n  min-width: 198px;\n  padding: 6px 16px;\n  display: flex;\n  align-items: center;\n  cursor: default;\n  white-space: nowrap;\n}\n.ne-ui-table-context-menu-item .ne-ui-icon-box {\n  width: 16px;\n  height: 16px;\n  margin-right: 10px;\n}\n.ne-ui-table-context-menu-item:hover {\n  background-color: #f0f0f0;\n}\n.ne-ui-table-context-menu-item.ne-disabled {\n  opacity: 0.3;\n}\n.ne-ui-table-context-menu-item.ne-disabled:hover {\n  background-color: #ffffff;\n}\n.ne-ui-table-context-menu-item.ne-ui-input-item .ne-ui-table-context-menu-item-text {\n  display: flex;\n}\n.ne-ui-table-context-menu-item.ne-ui-input-item .ne-ui-table-context-menu-item-text input {\n  width: 47px;\n  height: 22px;\n  text-align: center;\n  line-height: 22px;\n  margin: 0 8px;\n}\n.ne-ui-table-context-menu-item-text {\n  flex: 1;\n}\n.ne-ui-table-context-menu-item-hotkey {\n  letter-spacing: 3px;\n  color: #bfbfbf;\n}\n.ne-ui-table-context-menu-divider {\n  border-top: 1px solid #e8e8e8;\n  margin: 6px 0;\n}\n.ne-ui-table-context-menu-tooltip-overlay .ant-tooltip-arrow {\n  display: none;\n}\n.ne-ui-table-context-menu-tooltip-overlay .ant-tooltip-inner {\n  width: 130px;\n  min-height: 30px;\n  border-radius: 4px;\n  background-color: #000;\n  text-align: center;\n  -webkit-font-smoothing: auto;\n}\n");var yS=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNodeRef",Re.a.createRef()),m()(l()(e),"_beforeRowRef",Re.a.createRef()),m()(l()(e),"_afterRowRef",Re.a.createRef()),m()(l()(e),"_beforeColRef",Re.a.createRef()),m()(l()(e),"_afterColRef",Re.a.createRef()),m()(l()(e),"_cut",(function(){e.props.onClose(),e.props.tableContext.execute("cut")})),m()(l()(e),"_copy",(function(){e.props.onClose(),e.props.tableContext.execute("copy")})),m()(l()(e),"_insertBeforeRow",(function(t){e._insertRow("tableInsertBeforeRow",t)})),m()(l()(e),"_insertAfterRow",(function(t){e._insertRow("tableInsertAfterRow",t)})),m()(l()(e),"_insertBeforeColumn",(function(t){e._insertColumn("tableInsertBeforeColumn",t)})),m()(l()(e),"_insertAfterColumn",(function(t){e._insertColumn("tableInsertAfterColumn",t)})),m()(l()(e),"_deleteTable",(function(){e.props.onClose(),e.props.tableContext.execute("deleteTable")})),m()(l()(e),"_deleteColumn",(function(){e.props.onClose(),e.props.tableSelectionContext.highlight(!1),e.props.tableContext.execute("tableDeleteColumn")})),m()(l()(e),"_hoverInDeleteTable",(function(){e.props.tableSelectionContext.highlight(!0,"table")})),m()(l()(e),"_hoverOutDeleteTable",(function(){e.props.tableSelectionContext.highlight(!1)})),m()(l()(e),"_hoverInDeleteColumn",(function(){e.props.tableSelectionContext.highlight(!0,"column")})),m()(l()(e),"_hoverOutDeleteColumn",(function(){e.props.tableSelectionContext.highlight(!1)})),m()(l()(e),"_hoverInDeleteRow",(function(){e.props.tableSelectionContext.highlight(!0,"row")})),m()(l()(e),"_hoverOutDeleteRow",(function(){e.props.tableSelectionContext.highlight(!1)})),m()(l()(e),"_deleteRow",(function(){e.props.onClose(),e.props.tableSelectionContext.highlight(!1),e.props.tableContext.execute("tableDeleteRow")})),m()(l()(e),"_mergeCell",(function(){e.props.onClose(),e.props.tableContext.execute("tableMergeCell")})),m()(l()(e),"_unmergeCell",(function(){e.props.onClose(),e.props.tableContext.execute("tableUnmergeCell")})),m()(l()(e),"_clearTableContent",(function(){e.props.onClose(),e.props.tableContext.execute("tableClearContent")})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this;sE(this,this._rootNodeRef.current,"mousedown",(function(e){"INPUT"!==e.target.nodeName&&e.preventDefault()}),!1),$N(this,this.props.tableSelectionContext,"change",(function(){e.props.onClose()}))}},{key:"render",value:function(){return Re.a.createElement(hE,{visible:!0,placement:["bottomRight","topRight"],targetNode:this.props.targetNode,point:this.props.point,onClose:this.props.onClose},Re.a.createElement("div",{className:"ne-ui-table-context-menu",ref:this._rootNodeRef},this._renderClipboard(),this._renderRowColumn(),this._renderDelete(),this._renderMerge(),Re.a.createElement("div",{className:"ne-ui-table-context-menu-item",onClick:this._clearTableContent},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("清除内容")))))}},{key:"_insertRow",value:function(e,t){(t=Number(t))>0&&Number.isInteger(t)&&(this.props.onClose(),this.props.tableContext.execute(e,t))}},{key:"_insertColumn",value:function(e,t){if((t=Number(t))>0&&Number.isInteger(t)){var n=this.props.tableContext;n.columnCount+t>32||(this.props.onClose(),n.execute(e,t))}}},{key:"_renderClipboard",value:function(){var e=this.props.tableSelectionContext.ranges.length>1;return e?[Re.a.createElement("div",{key:"cut",className:"ne-ui-table-context-menu-item",onClick:e?this._cut:null},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("剪切")),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-hotkey"},sO(["cmd","X"]))),Re.a.createElement("div",{key:"copy",className:"ne-ui-table-context-menu-item",onClick:e?this._copy:null},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("复制")),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-hotkey"},sO(["cmd","C"]))),Re.a.createElement("div",{key:"copy-div",className:"ne-ui-table-context-menu-divider"})]:null}},{key:"_renderRowColumn",value:function(){var e=this.props.tableSelectionContext,t=e.startRow,n=e.endRow,r=e.startColumn,o=e.endColumn,i=e.type,a=Math.abs(n-t)+1,c=Math.abs(o-r)+1,l="all"!==i&&"column"!==i,s="all"!==i&&"row"!==i,u=[this._createInputItem("arrow-up",a,xm("向上插入"),xm("行"),this._beforeRowRef,this._insertBeforeRow,sO(["cmd","option","shift","↑"])),this._createInputItem("arrow-down",a,xm("向下插入"),xm("行"),this._afterRowRef,this._insertAfterRow,sO(["cmd","option","shift","↓"]))],d=[this._createInputItem("arrow-left",c,xm("向左插入"),xm("列"),this._beforeColRef,this._insertBeforeColumn,sO(["cmd","option","shift","←"])),this._createInputItem("arrow-right",c,xm("向右插入"),xm("列"),this._afterColRef,this._insertAfterColumn,sO(["cmd","option","shift","→"]))],f=[].concat(x()(l?u:[]),x()(s?d:[]));return f.length&&f.push(Re.a.createElement("div",{key:"insert-div",className:"ne-ui-table-context-menu-divider"})),f}},{key:"_renderDelete",value:function(){var e=this.props,t=e.tableSelectionContext,n=e.tableContext,r=t.type,o=n.isMaxView()?null:Re.a.createElement("div",{key:"delete-table",className:"ne-ui-table-context-menu-item",onMouseOver:this._hoverInDeleteTable,onMouseOut:this._hoverOutDeleteTable,onClick:this._deleteTable},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("删除表格"))),i=Re.a.createElement("div",{key:"delete-column",className:"ne-ui-table-context-menu-item",onMouseOver:this._hoverInDeleteColumn,onMouseOut:this._hoverOutDeleteColumn,onClick:this._deleteColumn},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("删除所选列"))),a=Re.a.createElement("div",{key:"delete-row",className:"ne-ui-table-context-menu-item",onMouseOver:this._hoverInDeleteRow,onMouseOut:this._hoverOutDeleteRow,onClick:this._deleteRow},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("删除所选行")));if("all"===r)return[o];if("column"===r)return[i,o];if("row"===r)return[a,o];var c=[a,i,o].filter(Boolean);return c.length&&c.push(Re.a.createElement("div",{key:"delete-div",className:"ne-ui-table-context-menu-divider"})),c}},{key:"_renderMerge",value:function(){var e,t=this.props.tableContext,n=t.canMergeCell,r=t.canUnmergeCell;return n||r?(n?e=Re.a.createElement("div",{key:"merge-cell",className:"ne-ui-table-context-menu-item",onClick:this._mergeCell},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("合并单元格"))):(br(r,"F:context-menu-view;L:372"),e=Re.a.createElement("div",{key:"unmerge-cell",className:"ne-ui-table-context-menu-item",onClick:this._unmergeCell},Re.a.createElement("div",{className:"ne-ui-icon-box"}),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},xm("拆分单元格")))),[e,Re.a.createElement("div",{key:"cell-merge-divider",className:"ne-ui-table-context-menu-divider"})]):null}},{key:"_createInputItem",value:function(e,t,n,r,o,i,a){var c=null;return Re.a.createElement(Be.a,{overlayClassName:"ne-ui-table-context-menu-tooltip-overlay",key:e,placement:"right",title:a},Re.a.createElement("div",{className:"ne-ui-table-context-menu-item ne-ui-input-item",onMouseDown:function(e){e.stopPropagation(),c=e.target},onClick:function(e){"INPUT"!==e.target.nodeName&&(c&&"INPUT"===c.nodeName||i(o.current.input.value))}},Re.a.createElement("div",{className:"ne-ui-icon-box"},Re.a.createElement(oE,{type:e})),Re.a.createElement("span",{className:"ne-ui-table-context-menu-item-text"},n,Re.a.createElement(Me.a,{type:"text",onKeyDown:function(e){!jE.isEnter(e)||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||i(o.current.input.value)},ref:o,defaultValue:t,className:"ne-ui-table-context-menu-input"}),r)))}}]),i}();m()(yS,"propTypes",{onClose:De.a.func,point:De.a.shape({x:De.a.number.isRequired,y:De.a.number.isRequired}).isRequired,targetNode:De.a.object.isRequired,tableContext:De.a.instanceOf(tS).isRequired,tableSelectionContext:De.a.instanceOf(mS).isRequired}),m()(yS,"defaultProps",{onClose:function(){}});var gS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_tableContext",null),m()(l()(c),"_tableSelectionContext",null),m()(l()(c),"_tableWrapNode",null),m()(l()(c),"_overlayNode",null),m()(l()(c),"_overlay",null),c._tableContext=e,c._tableSelectionContext=t,c._tableWrapNode=n,c._overlayNode=a,c._init(),c}return a()(i,[{key:"destroy",value:function(){this._overlay&&this._overlay.cancel()}},{key:"_init",value:function(){var e=this;wR(this,this._tableWrapNode,"contextmenu",(function(t){kd(t.target,'[data-event-boundary="overlay"]')||(t.stopPropagation(),t.preventDefault(),e._tableSelectionContext.isFocus()&&setTimeout((function(){e._openContextMenu(t.clientX,t.clientY)}),100))}),!1)}},{key:"_openContextMenu",value:function(e,t){var n=this;this._overlay&&this._overlay.cancel(),this._overlay=tE.open({containerNode:this._overlayNode,targetNode:this._tableWrapNode,reactComponent:Re.a.createElement(yS,{point:{x:e,y:t},tableContext:this._tableContext,tableSelectionContext:this._tableSelectionContext,targetNode:this._tableWrapNode}),closeCallback:function(){n._overlay=null}})}}]),i}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-table-resize-mask {\n  position: absolute;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  z-index: 2;\n  user-select: none;\n  pointer-events: none;\n}\n.ne-ui-table-resize-mask > div {\n  position: absolute;\n  pointer-events: auto;\n}\n.ne-ui-table-resize-mask .ne-ui-table-resize-top {\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 7px;\n  cursor: row-resize;\n}\n.ne-ui-table-resize-mask .ne-ui-table-resize-right {\n  right: 0;\n  top: 0;\n  width: 7px;\n  height: 100%;\n  cursor: col-resize;\n}\n.ne-ui-table-resize-mask .ne-ui-table-resize-bottom {\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 7px;\n  cursor: row-resize;\n}\n.ne-ui-table-resize-mask .ne-ui-table-resize-left {\n  left: 0;\n  top: 0;\n  width: 7px;\n  height: 100%;\n  cursor: col-resize;\n}\n.ne-ui-table-resize-mask.ne-ui-table-resize-mask-last-col .ne-ui-table-resize-right {\n  width: 4px;\n}\n.ne-ui-table-resize-mask .ne-ui-table-vertical-resizing-line {\n  position: absolute;\n  z-index: 2;\n  background-color: #0689F3;\n}\n");var bS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a,c){var s;return o()(this,i),s=r.call(this),m()(l()(s),"_tableContext",null),m()(l()(s),"_tableSelectionContext",null),m()(l()(s),"_maskNode",null),m()(l()(s),"_activeCellNode",null),m()(l()(s),"_cellInfo",{}),m()(l()(s),"_iRenderer",null),m()(l()(s),"_rowController",null),m()(l()(s),"_columnController",null),m()(l()(s),"_isResizing",!1),m()(l()(s),"_isVLineVisible",!1),m()(l()(s),"_isHLineVisible",!1),m()(l()(s),"_lineNode",null),s._iRenderer=n,s._tableContext=e,s._tableSelectionContext=t,s._rowController=a,s._columnController=c,s._maskNode=eC.createElement("div",{className:"ne-ui-table-resize-mask",contentEditable:"false"}),s._maskNode.top=eC.createElement("div",{className:"ne-ui-table-resize-top"}),s._maskNode.right=eC.createElement("div",{className:"ne-ui-table-resize-right"}),s._maskNode.bottom=eC.createElement("div",{className:"ne-ui-table-resize-bottom"}),s._maskNode.left=eC.createElement("div",{className:"ne-ui-table-resize-left"}),s._maskNode.appendChild(s._maskNode.top),s._maskNode.appendChild(s._maskNode.right),s._maskNode.appendChild(s._maskNode.bottom),s._maskNode.appendChild(s._maskNode.left),s._initEvent(),s}return a()(i,[{key:"destroy",value:function(){this._activeCellNode=null,this._topResizeSelector.destroy(),this._rightResizeSelector.destroy(),this._bottomResizeSelector.destroy(),this._leftResizeSelector.destroy(),this._containerNode.remove(),this.removeAllListeners()}},{key:"appendTo",value:function(e){e.appendChild(this._maskNode)}},{key:"_initEvent",value:function(){var e=this,t=this._tableContext,n=t.tableDOMNode,r=t.tableInnerWrapNode;wR(this,n,"mousemove",(function(t){var n=kd(t.target,"td");if(!e._isResizing&&n&&n!==e._activeCellNode)e._activeCellNode=n,e._refreshMask();else if(!n){if(t.button||t.buttons||t.which)return;e._resetMask()}}),!1),wR(this,this._maskNode.top,"mousemove",(function(){var t=e._cellInfo.rowIndex;e._showHLine(t-1)})),wR(this,this._maskNode.right,"mousemove",(function(){var t=e._cellInfo,n=t.colIndex,r=t.colSpan;e._showVLine(n+r-1)})),wR(this,this._maskNode.bottom,"mousemove",(function(){var t=e._cellInfo,n=t.rowIndex,r=t.rowSpan;e._showHLine(n+r-1)})),wR(this,this._maskNode.left,"mousemove",(function(){var t=e._cellInfo.colIndex;e._showVLine(t-1)})),wR(this,this._maskNode,"mouseout",(function(){e._hideVLine(),e._hideHLine()})),this._tableContext.on("change",(function(){e._refreshMask()})),wR(this,r,"scroll",(function(){e._refreshMask()}),{passive:!0}),Ls(this,this._tableSelectionContext,"focus",(function(){e._refreshMask()})),Ls(this,this._tableSelectionContext,"blur",(function(){e._refreshMask()})),this._iRenderer.on("contentchange",(function(){e._refreshMask()})),this._listener=new bN(this._maskNode),this._listener.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation()})),this._initResizer()}},{key:"_initResizer",value:function(){var e=this,t=function(t){var n=e._columnController,r=e._tableContext.tableInnerWrapNode,o=0,i=0,a=0,c=0;return function(l,s){var u,d=e._cellInfo,f=d.colIndex,h=d.colSpan,p=d.lastCol;if(u=t?f-1:f+h-1,"start"===l)e._isResizing=!0,o=0,c=e._tableContext.tableWidth,i=+e._tableContext.tableDOMNode.firstElementChild.children[u].width+(p?1:0),o=s.clientX,n.emit("resizeStart",u),r.parentNode.classList.add("ne-ui-table-column-resizing");else if("move"===l){var v=s.clientX-o;a=e._updateVLinePosition(c,i,v,u)}else br("end"===l,"F:resize-mask;L:186"),e._isResizing=!1,a>=40&&e._resizeWidth(a,u),e._hideVLine(),r.parentNode.classList.remove("ne-ui-table-column-resizing"),n.emit("resizeEnd",{index:u,originalEvent:s}),o=0,i=0,a=0,c=0}},n=function(t){var n=e._rowController,r=e._tableContext.tableInnerWrapNode,o=0,i=0,a=0;return function(c,l){var s,u=e._cellInfo,d=u.rowIndex,f=u.rowSpan;s=t?d-1:d+f-1,"start"===c?(e._isResizing=!0,n.emit("resizeStart",s),o=l.clientY,a=0,i=e._tableContext.getRowDisplayRect(s).height,r.parentNode.classList.add("ne-ui-table-row-resizing")):"move"===c?a=e._updateHLinePosition(i,l.clientY-o,s):(br("end"===c,"F:resize-mask;L:228"),e._isResizing=!1,a>=33&&e._resizeHeight(a,s),e._hideHLine(),r.parentNode.classList.remove("ne-ui-table-row-resizing"),n.emit("resizeEnd",{index:s,originalEvent:l}),o=0,i=0,a=0)}};this._rightResizeSelector=new nS(this._maskNode.right),this._rightResizeSelector.listen(t(!1)),this._leftResizeSelector=new nS(this._maskNode.left),this._leftResizeSelector.listen(t(!0)),this._bottomResizeSelector=new nS(this._maskNode.bottom),this._bottomResizeSelector.listen(n(!1)),this._topResizeSelector=new nS(this._maskNode.top),this._topResizeSelector.listen(n(!0))}},{key:"_showVLine",value:function(e){if(!this._isResizing&&!this._isVLineVisible){var t=this._columnController,n=this._tableContext,r=n.tableInnerWrapNode,o=n.colCount,i=r.getBoundingClientRect().x,a=this._tableContext.getColumnDisplayRect(e),c=a.x+a.width+r.scrollLeft-i-1+(e===o-1?-2:0);t.showMovingLine(c,"resize"),this._isVLineVisible=!0}}},{key:"_hideVLine",value:function(){!this._isResizing&&this._isVLineVisible&&(this._columnController.hideMovingLine(),this._isVLineVisible=!1)}},{key:"_updateVLinePosition",value:function(e,t,n,r){var o=this._columnController,i=this._tableContext,a=i.tableDOMNode,c=i.colCount,l=Math.max(t+n,40),s=this._tableContext.trySetColumnWidth(r,l),u=s.width,d=r===c-1;return n=u-t,a.style.width=e+n+"px",this._columnController.bars[r]._barRootNode.style.width=u+(d?-1:0)+"px",a.firstElementChild.children[r].width=u,o._movingLineNode.style.marginLeft=n+(d?1:0)+"px",this._refreshMask(),this._tableContext.emit("_requestResetCols",s.rows),u}},{key:"_resizeWidth",value:function(e,t){this._columnController.emit("columnWidthChange",{index:t,width:e})}},{key:"_showHLine",value:function(e){if(!this._isResizing&&!this._isHLineVisible){var t=this._rowController,n=this._tableContext.tableDOMNode.getBoundingClientRect().y,r=this._tableContext.getRowDisplayRect(e),o=r.y+r.height-n;t.showMovingLine(o,"resize"),this._isHLineVisible=!0}}},{key:"_hideHLine",value:function(){!this._isResizing&&this._isHLineVisible&&(this._rowController.hideMovingLine(),this._isHLineVisible=!1)}},{key:"_updateHLinePosition",value:function(e,t,n){var r=this._rowController,o=this._tableContext.tableDOMNode,i=Math.max(e+t,33),a=this._tableContext.trySetRowHeight(n,i);return this._rowController.bars[n]._barRootNode.style.height=a+"px",o.tBodies[0].rows[n].style.height=a+"px",t=a-e-(this._cellInfo.lastRow?1:0),r._movingLineNode.style.marginTop=t+"px",this._refreshMask(),a}},{key:"_resizeHeight",value:function(e,t){this._rowController.emit("rowHeightChange",{index:t,height:Math.max(e,33)})}},{key:"_refreshMask",value:function(){var e=this;this._activeCellNode&&this._activeCellNode.parentNode?requestAnimationFrame((function(){var t=e._tableContext,n=t.tableInnerWrapNode,r=t.colCount,o=t.rowCount,i=e._activeCellNode;if(n.isConnected&&null!=i&&i.isConnected){var a=n.getBoundingClientRect(),c=a.x,l=a.y,s=e._activeCellNode.getBoundingClientRect(),u=s.height,d=s.width,f=s.x,h=s.y,p=parseInt(i.getAttribute("data-col"),10),v=i.parentNode,m=Array.from(v.parentNode.children).indexOf(v),y=parseInt(i.getAttribute("rowspan")||1,10),g=parseInt(i.getAttribute("colspan")||1,10);e._cellInfo={colIndex:p,rowIndex:m,rowSpan:y,colSpan:g,firstCol:0===p,firstRow:0===m,lastCol:p===r-1,lastRow:m===o-1},e._setMaskStyle({col:p,row:m,height:u+6+1,width:d+6+1,left:n.scrollLeft+f-c-3,top:h-l-3})}})):this._maskNode.style.display="none"}},{key:"_setMaskStyle",value:function(e){var t=e.height,n=e.width,r=e.left,o=e.top;this._cellInfo.firstCol?(n-=3,r+=3,this._maskNode.left.style.display="none"):this._maskNode.left.style.display="block",this._cellInfo.lastCol?(n-=4,this._maskNode.classList.add("ne-ui-table-resize-mask-last-col")):this._maskNode.classList.remove("ne-ui-table-resize-mask-last-col"),this._cellInfo.firstRow?(t-=4,o+=4,this._maskNode.top.style.display="none"):this._maskNode.top.style.display="block",this._maskNode.style.height="".concat(t,"px"),this._maskNode.style.width="".concat(n,"px"),this._maskNode.style.left="".concat(r,"px"),this._maskNode.style.top="".concat(o,"px"),this._maskNode.style.display=""}},{key:"_resetMask",value:function(){this._activeCellNode=null,this._cellInfo={},this._maskNode.style.width=0,this._maskNode.style.height=0,this._maskNode.style.left="auto",this._maskNode.style.top="auto",this._maskNode.left.style.display="block",this._maskNode.top.style.display="block",this._maskNode.classList.remove("ne-ui-table-resize-mask-last-col")}}]),i}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-engine ne-table-wrap {\n  padding-left: 0;\n  margin-top: 0;\n}\n.ne-engine ne-table-wrap.ne-table-focus {\n  margin-top: -28px;\n}\n.ne-engine ne-table-wrap.ne-table-focus ne-table-inner-wrap {\n  padding-top: 42px;\n}\n.ne-engine ne-table-wrap.ne-table-focus ne-overlay-tmp {\n  z-index: 1;\n}\n.ne-engine ne-table-wrap.ne-table-focus .ne-ui-table {\n  margin-top: 28px;\n}\n.ne-engine ne-table-wrap.ne-table-focus .ne-ui-table-column-controller {\n  padding-top: 28px;\n}\n.ne-engine ne-table-wrap.ne-ui-selecting {\n  caret-color: transparent;\n}\n.ne-engine ne-table-wrap.ne-ui-selecting ::selection {\n  background-color: transparent !important;\n}\nne-table-inner-wrap {\n  line-height: 0;\n  padding-top: 14px;\n  cursor: pointer;\n}\nne-table-box {\n  display: inline-block;\n  position: relative;\n  background-color: #fff;\n  cursor: text;\n}\n.ne-ui-table {\n  position: absolute;\n  top: 0px;\n  left: -13px;\n  z-index: 2;\n}\n"),FN("ne-table-wrap.ne-ui-table-column-resizing {\n  cursor: col-resize !important;\n}\n");var wS=new AE(["cmd","shift","F"]),xS=new AE(["cmd","option","shift","arrowup"]),_S=new AE(["cmd","option","shift","arrowdown"]),kS=new AE(["cmd","option","shift","arrowleft"]),CS=new AE(["cmd","option","shift","arrowright"]),RS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a,c){var s;o()(this,i),s=r.call(this),m()(l()(s),"_pluginContext",null),m()(l()(s),"_iRenderer",null),m()(l()(s),"_viewNode",null),m()(l()(s),"_innerWrapNode",null),m()(l()(s),"_tableContext",null),m()(l()(s),"_tableSelectionContext",null),m()(l()(s),"_tableUINode",null),m()(l()(s),"_wrapDOMNode",null),m()(l()(s),"_rowController",null),m()(l()(s),"_tableNode",null),m()(l()(s),"_columnController",null),m()(l()(s),"_tableSelection",null),m()(l()(s),"_contextMenu",null),m()(l()(s),"_listener",null),m()(l()(s),"_maxViewContext",{destroy:function(){}}),s._pluginContext=t,s._iRenderer=n,s._viewNode=c,s._wrapDOMNode=a,s._tableUINode=eC.createElement("div",{className:"ne-ui-table",contentEditable:"false"});var u=a.firstChild,d=u.firstChild.firstChild;return s._tableNode=d,s._tableContext=new tS(e,n,c,d,t),s._innerWrapNode=u,s._tableSelectionContext=new mS(n,c,d,a),s._rowController=new fS(s._tableContext,s._tableSelectionContext),s._columnController=new sS(s._tableContext,s._tableSelectionContext),s._controlPoint=new hS(s._tableContext,s._tableSelectionContext),s._resizeMask=new bS(s._tableContext,s._tableSelectionContext,n,s._rowController,s._columnController),s._tableSelection=new pS(s._tableSelectionContext),s._contextMenu=new gS(s._tableContext,s._tableSelectionContext,a,n.scrollableOverlayNode),a.prepend(s._tableUINode),s._rowController.appendTo(s._tableUINode),s._controlPoint.appendTo(s._tableUINode),s._columnController.appendTo(u),s._resizeMask.appendTo(u),s._tableSelection.appendTo(u),n.emitPluginEvent("tableUIDisplayChange",{wrapDOMNode:a}),s._initEvent(),s}return a()(i,[{key:"destroy",value:function(){this._iRenderer.emitPluginEvent("tableDestroy",{tableId:this._viewNode.attrs.id,wrapDOMNode:this._wrapDOMNode,tableNode:this._tableNode}),this._tableUINode.remove(),this._tableContext.destroy(),this._tableSelectionContext.destroy(),this._rowController.destroy(),this._columnController.destroy(),this._controlPoint.destroy(),this._tableSelection.destroy(),this._contextMenu.destroy(),this._listener.destroy(),this.removeAllListeners()}},{key:"tableUINode",get:function(){return this._tableUINode}},{key:"refresh",value:function(){this._tableContext.refresh(),this._tableContext.isBorderVisible?this._wrapDOMNode.classList.remove("ne-table-hide-border"):this._wrapDOMNode.classList.add("ne-table-hide-border")}},{key:"refreshSelection",value:function(e){e.ranges&&this._tableSelectionContext.setRanges(e.ranges),this._tableSelectionContext.update(e.type,e,!0)}},{key:"clearSelection",value:function(){this._tableSelectionContext.clear()}},{key:"enterMaxView",value:function(){var e=this._tableNode;e._isMaxView=!0,this._tableContext.setMaxView(),this._pluginContext.setTableMaxContext(),wR(this._maxViewContext,this._wrapDOMNode,"mousedown",(function(t){e.contains(t.target)||(t.preventDefault(),t.stopPropagation())}),!1)}},{key:"leaveMaxView",value:function(){this._tableNode._isMaxView=!1,this._tableContext.clearMaxView(),this._pluginContext.clearTableMaxContext(),this._maxViewContext.destroy()}},{key:"_initEvent",value:function(){var e=this;this._listener=new bN(this._tableUINode),this._listener.on("mousedown",(function(e){if(e.target.closest(".ne-ui-container-toolbar-trigger"))return!0;e.preventDefault(),e.stopPropagation()})),this._columnController.on("selectChange",(function(t){var n=t.isComposing,r=t.start,o=t.end;e._toggleSelectState(n,"column",r,o),e._isFullColumn(r,o)?e._tableSelectionContext.update("all"):e._tableSelectionContext.update("column",{startColumn:r,endColumn:o})})),this._columnController.on("columnWidthChange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["columnWidthChange"].concat(n))})),this._columnController.on("moveColumn",(function(t){e.emit("columnMoveTo",t)})),this._rowController.on("moveRow",(function(t){e.emit("rowMoveTo",t)})),this._rowController.on("selectChange",(function(t){var n=t.isComposing,r=t.start,o=t.end;e._toggleSelectState(n,"row",r,o),e._isFullRow(r,o)?e._tableSelectionContext.update("all"):e._tableSelectionContext.update("row",{startRow:r,endRow:o})})),this._rowController.on("rowHeightChange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["rowHeightChange"].concat(n))})),this._controlPoint.on("click",(function(){e._toggleSelectState(!1,"column",0,e._viewNode.attrs.colCount-1),e._tableSelectionContext.update("all")})),this._tableSelectionContext.on("focus",(function(){e._wrapDOMNode.classList.add("ne-table-focus"),e._iRenderer.emitPluginEvent("tableFocus",{tableId:e._viewNode.attrs.id,tableUI:e,wrapDOMNode:e._wrapDOMNode,tableNode:e._tableNode})})),this._tableSelectionContext.on("blur",(function(){e._wrapDOMNode.classList.remove("ne-table-focus"),e._iRenderer.emitPluginEvent("tableBlur",{tableId:e._viewNode.attrs.id,tableUI:e,wrapDOMNode:e._wrapDOMNode,tableNode:e._tableNode})})),this._iRenderer.onRootNode("keydown",(function(t){if(e._tableSelectionContext.isFocus()){var n=!1;wS.match(t)&&e._tableSelectionContext.isFocus()&&(n=!0,e._iRenderer.emitPluginEvent("tableMaximize",{tableId:e._viewNode.attrs.id,tableUI:e,wrapDOMNode:e._wrapDOMNode,tableNode:e._tableNode})),xS.match(t)&&(n=!0,e._tableContext.execute("tableInsertBeforeRow",1)),_S.match(t)&&(n=!0,e._tableContext.execute("tableInsertAfterRow",1)),kS.match(t)&&(n=!0,e._tableContext.execute("tableInsertBeforeColumn",1)),CS.match(t)&&(n=!0,e._tableContext.execute("tableInsertAfterColumn",1)),n&&(t.preventDefault(),t.stopPropagation())}})),this._iRenderer.onPluginEvent("uiSwitched",(function(t){t.isInitSwitch||(e.refresh(),e._tableSelectionContext.refresh())}))}},{key:"_toggleSelectState",value:function(e,t,n,r){e?this._wrapDOMNode.classList.add("ne-ui-selecting"):this._wrapDOMNode.classList.remove("ne-ui-selecting"),this._iRenderer.emitPluginEvent("tableSelectionChange"),e||this.emit("tableSelectionChange",{type:t,start:n,end:r,anchor:n>r?"end":"start",focus:r>n?"end":"start"})}},{key:"_isFullRow",value:function(e,t){var n=Math.min(e,t),r=Math.max(e,t);return 0===n&&r===this._viewNode.attrs.rowCount-1}},{key:"_isFullColumn",value:function(e,t){var n=Math.min(e,t),r=Math.max(e,t);return 0===n&&r===this._viewNode.attrs.colCount-1}}]),i}();var NS=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_innerWrapNode",null),m()(l()(e),"_tableBoxNode",null),m()(l()(e),"_tableNode",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_columnManager",null),m()(l()(e),"_tableUI",null),m()(l()(e),"_isFocused",!1),m()(l()(e),"_delayRefreshTimer",null),m()(l()(e),"_resizeObserver",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this._rootNode=eC.createElement("ne-table-wrap"),this._innerWrapNode=eC.createElement("ne-table-inner-wrap"),this._tableNode=eC.createElement("table",{className:"ne-table"}),this._contentNode=eC.createElement("tbody",{className:"ne-table-inner"}),this._rootNode._tableNode=this._tableNode,this._tableNode._wrapNode=this._rootNode;var n=eC.createElement("ne-table-box");n.appendChild(this._tableNode),this._tableNode.appendChild(this._contentNode),this._innerWrapNode.appendChild(n),this._rootNode.appendChild(this._innerWrapNode),this._tableBoxNode=n,eC.setAttributeByChange(this._tableNode,e),this._columnManager=new eS(this.viewNode,this._tableNode),this._columnManager.update(),this._tableUI=new RS(this,this.pluginContext,this.iRenderer,this._rootNode,this.viewNode),this._initEvent(),requestAnimationFrame((function(){var e;t.isAttached&&(null===(e=t._tableUI)||void 0===e||e.refresh(),t._resetShadow())}))}},{key:"_afterInit",value:function(){this._refreshSpacing(),this._refreshWidthMode()}},{key:"destroy",value:function(){this._columnManager.destroy(),this._tableUI.destroy(),this._resizeObserver.disconnect(),this._tableUI=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"$didUpdate",value:function(){this._refreshSpacing(),this._refreshWidthMode(),this._tableUI.refresh()}},{key:"_initEvent",value:function(){var e=this;Ls(this,this.pluginContext,"resetSelection",(function(t){t.tableNode!==e._tableNode?(e._isFocused=!1,e._tableUI.clearSelection()):(e._isFocused=!0,e._tableUI.refreshSelection(t),t.isStable&&e.iRenderer.emitPluginEvent("stableSelectionChange",{tableId:e.viewNode.attrs.id,tableUI:e._tableUI,wrapDOMNode:e._rootNode,tableNode:e._tableNode}))})),this._tableUI.on("tableSelectionChange",(function(t){var n=t.type,r=t.start,o=t.end,i=t.anchor,a=t.focus;e.pluginContext.updateTableSelection(e._tableNode,n,r,o,i,a)})),this._tableUI.on("columnWidthChange",(function(t){var n=t.index,r=t.width;e.pluginContext.resizeColumnWidth(e.viewNode.attrs.id,n,r)})),this._tableUI.on("rowHeightChange",(function(t){var n=t.index,r=t.height;e.pluginContext.resizeRowHeight(e.viewNode.attrs.id,n,r)})),this._tableUI.on("rowMoveTo",(function(t){e.pluginContext.rowMoveTo(t)})),this._tableUI.on("columnMoveTo",(function(t){e.pluginContext.columnMoveTo(t)}));var t=null;wR(this,this._innerWrapNode,"scroll",(function(){t&&clearTimeout(t),t=setTimeout((function(){e._resetShadow()}),32)}),{passive:!0}),wR(this,this._innerWrapNode,"mouseenter",(function(){e.iRenderer.emitPluginEvent("tableHover",{tableId:e.viewNode.attrs.id,tableUI:e._tableUI,wrapDOMNode:e._rootNode,tableNode:e._tableNode})})),wR(this,this._tableNode,"table-cell-attr-change",(function(){e._startDelayRefresh()})),this._resizeObserver=new ResizeObserver(K()((function(){e._innerWrapNode.isConnected&&e._resetShadow()}),300)),this._resizeObserver.observe(this._innerWrapNode)}},{key:"updateAttribute",value:function(e){eC.syncDOMAttrChange(this._tableNode,e),this._columnManager.update(),this._resetShadow()}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_resetShadow",value:function(){var e=this._rootNode,t=this._innerWrapNode,n=t.scrollLeft,r=t.scrollWidth,o=t.clientWidth,i=e.classList,a=n>0,c=!1;o+n<r&&parseInt(getComputedStyle(t).getPropertyValue("padding-left").slice(0,-2),10)+this._tableBoxNode.clientWidth>=o&&(c=!0),a?i.add("ne-ui-table-left-shadow"):i.remove("ne-ui-table-left-shadow"),c?i.add("ne-ui-table-right-shadow"):i.remove("ne-ui-table-right-shadow")}},{key:"_startDelayRefresh",value:function(){var e=this;clearTimeout(this._delayRefreshTimer),this._delayRefreshTimer=setTimeout((function(){var t;null===(t=e._tableUI)||void 0===t||t.refresh(!0)}))}},{key:"_refreshSpacing",value:function(){var e,t=this._rootNode.parentNode;t&&(!1!==(null===(e=this.viewNode.attrs)||void 0===e?void 0:e.spacing)?t.hasAttribute("data-no-spacing")&&t.removeAttribute("data-no-spacing"):t.hasAttribute("data-no-spacing")||t.setAttribute("data-no-spacing",!0))}},{key:"_refreshWidthMode",value:function(){var e,t=this._rootNode.parentNode;t&&("contain"===(null===(e=this.viewNode.attrs)||void 0===e?void 0:e.widthMode)?t.classList.add("ne-full-width"):t.classList.remove("ne-full-width"))}}]),i}();function ES(e){var t=kd(e.commonAncestorContainer,"td");br(t,"F:find-table-position;L:78");var n=parseInt(t.getAttribute("data-col"),10),r=t.parentNode.rowIndex,o=t.colSpan,i=t.rowSpan;return br(n>=0&&r>=0,"F:find-table-position;L:84"),{minColumn:n,maxColumn:n+o-1,minRow:r,maxRow:r+i-1}}var OS=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_tablePlugin",null),m()(l()(n),"_iRenderer",null),n._tablePlugin=e,n._iRenderer=t,n}return a()(i,[{key:"updateTableSelection",value:function(e,t,n,r,o,i){br(o&&i,"F:table-plugin-context;L:18");var a=function(e,t,n,r){var o=Array.from(e.tBodies[0].rows),i=[],a=document.createRange();if("row"===t)for(var c=n;c<=r;c++)Array.from(o[c].cells).forEach((function(e){var t=a.cloneRange();t.selectNodeContents(e),i.push(t)}));else"column"===t&&o.forEach((function(e){for(var t=e.cells,o=0,c=t.length;o<c;o++){var l=t[o],s=parseInt(l.getAttribute("data-col"),10);if(br(s>=0,"F:transform-to-range;L:30"),s>r)break;if(s>=n&&s<=r){var u=a.cloneRange();u.selectNodeContents(l),i.push(u)}}}));return i}(e,t,Math.min(n,r),Math.max(n,r));this._iRenderer.emitPluginEvent("requestSetRange",{focus:i,anchor:o,ranges:a})}},{key:"resizeColumnWidth",value:function(e,t,n){this._iRenderer.execCommand("tableColumnWidth",e,t,n)}},{key:"resizeRowHeight",value:function(e,t,n){this._iRenderer.execCommand("tableRowHeight",e,t,n)}},{key:"rowMoveTo",value:function(e){this._iRenderer.execCommand("tableRowMoveTo",e)}},{key:"columnMoveTo",value:function(e){this._iRenderer.execCommand("tableColumnMoveTo",e)}},{key:"setTableMaxContext",value:function(){var e=this._iRenderer.iKernel;e.hasExtendMethod("disableDeleteTable")&&e.disableDeleteTable(),e.hasExtendMethod("setOnlyTableSelect")&&e.setOnlyTableSelect(!0),e.hasExtendMethod("lockHistory")&&e.lockHistory()}},{key:"clearTableMaxContext",value:function(){var e=this._iRenderer.iKernel;e.hasExtendMethod("enableDeleteTable")&&e.enableDeleteTable(),e.hasExtendMethod("setOnlyTableSelect")&&e.setOnlyTableSelect(!1),e.hasExtendMethod("unlockHistory")&&e.unlockHistory()}},{key:"headDisabled",get:function(){return this._headDisabled},set:function(e){"boolean"==typeof e&&(this._headDisabled=e)}}]),i}();function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-table-wrap {\n  display: block;\n  max-width: 100%;\n  position: relative;\n  z-index: 1;\n}\nne-table-wrap.ne-table-focus.ne-table-hide-border .ne-td {\n  border: 1px dashed #d9d9d9 !important;\n}\nne-table-wrap.ne-table-focus.ne-ui-table-left-shadow:before,\nne-table-wrap.ne-table-focus.ne-ui-table-right-shadow:after {\n  margin-top: 29px;\n}\nne-table-wrap.ne-table-focus ne-table-inner-wrap::-webkit-scrollbar-thumb,\nne-table-wrap:hover ne-table-inner-wrap::-webkit-scrollbar-thumb {\n  visibility: visible;\n}\nne-table-wrap.ne-ui-table-left-shadow:before {\n  content: ' ';\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  bottom: 15px;\n  width: 8px;\n  background: -webkit-gradient(linear, right, left, from(rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 0.1)));\n  background: linear-gradient(to left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1));\n  z-index: 2;\n  margin-top: 14px;\n}\nne-table-wrap.ne-ui-table-right-shadow:after {\n  content: ' ';\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  right: 0;\n  bottom: 15px;\n  width: 8px;\n  background: -webkit-gradient(linear, left, right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1));\n  background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1));\n  z-index: 2;\n  margin-top: 14px;\n}\nne-table-wrap.ne-table-hide-border .ne-td {\n  border: 1px solid transparent!important;\n}\nne-table-inner-wrap {\n  display: block;\n  overflow-y: hidden;\n  overflow-x: scroll;\n  position: relative;\n  z-index: 1;\n  /* --- 定制表格滚动条样式 start --- */\n  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\n  /* --- 定制表格滚动条样式 end --- */\n}\nne-table-inner-wrap::-webkit-scrollbar {\n  background: transparent;\n}\nne-table-inner-wrap::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 15px;\n  border: 3.5px solid transparent;\n  background-clip: content-box;\n  visibility: hidden;\n}\n.ne-table {\n  border-collapse: collapse;\n  position: relative;\n  z-index: 1;\n  table-layout: fixed;\n}\n.ne-table tfoot {\n  user-select: none;\n  pointer-events: none;\n}\n.ne-table tfoot td {\n  position: relative;\n  height: 0;\n  overflow: hidden;\n  line-height: 0;\n  font-size: 0;\n  padding: 0;\n  user-select: none;\n}\n.ne-tr {\n  height: 33px;\n}\n.ne-td {\n  border: 1px solid #D9D9D9;\n  vertical-align: top;\n}\n.ne-td-content {\n  margin: 4px 8px;\n  position: relative;\n  z-index: 3;\n}\n.ne-td-break {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 1px;\n  height: 1px;\n  pointer-events: none;\n}\n"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-engine ne-table-wrap.ne-max {\n  background-color: #FAFAFA;\n  overflow: auto;\n  margin: 0!important;\n}\n.ne-engine ne-table-wrap.ne-max.ne-ui-table-right-shadow:before,\n.ne-engine ne-table-wrap.ne-max.ne-ui-table-left-shadow:before,\n.ne-engine ne-table-wrap.ne-max.ne-ui-table-right-shadow:after,\n.ne-engine ne-table-wrap.ne-max.ne-ui-table-left-shadow:after {\n  display: none;\n}\n.ne-engine ne-table-wrap.ne-max .ne-ui-table {\n  left: 26px;\n}\n.ne-engine ne-table-wrap.ne-max.ne-table-focus ne-table-inner-wrap {\n  margin-left: 39px;\n}\n.ne-engine ne-table-wrap.ne-max .ne-ui-table-row-controller {\n  background-color: #FAFAFA;\n}\n.ne-engine ne-table-wrap.ne-max .ne-ui-table-control-point-wrapper {\n  background-color: #FAFAFA;\n}\n");var SS=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_isFocusAtTable",!1),m()(l()(e),"_context",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this._context=new OS(this,e),e.registerBoxNode({table:{clazz:NS,pluginContext:this._context},tr:QD,td:XD}),e.registerAttrTranslator({width:new KD,height:new KD,rowSpan:new $D,colSpan:new $D,col:new JD,cellBgColor:new YD,verticalAlign:new GD});var n=-1,r=!1;e.on("unblockSelectionChange",(function(){r=!1})),e.on("blockSelectionChange",(function(){r=!0})),e.on("selectionchange",(function(e){var o=e.ranges,i=e.anchor;if(!r){var a=Date.now();requestAnimationFrame((function(){n>a||(t._updateTableSelection(!0,o,i),t._checkSelectionChange(o))}))}})),e.on("contentchange",(function(e){var o=e.ranges,i=e.anchor;r||(n=Date.now(),requestAnimationFrame((function(){t._updateTableSelection(!0,o,i),t._checkSelectionChange(o)})))})),e.onPluginEvent("uiSelectionChange",(function(e){t._updateTableSelection(!1,e)})),e.onPluginEvent("uiSwitched",(function(e){var n=e.type;t._context.headDisabled=[WD,ZD].includes(n)}))}},{key:"_updateTableSelection",value:function(e,t,n){var r=kd(t[0].commonAncestorContainer,"table");r?this._context.emit("resetSelection",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tableNode:r,isStable:e,ranges:t},function(e,t,n){var r=e.attrs,o=r.rowCount,i=r.colCount,a=function(e){if(1===e.length)return ES(e[0]);var t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;return e.forEach((function(e){var i=ES(e);t=Math.min(t,i.minColumn),n=Math.max(n,i.maxColumn),r=Math.min(r,i.minRow),o=Math.max(o,i.maxRow)})),{minColumn:t,maxColumn:n,minRow:r,maxRow:o}}(t),c=a.minColumn,l=a.maxColumn,s=a.minRow,u=a.maxRow,d=0===s&&u===o-1,f=0===c&&l===i-1,h="cell";d&&f?h="all":d&&i>1?h="column":f&&o>1&&(h="row");var p=c,v=l,m=s,y=u;return"end"!==n&&"topRight"!==n||(p=l,v=c),"end"!==n&&"bottomLeft"!==n||(m=u,y=s),{type:h,startColumn:p,endColumn:v,startRow:m,endRow:y}}(r.parentNode.parentNode.parentNode._viewNode,t,n))):this._context.emit("resetSelection",{tableNode:null,isStable:e})}},{key:"_checkSelectionChange",value:function(e){var t=kd(e[0].commonAncestorContainer,"table"),n=this._isFocusAtTable;this._isFocusAtTable=!!t,n!==this._isFocusAtTable&&(this._context.headDisabled||this.iRenderer.emitPluginEvent("afterTableSelectionChanged",{tableNode:t}))}}]),i}();m()(SS,"PluginName","table");var BS=function(){function e(){o()(this,e)}return a()(e,[{key:"clipboardData",get:function(){return null}},{key:"types",get:function(){return[]}},{key:"getData",value:function(e){}}]),e}();var PS=function(e){u()(i,BS);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_types",[]),m()(l()(t),"_files",[]),m()(l()(t),"_clipboardData",null),m()(l()(t),"_cache",{}),t._clipboardData=e,t._preprocess(e),t}return a()(i,[{key:"clipboardData",get:function(){return this._clipboardData}},{key:"types",get:function(){return this._types.slice()}},{key:"getData",value:function(e){return this._types.includes(e)?"Files"===e?this._files.slice():this._cache[e]?this._cache[e]:this._clipboardData.getData(e):null}},{key:"setData",value:function(e,t){this._cache[e]=t}},{key:"_preprocess",value:function(e){if(this._files=Array.from(e.items).map((function(e){return"file"===e.kind?e.getAsFile():null})).filter(Boolean).map((function(e){return e instanceof File?e:new File(e,e.name)})),this._files.length>0){this._types=["Files"];var t=e.getData("text/html");if(t&&/^(<meta.+?>)?<img.+?>$/.test(t))return;var n=e.getData("text/plain");if(n&&(/^.+\.\w+$/.test(n)||/^http(s)?:/.test(n)))return;if(!t&&!n)return void(this._checkChromeDuplicate()&&(this._files.length=1))}this._types=e.types.slice();var r=this._types.indexOf("Files");if(-1!==r&&this._types.splice(r,1),this._types.includes("text/plain")){var o=this._clipboardData.getData("text/plain");gv.isFullHttpURL(o)&&(this._types=["text/plain"])}}},{key:"_checkChromeDuplicate",value:function(){if(!W.ua.chrome||2!==this._files.length||"image.png"!==this._files[0].name)return!1;var e=this._files[1].name;return!!(e.length>12&&/^[a-z0-9_\-]+\.(png|jpg)$/i.test(e))}}]),i}(),FS=document.createElement("span");FS.className="ne-hidden-copy-node",FS.innerText="ne-clipboard";var TS=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_iEngine",null),m()(l()(a),"_commandName",null),m()(l()(a),"_plugin",null),br("copy"===t||"cut"===t||"copyContentById"===t,"F:clipboard;L:16"),a._iEngine=e,a._commandName=t,a._plugin=n,a}return a()(i,[{key:"destroy",value:function(){FS.remove()}},{key:"getState",value:function(){return 0}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e,t){var n=document.getSelection(),r=n.focusNode,o=n.focusOffset,i=n.anchorNode,a=n.anchorOffset,c=document.createRange();c.selectNodeContents((FS.isConnected||document.body.appendChild(FS),FS)),n.removeAllRanges(),n.addRange(c);var l=null;e&&(l=this._iEngine.transformDOMRange(e)),this._plugin.setNextEventData({range:l,option:t});try{return document.execCommand(this._commandName)}catch(e){return console.error(e),!1}finally{this._plugin.clearNextEventData(),n.setBaseAndExtent(i,a,r,o)}}}]),i}();FN(".ne-hidden-copy-node {\n  opacity: 0;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n}\n");var MS=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_nextEventData",null),m()(l()(e),"_handleCopy",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),e._doCopy(t)})),m()(l()(e),"_handleGlobalCopy",(function(t){e._nextEventData&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),e._doCopy(t))})),m()(l()(e),"_handleCut",(function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation(),e._doCut(t)})),m()(l()(e),"_handleGlobalCut",(function(t){e._nextEventData&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),e._doCut(t))})),m()(l()(e),"_handlePaste",(function(t){t.preventDefault(),t.stopPropagation();var n=new PS(t.clipboardData);e.kernel.execCommand("paste",n)})),e}return a()(i,[{key:"init",value:function(e){e.registerCommand("copy",new TS(this.iEngine,"copy",this)),e.registerCommand("cut",new TS(this.iEngine,"cut",this)),e.onRootNode("copy",this._handleCopy),e.onRootNode("cut",this._handleCut),e.onRootNode("paste",this._handlePaste),wR(this,document,"copy",this._handleGlobalCopy,!1),wR(this,document,"cut",this._handleGlobalCut,!1)}},{key:"setNextEventData",value:function(e){this._nextEventData=e}},{key:"clearNextEventData",value:function(){this._nextEventData=null}},{key:"_doCopy",value:function(e){var t,n,r=e.clipboardData,o=this.kernel.execCommand("copy",null===(t=this._nextEventData)||void 0===t?void 0:t.range,null===(n=this._nextEventData)||void 0===n?void 0:n.option);if(!o)return!1;Object.keys(o).forEach((function(e){r.setData(e,o[e])}))}},{key:"_doCut",value:function(e){var t=e.clipboardData,n=this.kernel.execCommand("cut");if(!n)return!1;Object.keys(n).forEach((function(e){t.setData(e,n[e])}))}}]),i}();m()(MS,"PluginName","clipboard");var LS=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"ne-alignment",value:t}}}]),i}();FN('[ne-alignment="left"] {\n  text-align: left;\n}\n[ne-alignment="right"] {\n  text-align: right;\n}\n[ne-alignment="center"] {\n  text-align: center;\n}\n[ne-alignment="justify"] {\n  text-align: justify;\n}\n[ne-alignment="distributed"] {\n  text-align: justify;\n  text-align-last: justify;\n}\n');var AS=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("alignment",new LS),e.hasExtendMethod("registerHotKey")&&[{keys:["cmd","shift","L"],arg:"left"},{keys:["cmd","shift","C"],arg:"center"},{keys:["cmd","shift","R"],arg:"right"},{keys:["cmd","shift","J"],arg:"justify"}].forEach((function(t){var n=t.keys,r=t.arg;e.registerHotKey(r,n,(function(t){t.stop(),e.execCommand("alignment",r)}))}))}}]),i}();m()(AS,"PluginName","alignment");var IS={anchor:!0},jS=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},IS,t)}return a()(e,[{key:"anchor",get:function(){return this._option.anchor}}]),e}();m()(jS,"OptionName","heading"),FN("ne-h1:hover ne-heading-anchor,\nne-h2:hover ne-heading-anchor,\nne-h3:hover ne-heading-anchor,\nne-h4:hover ne-heading-anchor,\nne-h5:hover ne-heading-anchor,\nne-h6:hover ne-heading-anchor {\n  opacity: 1;\n}\nne-h1[data-focus] ne-heading-anchor,\nne-h2[data-focus] ne-heading-anchor,\nne-h3[data-focus] ne-heading-anchor,\nne-h4[data-focus] ne-heading-anchor,\nne-h5[data-focus] ne-heading-anchor,\nne-h6[data-focus] ne-heading-anchor {\n  opacity: 1;\n}\nne-heading-anchor {\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  width: fit-content;\n  user-select: none;\n  color: #bfbfbf;\n  line-height: 1;\n  font-family: lake-icon !important;\n}\nne-heading-anchor:hover > span:after {\n  color: #595959;\n  background-color: #f4f4f4;\n}\nne-heading-anchor > span {\n  cursor: pointer;\n}\nne-heading-anchor > span:after {\n  width: 20px;\n  height: 20px;\n  font-size: 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n}\n.ne-engine ne-heading-anchor {\n  margin-right: 8px;\n}\n.ne-engine ne-heading-anchor > span:after {\n  width: 24px;\n  height: 24px;\n  font-size: 14px;\n}\n.ne-heading-anchor-tooltip {\n  white-space: nowrap;\n}\nne-h1 ne-heading-anchor > span:after,\nne-h2 ne-heading-anchor > span:after,\nne-h3 ne-heading-anchor > span:after {\n  margin-top: 2px;\n}\nne-h1 ne-heading-anchor > span:after {\n  content: '\\e610';\n}\nne-h2 ne-heading-anchor > span:after {\n  content: '\\e611';\n}\nne-h3 ne-heading-anchor > span:after {\n  content: '\\e60f';\n}\nne-h4:hover ne-heading-anchor {\n  margin-top: 2px;\n}\nne-h4 ne-heading-anchor > span:after {\n  content: '\\e60c';\n}\nne-h5 ne-heading-anchor > span:after {\n  content: '\\e60d';\n}\nne-h6 ne-heading-anchor > span:after {\n  content: '\\e60e';\n}\n");var VS=function(){function e(t,n,r){o()(this,e),m()(this,"_anchorNode",null),m()(this,"_url",null),m()(this,"_id",null),this._url=n,this._id=r,this._anchorNode=Xk("ne-heading-anchor"),this._anchorNode.innerHTML="<span></span>",t.appendChild(this._anchorNode),this._render()}return a()(e,[{key:"destroy",value:function(){this._anchorNode.remove()}},{key:"_render",value:function(){var e=this;be.a.render(Re.a.createElement(Be.a,{trigger:["hover","click"],title:xm("复制段落链接"),mouseEnterDelay:1,mouseLeaveDelay:0,overlayClassName:"ne-heading-anchor-tooltip",destroyTooltipOnHide:!0},Re.a.createElement("span",{onMouseDown:function(e){return e.preventDefault()},onClick:function(){e._handleAnchorClick()}})),this._anchorNode)}},{key:"_handleAnchorClick",value:function(){var e=this._url,t=this._id;if(e){var n=rO.generateHashLink(e,t);n&&Ie()(n,{format:"text/plain"})?je.b.success(xm("复制成功")):je.b.error(xm("复制失败"))}}}]),e}();FN(".ne-viewer ne-h1,\n.ne-engine ne-h1,\n.ne-viewer ne-h2,\n.ne-engine ne-h2,\n.ne-viewer ne-h3,\n.ne-engine ne-h3,\n.ne-viewer ne-h4,\n.ne-engine ne-h4,\n.ne-viewer ne-h5,\n.ne-engine ne-h5,\n.ne-viewer ne-h6,\n.ne-engine ne-h6 {\n  position: relative;\n  display: block;\n}\n.ne-viewer ne-h1 ne-text,\n.ne-engine ne-h1 ne-text,\n.ne-viewer ne-h2 ne-text,\n.ne-engine ne-h2 ne-text,\n.ne-viewer ne-h3 ne-text,\n.ne-engine ne-h3 ne-text,\n.ne-viewer ne-h4 ne-text,\n.ne-engine ne-h4 ne-text,\n.ne-viewer ne-h5 ne-text,\n.ne-engine ne-h5 ne-text,\n.ne-viewer ne-h6 ne-text,\n.ne-engine ne-h6 ne-text {\n  font-weight: bold;\n}\n.ne-viewer ne-h6 ne-text,\n.ne-engine ne-h6 ne-text {\n  font-weight: normal;\n}\n.ne-viewer ne-heading-ext,\n.ne-engine ne-heading-ext {\n  position: absolute;\n  width: fit-content;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  top: 0;\n  left: 0;\n  transform: translateX(-100%);\n  text-indent: 0;\n}\n.ne-viewer ne-heading-content,\n.ne-engine ne-heading-content {\n  display: block;\n}\n");var zS=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_extNode",null),e}return a()(i,[{key:"init",value:function(e){var t=this.viewNode.nodeName;this._rootNode=eC.createElement("ne-".concat(t)),this._contentNode=eC.createElement("ne-heading-content"),this._extNode=Xk("ne-heading-ext",{contentEditable:!1}),eC.setAttributeByChange(this._rootNode,e),this._rootNode.appendChild(this._extNode),this._rootNode.appendChild(this._contentNode),this._allowShowAnchor()&&(this._anchorController=new VS(this._extNode,this.iRenderer.option.currentURL,this.viewNode.id))}},{key:"updateAttribute",value:function(e){eC.syncDOMAttrChange(this._rootNode,e)}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_allowShowAnchor",value:function(){var e,t;return!(null===(e=this.pluginContext)||void 0===e||null===(t=e.option)||void 0===t||!t.anchor||!this.viewNode.parentNode.isRootNode())}}]),i}();var US=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"lastFocusInHeadingElement",null),m()(l()(e),"_focusHeading",(function(){if(!e.tipDisabled){var t,n=!1,r=null,o=document.getSelection();if(o&&o.rangeCount){var i=o.getRangeAt(0),a=kd(i.commonAncestorContainer,"ne-heading-content");a&&null===kd(i.commonAncestorContainer,"ne-card")&&(n=!0,r=a.parentNode)}if(n)br(r,"F:render/index;L:85","F:render/index;L:85","F:render/index;L:85"),e.lastFocusInHeadingElement!==r&&(r.setAttribute("data-focus",!0),e.lastFocusInHeadingElement&&(null===(t=e.lastFocusInHeadingElement)||void 0===t||t.removeAttribute("data-focus"))),e.lastFocusInHeadingElement=r;else if(e.lastFocusInHeadingElement){var c;null===(c=e.lastFocusInHeadingElement)||void 0===c||c.removeAttribute("data-focus"),e.lastFocusInHeadingElement=null}}})),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerBoxNode({h1:zS,h2:zS,h3:zS,h4:zS,h5:zS,h6:zS},this),e.hasExtendMethod("registerHotKey")&&function(){e.registerHotKey("paragraph",["cmd","opt",0],(function(t){t.stop(),e.execCommand("style","p")}));for(var t=function(t){var n="h".concat(t);e.registerHotKey(n,["cmd","opt",t],(function(t){t.stop();var r=e.queryCommandValue("style");n===r?e.execCommand("style","p"):e.execCommand("style",n)}))},n=1;n<=6;n++)t(n)}(),e.on("selectionchange",lt()(this._focusHeading,200)),e.on("contentchange",lt()(this._focusHeading,200)),e.onPluginEvent("uiSwitched",(function(e){var n=e.type;t.tipDisabled||[WD,ZD].includes(n)&&(t.tipDisabled=!0)}))}}]),i}();m()(US,"PluginName","heading"),m()(US,"PluginOption",jS);var HS=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"attrName",null),t.attrName=e,t}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"ne-".concat(this.attrName),value:t}}}]),i}();FN('[ne-text-indent] {\n  text-indent: 2em;\n}\n[ne-indent="1"] {\n  padding-left: 2em;\n}\n[ne-indent="2"] {\n  padding-left: 4em;\n}\n[ne-indent="3"] {\n  padding-left: 6em;\n}\n[ne-indent="4"] {\n  padding-left: 8em;\n}\n[ne-indent="5"] {\n  padding-left: 10em;\n}\n[ne-indent="6"] {\n  padding-left: 12em;\n}\n[ne-indent="7"] {\n  padding-left: 14em;\n}\n[ne-indent="8"] {\n  padding-left: 16em;\n}\n[ne-indent="9"] {\n  padding-left: 18em;\n}\n[ne-indent="10"] {\n  padding-left: 20em;\n}\n[ne-indent="11"] {\n  padding-left: 22em;\n}\n[ne-indent="12"] {\n  padding-left: 24em;\n}\n[ne-indent="13"] {\n  padding-left: 26em;\n}\n[ne-indent="14"] {\n  padding-left: 28em;\n}\n[ne-indent="15"] {\n  padding-left: 30em;\n}\n[ne-indent="16"] {\n  padding-left: 32em;\n}\n[ne-indent="17"] {\n  padding-left: 34em;\n}\n');var qS=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel;e.registerAttrTranslator({indent:new HS("indent"),textIndent:new HS("text-indent")}),e.hasExtendMethod("registerHotKey")&&(e.registerHotKey("indentForTab",["TAB"],(function(e){-1!==t.queryCommandState("canIndent")&&(e.stop(),t.execCommand("indent",!0))})),e.registerHotKey("outdentForTab",["shift","TAB"],(function(e){-1!==t.queryCommandState("canIndent")&&(e.stop(),t.execCommand("outdent",!0))}))),e.hasExtendMethod("registerHotKey")&&[{keys:["cmd","]"],command:"indent"},{name:"outdent",keys:["cmd","["],command:"outdent"}].forEach((function(n){var r=n.keys,o=n.command;e.registerHotKey(o,r,(function(e){e.stop(),t.execCommand(o)}))}))}}]),i}();m()(qS,"PluginName","indent");var WS=[12,13,14,15,16,19,22,24,29,32,40,48].map((function(e){return{menuItem:Re.a.createElement("div",{className:"ne-ui-font-size-item"},e,"px"),label:e+"px",value:e}})),ZS=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:fontsize-toolbar-descriptor;L:19"),(t=parseInt(t,10))===this.iEditor.iKernel.getTypographyDetail().fontSize?this.iEditor.execCommand(this.name,null):this.iEditor.execCommand(this.name,t)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,value:null,className:"ne-ui-toolbar-fontsize",dropdownClassName:"ne-ui-toolbar-fontsize-dropdown",options:WS,tooltip:xm("字号"),componentProperty:{offset:{offset:[-10,0]}}}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name,n=e.queryCommandValue(t,!1),r=n;return-1===n&&(r=null),{disabled:this.disabled||!e.queryCommandEnabled(t),value:r,options:WS}}}]),i}();m()(ZS,"Type","Select"),FN(".ne-ui-toolbar-fontsize .ne-ui-select-value {\n  width: 50px;\n}\n.ne-ui-toolbar-fontsize-dropdown .ne-ui-select-item {\n  padding-right: 25px;\n}\n.ne-ui-font-size-item {\n  padding-right: 15px;\n}\n");var KS=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("fontsize",ZS)}}]),i}();m()(KS,"PluginName","fontsize");var $S=[{menuItem:Re.a.createElement("div",{className:"ne-ui-select-content"},Re.a.createElement("span",{className:"ne-ui-item-content"},xm("正文")),!window.h5&&Re.a.createElement("span",{className:"ne-ui-command-style"},sO(["opt","cmd","0"]))),value:"p",label:xm("正文")},{menuItem:Re.a.createElement("div",{className:"ne-ui-select-content"},Re.a.createElement("span",{className:"ne-ui-item-heading1"},xm("标题1")),!window.h5&&Re.a.createElement("span",{className:"ne-ui-command-style"},sO(["opt","cmd","1"]))),value:"h1",label:xm("标题1")},{menuItem:Re.a.createElement("div",{className:"ne-ui-select-content"},Re.a.createElement("span",{className:"ne-ui-item-heading2"},xm("标题2")),!window.h5&&Re.a.createElement("span",{className:"ne-ui-command-style"},sO(["opt","cmd","2"]))),value:"h2",label:xm("标题2")},{menuItem:Re.a.createElement("div",{className:"ne-ui-select-content"},Re.a.createElement("span",{className:"ne-ui-item-heading3"},xm("标题3")),!window.h5&&Re.a.createElement("span",{className:"ne-ui-command-style"},sO(["opt","cmd","3"]))),value:"h3",label:xm("标题3")},{menuItem:Re.a.createElement("div",{className:"ne-ui-select-content"},Re.a.createElement("span",{className:"ne-ui-item-heading4"},xm("标题4")),!window.h5&&Re.a.createElement("span",{className:"ne-ui-command-style"},sO(["opt","cmd","4"]))),value:"h4",label:xm("标题4")}],JS=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:style-toolbar-descriptor;L:55"),this.iEditor.execCommand("style",t)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,value:null,className:"ne-ui-toolbar-format",dropdownClassName:"ne-ui-toolbar-format-dropdown",options:$S,tooltip:xm("正文与标题"),componentProperty:{placement:window.h5?"topRight":"bottomRight",offset:window.h5?void 0:{offset:[150,0]}}}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name,n=e.queryCommandValue(t),r=n&&"mixed"!==n?n:null;return{disabled:this.disabled||!e.queryCommandEnabled(t),value:r,options:$S}}}]),i}();m()(JS,"Type","Select"),FN(".ne-ui-toolbar-format .ne-ui-select-value {\n  width: 80px;\n}\n.ne-ui-toolbar-format-dropdown .ant-select-item-option:nth-child(2) {\n  font-size: 24px;\n}\n.ne-ui-toolbar-format-dropdown .ant-select-item-option:nth-child(3) {\n  font-size: 20px;\n}\n.ne-ui-toolbar-format-dropdown .ant-select-item-option:nth-child(4) {\n  font-size: 16px;\n}\n.ne-ui-toolbar-format-dropdown .ant-select-item-option:nth-child(5) {\n  font-size: 14px;\n}\n.ne-ui-select-item .ne-ui-select-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.ne-ui-select-item .ne-ui-select-content .ne-ui-item-content {\n  font-size: 16px;\n  font-weight: bold;\n}\n.ne-ui-select-item .ne-ui-select-content .ne-ui-item-heading1 {\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 1.6;\n}\n.ne-ui-select-item .ne-ui-select-content .ne-ui-item-heading2 {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 1.6;\n}\n.ne-ui-select-item .ne-ui-select-content .ne-ui-item-heading3 {\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 1.6;\n}\n.ne-ui-select-item .ne-ui-select-content .ne-ui-item-heading4 {\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 1.6;\n}\n.ne-ui-select-item .ne-ui-select-content .ne-ui-command-style {\n  color: #B3B3B3;\n  margin-left: 65px;\n}\n");var YS=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("style",JS),e.hasExtendMethod("registerSlashCommand")&&e.registerSlashCommand("style",[{label:xm("标题1"),keywords:["标题1","heading1","h1","biaoti1","bt1"],value:"h1",icon:"t-heading1",hotkey:t.getHotKeyByName("h1"),markdown:["#","Space"]},{label:xm("标题2"),keywords:["标题2","heading2","h2","biaoti2","bt2"],value:"h2",icon:"t-heading2",hotkey:t.getHotKeyByName("h2"),markdown:["##","Space"]},{label:xm("标题3"),keywords:["标题3","heading3","h3","biaoti3","bt3"],value:"h3",icon:"t-heading3",hotkey:t.getHotKeyByName("h3"),markdown:["###","Space"]},{label:xm("标题4"),keywords:["标题4","heading4","h4","biaoti4","bt4"],value:"h4",icon:"t-heading4",hotkey:t.getHotKeyByName("h4"),markdown:["####","Space"]}])}}]),i}();m()(YS,"PluginName","style");var GS=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){switch(e){case"select":this.pluginContext.setColor(t),"#000000"===t?this.iEditor.execCommand("clearColor"):this.iEditor.execCommand("color",t);break;case"saveColor":this.iEditor.hasExtendMethod("updateUserColor")&&this.iEditor.updateUserColor(t);break;default:br(!1,"F:color-toolbar-descriptor;L:28")}}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,className:"ne-ui-toolbar-color",icon:"t-font-color",defaultColor:"#000000",userColors:[],color:this.pluginContext.getColor(),tooltip:xm("字体颜色")}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name,n=[];this.iEditor.hasExtendMethod("getUserColors")&&(n=this.iEditor.getUserColors());var r=this.iEditor.queryCommandValue("color")||"#000000",o=this.pluginContext.getColor()||"#000000";return{disabled:this.disabled||!e.queryCommandEnabled(t),userColors:n,activeColors:[r],color:o}}}]),i}();m()(GS,"Type","ColorPickerButton");var XS=function(){function e(t){o()(this,e),this.color=t}return a()(e,[{key:"getColor",value:function(){return this.color}},{key:"setColor",value:function(e){this.color=e}}]),e}();var QS=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_pluginContext",null),e}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&(this._pluginContext=new XS("#E8323C"),e.registerToolbarWidget("color",{clazz:GS,pluginContext:this._pluginContext}))}}]),i}();m()(QS,"PluginName","color");var eB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){switch(e){case"select":this.pluginContext.setColor(t),"transparent"!==t&&t&&t!==this.iEditor.queryCommandValue("bgColor")?this.iEditor.execCommand("bgColor",t):this.iEditor.execCommand("clearBgColor");break;case"saveColor":this.iEditor.hasExtendMethod("updateUserColor")&&this.iEditor.updateUserColor(t);break;default:br(!1,"F:bg-color-toolbar-descriptor;L:32")}}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,className:"ne-ui-toolbar-bg-color",defaultColor:"transparent",color:this.pluginContext.getColor(),userColors:[],icon:"t-bg-color",tooltip:xm("背景颜色")}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name,n=[];this.iEditor.hasExtendMethod("getUserColors")&&(n=this.iEditor.getUserColors());var r=this.iEditor.queryCommandValue("bgColor"),o=this.pluginContext.getColor();return{disabled:this.disabled||!e.queryCommandEnabled(t),userColors:n,activeColors:r?[r]:[],color:o}}}]),i}();m()(eB,"Type","ColorPickerButton");var tB=function(){function e(t){o()(this,e),this.color=t}return a()(e,[{key:"getColor",value:function(){return this.color}},{key:"setColor",value:function(e){this.color=e}}]),e}();var nB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_pluginContext",null),e}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&(this._pluginContext=new tB("#FADB14"),e.registerToolbarWidget("bgColor",{clazz:eB,pluginContext:this._pluginContext}))}}]),i}();m()(nB,"PluginName","bgColor");var rB={left:"t-alignment-left",center:"t-alignment-center",right:"t-alignment-right",justify:"t-alignment-justify"},oB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:alignment-toolbar-descriptor;L:43"),this.iEditor.execCommand("alignment",t)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,value:"left",icon:"t-alignment-left",className:"ne-ui-toolbar-h-align",dropdownClassName:"ne-ui-toolbar-h-align-dropdown",items:(e=this.iEditor,[{icon:rB.left,label:xm("左对齐"),value:"left",tooltip:Uk.getTooltip(e,xm("左对齐"),"left")},{icon:rB.center,label:xm("居中对齐"),value:"center",tooltip:Uk.getTooltip(e,xm("居中对齐"),"center")},{icon:rB.right,label:xm("右对齐"),value:"right",tooltip:Uk.getTooltip(e,xm("右对齐"),"right")},{icon:rB.justify,label:xm("两端对齐"),value:"justify",tooltip:Uk.getTooltip(e,xm("两端对齐"),"justify")}]),tooltip:Uk.getTooltip(this.iEditor,xm("对齐方式"))};var e}},{key:"getUIState",value:function(){var e=this.iEditor;if(this.disabled||-1===e.queryCommandState("alignment"))return{disabled:!0};var t=e.queryCommandValue("alignment"),n=null;return t&&0!==t.length?1===t.length&&(n=t[0]||"left"):n="left",{disabled:!1,value:n,icon:rB[n]}}}]),i}();m()(oB,"Type","InlineContentDropdownButton");var iB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("alignment",oB),e.hasExtendMethod("registerSlashCommand")&&e.registerSlashCommand("alignment",[{iconfont:"left",label:xm("左对齐"),value:"left",keywords:["左对齐","alignleft","zuoduiqi","left","zdq"],hotkey:t.getHotKeyByName("left")},{iconfont:"center",label:xm("居中对齐"),value:"center",keywords:["居中对齐","aligncenter","juzhongduiqi","center","jzdq"],hotkey:t.getHotKeyByName("center")},{iconfont:"right",label:xm("右对齐"),value:"right",keywords:["右对齐","alignright","youduiqi","right","ydq"],hotkey:t.getHotKeyByName("right")}])}}]),i}();m()(iB,"PluginName","alignment");var aB={orderedList:"t-order-list",unorderedList:"t-unorder-list",taskList:"t-task-list"},cB={orderedList:xm("有序列表"),unorderedList:xm("无序列表"),taskList:xm("任务列表")},lB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("change"===e,"F:list-toolbar-descriptor;L:22"),this.iEditor.execCommand(this.name)}},{key:"getInitUIState",value:function(){var e=this.name;return{disabled:this.disabled,checked:!1,className:"ne-ui-toolbar-list",icon:aB[e],tooltip:Uk.getTooltip(this.iEditor,cB[e],e)}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name;return{disabled:this.disabled||!e.queryCommandEnabled(t),checked:1===e.queryCommandState(t)}}}]),i}();m()(lB,"Type","StatusButton");var sB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("change"===e,"F:note-list-toolbar-descriptor;L:10"),this.iEditor.execCommand("taskList")}},{key:"getInitUIState",value:function(){var e=this.name;return{disabled:!1,className:"ne-ui-toolbar-list",icon:"note-checkbox",tooltip:Uk.getTooltip(this.iEditor,xm("任务列表"),e)}}},{key:"getUIState",value:function(){var e=this.iEditor,t=e.iKernel.queryCommandValue("selection");return{disabled:!t||t.isTableSelection||t.isCardSelection,checked:1===e.queryCommandState("taskList")}}}]),i}();m()(sB,"Type","StatusButton");var uB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){e.hasExtendMethod("registerToolbarWidget")&&(e.registerToolbarWidget("orderedList",lB),e.registerToolbarWidget("unorderedList",lB),e.registerToolbarWidget("taskList",lB),e.registerToolbarWidget("notetaskList",sB)),e.hasExtendMethod("registerSlashCommand")&&(e.registerSlashCommand("orderedList",{label:cB.orderedList,keywords:[cB.orderedList,"youxu","liebiao","ol","yxlb","list"],icon:aB.orderedList,hotkey:t.getHotKeyByName("orderedList"),markdown:["1.","Space"]}),e.registerSlashCommand("unorderedList",{label:cB.unorderedList,keywords:[cB.unorderedList,"wuxu","liebiao","ul","wxlb","list"],icon:aB.unorderedList,hotkey:t.getHotKeyByName("unorderedList"),markdown:["*","Space"]}),e.registerSlashCommand("taskList",{label:cB.taskList,keywords:[cB.taskList,"renwu","liebiao","checkbox","todo","rwlb","list","task"],icon:aB.taskList,hotkey:t.getHotKeyByName("taskList"),markdown:["[]","Space"]}))}}]),i}();m()(uB,"PluginName","list");var dB={indent:xm("增加缩进"),outdent:xm("减少缩进")},fB={indent:"indent-right",outdent:"indent-left"},hB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:indent-toolbar-descriptor;L:34"),br(["indent","outdent"].includes(t),"F:indent-toolbar-descriptor;L:35"),this.iEditor.execCommand(t)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,allowCheck:!1,value:null,iconfont:fB[this.name],tooltip:dB[this.name],className:"ne-ui-toolbar-indent",dropdownClassName:"ne-ui-toolbar-indent-dropdown",items:(e=this.iEditor,[{iconfont:"indent-right",label:xm("增加缩进"),value:"indent",tooltip:Uk.getTooltip(e,"","indent")},{iconfont:"indent-left",label:xm("减少缩进"),value:"outdent",tooltip:Uk.getTooltip(e,"","outdent")}])};var e}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||-1===e.queryCommandState("indent")}}}]),i}();m()(hB,"Type","DropdownButton");var pB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("indent",hB)}}]),i}();m()(pB,"PluginName","indent");var vB=[{label:xm("默认"),value:"default"},{label:"1",value:1},{label:"1.15",value:1.15},{label:"1.5",value:1.5},{label:"2",value:2},{label:"2.5",value:2.5},{label:"3",value:3}],mB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:line-height-toolbar-descriptor;L:36"),"default"===t?this.iEditor.execCommand("lineHeight",null):this.iEditor.execCommand("lineHeight",parseFloat(t,10))}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,value:"default",iconfont:"line-height",className:"ne-ui-toolbar-line-height",dropdownClassName:"ne-ui-toolbar-line-height-dropdown",items:vB,tooltip:xm("行高")}}},{key:"getUIState",value:function(){var e=this.iEditor,t=e.queryCommandValue("lineHeight")||"default";return{disabled:this.disabled||!e.queryCommandEnabled("lineHeight"),label:t,value:t}}}]),i}();m()(mB,"Type","DropdownButton");var yB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("lineHeight",mB)}}]),i}();m()(yB,"PluginName","lineHeight");var gB={undo:xm("撤销"),redo:xm("重做")},bB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:history-toolbar-descriptor;L:16"),this.iEditor.execCommand(this.name)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,iconfont:this.name,tooltip:Uk.getTooltip(this.iEditor,gB[this.name],this.name)}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name;return{disabled:this.disabled||-1===e.queryCommandState(t)}}}]),i}();m()(bB,"Type","Button");var wB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&(e.registerToolbarWidget("undo",bB),e.registerToolbarWidget("redo",bB))}}]),i}();m()(wB,"PluginName","history");var xB=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"ne-line-height",value:t}}}]),i}();FN('@font-face {\n  font-family: \'RobotoNum\';\n  src: url(\'https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2\') format(\'woff2\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff\') format(\'woff\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf\') format(\'truetype\');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: \'RobotoNum\';\n  src: url(\'https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2\') format(\'woff2\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff\') format(\'woff\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf\') format(\'truetype\');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: \'RobotoNum\';\n  src: url(\'https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2\') format(\'woff2\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff\') format(\'woff\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf\') format(\'truetype\');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: \'RobotoNum\';\n  src: url(\'https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2\') format(\'woff2\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff\') format(\'woff\'), url(\'https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf\') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-engine [ne-line-height="1"],\n.ne-viewer [ne-line-height="1"] {\n  line-height: 1;\n}\n.ne-engine [ne-line-height="1.15"],\n.ne-viewer [ne-line-height="1.15"] {\n  line-height: 1.15;\n}\n.ne-engine [ne-line-height="1.5"],\n.ne-viewer [ne-line-height="1.5"] {\n  line-height: 1.5;\n}\n.ne-engine [ne-line-height="2"],\n.ne-viewer [ne-line-height="2"] {\n  line-height: 2;\n}\n.ne-engine [ne-line-height="2.5"],\n.ne-viewer [ne-line-height="2.5"] {\n  line-height: 2.5;\n}\n.ne-engine [ne-line-height="3"],\n.ne-viewer [ne-line-height="3"] {\n  line-height: 3;\n}\n.ne-engine ne-h1[ne-line-height="1"],\n.ne-viewer ne-h1[ne-line-height="1"],\n.ne-engine ne-h2[ne-line-height="1"],\n.ne-viewer ne-h2[ne-line-height="1"],\n.ne-engine ne-h3[ne-line-height="1"],\n.ne-viewer ne-h3[ne-line-height="1"],\n.ne-engine ne-h4[ne-line-height="1"],\n.ne-viewer ne-h4[ne-line-height="1"],\n.ne-engine ne-h5[ne-line-height="1"],\n.ne-viewer ne-h5[ne-line-height="1"],\n.ne-engine ne-h6[ne-line-height="1"],\n.ne-viewer ne-h6[ne-line-height="1"] {\n  line-height: 1;\n}\n.ne-engine ne-h1[ne-line-height="1.15"],\n.ne-viewer ne-h1[ne-line-height="1.15"],\n.ne-engine ne-h2[ne-line-height="1.15"],\n.ne-viewer ne-h2[ne-line-height="1.15"],\n.ne-engine ne-h3[ne-line-height="1.15"],\n.ne-viewer ne-h3[ne-line-height="1.15"],\n.ne-engine ne-h4[ne-line-height="1.15"],\n.ne-viewer ne-h4[ne-line-height="1.15"],\n.ne-engine ne-h5[ne-line-height="1.15"],\n.ne-viewer ne-h5[ne-line-height="1.15"],\n.ne-engine ne-h6[ne-line-height="1.15"],\n.ne-viewer ne-h6[ne-line-height="1.15"] {\n  line-height: 1.15;\n}\n.ne-engine ne-h1[ne-line-height="1.5"],\n.ne-viewer ne-h1[ne-line-height="1.5"],\n.ne-engine ne-h2[ne-line-height="1.5"],\n.ne-viewer ne-h2[ne-line-height="1.5"],\n.ne-engine ne-h3[ne-line-height="1.5"],\n.ne-viewer ne-h3[ne-line-height="1.5"],\n.ne-engine ne-h4[ne-line-height="1.5"],\n.ne-viewer ne-h4[ne-line-height="1.5"],\n.ne-engine ne-h5[ne-line-height="1.5"],\n.ne-viewer ne-h5[ne-line-height="1.5"],\n.ne-engine ne-h6[ne-line-height="1.5"],\n.ne-viewer ne-h6[ne-line-height="1.5"] {\n  line-height: 1.5;\n}\n.ne-engine ne-h1[ne-line-height="2"],\n.ne-viewer ne-h1[ne-line-height="2"],\n.ne-engine ne-h2[ne-line-height="2"],\n.ne-viewer ne-h2[ne-line-height="2"],\n.ne-engine ne-h3[ne-line-height="2"],\n.ne-viewer ne-h3[ne-line-height="2"],\n.ne-engine ne-h4[ne-line-height="2"],\n.ne-viewer ne-h4[ne-line-height="2"],\n.ne-engine ne-h5[ne-line-height="2"],\n.ne-viewer ne-h5[ne-line-height="2"],\n.ne-engine ne-h6[ne-line-height="2"],\n.ne-viewer ne-h6[ne-line-height="2"] {\n  line-height: 2;\n}\n.ne-engine ne-h1[ne-line-height="2.5"],\n.ne-viewer ne-h1[ne-line-height="2.5"],\n.ne-engine ne-h2[ne-line-height="2.5"],\n.ne-viewer ne-h2[ne-line-height="2.5"],\n.ne-engine ne-h3[ne-line-height="2.5"],\n.ne-viewer ne-h3[ne-line-height="2.5"],\n.ne-engine ne-h4[ne-line-height="2.5"],\n.ne-viewer ne-h4[ne-line-height="2.5"],\n.ne-engine ne-h5[ne-line-height="2.5"],\n.ne-viewer ne-h5[ne-line-height="2.5"],\n.ne-engine ne-h6[ne-line-height="2.5"],\n.ne-viewer ne-h6[ne-line-height="2.5"] {\n  line-height: 2.5;\n}\n.ne-engine ne-h1[ne-line-height="3"],\n.ne-viewer ne-h1[ne-line-height="3"],\n.ne-engine ne-h2[ne-line-height="3"],\n.ne-viewer ne-h2[ne-line-height="3"],\n.ne-engine ne-h3[ne-line-height="3"],\n.ne-viewer ne-h3[ne-line-height="3"],\n.ne-engine ne-h4[ne-line-height="3"],\n.ne-viewer ne-h4[ne-line-height="3"],\n.ne-engine ne-h5[ne-line-height="3"],\n.ne-viewer ne-h5[ne-line-height="3"],\n.ne-engine ne-h6[ne-line-height="3"],\n.ne-viewer ne-h6[ne-line-height="3"] {\n  line-height: 3;\n}\n');var _B=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("lineHeight",new xB)}}]),i}();m()(_B,"PluginName","lineHeight");var kB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:clear-format-toolbar-descriptor;L:10"),this._iEditor.execCommand("clearFormat")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,iconfont:"clean",className:"ne-ui-toolbar-clear-format",tooltip:Uk.getTooltip(this.iEditor,xm("清除格式"),this.name)}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("clearFormat")}}}]),i}();m()(kB,"Type","Button");var CB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("clearFormat",kB)}}]),i}();function RB(e,t){var n=document.createRange();n.selectNode(t),e.execCommand("copy",n)?je.b.success(xm("复制成功")):je.b.error(xm("复制失败"))}function NB(e){return e.closest(Er.Table)&&!e.hasCategory(Er.Table)?["widthMode"]:[]}m()(CB,"PluginName","clearFormat");var EB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){switch(e){case"select":if(this.pluginContext.setColor(t),"transparent"===t)return this.iEditor.execCommand("tableCellBgColor");this.iEditor.execCommand("tableCellBgColor",t);break;case"saveColor":this.iEditor.hasExtendMethod("updateUserColor")&&this.iEditor.updateUserColor(t);break;default:br(!1,"F:cell-bg-color-toolbar-descriptor;L:25")}}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,className:"ne-ui-toolbar-cell-bg-color",defaultColor:"transparent",color:this.pluginContext.getColor(),icon:"t-cell-bg-color",userColors:[],tooltip:xm("单元格背景色")}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name,n=[];this.iEditor.hasExtendMethod("getUserColors")&&(n=this.iEditor.getUserColors());var r=this.iEditor.queryCommandValue("tableCellBgColor")||"transparent",o=this.pluginContext.getColor()||"transparent";return{disabled:this.disabled||!e.queryCommandEnabled(t),userColors:n,activeColors:[r],color:o}}}]),i}();m()(EB,"Type","ColorPickerButton");var OB=function(){function e(t){o()(this,e),this.color=t}return a()(e,[{key:"getColor",value:function(){return this.color}},{key:"setColor",value:function(e){this.color=e}}]),e}();var DB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("change"===e,"F:cell-merge-toolbar-descriptor;L:10"),t?this.iEditor.execCommand("tableMergeCell"):this.iEditor.execCommand("tableUnmergeCell")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,checked:!1,icon:"t-table-cell-merge",iconSize:14}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("tableMergeCell")&&!e.queryCommandEnabled("tableUnmergeCell"),checked:1===e.queryCommandState("tableMergeCell")}}}]),i}();m()(DB,"Type","StatusButton");var SB=[{label:xm("顶对齐"),icon:"t-top-align",value:"top"},{label:xm("居中对齐"),icon:"t-vertical-align",value:"middle"},{label:xm("底对齐"),icon:"t-bottom-align",value:"bottom"}],BB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:table-vertical-align-toolbar-descriptor;L:24"),this.iEditor.execCommand("tableVerticalAlign",t)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,items:SB,icon:"t-vertical-align",iconSize:14,value:"top",className:"ne-ui-toolbar-vertical-align",dropdownClassName:"ne-ui-toolbar-vertical-align-dropdown",tooltip:xm("垂直对齐")}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("tableVerticalAlign")||-1===e.queryCommandState("tableVerticalAlign"),value:e.queryCommandValue("tableVerticalAlign")}}}]),i}();m()(BB,"Type","DropdownButton");var PB=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("change"===e,"F:border-visible-toolbar-descriptor;L:11"),this.iEditor.execCommand("tableBorderVisible")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,checked:!1,icon:"t-border-visible",tooltip:xm("隐藏边框")}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("tableBorderVisible"),checked:1===e.queryCommandState("tableBorderVisible")}}}]),i}();function FB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}m()(PB,"Type","StatusButton");var TB=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_activeTableNode",null),m()(l()(e),"_pluginContext",null),e}return a()(i,[{key:"activeTableNode",get:function(){return this._activeTableNode}},{key:"init",value:function(e,t){var n=this;if(e.hasExtendMethod("registerToolbarWidget")&&(this._pluginContext=new OB("#F5F5F5"),e.registerToolbarWidget({tableCellBgColor:{clazz:EB,pluginContext:this._pluginContext},tableMergeCell:DB,tableVerticalAlign:BB,tableBorderVisible:PB})),e.hasExtendMethod("registerFilterMiniToolbarItems")&&e.registerFilterMiniToolbarItems(NB),e.onPluginEvent("insertCardByUI:table",(function(t){var r=t.args,o=n._getEditingAreaWidth();e.execCommand("table",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FB(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:o},r[0]))})),e.hasExtendMethod("registerToolbar")){var r=e.registerToolbar("table");t.onPluginEvent("afterTableSelectionChanged",(function(e){var t=e.tableNode;n._activeTableNode=t,t?r.open():r&&r.close()}))}e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect({table:{type:"TableItem",icon:"card-table",iconSize:16,label:xm("表格"),keywords:"表格,bg,biaoge,table"}}),t.onPluginEvent("tableFocus",(function(e){var t=e.tableId,r=e.wrapDOMNode,o=e.tableUI,i=e.tableNode;n._refreshContainerToolbar(r,t,o,i),n._refreshCardToolbar(r,t,o,i)})),t.onPluginEvent("tableHover",(function(e){var t=e.tableId,r=e.wrapDOMNode,o=e.tableUI,i=e.tableNode;n._refreshContainerToolbar(r,t,o,i),n._refreshCardToolbar(r,t,o,i)})),t.onPluginEvent("stableSelectionChange",(function(e){var t=e.tableId,r=e.wrapDOMNode,o=e.tableUI,i=e.tableNode;n._refreshContainerToolbar(r,t,o,i),n._refreshCardToolbar(r,t,o,i)})),t.onPluginEvent("tableBlur",(function(e){var t=e.tableNode;OE.destroyContainerToolbar(t),OE.destroyCardToolbar(t)})),t.onPluginEvent("tableDestroy",(function(e){var t=e.tableNode;OE.destroyContainerToolbar(t),OE.destroyCardToolbar(t)})),t.onPluginEvent("tableMaximize",(function(t){var r=t.tableId,o=t.wrapDOMNode,i=t.tableUI,a=t.tableNode;a._isMaxView?e.exitMaxView():n._executeMaximize(r,o,i,a)}))}},{key:"_getEditingAreaWidth",value:function(){var e=this.iRenderer,t=document.createElement("div");e.domRootNode.appendChild(t);var n=t.getBoundingClientRect();return t.remove(),n.width}},{key:"_getTableCardToolbar",value:function(e,t,n,r){var o=this,i=[{name:"widthMode",cardData:{getWidthMode:function(){return o.iEditor.queryCommandValue("tableToggleWidthMode",e)}},onClick:function(){o._toggleWidthMode(e),o._refreshContainerToolbar(t,e,n,r),o._refreshCardToolbar(t,e,n,r)}},{name:"maximize",onClick:function(){o._executeMaximize(e,t,n,r)}}];return function(e){if(!e.isTableSelection)return!1;var t=e.firstRange,n=e.lastRange,r=t.start.node.parentNode.parentNode;return t.start.node===r.firstChild.firstChild&&n.start.node===r.lastChild.lastChild}(this.iEditor.iEngine.getViewSelection())&&i.unshift({name:"copy",onClick:function(){RB(o.iEditor,t)}},{name:"delete",onClick:function(){o.iEditor.execCommand("deleteTable",e),o.iEditor.execCommand("focus",{preventScroll:!0})}},"|"),i=this._filterWidthMode(i,t,r,e),this.iEditor.hasExtendMethod("getDisabledMiniToolbarItems")&&(i=OE.filter(i,this.iEditor.getDisabledMiniToolbarItems())),OE.generateToolbarItems(i)}},{key:"_getTableContainerToolbar",value:function(e,t,n,r){var o=this;return{className:"ne-table-container-toolbar",offset:18,draggable:!0,onDrop:function(t){var n=t.node,r=t.offset,i=document.createRange();i.setStart(n,r),i.collapse(!0),o.iRenderer.emitPluginEvent("blockReset",!0);var a=o.iEditor.iEngine.transformDOMRange(i);o.iRenderer.execCommand("moveTable",e,a.start),o.iRenderer.emitPluginEvent("blockReset",!1)},items:this._getContainerToolbarConfig(e,t,n,r),positionHandle:function(e,n,r){e.style.top=void 0!==r.top?r.top+"px":"auto";var o=t.getBoundingClientRect();e.style.left=o.x-40+"px"}}}},{key:"_getContainerToolbarConfig",value:function(e,t,n,r){var o=this,i=this.iEditor,a=[{name:"maximize",shortcut:sO(["cmd","shift","F"]),onClick:function(){o._executeMaximize(e,t,n,r)}},{name:"widthMode",cardData:{getWidthMode:function(){return o.iEditor.queryCommandValue("tableToggleWidthMode",e)}},onClick:function(){o._toggleWidthMode(e),o._refreshContainerToolbar(t,e,n,r),o._refreshCardToolbar(t,e,n,r)}},"|",{name:"delete",onClick:function(){i.execCommand("deleteTable",e),i.execCommand("focus",{preventScroll:!0})}},{name:"copy",onClick:function(){RB(i,t)}},{name:"copyLink",onClick:function(){var t=i.option.currentURL;if(t){var n=rO.generateCardLink(t,e);n?(Ie()(n,{format:"text/plain"}),je.b.success(xm("复制成功"))):je.b.error(xm("复制失败"))}}},"|",{name:"spacing",isChecked:function(){return o.iEditor.queryCommandValue("tableSpacing",e)},onClick:function(i,a){o.iEditor.execCommand("tableSpacing",e,!!a),o._refreshContainerToolbar(t,e,n,r),o._refreshCardToolbar(t,e,n,r)}}];return a=this._filterWidthMode(a,t,r,e),this.iEditor.hasExtendMethod("getDisabledMiniToolbarItems")&&(a=OE.filter(a,this.iEditor.getDisabledMiniToolbarItems())),OE.generateToolbarItems(a)}},{key:"_filterWidthMode",value:function(e,t,n,r){var o=this.iEditor.queryCommandValue("tableToggleWidthMode",r);return t.offsetWidth>=n.offsetWidth&&"contain"!==o&&(e=e.filter((function(e){return"widthMode"!==e.name}))),e}},{key:"_executeMaximize",value:function(e,t,n,r){var o=this,i=this.iEditor;OE.destroyContainerToolbar(r),OE.destroyCardToolbar(r),function(e,t){var n=e.iEngine.getViewSelection().firstRange.start.node.closest(Er.Table),r=t._wrapNode._neRef;if(n&&n===r)return!1;var o=r.firstChild.firstChild._virtualNode.getContentDOMNode(),i=[e.iEngine.transformDOMRange(vO.createRange({startContainer:o,startOffset:0,endContainer:o,endOffset:0}))];e.iKernel.execCommand("selection",{focus:"start",anchor:"start",ranges:i})}(i,r),i.enterMaxView(t,{sidebar:!1},null,(function(){n.leaveMaxView(),Promise.resolve().then((function(){o._refreshContainerToolbar(t,e,n,r),o._refreshCardToolbar(t,e,n,r)})),i.execCommand("focus",{preventScroll:!0})})),n.enterMaxView(),i.execCommand("focus",{preventScroll:!0})}},{key:"_toggleWidthMode",value:function(e){this.iEditor.execCommand("tableToggleWidthMode",e)}},{key:"_refreshContainerToolbar",value:function(e,t,n,r){if(e.isConnected){if(this.iEditor.isMaxView)return OE.destroyContainerToolbar(r);var o=this.iEditor,i=o.editBox,a=o.innerOverlayContainer;OE.updateContainerToolbar(r,i,a,this._getTableContainerToolbar(t,e,n,r))}}},{key:"_refreshCardToolbar",value:function(e,t,n,r){var o,i,a,c;if(e.isConnected){if(this.iEditor.isMaxView)return OE.destroyCardToolbar(e);if(null===(o=(i=this.iEditor).isMiniEditor)||void 0===o||!o.call(i)||null!==(a=(c=this.iEditor).isFullscreen)&&void 0!==a&&a.call(c)){var l=this.iEditor,s=l.scrollNode,u=l.innerOverlayContainer;OE.updateCardToolbar(e,u,s,this._getTableCardToolbar(t,e,n,r),{offset:0})}}}}]),i}();m()(TB,"PluginName","table");var MB=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel;e.hasExtendMethod("registerHotKey")&&e.registerHotKey("breakLine",["ENTER"],(function(e){e.stop(),t.execCommand("breakLine")}))}}]),i}();m()(MB,"PluginName","breakLine");var LB=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel,n=!1;e.onRootNode("mousedown",(function(){n=!0,e.onceRootNode("mouseup",(function(){n=!1}))})),e.onRootNode("selectstart",(function(t){if(!n&&t.target===e.domRootNode){var r=document.getSelection();if(1===r.rangeCount){var o=r.getRangeAt(0).commonAncestorContainer,i=kd(o,"ne-card");if(i){var a=kd(o,'[contenteditable="true"]',i);if(a){var c=document.createRange();c.setStart(a.firstChild,0);var l=a.lastChild.childNodes.length;a.lastChild.nodeType===Node.TEXT_NODE&&(l=a.lastChild.length),c.setEnd(a.lastChild,l),r.removeAllRanges(),r.addRange(c),t.stopPropagation(),t.preventDefault()}}}}})),e.hasExtendMethod("registerHotKey")&&e.registerHotKey("selectAll",["cmd","A"],(function(e){e.stop(),t.execCommand("selectAll")}))}}]),i}();m()(LB,"PluginName","selectAll");var AB=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel;e.hasExtendMethod("registerHotKey")&&[{keys:["cmd","Z"],command:"undo"},{keys:["cmd","shift","Z"],command:"redo"}].forEach((function(n){var r=n.keys,o=n.command;e.registerHotKey(o,r,(function(e){e.stop(),t.execCommand(o)}))}))}}]),i}();m()(AB,"PluginName","history");var IB=function(){function e(){o()(this,e)}return a()(e,null,[{key:"uploadImageByFile",value:function(e,t){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:6");var n=e.option.image;return t.map((function(t){var r=n.createUploadTask("file",t);return e.uploadManager.addTask(r),r}))}},{key:"uploadImageByBase64",value:function(e,t){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:19");var n=e.option.image.createUploadTask("base64",t);return e.uploadManager.addTask(n),n}},{key:"uploadImageByURL",value:function(e,t,n){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:29");var r=e.option.image.createUploadTask("url",t,n);return e.uploadManager.addTask(r),r}},{key:"uploadVideoByFile",value:function(e,t){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:39");var n=e.option.video;return t.map((function(t){var r=n.createUploadTask(t);return e.uploadManager.addTask(r),r}))}},{key:"uploadFile",value:function(e,t){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:52");var n=e.option.file;return Array.isArray(t)||(t=[t]),t.map((function(t){var r=n.createUploadTask(t);return e.uploadManager.addTask(r),r}))}},{key:"uploadLocalDoc",value:function(e,t){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:69");var n=e.option.localdoc;return t.map((function(t){var r=n.createUploadTask(t);return e.uploadManager.addTask(r),r}))}},{key:"uploadAudioFile",value:function(e,t){br(e.hasExtend("uploadManager"),"F:upload-helper/index;L:82");var n=e.option.audio;return t.map((function(t){var r=n.createUploadTask(t);return e.uploadManager.addTask(r),r}))}}]),e}();var jB=function(e){u()(i,Lc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"preReadFile",value:function(e,t,n){if("ui"!==(null==n?void 0:n.from)||"image"===(null==n?void 0:n.category)){if(!e.checkFileSize("image",t.file.size))return!1;var r=IB.uploadImageByFile(this._iEditor,[t.file]),o=E()(r,1)[0];return t._$neUploadTaskId=o.id,!1}}}]),i}();var VB=function(e){u()(i,ql);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"read",value:function(e,t,n){if("paste"===e.from){var r=(n||{}).src,o=this._plugin.uploadImageByURL(r,!0);if(!o)return!1;if(o.taskId)return n.taskId=o.taskId,n.clientId=this._plugin.iKernel.id,n.status="uploading",void delete n.src;br(o.url,"F:lake-image-card-pre-reader;L:38"),n.src=o.url}}}]),i}();m()(VB,"CardName","image");var zB=function(e){u()(i,hc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"read",value:function(e,t){var n;if("paste"===e.from){var r=((null===(n=t.attrs)||void 0===n?void 0:n.value)||{}).src,o=this._plugin.uploadImageByURL(r,!0);if(!o)return!1;if(o.taskId)return t.attrs.value.taskId=o.taskId,t.attrs.value.status="uploading",t.attrs.value.clientId=this._plugin.iKernel.id,void delete t.attrs.value.src;br(o.url,"F:inode-image-card-pre-reader;L:38"),t.attrs.value.src=o.url}}}]),i}();m()(zB,"CardName","image");var UB="ctoken",HB=Array.isArray;function qB(e){for(var t=e.document.cookie.split(/;\s/g),n=0,r=t.length;n<r;n++){var o=t[n].match(/([^=]+)=/i);if(o&&"yuque_ctoken"===o[1])return t[n].substring(o[1].length+1)}}function WB(e,t,n,r){var o,i,a,c=/\[\]$/;if(HB(t))for(i=0;t&&i<t.length;i++)a=t[i],n||c.test(e)?r(e,a):WB(e+"["+("object"===R()(a)?i:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)t.hasOwnProperty(o)&&WB(e+"["+o+"]",t[o],n,r);else r(e,t)}function ZB(e,t){return e+(/\?/.test(e)?"&":"?")+t}function KB(e,t){var n,r,o=t||!1,i=[],a=encodeURIComponent;function c(e,t){var n=t;"function"==typeof t?n=t():null==t&&(n=""),i[i.length]=a(e)+"="+a(n)}if(HB(e))for(r=0;e&&r<e.length;r++)c(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&WB(n,e[n],o,c);return i.join("&").replace(/%20/g,"+")}function $B(e){return"undefined"!=typeof FormData&&e instanceof FormData}function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JB(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GB,XB=window,QB=document,eP=document.head,tP=/^http/,nP=/(^\w+):\/\//,rP=/^20\d$/,oP="reqwest_"+ +new Date,iP=0;function aP(){}var cP={traditional:!1,contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"},dataFilter:function(e){return e}};function lP(e){GB=e}function sP(e,t){var n=this.o,r=(n.method||"GET").toUpperCase(),o="string"==typeof n?n:n.url,i=!1!==n.processData&&n.data&&"string"!=typeof n.data&&!$B(n.data)?KB(n.data,n.traditional||cP.traditional):n.data||null;if("jsonp"!==n.type&&"GET"!==r||!i||(o=ZB(o,i),i=null),"jsonp"===n.type)return function(e,t,n,r){var o=r,i=iP++,a=e.jsonpCallback||"callback",c=e.jsonpCallbackName||function(e){return oP+"_"+e}(i),l=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),s=o.match(l),u=QB.createElement("script"),d=0;return s?"?"===s[3]?o=o.replace(l,"$1="+c):c=s[3]:o=ZB(o,a+"="+c),XB[c]=lP,u.type="text/javascript",u.src=o,u.async=!0,u.onload=u.onreadystatechange=function(){if(u.readyState&&"complete"!==u.readyState&&"loaded"!==u.readyState||d)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(GB),GB=void 0,eP.removeChild(u),d=1},eP.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n("Request is aborted: timeout"),GB=void 0,eP.removeChild(u),d=1}}}(n,e,t,o);var a=n.xhr&&n.xhr(n)||function(e){var t=new XMLHttpRequest;if(!0===e.crossOrigin&&!("withCredentials"in t))throw new Error("Browser does not support cross-origin requests");return t}(n);return a.open(r,o,!1!==n.async),function(e,t){var n,r=t.headers||{};for(n in r.Accept=r.Accept||cP.accept[t.type]||cP.accept["*"],t.crossOrigin||r["X-Requested-With"]||(r["X-Requested-With"]=cP.requestedWith),r["Content-Type"]||$B(t.data)||(r["Content-Type"]=t.contentType||cP.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}(a,n),function(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}(a,n),a.onreadystatechange=function(e,t,n){return function(){return e._aborted?n("Request is aborted",e.request):e._timedOut?n("Request is aborted: timeout",e.request):void(e.request&&4===e.request.readyState&&(e.request.onreadystatechange=aP,function(e){var t=nP.exec(e.url),n="";return t&&(n=t[1]),n||(n=(e.o.context||XB).location.protocol),tP.test(n)?rP.test(e.request.status):!!e.request.response}(e)?t(e.request):n(e.request.statusText,e.request)))}}(this,e,t),n.before&&n.before(a),a.send(i),a}function uP(){this.initPromise()}function dP(){return new uP}function fP(e){var t=this;this.url="string"==typeof e?e:e.url,this.timeout&&clearTimeout(this.timeout),this.timeout=null,e.timeout&&(this.timeout=setTimeout((function(){t._timedOut=!0,t.request.abort()}),e.timeout)),this.request=sP.call(this,(function(e){t.triggerSuccess(e)}),(function(e,n){t.triggerError(e,n)}))}function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hP(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}uP.prototype={triggerSuccess:function(e){var t=this.o,n=t.type,r=(t.dataFilter||cP.dataFilter)(e.responseText,n);if(n||(n=e&&function(e){if(e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}(e.getResponseHeader("Content-Type"))),e="jsonp"!==n?this.request:e,r)switch(n){case"json":try{e=XB.JSON.parse(r)}catch(t){return this.triggerError("Could not parse JSON in response",e)}break;case"html":e=r;break;case"xml":e=e.responseXML&&e.responseXML.parseError&&e.responseXML.parseError.errorCode&&e.responseXML.parseError.reason?null:e.responseXML}t.success&&t.success(e),this.triggerComplete(e),this.__resolve(e)},triggerError:function(e,t){var n=this.o,r=new Error(e);r.xhr=t,n.error&&n.error(r),this.triggerComplete(r),this.__reject(r)},triggerComplete:function(e){var t=this.o;t.timeout&&clearTimeout(this.timeout),this.timeout=null,t.complete&&t.complete(e)},initPromise:function(){var e=this;e.promise=new Promise((function(t,n){e.__resolve=t,e.__reject=n}))},abort:function(){this._aborted=!0,this.request.abort()},retry:function(){this.initPromise(),fP.call(this,this.o)},then:function(e,t){return this.promise.then(e,t)},always:function(e){return this.promise.then(e,e)},fail:function(e){return this.promise.then(void 0,e)},catch:function(e){return this.fail(e)},setup:function(e){this.o=YB(YB({},cP),e)},start:function(e){this.setup(e),fP.call(this,this.o)}},dP.ajaxSetup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)e.hasOwnProperty(t)&&cP.hasOwnProperty(t)&&(cP[t]=e[t])};var vP="_input_charset",mP="utf-8",yP={withCToken:!0,withInputCharset:!0,cache:!0};function gP(e,t){var n;e=(n="string"==typeof e?{url:e,success:t}:e).url;var r=dP();return e.startsWith("//")&&(e=location.protocol+e),function(e){return!/^https?:\/\/\w+\.alipayobjects\.com\//g.test(e)}(e)&&(n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=pP({},e),o=yP.cache||"post"===r.method,i=qB(n),a=yP.withCToken,c=yP.withInputCharset;return r.data=r.data||{},Array.isArray(r.data)?(t=[],a&&i&&t.push({name:UB,value:encodeURIComponent(i)}),c&&t.push({name:vP,value:mP}),o||t.push({name:"_ts",value:Date.now()}),r.data=r.data.concat(t)):"string"==typeof r.data?(c&&-1===r.data.indexOf(vP)&&(r.data+="&_input_charset=utf-8"),a&&i&&-1===r.data.indexOf(UB)&&(r.data+="&ctoken="+encodeURIComponent(i)),o||(r.data+="&_ts="+Date.now())):$B(r.data)?(c&&!r.data.get(vP)&&r.data.append(vP,mP),r.url&&a&&i&&(r.url=ZB(r.url,KB(m()({},UB,i))))):(c&&(r.data[vP]=mP),o||(r.data._ts=Date.now()),a&&i&&!r.data.ctoken&&(r.data.ctoken=i)),r}(n)),r.start(n),r}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gP.ajaxSetup=function(e){for(var t in e)e.hasOwnProperty(t)&&yP.hasOwnProperty(t)&&(yP[t]=e[t]);dP.ajaxSetup(e)},gP.ajaxSetup({withInputCharset:!1});var xP=new(function(){function e(t){o()(this,e),this.options=wP({ajaxOptions:{progress:function(){},error:function(){},success:function(){},data:{},method:"post",url:""}},t)}return a()(e,[{key:"ajax",value:function(e){var t;(e=wP(wP({},this.options.ajaxOptions),e)).url=(t=e.url,window.yqWebApp&&window.yqWebApp.globalServiceEnv&&window.yqWebApp.globalServiceEnv.host?t.startsWith("http")?t:"".concat(window.yqWebApp.globalServiceEnv.host).concat(t):t);var n=e.success,r=e.error,o=new Promise((function(t){e.success=function(e){n(e),t(e)},e.error=function(e){r(e),t(e)}}));return{xhr:gP(e),promise:o}}}]),e}()),_P=function(e){return xP.ajax(e)};function kP(e){if(e&&e.xhr&&e.xhr.response)try{var t=JSON.parse(e.xhr.response);if(t&&t.message)return t}catch(e){}return e}var CP=function(){function e(){o()(this,e)}return a()(e,null,[{key:"toPercentage",value:function(e,t){if(e>t)return 0;var n=e/t;return n>=0&&n<=1?Math.floor(1e4*n)/100:0}}]),e}();var RP=function(e){u()(c,g.a);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(){var e;o()(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),m()(l()(e),"_status",c.STATUS_PENDING),e}return a()(c,[{key:"run",value:(t=xe()(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"abort",value:function(){}},{key:"getStatus",value:function(){return this._status}},{key:"isPending",value:function(){return this._status===c.STATUS_PENDING}},{key:"isRunning",value:function(){return this._status===c.STATUS_RUNNING}},{key:"isSuccess",value:function(){return this._status===c.STATUS_SUCCESS}},{key:"isAborted",value:function(){return this._status===c.STATUS_ABORTED}},{key:"isError",value:function(){return this._status===c.STATUS_ERROR}},{key:"isTimeout",value:function(){return this._status===c.STATUS_TIMEOUT}},{key:"isCompleted",value:function(){return this.isSuccess()||this.isError()||this.isAborted()}},{key:"emit",value:function(e){var t;switch(e){case c.EVENT_START:this._status=c.STATUS_RUNNING;break;case c.EVENT_SUCCESS:this._status=c.STATUS_SUCCESS;break;case c.EVENT_ERROR:this._status=c.STATUS_ERROR;break;case c.EVENT_ABORTED:this._status=c.STATUS_ABORTED;break;case c.EVENT_TIMEOUT:this._status=c.STATUS_TIMEOUT}for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=B()(p()(c.prototype),"emit",this)).call.apply(t,[this,e].concat(r))}},{key:"on",value:function(e,t){e===c.EVENT_TIMEOUT&&this.isTimeout()?setTimeout((function(){t()}),100):B()(p()(c.prototype),"on",this).call(this,e,t)}}]),c}();m()(RP,"STATUS_PENDING","pending"),m()(RP,"STATUS_RUNNING","running"),m()(RP,"STATUS_SUCCESS","success"),m()(RP,"STATUS_ERROR","error"),m()(RP,"STATUS_ABORTED","aborted"),m()(RP,"STATUS_TIMEOUT","timeout"),m()(RP,"EVENT_START","start"),m()(RP,"EVENT_PROGRESS","progress"),m()(RP,"EVENT_SUCCESS","success"),m()(RP,"EVENT_ERROR","error"),m()(RP,"EVENT_ABORTED","aborted"),m()(RP,"EVENT_TIMEOUT","timeout");var NP=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t){var n;return o()(this,c),n=i.call(this),m()(l()(n),"_id",null),m()(l()(n),"_apiURL",null),m()(l()(n),"_file",null),m()(l()(n),"_resourceURL",null),m()(l()(n),"_uploadRequest",null),n._id=xr(),n._apiURL=e,n._file=t,n}return a()(c,[{key:"id",get:function(){return this._id}},{key:"getFileName",value:function(){return this._file.name}},{key:"getResourceURL",value:function(){return this._resourceURL||(this._resourceURL=URL.createObjectURL(this._file)),this._resourceURL}},{key:"destroy",value:function(){this._resourceURL&&(URL.revokeObjectURL(this._resourceURL),this._resourceURL=null)}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n,r=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file,n=new FormData,this.emit(RP.EVENT_START),n.append("file",t,t.name),e.abrupt("return",new Promise((function(e){r._uploadRequest=_P({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&r.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:r._apiURL,data:n,dataType:"json",success:function(t){r.emit(RP.EVENT_SUCCESS,t.data),e(t.data)},error:function(t){t=kP(t),r.emit(RP.EVENT_ERROR,t),e({error:t})},processData:!0})})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this._uploadRequest&&this._uploadRequest.xhr.abort()}}]),c}();function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EP(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var DP=[".png",".bmp",".jpg",".jpeg"],SP=function(e){u()(d,RP);var t,n,r,i,c,s=(i=d,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(i);if(c){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)});function d(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o()(this,d),r=s.call(this),m()(l()(r),"_id",null),m()(l()(r),"_uploadApi",null),m()(l()(r),"_crawlApi",null),m()(l()(r),"_url",null),m()(l()(r),"_allowOriginalURL",!1),r._id=xr(),r._uploadApi=e,r._crawlApi=t,r._url=n,r._allowOriginalURL=i,r}return a()(d,[{key:"id",get:function(){return this._id}},{key:"getResourceURL",value:function(){return this._url}},{key:"run",value:(r=xe()(ke.a.mark((function e(){var t,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.emit(RP.EVENT_START),e.prev=1,!this._allowUploadFromLocal()){e.next=15;break}return e.prev=3,e.next=6,this._uploadFromLocal();case 6:if(!(t=e.sent).success){e.next=10;break}return this.emit(RP.EVENT_SUCCESS,t.result),e.abrupt("return",{result:t.result});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.warn("failed to upload by file",e.t0);case 15:return e.next=17,this._uploadFromServer();case 17:return n=e.sent,this.emit(RP.EVENT_SUCCESS,n),e.abrupt("return",{result:n});case 22:if(e.prev=22,e.t1=e.catch(1),!this._allowOriginalURL){e.next=27;break}return this.emit(RP.EVENT_SUCCESS,{url:this._url}),e.abrupt("return",{result:{url:this._url}});case 27:return this.emit(RP.EVENT_ERROR,{message:"picture dump failure"}),e.abrupt("return",{error:e.t1});case 29:case"end":return e.stop()}}),e,this,[[1,22],[3,12]])}))),function(){return r.apply(this,arguments)})},{key:"_uploadFromLocal",value:(n=xe()(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var o=document.createElement("canvas"),i=t._getImageSize(r),a=i.width,c=i.height;o.width=a,o.height=c;var l=o.getContext("2d");try{l.drawImage(r,0,0),o.toBlob((function(r){r.name="image.png",t._uploadFile(r,a,c,e,n)}))}catch(t){console.warn("failed to upload image from local: ",t),e({success:!1,error:t})}},r.onerror=function(t){e({success:!1,error:t})},r.src=t._url})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"_uploadFromServer",value:(t=xe()(ke.a.mark((function e(){var t,n,r=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_P({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&r.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:this._crawlApi,data:{url:this._url},dataType:"json",processData:!0}).promise;case 2:return t=e.sent,n=t.data.url,e.next=6,new Promise((function(e){var t=new Image;t.onload=function(){var o=r._getImageSize(t),i=o.width,a=o.height;e({url:n,width:i,height:a})},t.onerror=function(){e({url:n})},t.src=n}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_allowUploadFromLocal",value:function(){try{var e=new URL(this._url,location.href).pathname.toLowerCase().split(".");return 1!==e.length&&DP.includes("."+e.pop())}catch(e){}return!1}},{key:"_uploadFile",value:function(e,t,n,r,o){var i=this,a=new FormData;a.append("file",e,e.name),_P({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&i.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:this._uploadApi,data:a,dataType:"json",success:function(e){r({success:!0,result:OP(OP({},e.data),{},{width:t,height:n})})},error:function(e){o(e)},processData:!0})}},{key:"_getImageSize",value:function(e){return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}}}]),d}();function BP(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([r],{type:n})}var PP=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t){var n;return o()(this,c),n=i.call(this),m()(l()(n),"_id",null),m()(l()(n),"_apiURL",null),m()(l()(n),"_file",null),m()(l()(n),"_resourceURL",null),m()(l()(n),"_uploadRequest",null),n._id=xr(),n._apiURL=e,n._file=BP(t),n}return a()(c,[{key:"id",get:function(){return this._id}},{key:"getResourceURL",value:function(){return this._resourceURL||(this._resourceURL=URL.createObjectURL(this._file)),this._resourceURL}},{key:"destroy",value:function(){this._resourceURL&&URL.revokeObjectURL(this._resourceURL)}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n,r=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file,n=new FormData,this.emit(RP.EVENT_START),n.append("file",t,"image.png"),e.abrupt("return",new Promise((function(e){r._uploadRequest=_P({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&r.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:r._apiURL,data:n,dataType:"json",success:function(t){r.emit(RP.EVENT_SUCCESS,t.data),e(t.data)},error:function(t){t=kP(t),r.emit(RP.EVENT_ERROR,t),e({error:t})},processData:!0})})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this._uploadRequest&&this._uploadRequest.xhr.abort()}}]),c}();var FP={createUploadTask:null,uploadFileURL:null,ratio:1,ocr:!1,capturePatterns:[/[\s\S]*?/],excludeCapturePatterns:[],isCaptureImageURL:function(e,t,n){return!n.some((function(t){return MP(e,t)}))&&!!t.some((function(t){return MP(e,t)}))},onBeforeRenderImage:function(e){return e},accept:null,enableAccept:!0,resizeHostWhiteList:void 0,resizeThreshold:131072,lazyLoad:!1,allowClickToMaximize:!0},TP=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},FP,e),t}return a()(i,[{key:"ratio",get:function(){return this._option.ratio||1}},{key:"resizeThreshold",get:function(){return this._option.resizeThreshold}},{key:"resizeHostWhiteList",get:function(){return this._option.resizeHostWhiteList}},{key:"customFileSelector",get:function(){return this._option.customFileSelector}},{key:"lazyLoad",get:function(){return this._option.lazyLoad}},{key:"allowClickToMaximize",get:function(){return this._option.allowClickToMaximize}},{key:"isEnableAccept",value:function(){return this._option.enableAccept}},{key:"createUploadTask",value:function(e,t){var n=this._option,r=n.uploadFileURL,o=n.crawlURL,i=n.createUploadTask;br(r&&o||i,"F:image-option;L:89");for(var a=arguments.length,c=new Array(a>2?a-2:0),l=2;l<a;l++)c[l-2]=arguments[l];return i?i.apply(void 0,[e,t].concat(c)):"file"===e?ut()(NP,[r,t].concat(c)):"base64"===e?ut()(PP,[r,t].concat(c)):(br("url"===e,"F:image-option;L:103"),ut()(SP,[r,o,t].concat(c)))}},{key:"isShowOcr",value:function(){return this._option.ocr}},{key:"isCaptureImageURL",value:function(e){var t=this._option;return(0,t.isCaptureImageURL)(e,t.capturePatterns,t.excludeCapturePatterns)}},{key:"onBeforeRenderImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._option.onBeforeRenderImage(e,t)}},{key:"accept",get:function(){return this._option.accept}}]),i}();function MP(e,t){return"function"==typeof t?t(e):t.test(e)}m()(TP,"OptionName","image");var LP=function(e){u()(i,_l);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),t._plugin=e,t}return a()(i,[{key:"readNode",value:function(e,t){var n=(t.attrs||{}).src,r=this._plugin.uploadImageByURL(n);r&&(r.taskId?t.attrs._$neUploadTaskId=r.taskId:(br(r.url,"F:image-pre-html-node-reader;L:30"),t.attrs._$neImageSrc=r.url))}}]),i}();m()(LP,"NodeNames",["img"]);var AP=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("file"===e,"F:image-toolbar-descriptor;L:10"),this._iEditor.emitPluginEvent("insertCardByUI",{item:{type:"FileItem",name:"image"},args:[[t]]})}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,accept:this.pluginContext.getAccept(),className:"ne-ui-toolbar-image",tooltip:Uk.getTooltip(this.iEditor,xm("图片")),icon:"card-image"}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("image")}}}]),i}();m()(AP,"Type","FileButton");var IP=function(e){u()(i,AP);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"note-image",accept:this.pluginContext.getAccept(),className:"ne-ui-toolbar-image",tooltip:Uk.getTooltip(this.iEditor,xm("图片"))}}}]),i}();function jP(e,t){var n=setTimeout(e,t);return function(){return clearTimeout(n)}}var VP="undefined"!=typeof window?Math.ceil(window.devicePixelRatio||1):1,zP=function(){function e(t,n){o()(this,e),m()(this,"_rotation",0),m()(this,"_crop",[0,0,1,1]),m()(this,"_originWidth",void 0),m()(this,"_originHeight",void 0),m()(this,"_scale",void 0),this._originWidth=t,this._originHeight=n}return a()(e,[{key:"originWidth",get:function(){return this._originWidth}},{key:"originHeight",get:function(){return this._originHeight}},{key:"rotation",get:function(){return this._rotation}},{key:"scale",get:function(){return this._scale}},{key:"crop",get:function(){return this._crop}},{key:"normalizeCrop",get:function(){return this._crop.map((function(e){return+e.toFixed(4)}))}},{key:"viewCrop",get:function(){return UP(this._rotation,this._crop)}},{key:"viewWidth",get:function(){return Math.round(this.opWidth*this.scale)}},{key:"viewHeight",get:function(){return Math.round(this.opHeight*this.scale)}},{key:"scaleWidth",get:function(){return this.scale*this.originWidth}},{key:"scaleHeight",get:function(){return this.scale*this.originHeight}},{key:"scaleRotationWidth",get:function(){return this.scale*this.rotationOriginWidth}},{key:"scaleRotationHeight",get:function(){return this.scale*this.rotationOriginHeight}},{key:"rotationOriginHeight",get:function(){return this._rotation%180==0?this._originHeight:this._originWidth}},{key:"rotationOriginWidth",get:function(){return this._rotation%180==0?this._originWidth:this._originHeight}},{key:"cropLeft",get:function(){return this.originWidth*this.crop[0]}},{key:"cropTop",get:function(){return this.originHeight*this.crop[1]}},{key:"cropHeight",get:function(){return this._originHeight*(this.crop[3]-this.crop[1])}},{key:"cropWidth",get:function(){return this._originWidth*(this.crop[2]-this.crop[0])}},{key:"opHeight",get:function(){return this._rotation%180==0?this.cropHeight:this.cropWidth}},{key:"opWidth",get:function(){return this._rotation%180==0?this.cropWidth:this.cropHeight}},{key:"setRotation",value:function(e){return this._rotation=e%360,this}},{key:"setCrop",value:function(e){return this._crop=e,this}},{key:"setScale",value:function(e){return this._scale=e,this}},{key:"setViewWidth",value:function(e){return this._scale=e/this.opWidth,this}},{key:"setViewCrop",value:function(e){return this._crop=function(e,t){return UP(360-e,t)}(this.rotation,e),this}},{key:"toTranslate",value:function(){var e=this.crop,t=this.rotation,n=this.originHeight,r=this.originWidth/n,o=(e[2]+e[0])/2,i=(e[3]+e[1])/2;return t%180==0?[-e[0],-e[1],1/(e[2]-e[0]),1/(e[3]-e[1])]:[(e[3]-e[1])/r/2-o,r*(e[2]-e[0])/2-i,r/(e[3]-e[1]),1/r/(e[2]-e[0])]}},{key:"toTranslateStyle",value:function(){var e=this.crop,t=this.rotation,n=this.toTranslate(),r=E()(n,4),o=r[0],i=r[1],a=r[2],c=r[3];return{maxWidth:"".concat(100*a,"%"),width:"".concat(100*a,"%"),height:"".concat(100*c,"%"),transformOrigin:"".concat(50*(e[2]+e[0]),"% ").concat(50*(e[3]+e[1]),"%"),transform:"translate(".concat(100*o,"%, ").concat(100*i,"%) rotate(").concat(360-t,"deg)")}}}],[{key:"equalCrop",value:function(e,t){return e.every((function(e,n){return Math.abs(e-t[n])<1e-6}))}},{key:"toDivInlineStyle",value:function(e){var t=e.getCrop(),n=e.getRotation(),r=e.getDisplayWidth(),o=e.getDisplayHeight(),i=e.getPreviewSrc(),a=n%180==0?"100%":"".concat(o/r*100,"%"),c=n%180==0?"100%":"".concat(r/o*100,"%"),l=1/(t[2]-t[0])*100,s=1/(t[3]-t[1])*100,u=t[0]/(t[0]+1-t[2])*100||0,d=t[1]/(t[1]+1-t[3])*100||0,f=o/r,h=E()(n%180==0?[0,0]:[(1-f)/2/f,(1-1/f)/2/(1/f)],2),p=h[0],v=h[1];return"width: ".concat(a,";height: ").concat(c,";transform-origin: center;transform: translate(").concat(100*p,"%, ").concat(100*v,"%) rotate(").concat(360-n,"deg);background-image:url(").concat(i,");background-size:").concat(l,"% ").concat(s,"%;background-position:").concat(u,"% ").concat(d,"%;cursor: -webkit-grab;cursor:-moz-grab;cursor: grab;")}}]),e}();function UP(e,t){return 90===e?[t[1],1-t[2],t[3],1-t[0]]:180===e?[1-t[2],1-t[3],1-t[0],1-t[1]]:270===e?[1-t[3],t[0],1-t[1],t[2]]:t.slice(0)}var HP=function(e){u()(i,RP);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_id",null),m()(l()(a),"_iKernel",null),m()(l()(a),"_clientId",null),m()(l()(a),"_checkTimer",null),a._id=t,a._iKernel=e,a._clientId=n,a._startCheck(),a}return a()(i,[{key:"destroy",value:function(){clearTimeout(this._checkTimer),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"id",get:function(){return this._id}},{key:"_startCheck",value:function(){var e=this,t=this._clientId;t&&(t&&this._iKernel.hasExtendMethod("checkClientAlive")&&this._iKernel.hasExtendMethod("checkCollabConnected")?this._runCheck(10):setTimeout((function(){e._timeout()}),100))}},{key:"_runCheck",value:function(e){var t=this;e<0||(this._checkTimer=setTimeout((function(){t._iKernel.checkCollabConnected()?t._iKernel.checkClientAlive(t._clientId)||t._timeout():t._runCheck(e-1)}),1e3))}},{key:"getResourceURL",value:function(){return null}},{key:"_timeout",value:function(){this.emit("timeout")}}]),i}(),qP=function(){function e(t,n){o()(this,e),m()(this,"_taskManager",null),m()(this,"_iKernel",null),m()(this,"_virtualTasks",{}),this._taskManager=t,this._iKernel=n}return a()(e,[{key:"destroy",value:function(){this._taskManager=null,this._iKernel=null,this._virtualTasks=null}},{key:"observe",value:function(e,t){if(this._taskManager.hasTask(e))return this._taskManager.getTask(e);if(this._virtualTasks[e])return this._virtualTasks[e];var n=new HP(this._iKernel,e,t);return this._virtualTasks[e]=n,n}}]),e}();var WP=["cdn.nlark.com","gw.alipayobjects.com","alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com","private-alipayobjects.alipay.com","zos.alipayobjects.com","yuque.com","yuque.antfin-inc.com","yuque.antfin.com","lark.alipay.net:7001","intranetproxy.alipay.com"];function ZP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,r=t.height,o=t.fill,i=t.format,a=t.quality;if(e){if(e.includes("/r/avatar_buc/"))return e;if(e.includes(".svg"))return e;if(!e.includes(window.location.host)&&WP.every((function(t){return!e.includes(t)})))return e;try{var c=new URL(e),l=c.searchParams,s=c.pathname,u=function(e,t){l.get("x-oss-process")?l.set("x-oss-process","".concat(l.get("x-oss-process"),"/").concat(e,",").concat(t)):l.append("x-oss-process","image/".concat(e,",").concat(t))};if(s.endsWith(".gif")&&(n||r)&&!i&&(i="jpeg",a="Q_85"),n||r){var d=[];o&&d.push("m_fill"),n&&d.push("w_".concat(n)),r&&d.push("h_".concat(r)),u("resize",d.join(","))}return i&&u("format",i),a&&u("quality",a),c.toString()}catch(t){return e}}}function KP(e,t,n){if((e=Math.max(e,1))===t)return{width:t,height:n};var r=Math.round(n/t*e);return r<1&&(r=1,e=Math.round(t/n*r)),{width:e,height:r}}function $P(e,t,n){if((e=Math.max(e,1))===n)return{width:t,height:n};var r=Math.round(t/n*e);return r<1&&(r=1,e=Math.round(n/t*r)),{width:r,height:e}}function JP(e,t){var n=t.targetWidth,r=t.userWidth,o=t.originWidth,i=t.originHeight,a=t.hostWhiteList,c=t.fileSize,l=t.fileSizeThreshold;if(c&&l&&c<l)return e;n=Math.max(750,n),r>0&&r<n&&(n=r);var s=n*VP,u=Math.min(1920,Math.floor(o/3));return s>o?s=o:s<u&&(s=u),function(e,t){var n=t.fileSize,r=t.targetWidth,o=t.originWidth,i=t.originHeight;if(!function(e,t){var n;try{var r=new URL(e);n=r.host;var o=r.protocol;if("http:"!==o&&"https:"!==o)return!1}catch(e){return!1}return t.some((function(e){return"string"==typeof e?e===n:!!e.test&&e.test(n)}))}(e,t.hostWhiteList||[]))return e;var a=gv.getExtName(e);return a&&"gif"!==a&&"svg"!==a?(r=parseInt(r,10),o=parseInt(o,10),i=parseInt(i,10),r&&o&&i&&function(e){var t=e.fileSize,n=e.targetWidth,r=e.originWidth,o=e.originHeight;if(t&&t>=20971520)return!1;if(r>=3e4||o>=3e4||r*o>=25e7)return!1;var i=Math.round(n*o/r);return!(n>=4096||i>=4096)}({fileSize:n,targetWidth:r,originWidth:o,originHeight:i})?e=gv.addOSSImageParams(e,"resize","w_".concat(r,",limit_0")):e):e}(e,{targetWidth:s,fileSize:c,originWidth:o,originHeight:i,hostWhiteList:a})}var YP=function(e){return e?"data:image/svg+xml;utf8,".concat(encodeURIComponent(e)):null};FN(".ne-local-image {\n  background-color: #f5f5f5;\n}\n.ne-mock-image {\n  background-color: #f5f5f5;\n  max-width: 100%;\n}\n.ne-image-loading-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -8px;\n  margin-left: -8px;\n}\n");var GP=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_imageRef",Re.a.createRef()),e}return a()(i,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){var e=this,t=this._imageRef.current;t&&setTimeout((function(){e.props.onSizeReady(t.getBoundingClientRect().width)}))}},{key:"render",value:function(){if(this.props.url)return this.renderByURL();var e=this.props,t=e.width,n=e.height;return t=isNaN(t)?100:t,n=isNaN(n)?60:n,Re.a.createElement(Re.a.Fragment,null,Re.a.createElement("div",{ref:this._imageRef,className:"ne-mock-image",style:{width:t+"px"}},Re.a.createElement("div",{className:"ne-mock-image-inner",style:{paddingBottom:Math.round(n/t*1e8)/1e6+"%"}})),this.renderLoading())}},{key:"renderByURL",value:function(){var e=this.props,t=e.width,n=e.url,r=e.className;return Re.a.createElement("img",{ref:this._imageRef,width:t,className:nw("ne-local-image",r),src:gv.sanitizeUrl(n)})}},{key:"renderLoading",value:function(){return"error"===this.props.type?Re.a.createElement("img",{src:YP('<?xml version="1.0" encoding="UTF-8"?>\n<svg width="18px" height="16px" viewBox="0 0 18 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="页面-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="其他卡片" transform="translate(-831.000000, -7078.000000)">\n            <g id="编组-10" transform="translate(729.000000, 7032.000000)">\n                <g id="编组-15" transform="translate(102.000000, 46.000000)">\n                    <g id="image备份">\n                        <rect id="矩形" fill="#000000" fill-rule="nonzero" opacity="0" x="0" y="0" width="16" height="16"></rect>\n                        <path d="M2.125,12.375 L2.125,10.4960156 L4.194125,8.042375 C4.24407812,7.98315625 4.33529688,7.98315625 4.38525,8.042375 L6.63471875,10.7098437 L10.1869531,6.49754687 C10.2369063,6.43832812 10.328125,6.43832812 10.3780781,6.49754687 L13.875,10.64425 L13.875,12.375 L13.875,3.625 L2.125,3.625 L2.125,12.375 Z M1.5,2.5 L14.5,2.5 C14.7761406,2.5 15,2.72385937 15,3 L15,13 C15,13.2761406 14.7761406,13.5 14.5,13.5 L1.5,13.5 C1.22385937,13.5 1,13.2761406 1,13 L1,3 C1,2.72385937 1.22385937,2.5 1.5,2.5 Z M4.75,7 C4.05964063,7 3.5,6.44035937 3.5,5.75 C3.5,5.05964063 4.05964063,4.5 4.75,4.5 C5.44035937,4.5 6,5.05964063 6,5.75 C6,6.44035937 5.44035937,7 4.75,7 Z" id="形状" fill="#8C8C8C"></path>\n                    </g>\n                    <g id="alert-fill" transform="translate(9.000000, 7.000000)">\n                        <path d="M4.870227,0.216197695 L8.94272401,7.35134981 C9.01909103,7.48514349 9.01909206,7.64998385 8.94272672,7.78377851 C8.86636138,7.91757317 8.72523106,8 8.57249701,8 L0.427502991,8 C0.274768942,8 0.133638625,7.91757317 0.0572732809,7.78377851 C-0.0190920629,7.64998385 -0.0190910287,7.48514349 0.0572759941,7.35134981 L4.129773,0.216197695 C4.20614384,0.0824130438 4.34727177,0 4.5,0 C4.65272823,0 4.79385616,0.0824130438 4.870227,0.216197695 Z" id="形状" fill="#F7D844"></path>\n                        <polygon id="路径" fill="#FFFFFF" points="4.07248614 5.8378327 4.07248614 6.70269962 4.92751386 6.70269962 4.92751386 5.8378327"></polygon>\n                        <polygon id="路径" fill="#FFFFFF" points="4.07248614 2.81079846 4.07248614 4.97296577 4.92751386 4.97296577 4.92751386 2.81079846 4.07248614 2.81079846"></polygon>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n'),width:"16",className:"ne-image-loading-icon"}):null}}]),i}();m()(GP,"propTypes",{width:De.a.number,height:De.a.number,url:De.a.string,type:De.a.oneOf(["error","tip"]),className:De.a.string,onSizeReady:De.a.func}),m()(GP,"defaultProps",{width:100,height:60,type:"tip",onSizeReady:function(){}}),FN(".ne-image-error {\n  position: relative;\n  font-size: 12px;\n  color: #8c8c8c;\n  background: #f5f5f5;\n}\n.ne-image-error img {\n  max-width: 100%;\n}\n.ne-image-error .ne-image-tip {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: 20px;\n  font-size: 12px;\n  line-height: 20px;\n  color: #8C8C8C;\n  width: 100%;\n  text-align: center;\n}\n");var XP=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"componentDidMount",value:function(){this.props.onLoaded()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return t=isNaN(t)?100:t,n=isNaN(n)?60:n,Re.a.createElement("div",{className:"ne-image-error"},Re.a.createElement(GP,{width:t,height:n,type:"error"}),this.renderTip())}},{key:"renderTip",value:function(){var e=this.props,t=e.tip,n=e.width,r=e.height;return t?n<100||r<60?null:Re.a.createElement("div",{className:"ne-image-tip"},t):null}}]),i}();m()(XP,"propTypes",{width:De.a.number,height:De.a.number,tip:De.a.string,onLoaded:De.a.func}),m()(XP,"defaultProps",{width:100,height:60,onLoaded:function(){}}),FN('ne-card[data-card-name="image"] .ne-card-container .ne-ui-image-ocr-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 99;\n  pointer-events: none;\n  user-select: none;\n  overflow: hidden;\n}\nne-card[data-card-name="image"] .ne-card-container .ne-ui-image-ocr-mask ::selection {\n  background: transparent!important;\n}\n.ne-ui-image-ocr-text {\n  line-height: 1;\n  position: absolute;\n  white-space: pre;\n  word-break: keep-all;\n  color: transparent !important;\n}\n.ne-ui-image-ocr-text::selection {\n  background: transparent!important;\n}\n');var QP=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNodeRef",Re.a.createRef()),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this._rootNodeRef.current;if(e){var t=this.props,n=t.ocrLocations,r=t.originalWidth,o=t.displayWidth,i=t.originalHeight;if(r>0||o>0||i>0){var a=Math.min(e.parentNode.getBoundingClientRect().width,o)/r;e.innerHTML=n.map((function(e){var t=Math.min(Math.min(e.width,e.height)*a,50),n="font-size: ".concat(t,"px; left: ").concat(e.x/r*100,"%;top: ").concat(e.y/i*100,"%;");return'<div class="ne-ui-image-ocr-text" style="'.concat(Nl.encodeHTML(n),'">').concat(Nl.encodeHTML(e.text),"</div>")})).join("")}}}},{key:"render",value:function(){return Re.a.createElement("div",{className:"ne-ui-image-ocr-mask",ref:this._rootNodeRef})}}]),i}();m()(QP,"propTypes",{ocrLocations:De.a.array.isRequired,originalWidth:De.a.number.isRequired,originalHeight:De.a.number.isRequired,displayWidth:De.a.number.isRequired}),FN(".ne-ui-image-resizer-box {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 3;\n  outline: 1px solid #0af;\n}\n.ne-ui-image-resizer-box.ne-ui-resizing:after {\n  position: absolute;\n  z-index: 3;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  content: attr(data-size);\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.ne-ui-image-resizer,\n.ne-ui-image-resizer-handler {\n  width: 14px;\n  height: 14px;\n  border: 2px solid #fff;\n  background-color: #1890ff;\n  border-radius: 10px;\n  position: absolute;\n  z-index: 2;\n}\n.ne-ui-image-resizer-handler {\n  z-index: 3;\n  border: none;\n  background-color: transparent;\n}\n.ne-resizer-tl {\n  top: -7px;\n  left: -7px;\n  cursor: nwse-resize;\n}\n.ne-resizer-tr {\n  top: -7px;\n  right: -7px;\n  cursor: nesw-resize;\n}\n.ne-resizer-br {\n  bottom: -7px;\n  right: -7px;\n  cursor: nwse-resize;\n}\n.ne-resizer-bl {\n  bottom: -7px;\n  left: -7px;\n  cursor: nesw-resize;\n}\n");var eF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_boxRef",Re.a.createRef()),m()(l()(e),"_tlRef",Re.a.createRef()),m()(l()(e),"_trRef",Re.a.createRef()),m()(l()(e),"_brRef",Re.a.createRef()),m()(l()(e),"_blRef",Re.a.createRef()),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this;this._tlRef.current&&(sE(this,this._tlRef.current,"mousedown",(function(t){e._handleResize(t,"tl")}),!1),sE(this,this._trRef.current,"mousedown",(function(t){e._handleResize(t,"tr")}),!1),sE(this,this._brRef.current,"mousedown",(function(t){e._handleResize(t,"br")}),!1),sE(this,this._blRef.current,"mousedown",(function(t){e._handleResize(t,"bl")}),!1))}},{key:"render",value:function(){return Re.a.createElement(Re.a.Fragment,null,Re.a.createElement("div",{className:"ne-ui-image-resizer-box",ref:this._boxRef},Re.a.createElement("div",{className:"ne-ui-image-resizer ne-resizer-tl"}),Re.a.createElement("div",{className:"ne-ui-image-resizer ne-resizer-tr"}),Re.a.createElement("div",{className:"ne-ui-image-resizer ne-resizer-br"}),Re.a.createElement("div",{className:"ne-ui-image-resizer ne-resizer-bl"})),Re.a.createElement("div",{className:"ne-ui-image-resizer-handler ne-resizer-tl",ref:this._tlRef}),Re.a.createElement("div",{className:"ne-ui-image-resizer-handler ne-resizer-tr",ref:this._trRef}),Re.a.createElement("div",{className:"ne-ui-image-resizer-handler ne-resizer-br",ref:this._brRef}),Re.a.createElement("div",{className:"ne-ui-image-resizer-handler ne-resizer-bl",ref:this._blRef}))}},{key:"_handleResize",value:function(e,t){var n=this;e.preventDefault(),e.stopPropagation(),this.props.onResizeStart();var r=e.clientX,o={destroy:function(){}},i=this.props.getImageNode();if(i){var a=i.getBoundingClientRect().width,c=!1;wR(o,document,"mousemove",(function(e){e.preventDefault(),e.stopPropagation(),c=!0,n._process(!1,t,a,e.clientX-r)}),!1),wR(o,document,"mouseup",(function(e){e.preventDefault(),e.stopPropagation(),o.destroy(),c&&n._process(!0,t,a,e.clientX-r)}),!1)}}},{key:"_process",value:function(e,t,n,r){var o=this._resizeByWidth(e,t,n,r);e&&(this._resetBox(),this.props.onChange(o))}},{key:"_resizeByWidth",value:function(e,t,n,r){var o=this._boxRef.current,i=this.props,a=i.width,c=i.height/a*n,l=0,s=0,u=0,d=0,f=KP("tl"===t||"bl"===t?n-r:n+r,this.props.originalWidth,this.props.originalHeight),h=f.width,p=f.height;return"tl"===t?(s=n-h+"px",l=c-p+"px"):"tr"===t?(u=n-h+"px",l=c-p+"px"):"br"===t?(u=n-h+"px",d=c-p+"px"):(s=n-h+"px",d=c-p+"px"),o.style.top=l,o.style.bottom=d,o.style.right=u,o.style.left=s,o.classList.add("ne-ui-resizing"),o.setAttribute("data-size","".concat(h," x ").concat(p)),{width:h}}},{key:"_resetBox",value:function(){var e=this._boxRef.current;e.style.cssText="",e.classList.remove("ne-ui-resizing"),e.removeAttribute("data-size")}}]),i}();m()(eF,"propTypes",{width:De.a.number.isRequired,height:De.a.number.isRequired,originalWidth:De.a.number.isRequired,originalHeight:De.a.number.isRequired,getImageNode:De.a.func.isRequired,onChange:De.a.func,onResizeStart:De.a.func}),m()(eF,"defaultProps",{onChange:function(){},onResizeStart:function(){}}),FN('.ne-image-title {\n  position: relative;\n  word-break: break-all;\n  white-space: normal;\n  margin-top: 7px;\n  max-width: 100%;\n  text-align: center;\n}\n.ne-image-title .ne-image-title-content {\n  vertical-align: top;\n  display: inline-block;\n  min-width: 1px;\n  max-width: 100%;\n  min-height: 18px;\n  line-height: 22px;\n  font-size: 14px;\n  outline: none;\n  word-break: break-all;\n  white-space: normal;\n  color: #8C8C8C;\n  text-align: center;\n}\n.ne-image-title .ne-image-title-placeholder {\n  position: absolute;\n  top: 2px;\n  width: 100%;\n  display: block;\n  color: #BFBFBF;\n  pointer-events: none;\n  line-height: 22px;\n  font-size: 14px;\n}\n.ne-viewer ne-card[data-card-type="inline"].ne-image-card-show-title,\n.ne-image-card-show-title {\n  vertical-align: -13px;\n}\n.ne-image-card-show-title .ne-card-container {\n  line-height: 0;\n}\n');var tF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_focused",!1),m()(l()(e),"_dom",null),m()(l()(e),"_timeId",null),m()(l()(e),"_rafID",void 0),m()(l()(e),"_height",0),m()(l()(e),"domContext",{destroy:function(){}}),m()(l()(e),"_checkHeight",(function(){cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame((function(){e._dom&&e._height!==e._dom.offsetHeight&&(e._height=e._dom.offsetHeight,e.props.onHeightChange())}))})),m()(l()(e),"_handleContentWillChange",(function(t){if(t.stopPropagation(),299!==t.keyCode){var n=t.target.textContent.trim();if(jE.isEnter(t))return t.preventDefault(),void e._emitDone(n,!0,!0);if(""===n&&(jE.isBackspace(t)||jE.isDelete(t)))return t.preventDefault(),void e.props.onDel(!0);n===e.props.content&&90===t.keyCode&&(t.ctrlKey||t.metaKey)&&(e._timeId=setTimeout(e.props.onBack),t.preventDefault()),e._handleChange(t)}})),m()(l()(e),"_handleInput",(function(t){"historyUndo"===t.inputType&&clearTimeout(e._timeId),t.stopPropagation()})),m()(l()(e),"_handlePaste",(function(t){t.preventDefault(),t.stopPropagation();var n=(t.originalEvent||t).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n.replace(/\n/g," ")),e._handleChange(t)})),m()(l()(e),"_handleContentChange",(function(t){t.stopPropagation(),e._handleChange(t)})),m()(l()(e),"_handleFocus",(function(){e._focused=!0})),m()(l()(e),"_handleBlur",(function(t){e._focused=!1;var n=t.target.textContent.trim();e._emitDone(n)})),m()(l()(e),"_handleTitleRef",(function(t){t&&(e.domContext.destroy(),e.domContext.destroy=function(){},e._dom=t,wR(e.domContext,t,"focus",e._handleFocus),wR(e.domContext,t,"blur",e._handleBlur),wR(e.domContext,t,"keydown",e._handleContentWillChange),wR(e.domContext,t,"keyup",e._handleContentChange),wR(e.domContext,t,"beforeinput",e._stopPropagation),wR(e.domContext,t,"input",e._handleInput),wR(e.domContext,t,"compositionstart",e._handleContentWillChange),wR(e.domContext,t,"compositionend",e._handleContentChange),wR(e.domContext,t,"copy",e._stopPropagation),wR(e.domContext,t,"cut",e._handleContentWillChange),wR(e.domContext,t,"paste",e._handlePaste))})),e}return a()(i,[{key:"componentDidMount",value:function(){this._dom&&(this._dom.innerText=this.props.content,this.props.editable&&(this._checkHeight(),this._getFocus()))}},{key:"componentDidUpdate",value:function(e){this._dom&&(e.content!==this.props.content&&(this._dom.innerText=this.props.content,this.props.editable&&""===this.props.content&&this._getFocus()),e.width!==this.props.width&&(this._dom.style.width=this.props.width+"px"),this.props.editable&&this._checkHeight())}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this._rafID),this.domContext.destroy(),this._dom=null}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.editable;return Re.a.createElement("div",{style:{width:t},className:"ne-image-title"},Re.a.createElement("div",{contentEditable:n,className:"ne-image-title-content",ref:this._handleTitleRef}),this._renderPlaceholder())}},{key:"_getFocus",value:function(){var e,t;this.props.beforeAutoFocus();var n=window.getSelection();null!=n&&null!==(e=n.anchorNode)&&void 0!==e&&null!==(t=e.closest)&&void 0!==t&&t.call(e,".ne-image-sidebar-box")||(n.selectAllChildren(this._dom),n.collapseToEnd())}},{key:"_renderPlaceholder",value:function(){if(!this.props.editable)return null;var e={display:"block"};return this.props.content&&(e.display="none"),Re.a.createElement("div",{className:"ne-image-title-placeholder",style:e},xm("添加图片描述"))}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}},{key:"_handleChange",value:function(e){var t=e.target.parentNode.querySelector(".ne-image-title-placeholder");t&&(""===e.target.textContent?t.style.display="block":t.style.display="none"),this._checkHeight()}},{key:"_emitDone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];""===e?this.props.onDel(t,n):this.props.onDone(e,t)}}]),i}();m()(tF,"propTypes",{width:De.a.oneOf(De.a.string,De.a.number),onHeightChange:De.a.func,onDone:De.a.func,onDel:De.a.func,onBack:De.a.func,beforeAutoFocus:De.a.func,content:De.a.string,croping:De.a.bool,editable:De.a.bool}),m()(tF,"defaultProps",{width:20,content:"",editable:!1,croping:!1,onHeightChange:function(){},onDone:function(){},onDel:function(){},onBack:function(){},beforeAutoFocus:function(){}});var nF=["cardData","crop","croping","rotation","src","onError","width","onLoad","onEditableChange","onWidthChange"];function rF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rF(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{loaded:!1,rotation:0,width:0,viewWidth:0,crop:[0,0,1,1],croping:!1}),m()(l()(e),"_imageOp",void 0),m()(l()(e),"_imageNodeRef",Re.a.createRef()),m()(l()(e),"_retryTimes",0),m()(l()(e),"_canvas",void 0),m()(l()(e),"_img",void 0),m()(l()(e),"_handleOriginImageLoad",(function(t){e.props.onLoad(t)})),m()(l()(e),"_handleOriginImageError",(function(t){e.props.onError(t)})),m()(l()(e),"_handleSourceLoad",(function(){e.setState({editable:!0}),e.props.onEditableChange(!0)})),m()(l()(e),"_handleSourceError",(function(){if(e._retryTimes>=2)return e.setState({editable:!1}),void e.props.onEditableChange(!1);e._retryTimes++;try{var t=new URL(e.props.src,window.location.href);t.searchParams.set("date",String(Date.now())),e._img.src=t.toString()}catch(t){e._img.src=e.props.src}})),m()(l()(e),"getEditorImageDataUrl",(function(){if(!e.state.editable)throw new Error("cant editable");var t=e.props.cardData;e._imageOp||(e._imageOp=new zP(t.getOriginalWidth(),t.getOriginalHeight()));var n=e._canvas.getContext("2d");e._canvas.width=e._imageOp.opWidth,e._canvas.height=e._imageOp.opHeight;var r=e._imageOp,o=r.cropWidth,i=r.cropHeight,a=r.rotation;return n.save(),n.translate(e._canvas.width/2,e._canvas.height/2),n.rotate((360-a)*Math.PI/180),n.drawImage(e._img,e._imageOp.cropLeft,e._imageOp.cropTop,o,i,-o/2,-i/2,o,i),n.restore(),e._canvas.toDataURL()})),e}return a()(i,[{key:"naturalWidth",get:function(){var e=this._imageNodeRef.current||this.img;return e.naturalWidth||e.width}},{key:"naturalHeight",get:function(){var e=this._imageNodeRef.current||this.img;return e.naturalHeight||e.height}},{key:"imageNode",get:function(){return this._imageNodeRef.current||null}},{key:"componentDidMount",value:function(){if(!this.props.readMode){this._canvas=document.createElement("canvas"),this._img=new Image,this._img.crossOrigin="Anonymous",this._img.addEventListener("load",this._handleSourceLoad),this._img.addEventListener("error",this._handleSourceError);try{var e=new URL(this.props.src,window.location.href);e.searchParams.set("crossOrigin","true"),this._img.src=e.toString()}catch(e){this._img.src=this.props.src}}}},{key:"componentWillUnmount",value:function(){this._img&&(this._img.removeEventListener("load",this._handleSourceLoad),this._img.removeEventListener("error",this._handleSourceError)),this._canvas=null,this._img=null}},{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.crop,r=e.croping,o=e.rotation,i=e.src;e.onError;var a=e.width;e.onLoad,e.onEditableChange,e.onWidthChange;var c=j()(e,nF);return t.isAfterEdit()||this._imageOp||r?(this._imageOp||(this._imageOp=new zP(t.getOriginalWidth(),t.getOriginalHeight())),this._imageOp.setRotation(o).setCrop(n).setViewWidth(a),r&&this._imageOp.setCrop([0,0,1,1]),Re.a.createElement("div",{ref:this._imageNodeRef,width:this._imageOp.viewWidth,className:c.className,style:{maxWidth:"100%",width:this._imageOp.viewWidth,paddingBottom:"".concat(this._imageOp.viewHeight/this._imageOp.viewWidth*100,"%"),overflow:"hidden"}},Re.a.createElement("img",Ee()({style:oF({position:"absolute",top:0,left:0},this._imageOp.toTranslateStyle()),width:this._imageOp.scaleWidth,onLoad:this._handleOriginImageLoad,onError:this._handleOriginImageError},c,{src:i})),";")):Re.a.createElement("img",Ee()({ref:this._imageNodeRef,width:a,onLoad:this._handleOriginImageLoad,onError:this._handleOriginImageError},c,{src:i}))}}],[{key:"getDerivedStateFromProps",value:function(e){return{rotation:e.rotation,width:e.width,crop:e.crop,croping:e.croping}}}]),i}();m()(iF,"propTypes",{cardData:De.a.object.isRequired,src:De.a.string.isRequired,width:De.a.number.isRequired,rotation:De.a.number.isRequired,crop:De.a.arrayOf(De.a.number).isRequired,croping:De.a.bool,readMode:De.a.bool,onLoad:De.a.func,onError:De.a.func,onEditableChange:De.a.func,onWidthChange:De.a.func}),m()(iF,"defaultProps",{croping:!1,readMode:!1,onLoad:function(){},onError:function(){},onEditableChange:function(){},onWidthChange:function(){}}),FN(".ne-ui-image-crop-box {\n  pointer-events: none;\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  right: -4px;\n  bottom: -4px;\n  z-index: 3;\n  touch-action: none;\n}\n");var aF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"domContext",{destroy:function(){}}),m()(l()(e),"_shiftKeyDown",!1),m()(l()(e),"state",{width:1,height:1}),m()(l()(e),"_shouldKeepRadio",(function(){return e._shiftKeyDown})),m()(l()(e),"_handleCropChange",(function(t){var n=e.props.currentImageOP;n.setViewCrop(t),e.props.onChange(n.crop),e.forceUpdate()})),m()(l()(e),"_handleShiftKeyDown",(function(t){jE.isShift(t)&&(e._shiftKeyDown=!0)})),m()(l()(e),"_handleShiftKeyUp",(function(t){jE.isShift(t)&&(e._shiftKeyDown=!1)})),m()(l()(e),"_handleKeyDown",(function(t){e._handleShiftKeyDown(t),jE.isEnter(t)&&e.props.onOk()})),e}return a()(i,[{key:"componentDidMount",value:function(){wR(this.domContext,document,"keydown",this._handleKeyDown,!0),wR(this.domContext,document,"keyup",this._handleShiftKeyUp,!0)}},{key:"componentWillUnmount",value:function(){this.domContext.destroy(),this.domContext=null}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.height,r=this.props.currentImageOP.viewCrop;return Re.a.createElement(Fe.CropBox,{className:"ne-ui-image-crop-box",width:t,height:n,crop:r,shouldKeepRadio:this._shouldKeepRadio,onChange:this._handleCropChange})}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.currentImageOP,n=t.scaleRotationWidth,r=t.scaleRotationHeight,o=e.getImageNode(),i=r/n;if(o){o.width!==Math.round(n)&&(o.style.width=Math.round(n)+"px");var a=o.getBoundingClientRect().width;n>a&&(r=(n=a)*i)}return{width:n,height:r}}}]),i}();m()(aF,"propTypes",{cardData:De.a.object.isRequired,rotation:De.a.number.isRequired,currentImageOP:De.a.oneOfType(zP),onChange:De.a.func,getImageNode:De.a.func,onOk:De.a.func}),m()(aF,"defaultProps",{onChange:function(){},onOk:function(){},getImageNode:function(){}}),FN("ne-card[data-card-name=\"image\"] img {\n  vertical-align: baseline;\n}\n.ne-image-wrap {\n  position: relative;\n  line-height: 0;\n}\n.ne-image-wrap.ne-image-style-stroke:before {\n  border: 1px solid #e5e5e5;\n}\n.ne-image-wrap.ne-image-style-shadow:before {\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.15);\n}\n.ne-image-wrap.ne-image-loaded .ne-image {\n  opacity: 1;\n  border-radius: 4px;\n}\n.ne-image-wrap:before {\n  content: ' ';\n  display: block;\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  pointer-events: none;\n}\n.ne-image-wrap .ne-image-box {\n  position: relative;\n  overflow: hidden;\n}\n.ne-image-wrap .ne-image {\n  transition: opacity ease-in 0.1s;\n  opacity: 0;\n}\n.ne-image-wrap .ne-image.ne-image-preview {\n  cursor: zoom-in;\n}\n.ne-image-wrap .ne-image.ne-image-absolute {\n  position: absolute;\n  z-index: 2;\n}\n.ne-image-wrap .ne-image,\n.ne-image-wrap .ne-bg-img {\n  max-width: 100%;\n}\n.ne-image-wrap:hover .ne-ui-image-maximize {\n  display: flex;\n}\n.ne-image-wrap .ne-ui-image-maximize {\n  display: none;\n  justify-content: center;\n  align-items: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 4;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.65);\n  border: none;\n  outline: none;\n  cursor: pointer;\n}\n");var cF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{imageDisplayUrl:null,loaded:!1,loadError:!1,naturalWidth:-1}),m()(l()(e),"_imageEditRef",Re.a.createRef()),m()(l()(e),"_removeFunc",[]),m()(l()(e),"_realDisplayWidth",-1),m()(l()(e),"_unmounted",!1),m()(l()(e),"_dragIsReady",!1),m()(l()(e),"_retryTime",0),m()(l()(e),"_handleImageClick",(function(t){e.props.clickToMaximize&&e._handleMaximizeClick(t)})),m()(l()(e),"_handleMaximizeClick",(function(t){t.stopPropagation(),t.preventDefault(),e.props.onPreviewImage()})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.cardData;setTimeout((function(){var n=e._realDisplayWidth>0?e._realDisplayWidth:t.getOriginDisplayWidth();e.setState({imageDisplayUrl:JP(t.getDisplaySrc(),{targetWidth:n,userWidth:t.getOriginDisplayWidth(),originWidth:t.getOriginalWidth(),originHeight:t.getOriginalHeight(),fileSize:t.getSize(),hostWhiteList:e.props.resizeHostWhiteList,fileSizeThreshold:e.props.resizeThreshold})})})),this.props.onUIUpdate()}},{key:"componentDidUpdate",value:function(){this.props.onUIUpdate()}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this._removeFunc.forEach((function(e){return e()}))}},{key:"_imageLoadError",value:function(){var e=this;this._unmounted||(this._retryTime>3?this.setState({loadError:!0}):setTimeout((function(){e._retryTime++,e.setState({imageDisplayUrl:e._resetImageDisplayUrl(e.state.imageDisplayUrl,!0)})}),300))}},{key:"_resetImageDisplayUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var n=new URL(e,location.href);if(n.searchParams.set("date",String(Date.now())),t){var r=n.pathname.toLowerCase();(r.endsWith(".webp")||r.endsWith(".gif"))&&n.searchParams.delete("x-oss-process")}return n.toString()}catch(t){return e.indexOf("?")>0?"".concat(e,"&t=").concat(Date.now()):"".concat(e,"?t=").concat(Date.now())}}},{key:"_imageLoad",value:function(){var e=this;this._unmounted||(this.props.onLoaded(),setTimeout((function(){if(!e._unmounted){var t=e._imageEditRef.current,n=t.naturalWidth||t.width;e.setState({loaded:!0,naturalWidth:n}),e.props.cardData.getOriginalWidth()||e.props.onImageSizeResolved({width:n,height:t.naturalHeight||t.height}),e._initDrag(),e.props.onReady(t.getEditorImageDataUrl)}}),20))}},{key:"render",value:function(){var e=this.props.linkProps,t=this.state.loaded,n=Re.a.createElement("div",{className:this._getImageClassName(),"data-testid":"ne-card-image"},this._renderMaximizeButton(),this._renderOCRMask(),this._renderResizer(),this._renderCrop(),Re.a.createElement("div",{className:"ne-image-box"},this._renderImage(),!t&&this._renderLocalImage()));return e&&(n=Re.a.createElement("a",e,n)),Re.a.createElement(Re.a.Fragment,null,n,this._renderTitle())}},{key:"_renderTitle",value:function(){var e,t=this.props,n=t.cardData,r=t.croping,o=t.active,i=t.editable,a=t.currentImageOP;if(!n.showTitle())return null;var c=n.getDisplayWidth();if(r&&(c=a.scaleRotationWidth),r&&null!==(e=this._imageEditRef.current)&&void 0!==e&&e.imageNode){var l=this._imageEditRef.current.imageNode;Number(l.getAttribute("width"))!==Math.round(c)&&(l.style.width=Math.round(c)+"px"),c=Math.min(l.offsetWidth,c)}return Re.a.createElement(tF,{editable:i&&o,croping:r,content:n.getTitle(),width:c,onDone:this.props.onTitleCommit,onDel:this.props.onTitleRemove,onBack:this.props.onTitleHistoryBack,beforeAutoFocus:this.props.onBeforeTitleAutoFocus,onHeightChange:this.props.onTitleHeightChange})}},{key:"_renderImage",value:function(){var e=this.props,t=e.cardData,n=e.clickToMaximize,r=e.lazyLoad,o=e.currentImageOP,i=e.croping,a=e.editable,c=this.state,l=c.imageDisplayUrl,s=c.loaded,u=gv.sanitizeImageSrc(l);return u?Re.a.createElement(iF,{readMode:!a,cardData:t,croping:i,rotation:i?o.rotation:t.getRotation(),crop:i?o.crop:t.getCrop(),loading:r?"lazy":void 0,ref:this._imageEditRef,className:nw("ne-image",n&&"ne-image-preview",!s&&"ne-image-absolute"),src:u,alt:t.getName()||"",onEditableChange:this.props.onEditableChange,onClick:n?this._handleImageClick:void 0,onWidthChange:this.props.onWidthChange,width:i?o.viewWidth:t.getDisplayWidth(),onLoad:this._imageLoad.bind(this),onError:this._imageLoadError.bind(this)}):null}},{key:"_renderLocalImage",value:function(){var e,t,n=this,r=this.state.loadError,o=this.props,i=o.cardData,a=o.uploadObserver,c=i.getDisplayWidth(),l=i.getDisplayHeight(),s=i.getTaskId();if(r)return Re.a.createElement(XP,{tip:xm("图片加载失败"),width:i.getDisplayWidth(),height:i.getDisplayHeight(),onLoaded:this.props.onLoaded});s&&a&&(t=a.observe(s,i.getClientId()));var u=null===(e=t)||void 0===e?void 0:e.getResourceURL();return Re.a.createElement(GP,{onSizeReady:function(e){n._realDisplayWidth=e},url:u,width:c,height:l,className:"ne-bg-img"})}},{key:"_renderMaximizeButton",value:function(){if(!this.state.loaded)return null;var e=this.props,t=e.cardData,n=e.allowMaximize,r=e.croping;if(n&&!r){var o=t.getDisplayWidth();if(!(t.getDisplayHeight()<1||o<1))return Re.a.createElement("button",{className:"ne-ui-image-maximize",onMouseDown:function(e){e.preventDefault()},onClick:this._handleMaximizeClick},Re.a.createElement(oE,{iconfont:"full-screen"}))}}},{key:"_renderResizer",value:function(){var e=this;if(!this.props.active||this.props.croping||!this.props.allowResize||!this.state.loaded)return null;var t=this.props.cardData,n=t.getRotationCropWidth(),r=t.getRotationCropHeight();return n<1||r<1?null:Re.a.createElement(eF,{onChange:function(t){e.props.onImageSizeChange(t)},onResizeStart:this.props.onResizerStart,getImageNode:function(){return e._imageEditRef.current?e._imageEditRef.current.imageNode:null},originalWidth:n,originalHeight:r,width:t.getDisplayWidth(),height:t.getDisplayHeight()})}},{key:"_renderCrop",value:function(){var e=this;if(!this.props.croping||!this.props.allowResize||!this.state.loaded)return null;var t=this.props,n=t.cardData,r=t.currentImageOP,o=n.getOriginalWidth(),i=n.getOriginalHeight();return o<1||i<1?null:Re.a.createElement(aF,{cardData:n,currentImageOP:r,rotation:r.rotation,getImageNode:function(){return e._imageEditRef.current?e._imageEditRef.current.imageNode:null},onOk:this.props.onCropOK,onChange:this.props.onCropChange})}},{key:"_renderOCRMask",value:function(){if(!this.state.loaded)return null;var e=this.props,t=e.cardData,n=e.ocr,r=t.getOcrLocations();return!Fe.ua.mobile&&n&&r?Re.a.createElement(QP,{ocrLocations:r,originalWidth:t.getOriginalWidth(),originalHeight:t.getOriginalHeight(),displayWidth:t.getDisplayWidth()}):null}},{key:"_initDrag",value:function(){var e,t,n=this;if(!this._dragIsReady&&!this._unmounted){this._dragIsReady=!0;var r=null===(e=this._imageEditRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.imageNode;this.props.drag&&r&&sE(this,r,"dragstart",(function(e){lE.run(n.props.drag.editBox,n.props.drag.overlayContainer,n.props.drag.cardRootNode,r,e,(function(e){n.props.onDrop(e)}))}))}}},{key:"_getImageClassName",value:function(){var e=["ne-image-wrap"];this.state.loaded&&e.push("ne-image-loaded");var t=this.props.cardData.getStyle();return t&&e.push("ne-image-style-".concat(t)),e.join(" ")}}]),i}();m()(cF,"propTypes",{cardData:De.a.instanceOf(Fv).isRequired,uploadObserver:De.a.instanceOf(qP),ocr:De.a.bool,active:De.a.bool,editable:De.a.bool,allowResize:De.a.bool,croping:De.a.bool,currentImageOP:De.a.oneOfType(zP),onReady:De.a.func,onTitleHeightChange:De.a.func,onTitleCommit:De.a.func,onTitleRemove:De.a.func,onTitleHistoryBack:De.a.func,onBeforeTitleAutoFocus:De.a.func,onCropChange:De.a.func,onCropOK:De.a.func,onImageSizeResolved:De.a.func,onImageSizeChange:De.a.func,onResizerStart:De.a.func,onPreviewImage:De.a.func,allowMaximize:De.a.bool,clickToMaximize:De.a.bool,resizeHostWhiteList:De.a.array,resizeThreshold:De.a.number,onLoaded:De.a.func,lazyLoad:De.a.bool,drag:De.a.object,onDrop:De.a.func,onEditableChange:De.a.func,onWidthChange:De.a.func,linkProps:De.a.any,onUIUpdate:De.a.func}),m()(cF,"defaultProps",{active:!1,allowResize:!1,allowMaximize:!0,clickToMaximize:!1,ocr:!1,loading:!1,editable:!1,onTitleHistoryBack:function(){},onTitleCommit:function(){},onTitleRemove:function(){},onTitleChange:function(){},onReady:function(){},onImageSizeResolved:function(){},onImageSizeChange:function(){},onResizerStart:function(){},onPreviewImage:function(){},onLoaded:function(){},onCropChange:function(){},onEditableChange:function(){},onUIUpdate:function(){}});var lF=function(){function e(){o()(this,e)}return a()(e,null,[{key:"allowShowUploadingIcon",value:function(e,t){return e>=30&&t>=30}},{key:"allowShowUploadingTip",value:function(e,t){return e>=100&&t>=50}}]),e}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-uploading-image {\n  position: relative;\n}\n.ne-uploading-image .ne-image {\n  opacity: 0.6;\n  max-width: 100%;\n}\n.ne-uploading-image .ne-image-uploading-progress {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  background-color: #000;\n  padding: 5px;\n  border-radius: 4px;\n}\n");var sF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"state",{isUploadFailed:!1}),m()(l()(t),"_imgNodeRef",Re.a.createRef()),m()(l()(t),"task",null);var n=e.uploadObserver,a=e.taskId,c=e.clientId;return n&&a&&c&&(t.task=n.observe(a,c)),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this;this.task?($N(this,this.task,"timeout",(function(){e.props.onUploadFailure("failed to upload")})),$N(this,this.task,"success",(function(t){e.props.onUploadSuccess(t)})),$N(this,this.task,"error",(function(t){e.props.onUploadFailure(t)}))):this.props.onUploadFailure("invalid upload task")}},{key:"componentWillUnmount",value:function(){this.task&&this.task.abort()}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.height,o=t.autoScale;if(this.state.isUploadFailed||!this.task||this.task.isError()||this.task.isAborted())return Re.a.createElement(XP,{width:n,height:r,tip:xm("图片上传失败")});var i,a=this.task.getResourceURL(),c={};if(n?c.width=n+"px":o&&(c.zoom=Math.ceil(1/VP*1e4)/100+"%"),a){var l=gv.sanitizeUrl(a);i=Re.a.createElement("img",{ref:this._imgNodeRef,style:c,src:l,className:"ne-image",onLoad:function(t){n||"blob:"!==gv.getProtocol(l)||e.props.onImageSizeResolved({width:t.target.naturalWidth||t.target.width,height:t.target.naturalHeight||t.target.height})}})}else i=Re.a.createElement(GP,{width:n,height:r,className:"ne-image"});var s=n?Re.a.createElement("div",{className:"ne-image-uploading-progress"},Re.a.createElement(dt.a,null),lF.allowShowUploadingTip(n,r)?xm("上传中"):null):null;return Re.a.createElement("div",{className:"ne-uploading-image"},i,s)}}]),i}();m()(sF,"propTypes",{uploadObserver:De.a.instanceOf(qP).isRequired,taskId:De.a.string,clientId:De.a.string,width:De.a.number,height:De.a.number,onUploadSuccess:De.a.func,onUploadFailure:De.a.func,onImageSizeResolved:De.a.func,autoScale:De.a.bool}),m()(sF,"defaultProps",{onUploadSuccess:function(){},onUploadFailure:function(){},onImageSizeResolved:function(){},autoScale:!1});var uF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.uploadObserver,r=t.getStatus();return"pending"===r||"uploading"===r?Re.a.createElement(sF,{onUploadFailure:this.props.onUploadFailure,onUploadSuccess:this.props.onUploadSuccess,onImageSizeResolved:this.props.onImageSizeResolved,uploadObserver:n,width:t.getDisplayWidth(),height:t.getDisplayHeight(),taskId:t.getTaskId(),clientId:t.getClientId(),autoScale:t.isFromPaste()}):t.isValid()?Re.a.createElement(cF,{cardData:t,uploadObserver:n,allowResize:!0,ocr:this.props.ocr,editable:!0,croping:this.props.croping,onReady:this.props.onReady,onCropOK:this.props.onCropOK,currentImageOP:this.props.currentImageOP,onPreviewImage:this.props.onPreviewImage,allowMaximize:this.props.allowMaximize,onImageSizeResolved:this.props.onImageSizeResolved,onImageSizeChange:this.props.onImageSizeChange,onResizerStart:this.props.onResizerStart,onTitleHeightChange:this.props.onTitleHeightChange,onTitleCommit:this.props.onTitleCommit,onTitleRemove:this.props.onTitleRemove,onTitleHistoryBack:this.props.onTitleHistoryBack,onBeforeTitleAutoFocus:this.props.onBeforeTitleAutoFocus,onEditableChange:this.props.onEditableChange,onWidthChange:this.props.onWidthChange,onUIUpdate:this.props.onUIUpdate,active:this.props.active,resizeHostWhiteList:this.props.resizeHostWhiteList,resizeThreshold:this.props.resizeThreshold,lazyLoad:this.props.lazyLoad,drag:this.props.drag,onDrop:this.props.onDrop}):Re.a.createElement(XP,{width:t.getDisplayWidth(),height:t.getDisplayHeight(),tip:xm("图片上传失败")})}}]),i}();m()(uF,"propTypes",{uploadObserver:De.a.instanceOf(qP).isRequired,cardData:De.a.object.isRequired,onTitleHeightChange:De.a.func,onTitleCommit:De.a.func,onTitleRemove:De.a.func,onTitleHistoryBack:De.a.func,onBeforeTitleAutoFocus:De.a.func,onCropChange:De.a.func,onCropOK:De.a.func,currentImageOP:De.a.any,onPreviewImage:De.a.func,onImageSizeResolved:De.a.func,onImageSizeChange:De.a.func,onResizerStart:De.a.func,onUploadSuccess:De.a.func,onUploadFailure:De.a.func,onReady:De.a.func,active:De.a.bool,croping:De.a.bool,ocr:De.a.bool,allowMaximize:De.a.bool,resizeHostWhiteList:De.a.array,resizeThreshold:De.a.number,lazyLoad:De.a.bool,drag:De.a.object,onDrop:De.a.func,onEditableChange:De.a.func,onWidthChange:De.a.func,onUIUpdate:De.a.func}),m()(uF,"defaultProps",{onPreviewImage:function(){},onImageSizeResolved:function(){},onImageSizeChange:function(){},onResizerStart:function(){},onReady:function(){},active:!1,lazyLoad:!1});var dF=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this,e,t),m()(l()(n),"_widthMiniWidgetRef",null),m()(l()(n),"_heightMiniWidgetRef",null),m()(l()(n),"_heightToWidthRatio",null),m()(l()(n),"_widthToHeightRatio",null),m()(l()(n),"_containerToolbarConfig",{draggable:!0,items:["delete","copy"]}),m()(l()(n),"_isReady",!1),m()(l()(n),"_isCroping",!1),m()(l()(n),"_cropImageOp",null),m()(l()(n),"_cardToolbarCloseable",!0),m()(l()(n),"_getImageDataUrl",void 0),m()(l()(n),"_editable",!1),m()(l()(n),"_uiUpdateCallback",[]),m()(l()(n),"handleCardToolbarAutoClose",(function(){var e=n._cardToolbarCloseable;return n._cardToolbarCloseable=!0,e})),m()(l()(n),"_fixToolbarPos",(function(){var e=n.iEditor.scrollNode,t=function(e,t,n){br(e.contains(t),"F:view-helper;L:87");var r=e.getBoundingClientRect();return t.getBoundingClientRect().top-r.top>50}(e,n.cardRootNode);n._uiUpdateCallback.push((function(){(function(e,t,n){br(e.contains(t),"F:view-helper;L:69");var r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return n?o.top>r.bottom||o.top<r.top:o.bottom>r.bottom||o.bottom<r.top})(e,n.cardRootNode,t)&&function(e,t,n,r){br(e.contains(t),"F:view-helper;L:32");var o=e.getBoundingClientRect(),i=t.getBoundingClientRect();r?i.top>o.top?e.scrollTop=e.scrollTop+(i.top-o.top)-50:e.scrollTop=e.scrollTop-(o.top-i.top)-50:i.height>o.height+50?i.bottom>o.bottom?e.scrollTop=e.scrollTop+(i.bottom-o.bottom)+50:e.scrollTop=e.scrollTop-(o.bottom-i.bottom)+50:i.top>o.top?e.scrollTop=e.scrollTop+(i.top-o.top):e.scrollTop=e.scrollTop-(o.top-i.top)}(e,n.cardRootNode,0,t),n.refreshToolbarPos()}))})),n._widthMiniWidgetRef=Object(Ce.createRef)(null),n._heightMiniWidgetRef=Object(Ce.createRef)(null),n}return a()(i,[{key:"init",value:function(e){var t=this;this._uploadObserver=e,this.uiViewProxy=cO.render(uF,{uploadObserver:this._uploadObserver,cardData:this.cardData,active:!1,croping:this._isCroping,currentImageOP:this._cropImageOp,ocr:this.pluginOption.isShowOcr(),lazyLoad:this.pluginOption.lazyLoad,resizeHostWhiteList:this.pluginOption.resizeHostWhiteList,resizeThreshold:this.pluginOption.resizeThreshold,drag:{editBox:this.iEditor.editBox,overlayContainer:this.iEditor.overlayContainer,cardRootNode:this.cardRootNode},onEditableChange:function(e){t._editable=e},onDrop:function(e){t.iEditor.iRenderer.execCommand("moveImage",e,t._cardID)},onReady:function(e){t._isReady=!0,t._getImageDataUrl=e,t.refreshToolbar()},onUIUpdate:function(){for(;t._uiUpdateCallback.length;){var e;null===(e=t._uiUpdateCallback.pop())||void 0===e||e()}t.cardData.showTitle()?t.cardRootNode.classList.add("ne-image-card-show-title"):t.cardRootNode.classList.remove("ne-image-card-show-title")},onPreviewImage:function(){var e=t.cardNode.getAllImages();if(e){var n=Object(Fe.getImageBrowser)(),r=0,o=e.map((function(e,n){return e.id===t.id&&(r=n),{src:e.src,msrc:e.src,layoutSelf:e.layoutSelf,w:e.width,h:e.height}}));n.open(o,r)}},onImageSizeResolved:function(e){setTimeout((function(){t.emit("imageSizeResolved",e)}))},onUploadSuccess:function(e){setTimeout((function(){t.emit("uploadSuccess",e)}))},onCropOK:function(){t._handleCropOK()},onTitleHeightChange:function(){t.isHovered&&t.refreshToolbarPos()},onTitleCommit:function(e,n){setTimeout((function(){t.emit("titleChange",e,n)}))},onTitleRemove:function(e,n){setTimeout((function(){t.emit("removeTitle",e,n)}))},onTitleHistoryBack:function(){setTimeout((function(){t.emit("historyBack")}))},onBeforeTitleAutoFocus:function(){setTimeout((function(){t.emit("beforeAutoFocus")}))},onCropChange:function(e){t._cropImageOp.setCrop(e)},onUploadFailure:function(e){setTimeout((function(){t.emit("uploadError",e)}))},onResizerStart:function(){t.hideAllToolbar(),t.emit("imageResizeStart")},onImageSizeChange:function(e){var n=e.width;t.emit("imageResize",n),t.showAllToolbar()}},this.containerNode)}},{key:"focus",value:function(){this.uiViewProxy.rerender({active:!0})}},{key:"blur",value:function(){null!==this._cropImageOp&&(this._setCroping(!1),this.cardData.setDisplayWidth(this._cropImageOp.viewWidth),this.cardData.setRotation(this._cropImageOp.rotation),this.cardData.setCrop(this._cropImageOp.normalizeCrop),this.cardData.sync(!1),this._cropImageOp=null),this._cardToolbarCloseable=!0,this.uiViewProxy.rerender({active:!1,croping:!1})}},{key:"hover",value:function(){this._cardToolbarCloseable=!0}},{key:"getContainerToolbarConfig",value:function(){return this.cardData.getDisplayWidth()<30||this.cardData.getDisplayHeight()<20?null:this._containerToolbarConfig}},{key:"getCardToolbarConfig",value:function(){var e=this;if(!this._isReady)return null;var t,n=this._getAlignmentValue(),r=this._getAlignmentIcon(n),o=[{name:"rotation",text:xm("逆时针旋转90度"),icon:"t-image-rotation",onClick:function(){var t,n,r,o;e._isCroping&&e._cropImageOp?(e._cropImageOp.setRotation(e._cropImageOp.rotation+90),e.uiViewProxy.rerender({croping:e._isCroping,currentImageOP:e._cropImageOp}),e.refreshToolbar()):(e.cardData.setDisplayWidth(e.cardData.getDisplayHeight()),e.cardData.setRotation(e.cardData.getRotation()+90),e.cardData.sync(!1),null===(t=e._widthMiniWidgetRef)||void 0===t||null===(n=t.current)||void 0===n||n.setValue(e.cardData.getDisplayWidth()),null===(r=e._heightMiniWidgetRef)||void 0===r||null===(o=r.current)||void 0===o||o.setValue(e.cardData.getDisplayHeight()))}},{name:"crop",text:xm("图片剪裁"),icon:"t-image-crop",selected:this._isCroping,onClick:function(){e._isCroping?e._handleCropOK():e._handleStartCrop()}},{name:"style",text:xm("图片样式"),type:"select",icon:"t-image-style",selectValue:this.cardData.getStyle(),tooltipPlacement:"top",items:[{label:xm("无样式"),value:"none"},{label:xm("图片描边"),value:"stroke"},{label:xm("图片阴影"),value:"shadow"}],dropdownComponentConfig:{trigger:"click"},onSelect:function(t){e.cardData.setStyle(t),e.cardData.sync(!1),e._cardToolbarCloseable=!1,e.refreshToolbar()}},{name:"reset",text:xm("复原"),icon:"t-image-reset",onClick:function(){e._setCroping(!1),e._cropImageOp=null,e.cardData.resetRotationCrop(),e.cardData.setStyle("none"),e.cardData.sync(!1),e.uiViewProxy.rerender({croping:e._isCroping,currentImageOP:e._cropImageOp}),e.refreshToolbar()}},"|",{name:"title",text:xm("图片描述"),icon:"t-image-title",selected:this.cardData.showTitle(),style:{margin:"0 4px 0 0"},onClick:function(){e.emit("toggleTitleShow"),e.refreshToolbar(),e.cardData.showTitle()&&setTimeout((function(){return e.refreshToolbarPos()}),50)}},{name:"alignment",text:xm("对齐方式"),type:"select",icon:r,selectValue:n,tooltipPlacement:"top",items:[{label:xm("左对齐"),value:"left",icon:"t-alignment-left"},{label:xm("居中对齐"),value:"center",icon:"t-alignment-center"},{label:xm("右对齐"),value:"right",icon:"t-alignment-right"},{label:xm("两端对齐"),value:"justify",icon:"t-alignment-justify"}],dropdownComponentConfig:{trigger:"click"},onSelect:function(t){e.iEditor.execCommand("focusCard",e.cardNode.id),e.iEditor.execCommand("alignment",t),e._cardToolbarCloseable=!1,e.refreshToolbarPos()}},{name:"width",title:xm("宽"),type:"input",disabled:this._isCroping,componentProperty:{ref:this._widthMiniWidgetRef,defaultValue:this.cardData.getDisplayWidth(),onKeyDown:function(t){299!==t.keyCode&&jE.isEnter(t)&&e._handleImageWidth(t)},onBlur:function(t){return e._handleImageWidth(t,!1)},onChange:function(t){return e._handleImageWidthChange(t)}}},{name:"height",title:xm("高"),type:"input",disabled:this._isCroping,componentProperty:{ref:this._heightMiniWidgetRef,defaultValue:this.cardData.getDisplayHeight(),onKeyDown:function(t){299!==t.keyCode&&jE.isEnter(t)&&e._handleImageHeight(t)},onBlur:function(t){return e._handleImageHeight(t,!1)},onChange:function(t){return e._handleImageHeightChange(t)}}},"|",{name:"saveToResource",disabled:this._isCroping,onClick:(t=xe()(ke.a.mark((function t(){var n,r,o,i,a,c;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.iEditor,r=e.cardData,n.hasExtendMethod("saveToResource")&&(c=null!==(o=null==r||null===(i=r.getResourceValue)||void 0===i?void 0:i.call(r))&&void 0!==o?o:null==r||null===(a=r.getCardValue)||void 0===a?void 0:a.call(r),(r.isAfterEdit()||gv.isBase64ImageURL(c.src))&&(c.src=function(){return e._operationImageToFile(e._getImageDataUrl())}),n.saveToResource({data:c||{}},n.overlayContainer));case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})},{name:"preferences",text:xm("设置"),icon:"preferences",onClick:function(){e.iEditor.execCommand("focusCard",e.cardNode.id),e.cardNode.openSidebar()}}];return!this._editable&&this.cardData.isAfterEdit()&&(o=o.filter((function(e){return!("object"===R()(e)&&"saveToResource"===e.name)}))),this.cardData.isAfterEdit()||"none"!==this.cardData.getStyle()||this._cropImageOp&&0!==this._cropImageOp.rotation?o:o.filter((function(e){return!("object"===R()(e)&&"reset"===e.name)}))}},{key:"getCroping",value:function(){return this._isCroping}},{key:"_setCroping",value:function(e){this._isCroping=e,this.emit("croping",this._isCroping)}},{key:"_handleStartCrop",value:function(){this._setCroping(!0),this._cropImageOp=new zP(this.cardData.getOriginalWidth(),this.cardData.getOriginalHeight()),this._cropImageOp.setRotation(this.cardData.getRotation()).setCrop(this.cardData.getCrop()).setViewWidth(this.cardData.getDisplayWidth()),this.uiViewProxy.rerender({croping:this._isCroping,currentImageOP:this._cropImageOp}),this.refreshToolbar()}},{key:"_handleCropOK",value:function(){this._isCroping&&(this._setCroping(!1),this.cardData.getRotation()===this._cropImageOp.rotation&&zP.equalCrop(this._cardData.getCrop(),this._cropImageOp.normalizeCrop)||(this.cardData.setDisplayWidth(this._cropImageOp.viewWidth),this.cardData.setRotation(this._cropImageOp.rotation),this.cardData.setCrop(this._cropImageOp.normalizeCrop),this.cardData.sync(!1)),this._cropImageOp=null,this.uiViewProxy.rerender({croping:this._isCroping,currentImageOP:this._cropImageOp}),this.refreshToolbar())}},{key:"_operationImageToFile",value:function(e){var t=BP(e);return new File([t],"image.png")}},{key:"_getCurrentCardNodeSelection",value:function(){var e=this.iEditor.iKernel,t=e.document,n={node:t.getNodeById(this.cardNode.id),offset:0},r=e.createModelRange(n,n);return qr.createBy(t,[r])}},{key:"_getAlignmentValue",value:function(){var e=this._getCurrentCardNodeSelection(),t=this.iEditor.queryCommandValue("alignment",e);return t&&0!==t.length?1===t.length?t[0]||"left":void 0:"left"}},{key:"_getAlignmentIcon",value:function(e){switch(e){case"left":return"t-alignment-left";case"right":return"t-alignment-right";case"center":return"t-alignment-center";case"justify":return"t-alignment-justify";default:br(!1,"F:editable-image-ui;L:550")}}},{key:"_handleImageWidth",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.target.value,o=parseInt(r,10);if(o+""===r){this._widthMiniWidgetRef.current.setValue(o);var i=KP(o,this.cardData.getRotationCropHeight(),this.cardData.getRotationCropWidth());this.cardData.setDisplayWidth(i.width),this.cardData.sync(!1),n&&(null===(t=e.target)||void 0===t||t.focus()),this._fixToolbarPos()}}},{key:"_handleImageWidthChange",value:function(e){var t=e.target.value;this._heightMiniWidgetRef.current.setValue(this._calcHeight(t))}},{key:"_calcHeight",value:function(e){return Number.parseInt(e,10)+""!==e?"":(this._widthToHeightRatio||(this._widthToHeightRatio=this.cardData.getRotationCropHeight()/this.cardData.getRotationCropWidth()),e=Math.max(e,0),Math.max(Math.round(e*this._widthToHeightRatio),20))}},{key:"_handleImageHeight",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.target.value,o=parseInt(r,10);if(o+""===r){this._heightMiniWidgetRef.current.setValue(o);var i=$P(o,this.cardData.getRotationCropWidth(),this.cardData.getRotationCropHeight());this.cardData.setDisplayWidth(i.width),this.cardData.sync(!1),n&&(null===(t=e.target)||void 0===t||t.focus()),this._fixToolbarPos()}}},{key:"_handleImageHeightChange",value:function(e){var t=e.target.value;this._widthMiniWidgetRef.current.setValue(this._calcWidth(t))}},{key:"_calcWidth",value:function(e){return Number.parseInt(e,10)+""!==e?"":(this._heightToWidthRatio||(this._heightToWidthRatio=this.cardData.getRotationCropWidth()/this.cardData.getRotationCropHeight()),e=Math.max(e,0),Math.max(Math.round(e*this._heightToWidthRatio),30))}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();var fF=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"sidebarRootNode",null),m()(l()(e),"closed",!1),e}return a()(i,[{key:"close",value:function(){}},{key:"init",value:function(){}},{key:"destroy",value:function(){this.closed=!0,this.removeAllListeners()}},{key:"isPermanent",value:function(){return!1}}]),i}();FN(".ne-sidebar-view {\n  padding: 0 20px;\n  overflow: auto;\n  min-height: 100%;\n}\n.ne-sidebar-view .ne-sidebar-header {\n  margin: 16px 0 24px 0;\n  position: relative;\n}\n.ne-sidebar-view .ne-sidebar-header .ne-sidebar-title {\n  font-size: 14px;\n  line-height: 22px;\n  font-weight: bold;\n}\n.ne-sidebar-view .ne-sidebar-header .ne-sidebar-close-btn {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border-radius: 4px;\n  background: none;\n  padding: 0;\n  outline: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n}\n.ne-sidebar-view .ne-sidebar-header .ne-sidebar-close-btn:hover {\n  background-color: #e8e8e8;\n}\n");var hF=["className","children","onClose"],pF=["className"],vF=["className"];function mF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var yF=function(e){u()(n,Ce.Component);var t=mF(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.onClose,o=j()(e,hF);return Re.a.createElement("div",Ee()({className:nw("ne-sidebar-header",t)},o),Re.a.createElement("div",{className:"ne-sidebar-title"},n),Re.a.createElement("button",{className:"ne-sidebar-close-btn",onMouseDown:function(e){return e.preventDefault()},onClick:r},Re.a.createElement(oE,{type:"close"})))}}]),n}();m()(yF,"propTypes",{className:De.a.string,onClose:De.a.func,children:De.a.any}),m()(yF,"defaultProps",{onClose:function(){}});var gF=function(e){u()(n,Ce.Component);var t=mF(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=j()(e,pF);return Re.a.createElement("div",Ee()({className:nw("ne-sidebar-body",t)},n))}}]),n}();m()(gF,"propTypes",{className:De.a.string});var bF=function(e){u()(n,Ce.Component);var t=mF(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=j()(e,vF);return Re.a.createElement("div",Ee()({className:nw("ne-sidebar-view",t)},n))}}]),n}();m()(bF,"propTypes",{className:De.a.string}),m()(bF,"Header",yF),m()(bF,"Body",gF),FN(".ne-image-sidebar {\n  position: relative;\n  font-size: 14px;\n  color: #595959;\n  height: 100%;\n  overflow: auto;\n  padding: 0 20px;\n}\n.ne-image-sidebar .ant-input {\n  line-height: 22px;\n  font-size: 14px;\n}\n.ne-image-sidebar-header {\n  position: relative;\n  line-height: 24px;\n  font-weight: bold;\n  padding-bottom: 8px;\n  margin-top: 16px;\n  margin-bottom: 10px;\n}\n.ne-image-sidebar-box-item-label {\n  margin-bottom: 8px;\n  color: #8C8C8C;\n}\n.ne-image-sidebar-box-item-group {\n  margin-bottom: 24px;\n}\n.ne-image-sidebar-size-input-group {\n  display: flex;\n}\n.ne-image-sidebar-width-group {\n  margin-right: 10px;\n}\n.ne-image-sidebar-link-input {\n  padding-left: 12px;\n}\n.ne-image-sidebar-width-group .ne-image-sidebar-sub-label,\n.ne-image-sidebar-height-group .ne-image-sidebar-sub-label {\n  margin-top: 2px;\n  text-align: center;\n  font-size: 12px;\n  color: #8C8C8C;\n}\n.ne-image-sidebar-size-ratio-btns .ant-radio-group {\n  display: flex;\n}\n.ne-image-sidebar-size-ratio-btns .ant-radio-group > .ant-radio-button-wrapper {\n  flex: 1;\n  text-align: center;\n  background: #fff;\n}\n.ne-image-sidebar-switch-row {\n  margin-top: 16px;\n  margin-bottom: 8px;\n}\n.ne-image-sidebar-switch-row > label {\n  display: flex;\n  cursor: pointer;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n}\n.ne-image-sidebar-link-target {\n  margin-top: 12px;\n}\n.ne-image-sidebar-close-btn {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  background: none;\n  padding: 0;\n  outline: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n}\n.ne-image-sidebar-close-btn:hover {\n  background-color: #e8e8e8;\n}\ntextarea.ant-input.ne-image-siderbar-title-textarea {\n  resize: none;\n  line-height: 22px;\n  font-size: 14px;\n  min-height: 86px;\n  padding: 9.5px 12px;\n  color: #595959;\n  word-break: break-all;\n}\ntextarea.ant-input.ne-image-siderbar-title-textarea::placeholder {\n  color: #BFBFBF;\n}\n");var wF=Me.a.TextArea,xF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"state",{width:null,height:null,link:null,cardTitle:null,title:null,croping:!1}),m()(l()(t),"_heightToWidthRatio",1),m()(l()(t),"_widthToHeightRatio",1),m()(l()(t),"_minWidth",0),m()(l()(t),"_minHeight",0),m()(l()(t),"_handleStyleChange",(function(e){t.props.onStyleChange(e.target.value)})),m()(l()(t),"_handleSpacingChange",(function(e,n){t.props.onSpacingChange(n,e)})),m()(l()(t),"_handleLinkChange",(function(e){t.setState({link:e.target.value})})),m()(l()(t),"_handleLinkConfirm",(function(){t.props.cardData.getLink()!==t.state.link&&t.props.onLinkChange(t.state.link)})),m()(l()(t),"_handleTitleKeyDown",(function(e){299!==e.keyCode&&jE.isEnter(e)&&(e.preventDefault(),t._handleTitleConfirm())})),m()(l()(t),"_handleTitleChange",(function(e){t.setState({title:e.target.value.replace(/\n/g," ")})})),m()(l()(t),"_handleTitleConfirm",(function(){t.props.cardData.getTitle()!==t.state.title&&t.props.onTitleChange(t.state.title.trim())})),m()(l()(t),"_handleLinkTargetChange",(function(e){t.props.onLinkTargetChange(e.target.checked)})),m()(l()(t),"_handleWidthButtonClick",(function(e){var n=Number.parseInt(e.target.value,10)/100;if(t.setState({width:null,height:null}),1!==n){var r=t.props.cardData.getRotationCropWidth(),o=Math.round(r*n);t.props.onWidthChange(o)}else t.props.onWidthCancel()})),m()(l()(t),"_handleWidthChange",(function(e){var n=e.target.value;t.setState({width:n,height:t._calcHeight(n)})})),m()(l()(t),"_handleHeightChange",(function(e){var n=e.target.value;t.setState({width:t._calcWidth(n),height:n})})),m()(l()(t),"_handleWidthInputKeyDown",(function(e){299!==e.keyCode&&jE.isEnter(e)&&t._handleWidthConfirm(e)})),m()(l()(t),"_handleWidthConfirm",(function(e){var n=e.target.value,r=t.props.cardData,o=parseInt(n,10);if(o+""===n){var i=KP(o,r.getRotationCropWidth(),r.getRotationCropHeight());t.setState({width:i.width,height:i.height}),t.props.onWidthChange(i.width)}})),m()(l()(t),"_handleHeightInputKeyDown",(function(e){299!==e.keyCode&&jE.isEnter(e)&&t._handleHeightConfirm(e)})),m()(l()(t),"_handleHeightConfirm",(function(e){var n=e.target.value,r=t.props.cardData;if(parseInt(n,10)+""===n){var o=$P(n,r.getRotationCropWidth(),r.getRotationCropHeight());t.setState({width:o.width,height:o.height}),t.props.onWidthChange(o.width)}}));var n=e.cardData;t.state.link=n.getLink();var a=n.getOriginalWidth(),c=n.getOriginalHeight();return t._heightToWidthRatio=a/c,t._widthToHeightRatio=c/a,a>=c?(t._minHeight=1,t._minWidth=Math.round(t._heightToWidthRatio*t._minHeight)):(t._minWidth=1,t._minHeight=Math.round(t._widthToHeightRatio*t._minWidth)),t}return a()(i,[{key:"componentWillUnmount",value:function(){this._handleLinkConfirm(),this._handleTitleConfirm()}},{key:"render",value:function(){var e=this;return Re.a.createElement(bF,{className:"ne-image-sidebar","data-testid":"ne-image-sidebar"},Re.a.createElement(bF.Header,{onClose:function(){return e.props.descriptor.close()}},xm("图片设置")),Re.a.createElement(bF.Body,null,this._renderSizeBox(),this._renderStyleBox(),this._renderSpacingBox(),this._renderLinkBox(),this._renderImageTitle()))}},{key:"_renderSizeBox",value:function(){var e=this.props.cardData;return Re.a.createElement("div",{className:"ne-image-sidebar-box"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item ne-image-sidebar-box-item-for-size"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-label"},xm("大小")),Re.a.createElement("div",{className:"ne-image-sidebar-box-item-content"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-group ne-image-sidebar-size-input-group"},Re.a.createElement("div",{className:"ne-image-sidebar-width-group"},Re.a.createElement("div",null,Re.a.createElement(Me.a,{disabled:this.state.croping,"data-testid":"ne-image-sidebar-width-input",value:null!==this.state.width?this.state.width:e.getDisplayWidth(),onChange:this._handleWidthChange,onKeyDown:this._handleWidthInputKeyDown,onBlur:this._handleWidthConfirm}),Re.a.createElement("div",{className:"ne-image-sidebar-sub-label"},xm("宽度")))),Re.a.createElement("div",{className:"ne-image-sidebar-height-group"},Re.a.createElement("div",null,Re.a.createElement(Me.a,{disabled:this.state.croping,"data-testid":"ne-image-sidebar-height-input",value:null!==this.state.height?this.state.height:e.getDisplayHeight(),onChange:this._handleHeightChange,onKeyDown:this._handleHeightInputKeyDown,onBlur:this._handleHeightConfirm}),Re.a.createElement("div",{className:"ne-image-sidebar-sub-label"},xm("高度"))))),Re.a.createElement("div",{className:"ne-image-sidebar-box-item-group"},Re.a.createElement("div",{className:"ne-image-sidebar-size-ratio-btns","data-testid":"ne-image-sidebar-size-radio"},Re.a.createElement(ft.a.Group,{disabled:this.state.croping,value:"0",onChange:this._handleWidthButtonClick},Re.a.createElement(ft.a.Button,{value:"25"},"25%"),Re.a.createElement(ft.a.Button,{value:"50"},"50%"),Re.a.createElement(ft.a.Button,{value:"75"},"75%"),Re.a.createElement(ft.a.Button,{value:"100"},"100%")))))))}},{key:"_renderStyleBox",value:function(){return Re.a.createElement("div",{className:"ne-image-sidebar-box"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item ne-image-sidebar-box-item-for-style"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-label"},xm("样式")),Re.a.createElement("div",{className:"ne-image-sidebar-box-item-content"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-group"},Re.a.createElement("div",{className:"ne-image-sidebar-size-ratio-btns","data-testid":"ne-image-sidebar-border-radio"},Re.a.createElement(ft.a.Group,{value:this.props.cardData.getStyle()||"none",onChange:this._handleStyleChange},Re.a.createElement(ft.a.Button,{value:"none"},xm("无")),Re.a.createElement(ft.a.Button,{value:"stroke"},xm("描边")),Re.a.createElement(ft.a.Button,{value:"shadow"},xm("阴影"))))))))}},{key:"_renderSpacingBox",value:function(){var e=this,t=this.props.cardData;return Re.a.createElement("div",{className:"ne-image-sidebar-box"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item ne-image-sidebar-box-item-for-style"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-label"},xm("间距")),Re.a.createElement("div",{className:"ne-image-sidebar-box-item-content"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-group"},Re.a.createElement("div",{className:"ne-image-sidebar-switch-row"},Re.a.createElement("label",null,xm("为图片添加上间距"),Re.a.createElement(Te.a,{value:"top",onChange:function(t){e._handleSpacingChange(t,"top")},checked:t.hasCardTopSpacing()}))),Re.a.createElement("div",{className:"ne-image-sidebar-switch-row"},Re.a.createElement("label",null,xm("为图片添加下间距"),Re.a.createElement(Te.a,{value:"bottom",onChange:function(t){e._handleSpacingChange(t,"bottom")},checked:t.hasCardBottomSpacing()})))))))}},{key:"_renderLinkBox",value:function(){return Re.a.createElement("div",{className:"ne-image-sidebar-box"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item ne-image-sidebar-box-item-for-style"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-label"},xm("链接")),Re.a.createElement("div",{className:"ne-image-sidebar-box-item-content"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-group"},Re.a.createElement(Me.a,{"data-testid":"ne-image-sidebar-link-input",className:"ne-image-sidebar-link-input",value:this.state.link,spellCheck:!1,onChange:this._handleLinkChange,onBlur:this._handleLinkConfirm,placeholder:xm("请输入网址")}),Re.a.createElement("div",{className:"ne-image-sidebar-link-target"},Re.a.createElement(ht.a,{"data-testid":"ne-image-sidebar-link-target-checkbox",onChange:this._handleLinkTargetChange,checked:this.props.cardData.isOpenLinkInSelf()},xm("在当前页面打开")))))))}},{key:"_renderImageTitle",value:function(){return Re.a.createElement("div",{className:"ne-image-sidebar-box"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item ne-image-sidebar-box-item-for-style"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-label"},xm("图片描述")),Re.a.createElement("div",{className:"ne-image-sidebar-box-item-content"},Re.a.createElement("div",{className:"ne-image-sidebar-box-item-group"},Re.a.createElement(wF,{spellCheck:!1,className:"ne-image-siderbar-title-textarea","data-testid":"ne-image-sidebar-title-textarea",value:this.state.title,onKeyDown:this._handleTitleKeyDown,onChange:this._handleTitleChange,onBlur:this._handleTitleConfirm,placeholder:xm("请输入图片描述")})))))}},{key:"_calcHeight",value:function(e){return Number.parseInt(e,10)+""!==e?"":(e=Math.max(e,this._minWidth),Math.max(Math.round(e*this._widthToHeightRatio),this._minHeight))}},{key:"_calcWidth",value:function(e){return Number.parseInt(e,10)+""!==e?"":(e=Math.max(e,this._minHeight),Math.max(Math.round(e*this._heightToWidthRatio),this._minWidth))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={},r=e.cardData;return r.getTitle()!==t.cardTitle&&(n.cardTitle=r.getTitle(),n.title=r.getTitle()),e.croping!==t.croping&&(n.croping=e.croping),n}}]),i}();m()(xF,"propTypes",{cardData:De.a.instanceOf(Fv).isRequired,descriptor:De.a.instanceOf(fF).isRequired,croping:De.a.bool,onStyleChange:De.a.func,onSpacingChange:De.a.func,onLinkChange:De.a.func,onLinkTargetChange:De.a.func,onWidthChange:De.a.func,onWidthCancel:De.a.func,onTitleChange:De.a.func}),m()(xF,"defaultProps",{onStyleChange:function(){},onSpacingChange:function(){},onLinkChange:function(){},onLinkTargetChange:function(){},onWidthChange:function(){},onWidthCancel:function(){},onTitleChange:function(){}});var _F=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_imageCardNode",null),m()(l()(n),"_viewHandle",null),m()(l()(n),"_croping",!1),n._imageCardNode=e,n._croping=t,n}return a()(i,[{key:"init",value:function(){var e=this._imageCardNode.cardData;this._viewHandle=XN.render(xF,{cardData:e,descriptor:this,croping:this._croping,onStyleChange:function(t){e.setStyle(t),e.sync(!1)},onSpacingChange:function(t,n){"top"===t?n?e.addCardTopSpacing():e.removeCardTopSpacing():n?e.addCardBottomSpacing():e.removeCardBottomSpacing(),e.sync(!1)},onLinkChange:function(t){e.setLink(t),e.sync(!1)},onTitleChange:function(t){e.setTitle(t),""===t?e.setShowTitle(!1):e.setShowTitle(!0),e.sync(!1)},onLinkTargetChange:function(t){e.setLinkExternal(!t),e.sync(!1)},onWidthChange:function(t){e.setDisplayWidth(t),e.sync(!1)},onWidthCancel:function(){e.resetDisplayWidth(),e.sync(!1)}},this.sidebarRootNode)}},{key:"setCroping",value:function(e){this._croping=e,this._viewHandle&&this._viewHandle.rerender({croping:this._croping})}},{key:"destroy",value:function(){this._viewHandle&&(this._viewHandle.destroy(),this._viewHandle=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!1}}]),i}();var kF=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),m()(l()(t),"_descriptor",null),m()(l()(t),"_cardUI",null),m()(l()(t),"openSidebar",(function(){t._iEditor.hasExtend("sidebar")&&(t._descriptor=new _F(l()(t),t._cardUI.getCroping()),t._iEditor.sidebar.open(t._descriptor))})),m()(l()(t),"closeSidebar",(function(){if(t._descriptor&&!t._descriptor.closed){var e=t._descriptor;i.cancelCloseTask=jP((function(){i.cancelCloseTask=null,e.close(),e=null}),50)}t._descriptor=null})),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;br(this._iEditor.hasExtend("uploadObserver"),"F:image-card-node;L:36");var t=this.cardData,n=this.cardData.getStatus(),r="pending"===n||"uploading"===n;this._cardUI=this._iEditor.createCardUI(this,this._iEditor.uploadObserver),this._cardUI.on("imageSizeResolved",(function(n){var o=n.width,i=n.height;t.setImageOriginSize(o,i),r&&e._autoSetUserWidth(o),t.sync(!0)})),this._cardUI.on("imageResize",(function(t){e.cardData.setDisplayWidth(t),e.cardData.sync(!1)})),this._cardUI.on("uploadSuccess",(function(t){e.cardData.setImageInfo(t),e.cardData.sync(!0)||(e.cardData.setUploadError("failed to set src"),e.cardData.sync(!0))})),this._cardUI.on("uploadError",(function(t){e.cardData.setUploadError(t.message),e.cardData.sync(!0)})),this._cardUI.on("beforeAutoFocus",(function(){!function(e,t){br(e.contains(t),"F:view-helper;L:9");var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.bottom-n.bottom,i=n.top-r.top;r.bottom>n.bottom?e.scrollTop=e.scrollTop+o:r.top<n.top&&(e.scrollTop=e.scrollTop-i)}(e._iEditor.scrollNode,document.querySelector("#".concat(e.id," .ne-image-title-content")))})),this._cardUI.on("historyBack",(function(){e._iEditor.execCommand("undo")})),this._cardUI.on("croping",(function(t){e._descriptor&&e._descriptor.setCroping(t),t&&e._iEditor.execCommand("focusCard",e.id,"card")})),this._cardUI.on("reset",(function(){e._iEditor.execCommand("focusCard",e.id,"card")})),this._cardUI.on("toggleTitleShow",(function(){e._iEditor.execCommand("focusCard",e.id,"card"),e.cardData.setShowTitle(!e.cardData.showTitle()),e.cardData.sync(!1)})),this._cardUI.on("titleChange",(function(t,n){t!==e.cardData.getTitle()&&(e.cardData.setTitle(t),e.cardData.sync(!1)),n&&e.moveSelectionToNext(!0)})),this._cardUI.on("removeTitle",(function(t,n){e.cardData.setShowTitle(!1),e.cardData.setTitle(""),e.cardData.sync(!1),t&&e.moveSelectionToNext(n)}))}},{key:"destroy",value:function(){this._cardUI&&this._cardUI.destroy(),this._descriptor&&this._descriptor.close()}},{key:"getAllImages",value:function(){var e=this.plugin.cardNodes;return e?e.map((function(e){if(!e.viewNode.isConnected)return null;var t=e.cardData,n=t.getPreviewSrc();if(!n)return null;var r={id:e.id,src:n,width:t.getRotationCropWidth(),height:t.getRotationCropHeight()};return t.isAfterEdit()&&(r.layoutSelf=function(){var e=document.createElement("div");return null!=n&&n.startsWith("javascript:")||(e.innerHTML='<div style="'.concat(zP.toDivInlineStyle(t),'"></div>')),e}),r})).filter(Boolean):null}},{key:"moveSelectionToNext",value:function(e){if(!this.viewNode.isConnected)return null;e?this._iEditor.execCommand("imageTitleBreakLine",this.id):this._iEditor.execCommand("focusCard",this.id,"after")}},{key:"$focus",value:function(){i.cancelCloseTask&&(i.cancelCloseTask(),i.cancelCloseTask=null,this.openSidebar()),B()(p()(i.prototype),"$focus",this).call(this)}},{key:"$blur",value:function(){this.closeSidebar(),B()(p()(i.prototype),"$blur",this).call(this)}},{key:"sync",value:function(){return this.cardData.isCompleted()}},{key:"_autoSetUserWidth",value:function(e){this.cardData.isFromPaste()&&this.cardData.isBinaryType()&&this.cardData.setDisplayWidth(e/VP)}}]),i}();m()(kF,"$EditableCardUI",dF),m()(kF,"$CardData",Fv),m()(kF,"$NonBoundary",!0),m()(kF,"cancelCloseTask",null);var CF=function(e){u()(c,AP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(){return o()(this,c),i.apply(this,arguments)}return a()(c,[{key:"onEvent",value:(t=xe()(ke.a.mark((function e(t){var n,r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("click"!==t){e.next=7;break}return e.next=3,null===(n=this.pluginContext)||void 0===n?void 0:n.option.customFileSelector();case 3:r=e.sent,(o=new File([],"image.png")).path=r,this._iEditor.emitPluginEvent("insertCardByUI",{item:{type:"FileItem",name:"image"},args:[[o]]});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),c}();m()(CF,"Type","Button");var RF=function(e){u()(c,IP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(){return o()(this,c),i.apply(this,arguments)}return a()(c,[{key:"onEvent",value:(t=xe()(ke.a.mark((function e(t){var n,r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("click"!==t){e.next=7;break}return e.next=3,null===(n=this.pluginContext)||void 0===n?void 0:n.option.customFileSelector();case 3:r=e.sent,(o=new File([],"image.png")).path=r,this._iEditor.emitPluginEvent("insertCardByUI",{item:{type:"FileItem",name:"image"},args:[[o]]});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),c}();m()(RF,"Type","Button"),FN('.ne-engine ne-card[data-card-name="image"] {\n  vertical-align: baseline;\n  display: inline-block;\n}\n.ne-engine ne-card[data-card-name="image"] ne-card-root {\n  display: inline-block;\n}\n');var NF=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this;t.registerInlineCard(this,"image",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(kF,[e].concat(n))}}),e.iKernel.hasExtendMethod("registerPreHTMLNodeReader")&&e.iKernel.registerPreHTMLNodeReader(LP.NodeNames,new LP(this)),e.iKernel.hasExtendMethod("registerPreFileReader")&&e.iKernel.registerPreFileReader(em.getImageFileAccept(this.option.accept),new jB(e)),e.iKernel.hasExtendMethod("registerLakeCardPreReader")&&e.iKernel.registerLakeCardPreReader(VB.CardName,new VB(this)),e.iKernel.hasExtendMethod("registerINodeCardPreReader")&&e.iKernel.registerINodeCardPreReader(zB.CardName,new zB(this)),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("image",{type:this.option.customFileSelector?"LikeFileItem":"FileItem",icon:"card-image",iconSize:16,label:xm("图片"),multiple:!0,accept:this.getAccept(),keywords:"图片,tp,tupian,image,img,photo,picture",customFileSelector:this.option.customFileSelector,description:xm("最大限制：20MB")}),e.hasExtendMethod("registerToolbarWidget")&&(this.option.customFileSelector?(e.registerToolbarWidget("image",{clazz:CF,pluginContext:this}),e.registerToolbarWidget("note-image",{clazz:RF,pluginContext:this})):(e.registerToolbarWidget("image",{clazz:AP,pluginContext:this}),e.registerToolbarWidget("note-image",{clazz:IP,pluginContext:this}))),this.iKernel.hasExtendMethod("setUploadImageByURLHandler")&&this.iKernel.setUploadImageByURLHandler((function(e){return n.uploadImageByURL(e)}))}},{key:"getAccept",value:function(){return this.option.isEnableAccept()?em.getImageFileAccept(this.option.accept):"image/*"}},{key:"uploadImageByURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;if(gv.isBase64ImageURL(e)){var n=IB.uploadImageByBase64(this.iEditor,e);return{taskId:n.id}}if(!gv.isFullHttpURL(e))return null;if(this.option.isCaptureImageURL(e)){var r=IB.uploadImageByURL(this.iEditor,e,t);return{taskId:r.id}}return{url:e}}},{key:"sync",value:function(){return 0===this.cardNodes.filter((function(e){return!1===e.sync()})).length}}]),i}();m()(NF,"PluginName","image"),m()(NF,"PluginOption",TP);var EF=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iRenderer",null),t._iRenderer=e,t}return a()(i,[{key:"execute",value:function(e,t){var n=e.node,r=e.offset,o=document.createRange();o.setStart(n,r),o.collapse(!0);var i=this._iRenderer.iEngine.transformDOMRange(o);this._iRenderer.iKernel.execCommand("moveImage",t,i.start)}}]),i}();var OF=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("moveImage",new EF(e))}}]),i}();m()(OF,"PluginName","image");var DF,SF,BF=(m()(DF={},"daysCount",{max:365,min:1}),m()(DF,"price",{max:99,min:1}),m()(DF,"tip",{max:20,min:0}),DF),PF=(m()(SF={},"price",!0),m()(SF,"daysCount",!0),SF),FF={price:{required:"请设置定价",invalid:"无效的输入",range:"超出合法范围"},daysCount:{required:"请设置时长",invalid:"无效的输入",range:"超出合法范围"},tip:{length:"文案最多支持 20 字"}};function TF(e,t){if(PF[e]&&function(e){return null==e||""===e}(t))return FF[e].required;switch(e){case"price":case"daysCount":return function(e,t){return""===t||null==t?null:function(e,t,n,r){var o=FF[e],i=Number(t);return function(e){return e=Number(e),Number.isNaN?Number.isNaN(e):window.isNaN(e)}(i)||!function(e){return Number.isInteger?Number.isInteger(e):(Number.parseInt?Number.parseInt(e,10):parseInt(e,10))===e}(i)||i+""!=t+""?o.invalid:i>r||i<n?o.range:null}(e,t,BF[e].min,BF[e].max)}(e,t);case"tip":return function(e,t){return""===(t=(t||"").replace(/\n+/g,""))||null==t?null:function(e,t,n,r){var o=FF[e],i=t.length;return i<n||i>r?o.length:null}(e,t,BF[e].min,BF[e].max)}(e,t);default:return null}}function MF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MF(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}FN(".ne-premium-sidebar {\n  font-size: 14px;\n  color: #595959;\n}\n.ne-premium-sidebar-desc {\n  font-size: 12px;\n  font-weight: normal;\n}\n.ne-premium-sidebar-box-item-label {\n  margin-top: 12px;\n  margin-bottom: 12px;\n}\n.ne-premium-sidebar-close-btn {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  background: none;\n  padding: 0;\n  outline: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n}\n.ne-premium-sidebar-close-btn:hover {\n  background-color: #e8e8e8;\n}\n");var AF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{error_price:null,error_daysCount:null,error_tip:null}),m()(l()(e),"_handleChangePrice",(function(t){if(!e.state.freeze&&!e.state.expired){var n=t.currentTarget.value;n||(n=null),e.setState({price:n,error_price:TF("price",n)},e._notify)}})),m()(l()(e),"_handleChangeDuration",(function(t){if(!e.state.freeze&&!e.state.expired){var n=t.currentTarget.value;n||(n=null),e.setState({daysCount:n,error_daysCount:TF("daysCount",n)},e._notify)}})),m()(l()(e),"_handleChangeTip",(function(t){if(!e.state.expired){var n=t.currentTarget.value;n||(n="");var r=n.replace(/\n+/g,"");e.setState({tip:r,error_tip:TF("tip",r)},e._notify)}})),m()(l()(e),"_notify",(function(){var t=e.state,n=t.error_daysCount,r=t.error_price,o=t.error_tip,i=t.tip,a=t.price,c=t.daysCount,l=e.props.onChange;l&&(n||r||o||a&&c&&l({price:parseInt(a,10),daysCount:parseInt(c,10),tip:i}))})),e}return a()(i,[{key:"componentDidMount",value:function(){this._initState(this.props.cardData)}},{key:"_initState",value:function(e){e&&this.setState(LF(LF({},this.state),{},{tip:e.tip,daysCount:e.daysCount,price:e.price,freeze:e.freeze,expired:e.expired}))}},{key:"render",value:function(){var e=this;return Re.a.createElement(bF,{className:"ne-premium-sidebar","data-testid":"ne-premium-sidebar"},Re.a.createElement(bF.Header,{onClose:function(){return e.props.descriptor.close()}},Re.a.createElement("div",{className:"ne-premium-sidebar-title"},xm("付费阅读")),Re.a.createElement("div",{className:"ne-premium-sidebar-desc"},xm("通过付费阅读，可以让原创内容得到价值创收，请遵守"),Re.a.createElement("a",{href:"https://www.yuque.com/terms/pay_to_read",target:"_blank",rel:"noreferrer"},"《",xm("语雀付费阅读服务协议"),"》"))),Re.a.createElement(bF.Body,null,Re.a.createElement(pt.a,null,this._renderPriceBox(),this._renderDaysCountBox(),this._renderTipBox())))}},{key:"_renderPriceBox",value:function(){return Re.a.createElement("div",{className:"ne-premium-sidebar-box"},Re.a.createElement("div",{className:"ne-premium-sidebar-box-item"},Re.a.createElement("div",{className:"ne-premium-sidebar-box-item-label"},xm("付费定价")),Re.a.createElement("div",{className:"ne-premium-sidebar-desc"},xm("定价只能设置一次，发布后不可修改")),Re.a.createElement("div",{className:"ne-premium-sidebar-box-item-content","data-testid":"ne-premium-sidebar-box-item-content"},Re.a.createElement(pt.a.Item,{validateStatus:this.state.error_price?"error":"success",help:this.state.error_price},Re.a.createElement(Me.a,{value:this.state.price,"data-testid":"ne-sidebar-premium-input-price",placeholder:"".concat(BF.price.min,"-").concat(BF.price.max),disabled:this.state.freeze,onChange:this._handleChangePrice,suffix:xm("元"),style:{width:120}})))))}},{key:"_renderDaysCountBox",value:function(){return Re.a.createElement("div",{className:"ne-premium-sidebar-box"},Re.a.createElement("div",{className:"ne-premium-sidebar-box-item"},Re.a.createElement("div",{className:"ne-premium-sidebar-box-item-label"},xm("付费时长")),Re.a.createElement("div",{className:"ne-premium-sidebar-desc"},xm("付费阅读天数内，需付费才能阅读。付费阅读天数后，文档会自动设置为免费就可阅读全文。时长只能设置一次，发布后不可修改")),Re.a.createElement("div",{className:"ne-premium-sidebar-box-item-content"},Re.a.createElement(pt.a.Item,{validateStatus:this.state.error_daysCount?"error":"success",help:this.state.error_daysCount},Re.a.createElement(Me.a,{value:this.state.daysCount,"data-testid":"ne-sidebar-premium-input-days",placeholder:"".concat(BF.daysCount.min,"-").concat(BF.daysCount.max),onChange:this._handleChangeDuration,disabled:this.state.freeze,style:{width:120},suffix:xm("天")})))))}},{key:"_renderTipBox",value:function(){return Re.a.createElement("div",{className:"ne-premium-sidebar-box"},Re.a.createElement("div",{className:"ne-premium-sidebar-box-item"},Re.a.createElement("div",{className:"ne-premium-sidebar-box-item-label"},xm("自定义分割线文案")),Re.a.createElement("div",{className:"ne-premium-sidebar-box-item-content"},Re.a.createElement(pt.a.Item,{validateStatus:this.state.error_tip?"error":"success",help:this.state.error_tip},Re.a.createElement(Me.a.TextArea,{autoSize:{minRows:1,maxRows:3},value:this.state.tip,"data-testid":"ne-sidebar-premium-textarea",placeholder:xm("以下内容需付费阅读"),autoComplete:"off",onChange:this._handleChangeTip,disabled:this.state.expired})))))}}]),i}();m()(AF,"propTypes",{cardData:De.a.instanceOf(km).isRequired,descriptor:De.a.instanceOf(fF).isRequired,onChange:De.a.func}),m()(AF,"defaultProps",{onChange:function(){}});var IF=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_premiumCardNode",null),m()(l()(t),"_viewHandle",null),t._premiumCardNode=e,t}return a()(i,[{key:"init",value:function(){var e=this._premiumCardNode.cardData;this._viewHandle=XN.render(AF,{cardData:e,descriptor:this,onChange:function(t){var n=t.tip,r=t.price,o=t.daysCount;e.setTip(n),e.setPrice(r),e.setDaysCount(o),e.sync(!1)}},this.sidebarRootNode)}},{key:"destroy",value:function(){this._viewHandle&&(this._viewHandle.destroy(),this._viewHandle=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!1}}]),i}();FN(".ne-premium-wrap {\n  position: relative;\n}\n.ne-premium-wrap.disabled .ne-premium-box {\n  color: #ccc;\n}\n.ne-premium-wrap.disabled .ne-premium-box:hover {\n  background: #fff;\n}\n.ne-premium-wrap.disabled .ne-premium-box::before,\n.ne-premium-wrap.disabled .ne-premium-box::after {\n  background: #f0f0f0;\n}\n.ne-premium-wrap.disabled .ne-premium-box .ne-icon {\n  display: none;\n  margin-right: 0px;\n}\n.ne-premium-wrap .ne-premium-box {\n  position: relative;\n  overflow: hidden;\n  z-index: 1;\n  height: 40px;\n  color: #f5bc57;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n.ne-premium-wrap .ne-premium-box:hover {\n  background: #fafafa;\n}\n.ne-premium-wrap .ne-premium-box::before,\n.ne-premium-wrap .ne-premium-box::after {\n  background: #f5bc57;\n  content: ' ';\n  height: 1px;\n  flex: auto;\n}\n.ne-premium-wrap .ne-premium-box.expired {\n  color: #999;\n}\n.ne-premium-wrap .ne-premium-box.expired::before,\n.ne-premium-wrap .ne-premium-box.expired::after {\n  background: #ccc;\n}\n.ne-premium-wrap .ne-premium-box .lake-icon {\n  margin-right: 10px;\n}\n.ne-premium-wrap .ne-premium-box .ne-premium-content {\n  margin: 0 10px;\n}\n");var jF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.disabled,r=Re.a.createElement(Re.a.Fragment,null,Re.a.createElement(oE,{iconfont:"yuan"}),t.tip||km.DefaultCardValue.tip);return(n||t.expired)&&(r=t.expired?km.DefaultCardValue.expiredTip:km.DefaultCardValue.disabledTip),Re.a.createElement("div",{className:"ne-premium-wrap","data-testid":"ne-premium-wrap"},Re.a.createElement("div",{className:"ne-premium-box ".concat(t.expired||n?"expired":"")},Re.a.createElement("div",{className:"ne-premium-content"},r)))}}]),i}();m()(jF,"propTypes",{cardData:De.a.instanceOf(km).isRequired,active:De.a.bool,disabled:De.a.bool}),m()(jF,"defaultProps",{active:!1,disabled:!1});var VF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.active;return Re.a.createElement(jF,{cardData:t,active:n})}}]),i}();m()(VF,"propTypes",{cardData:De.a.object.isRequired,active:De.a.bool}),m()(VF,"defaultProps",{active:!1});var zF=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.uiViewProxy=cO.render(VF,{cardData:this.cardData,active:!0},this.containerNode)}},{key:"focus",value:function(){this.uiViewProxy.rerender({active:!0})}},{key:"blur",value:function(){this.uiViewProxy.rerender({active:!1})}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete"]}}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();var UF=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;o()(this,i);for(var a=arguments.length,c=new Array(a>2?a-2:0),s=2;s<a;s++)c[s-2]=arguments[s];return n=r.call.apply(r,[this].concat(c)),m()(l()(n),"_iEditor",null),m()(l()(n),"_descriptor",null),m()(l()(n),"_cardUI",null),n._iEditor=e,n.cardOption=t,n.cardData.setExpired(n.cardOption.expired),n.cardData.setFreeze(n.cardOption.freeze),n}return a()(i,[{key:"destroy",value:function(){this._cardUI&&this._cardUI.destroy(),this._descriptor&&this._descriptor.destroy()}},{key:"init",value:function(){this._cardUI=this._iEditor.createCardUI(this)}},{key:"$focus",value:function(){this._iEditor.hasExtend("sidebar")&&(this._descriptor=new IF(this),this._iEditor.sidebar.open(this._descriptor)),B()(p()(i.prototype),"$focus",this).call(this)}},{key:"$blur",value:function(){this._descriptor&&this._descriptor.close(),B()(p()(i.prototype),"$blur",this).call(this)}}]),i}();m()(UF,"$EditableCardUI",zF),m()(UF,"$CardData",km),FN('.ne-engine ne-card[data-card-name="premium"] {\n  vertical-align: bottom;\n  display: block;\n}\n.ne-engine ne-card[data-card-name="premium"] ne-card-root {\n  display: block;\n}\n');var HF=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this;t.registerBlockCard(this,"premium",{factory:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return ut()(UF,[e,n.option].concat(r))}}),e.onPluginEvent("insertCardByUI:premium",(function(){e.execCommand("insertPremium",km.getInitCardValue(n.option),!0)})),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("premium",{type:"TextItem",icon:"card-premium",label:xm("付费阅读"),keywords:"付费阅读,ffyd,fufei,yuedu,premium,reading"})}}]),i}();m()(HF,"PluginName","premium"),m()(HF,"PluginOption",vm),FN("@keyframes circle {\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.ne-ui-spin .ne-ui-spin-indicator {\n  margin: 0 auto;\n  width: 24px;\n  height: 24px;\n  border: 2px solid #8c8c8c;\n  border-color: #8c8c8c transparent transparent transparent;\n  border-radius: 50%;\n  animation: circle 1s linear infinite;\n}\n.ne-ui-spin-block {\n  display: block;\n}\n");var qF=["className","justify"],WF=Re.a.forwardRef((function(e,t){var n=e.className,r=e.justify,o=j()(e,qF);return Re.a.createElement(vt.a,Ee()({className:yt()("ne-ui-spin",n,{"ne-ui-spin-block":"block"===r}),indicator:Re.a.createElement("div",{className:"ne-ui-spin-indicator"}),ref:t},o))}));FN('ne-card[data-card-name="thirdparty"].ne-focused .ne-thirdparty-wrap {\n  border-color: #d9d9d9;\n}\nne-card[data-card-name="thirdparty"].ne-max .ne-thirdparty-wrap {\n  border-color: transparent;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-wrap {\n  height: 100%;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-wrap .ne-thirdparty-content {\n  line-height: 0;\n  background: #f6f6f6;\n  height: 100%;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-wrap .ne-thirdparty-iframe {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  opacity: 0;\n  visibility: hidden;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-wrap .ne-thirdparty-iframe-loaded {\n  opacity: 1;\n  visibility: visible;\n  z-index: 2;\n  background: #fff;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-wrap .ne-thirdparty-content-bg {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80px;\n  height: 80px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -40px;\n  margin-left: -40px;\n  text-align: center;\n  line-height: 80px;\n  color: #666;\n  font-size: 36px;\n  z-index: 1;\n  visibility: visible;\n  opacity: 1;\n  transition: all 0.3s linear;\n}\nne-card[data-card-name="thirdparty"] .ne-card-container[data-alias] {\n  height: 500px;\n}\nne-card[data-card-name="thirdparty"] .ne-card-container[data-alias="xiami"] {\n  height: 112px;\n}\nne-card[data-card-name="thirdparty"] .ne-card-container[data-alias="music163"] {\n  height: 88px;\n}\nne-card[data-card-name="thirdparty"] .ne-card-container[data-alias="ximalaya"] {\n  height: 38px;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-unavailable {\n  background: #f6f6f6;\n  border-radius: 4px;\n  font-size: 14px;\n  color: #bfbfbf;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 88px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  user-select: text;\n}\nne-card[data-card-name="thirdparty"] .ne-thirdparty-unavailable .ne-thirdparty-unavailable-info {\n  margin-left: 8px;\n  display: inline-block;\n  word-break: break-all;\n  max-width: calc(100% - 128px);\n}\n');var ZF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this,e))._iframeRef=Re.a.createRef(),t._bgRef=Re.a.createRef(),t.state={focus:e.focus},t}return a()(i,[{key:"componentDidMount",value:function(){var e,t=this;null!==(e=this._iframeRef)&&void 0!==e&&e.current&&sE(this,this._iframeRef.current,"load",(function(){t._iframeRef.current.classList.add("ne-thirdparty-iframe-loaded"),t._bgRef.current.style="display: none"}))}},{key:"render",value:function(){var e=this.props.cardData;if(!e.getSrc())return null;var t=e.getEmbedURL();return e.isAvailable()&&t?Re.a.createElement("div",{className:"ne-thirdparty-wrap",style:{},"data-testid":"ne-thirdparty-reader-status"},Re.a.createElement("div",{className:"ne-thirdparty-content"},Re.a.createElement("div",{className:"ne-thirdparty-content-bg",ref:this._bgRef},Re.a.createElement(WF,null)),Re.a.createElement("iframe",{className:"ne-thirdparty-iframe","data-testid":"ne-thirdparty-reader-iframe",sandbox:"allow-forms allow-orientation-lock allow-presentation allow-same-origin allow-scripts allow-popups allow-downloads",src:t,frameBorder:0,allowFullScreen:!0,ref:this._iframeRef}))):Re.a.createElement("div",{className:"ne-thirdparty-unavailable","data-testid":"ne-thirdparty-unavailable-view"},Re.a.createElement(oE,{type:"card-thirdparty-unavailable"}),Re.a.createElement("span",{className:"ne-thirdparty-unavailable-info"},xm("该卡片引入的链接无法访问："),e.getSrc()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.focus!==t.focus?{focus:e.focus}:null}}]),i}();m()(ZF,"propTypes",{cardData:De.a.object.isRequired,cardType:De.a.string,focus:De.a.bool}),m()(ZF,"defaultProps",{focus:!0,available:!0}),FN(".ne-thirdparty-creator-wrap {\n  border-radius: 2px;\n}\n.ne-thirdparty-creator-form {\n  position: relative;\n  border-radius: 2px;\n}\n.ne-thirdparty-creator-input {\n  margin-left: 10px;\n}\n.ne-thirdparty-creator-input input {\n  width: calc(100% - 200px);\n  border: 0;\n  height: 40px;\n  line-height: 40px;\n  margin: 4px 0;\n  font-size: 14px;\n  outline: none;\n}\n.ne-thirdparty-creator-input input::placeholder {\n  color: rgba(0, 0, 0, 0.25);\n}\n.ne-thirdparty-creator-button {\n  position: absolute;\n  top: 9px;\n  right: 12px;\n}\n.ne-thirdparty-creator-example-button,\n.ne-thirdparty-creator-help {\n  border: 0;\n  padding: 0;\n  background: none;\n  cursor: pointer;\n  outline: none;\n  color: #595959;\n  margin-right: 16px;\n  letter-spacing: unset;\n}\n");var KF=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_inputRef",Re.a.createRef()),m()(l()(e),"_submitRef",Re.a.createRef()),m()(l()(e),"setCursorPosition",(function(t){var n=e._inputRef.current;"before"!==t?"after"!==t||n.setSelectionRange(n.value.length,n.value.length):n.setSelectionRange(0,0)})),m()(l()(e),"handleSubmit",(function(t){t?e.props.onSubmit(t):je.b.error(xm("请输入链接"))})),m()(l()(e),"getInputValue",(function(){return e._inputRef.current.value})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this;sE(this,this._inputRef.current,"keydown",(function(t){var n=e._inputRef.current,r=n.selectionStart;if((jE.isTab(t)||jE.isEnter(t))&&(t.preventDefault(),t.stopPropagation()),!jE.isEnter(t))return(jE.isArrowLeft(t)||jE.isArrowUp(t))&&0===r?(t.preventDefault(),void e.props.onExitCardByKeyboard("before")):(jE.isArrowRight(t)||jE.isArrowDown(t))&&r===n.value.length?(t.preventDefault(),void e.props.onExitCardByKeyboard("after")):void 0;e.handleSubmit(e.getInputValue())})),sE(this,this._submitRef.current,"click",(function(){e.handleSubmit(e.getInputValue())})),this.props.focus&&this._inputRef.current.focus()}},{key:"componentDidUpdate",value:function(e){this.props.focus&&!e.focus&&this._inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props.cardData.getDetail(),n=t.example,r=t.placeholder,o=t.help;return Re.a.createElement("div",{className:"ne-thirdparty-creator-wrap","data-testid":"ne-thirdparty-writer-status"},Re.a.createElement("div",{className:"ne-thirdparty-creator-form"},Re.a.createElement("span",{className:"ne-thirdparty-creator-input"},Re.a.createElement("input",{"data-role":"url","data-testid":"ne-thirdparty-writer-input",placeholder:r,spellCheck:"false",autoComplete:"off",ref:this._inputRef})),Re.a.createElement("span",{className:"ne-thirdparty-creator-button"},n&&Re.a.createElement("button",{type:"button",className:"ne-thirdparty-creator-example-button","data-role":"example","data-testid":"ne-thirdparty-writer-example-button",onMouseDown:function(e){return e.preventDefault()},onClick:function(){e.handleSubmit(n)}},xm("查看示例")),o&&Re.a.createElement("a",{href:o,className:"ne-thirdparty-creator-help",target:"_blank"},xm("查看帮助")),Re.a.createElement("button",{type:"button",className:"ant-btn ant-btn-primary","data-role":"submit","data-testid":"ne-thirdparty-writer-sure-button",ref:this._submitRef},Re.a.createElement("span",null,xm("确定"))))))}}]),i}();m()(KF,"propTypes",{cardData:De.a.object.isRequired,focus:De.a.bool,onSubmit:De.a.func,onExitCardByKeyboard:De.a.func}),m()(KF,"defaultProps",{focus:!1,onSubmit:function(){},onExitCardByKeyboard:function(){}});var $F=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_writerRef",Re.a.createRef()),e}return a()(i,[{key:"setCursorPosition",value:function(){this._writerRef.current&&this._writerRef.current.setCursorPosition()}},{key:"render",value:function(){return this.props.cardData.getSrc()?this.renderReader():this.renderWriter()}},{key:"renderReader",value:function(){return Re.a.createElement(ZF,{cardData:this.props.cardData})}},{key:"renderWriter",value:function(){var e=this;return Re.a.createElement(KF,{ref:this._writerRef,focus:this.props.focus,cardData:this.props.cardData,onSubmit:function(t){e.props.onSubmit(t)},onExitCardByKeyboard:this.props.onExitCardByKeyboard})}}]),i}();m()($F,"propTypes",{focus:De.a.bool,cardData:De.a.instanceOf(py).isRequired,onSubmit:De.a.func,onExitCardByKeyboard:De.a.func}),m()($F,"defaultProps",{onSubmit:function(){}});var JF=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"init",value:function(){var e=this;this.uiViewProxy=cO.render($F,{cardData:this.cardData,focus:!1,onSubmit:function(t){e.emit("submit",t)},onExitCardByKeyboard:function(t){e.focusCardTo(t)}},this.containerNode)}},{key:"destroy",value:function(){this.uiViewProxy&&(this.uiViewProxy.destroy(),this.uiViewProxy=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this.uiViewProxy.rerender({focus:!0}),this.focusByKeyboard&&this.uiViewProxy.getReactRef().setCursorPosition(this.focusByKeyboard)}},{key:"blur",value:function(){this.uiViewProxy.rerender({focus:!1})}},{key:"getCardToolbarConfig",value:function(){var e=this;return this.cardData.getSrc()?[{name:"thirdpartyToLink",text:xm("转为链接"),icon:"t-link",onClick:function(){e.emit("thirdpartyToLink")}},"|",{name:"openLink",text:xm("访问链接"),icon:"o-visit-link",onClick:function(){e.emit("openLinkBtnClick")}}]:null}},{key:"getContainerToolbarConfig",value:function(){var e=["delete","copy","|","widthMode","|","spacing"];return this.cardData.isAllowMaximize()&&e.unshift({name:"maximize",option:{concise:!0}}),{draggable:!0,items:e}}},{key:"getResizerConfig",value:function(){return this._cardData.isAllowResize()?{min:100,max:1500}:null}},{key:"getCardMaskConfig",value:function(){return!!this.cardData.getSrc()}}]),i}();var YF=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this),this._ui.on("submit",(function(t){var n=fy.matchURL(t);n?(e.cardData.setSrc(n.validUrl),e.cardData.setType(n.Service.getName()),e.cardData.sync(!1),e._ui.refreshToolbar(),e._ui.refreshResizer()):je.b.error(xm("暂不支持显示该网站内容"))})),this._ui.on("thirdpartyToLink",(function(){e.plugin.thirdpartyToLink(e.id,e.cardData.getSrc())})),this._ui.on("openLinkBtnClick",(function(){e.plugin.requestOpenLink(e.cardData.getSrc())}))}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}}]),i}();m()(YF,"$EditableCardUI",JF),m()(YF,"$CardData",py);var GF=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_linkToThirdparty",(function(t){var n=(t.attrs||{}).src;if(n){var r=py.createBy(n);r&&e.iEditor.execCommand("linkToThirdparty",t.attrs.id,r)}})),m()(l()(e),"_extendLinkHandler",(function(t){var n=t.src;return n&&fy.matchURL(n)?{type:"button",name:"linkToThirdparty",icon:"card-tb-embed-view",tooltip:xm("转为第三方服务"),onClick:function(t){e._linkToThirdparty(t)}}:null})),e}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"thirdparty",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(YF,[e].concat(n))}}),e.onPluginEvent("insertCardByUI",(function(t){var n=t.name;dy[n]&&e.execCommand("insertCard","thirdparty",py.getInitCardValue({entrance:n}),!0)})),t.hasExtendMethod("extendLinkToolbar")&&t.extendLinkToolbar(this._extendLinkHandler),this.registerAllCardSelect(e)}},{key:"registerAllCardSelect",value:function(e){e.hasExtendMethod("registerCardSelect")&&(e.registerCardSelect("thirdparty",{type:"SubMenu",icon:"card-thirdparty",iconSize:16,label:xm("第三方服务")}),Object.keys(dy).forEach((function(t){var n=dy[t];n.getCardSelect()&&e.registerCardSelect(t,n.getCardSelect())})))}},{key:"requestOpenLink",value:function(e){this.iEditor.emitEvent("openThirdpartyLink",e)}},{key:"thirdpartyToLink",value:function(e,t){this.iEditor.execCommand("cardToLink",e,t)}}]),i}();function XF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XF(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(GF,"PluginName","thirdparty");var eT={parallel:5},tT=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_options",{}),m()(l()(t),"_taskIds",new Set),m()(l()(t),"_tasks",{}),m()(l()(t),"_completedTasks",[]),m()(l()(t),"_runningTasks",[]),m()(l()(t),"_pendingTasks",[]),m()(l()(t),"_failureTasks",[]),t._options=QF(QF({},eT),e),t}return a()(i,[{key:"hasTask",value:function(e){return this._taskIds.has(e)}},{key:"getTask",value:function(e){return this._tasks[e]}},{key:"isCompleted",value:function(){return this._pendingTasks.length+this._runningTasks.length===0}},{key:"addTask",value:function(e){var t=this;this._taskIds.add(e.id),this._pendingTasks.push(e),this._tasks[e.id]=e,setTimeout((function(){t._checkFinish()}),100)}},{key:"_checkFinish",value:function(){var e=this._pendingTasks.length,t=this._runningTasks.length;0!==e||0!==t?e>0&&t<this._options.parallel&&this._runTask(this._pendingTasks.shift()):this._finish()}},{key:"_runTask",value:function(e){var t=this;this._runningTasks.push(e),this._updateProgress(),xe()(ke.a.mark((function n(){return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.run();case 2:setTimeout((function(){e.destroy()}),1e4),n.t0=e.getStatus(),n.next=n.t0===RP.STATUS_SUCCESS?6:n.t0===RP.STATUS_ERROR||n.t0===RP.STATUS_ABORTED?8:10;break;case 6:return t._handleSuccess(e),n.abrupt("break",11);case 8:return t._handleFailure(e),n.abrupt("break",11);case 10:br("invalid task status","F:task-thread;L:92","F:task-thread;L:92");case 11:case"end":return n.stop()}}),n)})))()}},{key:"_updateProgress",value:function(){var e=this._completedTasks.length,t=this._runningTasks.length,n=this._pendingTasks.length,r=this._failureTasks.length;this.emit("progress",{completed:e,running:t,pending:n,failure:r,total:e+t+n})}},{key:"_handleSuccess",value:function(e){var t=this._runningTasks.indexOf(e);-1!==t&&this._runningTasks.splice(t,1),this._completedTasks.push(e),this._updateProgress(),this._checkFinish()}},{key:"_handleFailure",value:function(e){var t=this._runningTasks.indexOf(e);-1!==t&&this._runningTasks.splice(t,1),this._failureTasks.push(e),this._updateProgress(),this._checkFinish()}},{key:"_finish",value:function(){}},{key:"_destroy",value:function(){this.removeAllListeners()}}]),i}();var nT=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_thread",null),m()(l()(t),"_threadOptions",null),t._threadOptions=e,t}return a()(i,[{key:"destroy",value:function(){this.removeAllListeners()}},{key:"reset",value:function(e){this._id=e}},{key:"hasTask",value:function(e){return!!this._thread&&this._thread.hasTask(e)}},{key:"getTask",value:function(e){return this._thread?this._thread.getTask(e):null}},{key:"addTask",value:function(e){return this._thread||(this._thread=this._createThread()),this._thread.addTask(e),e}},{key:"isCompleted",value:function(){return!this._thread||this._thread.isCompleted()}},{key:"_createThread",value:function(){var e=this,t=new tT(this._threadOptions);return t.on("start",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["start"].concat(n))})),t.on("progress",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["progress"].concat(n))})),t.on("finished",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["finished"].concat(n)),e._thread=null})),t}}]),i}();var rT=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_uploadManager",null),m()(l()(e),"_uploadObserver",null),e}return a()(i,[{key:"init",value:function(e){var t=this,n=this.kernel;this._uploadManager=new nT,this._uploadObserver=new qP(this._uploadManager,e.iKernel),n.model.on("document.create",(function(e){t._uploadManager.reset(e.id)})),e.extend("uploadManager",this._uploadManager),e.extend("uploadObserver",this._uploadObserver)}},{key:"destroy",value:function(){this._uploadManager.destroy(),this._uploadObserver.destroy(),this._uploadManager=null,this._uploadObserver=null,B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(rT,"PluginName","upload");var oT={Button:"Button",FileButton:"FileButton",StatusButton:"StatusButton",EmojiButton:"EmojiButton",DoubleClickStatusButton:"DoubleClickStatusButton",Select:"Select",DropdownButton:"DropdownButton",InlineContentDropdownButton:"InlineContentDropdownButton",CardSelect:"CardSelect",Divider:"|",Custom:"Custom",BgColor:"BgColor",FontColor:"FontColor",CellBgColor:"CellBgColor",ColorPickerButton:"ColorPickerButton",ItalicFontStyle:"ItalicFontStyle",UnderlineFontStyle:"UnderlineFontStyle",CodeTextStyle:"CodeTextStyle",SubscriptTextStyle:"SubscriptTextStyle",SuperscriptTextStyle:"SuperscriptTextStyle",Indent:"Indent",Outdent:"Outdent",FontSize:"FontSize",LineHeight:"LineHeight",FormatPainter:"FormatPainter",ClearFormat:"ClearFormat"};FN(".ne-ui-t-button {\n  cursor: pointer;\n  outline: none;\n  box-shadow: none;\n  border-radius: 2px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n}\n.ne-ui-t-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-t-button:after {\n  display: none!important;\n}\n.ne-ui-t-button:active,\n.ne-ui-t-button:focus {\n  background: transparent;\n}\n.ne-ui-t-button:hover,\n.ne-ui-t-button.ant-dropdown-open {\n  background: #F5F5F5;\n}\n.ne-ui-t-button.checked {\n  background: #E8E8E8;\n}\n");var iT=["className","name"];var aT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.name,r=j()(e,iT);return Re.a.createElement(gt.a,Ee()({className:nw(t,"ne-ui-t-button"),"data-ne-type":n},r))}}]),i}();function cT(e,t){for(var n in br("object"===R()(e),"F:is-state-changed;L:6"),br("object"===R()(t),"F:is-state-changed;L:7"),br(e,"F:is-state-changed;L:8"),e)if(!D()(t[n],e[n]))return!0;return!1}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(aT,"propTypes",{className:De.a.string,name:De.a.string}),FN(".ne-ui-toolbar-button {\n  min-width: 26px;\n  height: 26px;\n  border-radius: 6px;\n  padding: 0;\n  border: none;\n  background: transparent;\n}\n.ne-ui-toolbar-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-button:active,\n.ne-ui-toolbar-button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-button:hover {\n  background: #F5F5F5;\n}\n");var uT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,className:"",icon:null,iconfont:null}),m()(l()(t),"_clickHandler",(function(e){t.props.descriptor.onEvent("click",e.target)})),m()(l()(t),"_mouseOverHandler",(function(){t.props.descriptor.allowHover&&t.props.descriptor.onEvent("hoverIn")})),m()(l()(t),"_mouseOutHandler",(function(){t.props.descriptor.allowHover&&t.props.descriptor.onEvent("hoverOut")})),t.state=e.descriptor.getInitUIState()||t.state,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(sT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(sT({},n))}))}},{key:"render",value:function(){return nE(this.state.tooltip,Re.a.createElement(aT,{className:nw("ne-ui-toolbar-button",this.state.className,this.props.className),disabled:this.state.disabled,name:this.props.descriptor.name,onMouseOver:this._mouseOverHandler,onMouseOut:this._mouseOutHandler,onClick:this._clickHandler},Re.a.createElement(oE,{type:this.state.icon,iconfont:this.state.iconfont,size:this.state.iconSize})))}}]),i}();m()(uT,"propTypes",{className:De.a.string,descriptor:De.a.object.isRequired,index:De.a.number.isRequired,containerNode:De.a.object.isRequired}),FN(".ne-ui-toolbar-toggle-button {\n  width: 26px;\n  height: 26px;\n  border-radius: 6px;\n  padding: 0;\n  border: none;\n  background: transparent;\n}\n.ne-ui-toolbar-toggle-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-toggle-button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-toggle-button:active,\n.ne-ui-toolbar-toggle-button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-toggle-button:hover {\n  background: #F5F5F5;\n}\n.ne-ui-toolbar-toggle-button.checked {\n  background-color: #E8E8E8;\n}\n");var dT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_clickHandler",(function(){e.props.onChange(!e.props.checked)})),e}return a()(i,[{key:"render",value:function(){var e=nw(this.props.className,"ne-ui-toolbar-toggle-button",this.props.checked?"checked":"");return nE(this.props.tooltip,Re.a.createElement(aT,{icon:this.props.icon,disabled:this.props.disabled,name:this.props.name,className:e,htmlType:"button",onClick:this._clickHandler,type:"default"},this.props.children))}}]),i}();function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(dT,"propTypes",{icon:De.a.string,className:De.a.string,checked:De.a.bool,children:De.a.array,onChange:De.a.func,disabled:De.a.bool,name:De.a.string,tooltip:De.a.oneOfType([De.a.string,De.a.array])}),m()(dT,"defaultProps",{checked:!1,onChange:function(){}});var pT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,checked:!1,icon:"",text:"",iconfont:null,tooltip:null}),m()(l()(t),"_changeHandler",(function(e){t.props.descriptor.onEvent("change",e)})),t.state=e.descriptor.getInitUIState()||t.state,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(hT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(hT({},n))}))}},{key:"render",value:function(){var e=nw("ne-toolbar-widget","ne-ui-toolbar-status-button",this.state.className);return Re.a.createElement(dT,{className:e,checked:this.state.checked,disabled:this.state.disabled,name:this.props.descriptor.name,tooltip:this.state.tooltip,onChange:this._changeHandler},Re.a.createElement(oE,{type:this.state.icon,iconfont:this.state.iconfont,size:this.state.iconSize}),this.state.text&&Re.a.createElement("span",null,this.state.text))}}]),i}();m()(pT,"propTypes",{descriptor:De.a.object.isRequired}),FN(".ne-ui-divider {\n  display: inline-flex;\n  width: 1px;\n  height: 24px;\n  background-color: #F5F5F5;\n}\n");var vT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=nw(this.props.className,"ne-ui-divider");return Re.a.createElement("div",{className:e})}}]),i}();m()(vT,"propTypes",{className:De.a.string}),FN('.ne-ui-toolbar-arrow-button {\n  border: none;\n  background: transparent;\n  width: 42px;\n  padding: 0;\n}\n.ne-ui-toolbar-arrow-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-arrow-button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-arrow-button:active,\n.ne-ui-toolbar-arrow-button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-arrow-button:hover {\n  background: #F5F5F5;\n}\n.ne-ui-toolbar-arrow-button > .ne-icon {\n  width: 26px;\n}\n.ne-ui-toolbar-arrow-down {\n  width: 16px;\n  height: 16px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-image: url("https://gw.alipayobjects.com/zos/bmw-prod/d5fce5b0-cd60-43b0-a351-9463486be4d2.svg");\n}\n');var mT=["className","children"];var yT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=j()(e,mT);return nE(this.props.tooltip,Re.a.createElement(aT,Ee()({"data-ne-button-arrow":"true",className:nw(t,"ne-ui-toolbar-arrow-button")},r),n,Re.a.createElement("span",{className:"ne-ui-toolbar-arrow-down"})))}}]),i}();function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(yT,"propTypes",{className:De.a.string,disabled:De.a.bool,children:De.a.any,tooltip:De.a.oneOfType([De.a.string,De.a.array])}),FN(".ne-ui-toolbar-select-button {\n  padding: 0 5px 0 10px;\n  width: auto;\n  border-radius: 6px;\n}\n.ne-ui-toolbar-select-value {\n  width: 40px;\n  text-align: left;\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #000000;\n}\n.ne-ui-select-menu {\n  border-radius: 5px;\n}\n.ne-ui-select-menu .ne-ui-select-item {\n  position: relative;\n  padding: 4px 15px 4px 25px;\n  line-height: 30px;\n  font-size: 12px;\n}\n.ne-ui-select-menu .ne-ui-select-item.ant-dropdown-menu-item-selected {\n  background: none;\n}\n.ne-ui-select-menu .ne-ui-select-item.ant-dropdown-menu-item-selected .ne-ui-select-item-check-icon {\n  opacity: 1;\n}\n.ne-ui-select-menu .ne-ui-select-item-check-icon {\n  position: absolute;\n  left: 5px;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n}\n.ne-ui-select-menu .ne-ui-select-item .ne-ui-select-item-label {\n  margin-left: 10px;\n}\n");var wT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,value:null,className:"",dropdownClassName:"",options:[],tooltip:null}),m()(l()(t),"_selectHandler",(function(e){var n=e.key;t.props.descriptor.onEvent("select",n)})),t.state=e.descriptor.getInitUIState()||t.state,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(bT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(bT({},n))}))}},{key:"render",value:function(){var e,t,n=this;return Re.a.createElement(Le.a,{disabled:this.state.disabled,overlay:this._renderMenu(),overlayClassName:this.state.dropdownClassName,getPopupContainer:function(){return n.props.dropdownContainer},placement:null===(e=this.state.componentProperty)||void 0===e?void 0:e.placement,trigger:"click",align:null===(t=this.state.componentProperty)||void 0===t?void 0:t.offset},Re.a.createElement(yT,{disabled:this.state.disabled,tooltip:this.state.tooltip,className:nw("ne-ui-toolbar-select-button",this.state.className,this.props.className)},Re.a.createElement("div",{className:"ne-ui-toolbar-select-value"},this._getLabel(this.state.value))))}},{key:"_getLabel",value:function(e){for(var t=this.state.options,n=0,r=t.length;n<r;n++)if(t[n].value===e)return t[n].label;return""}},{key:"_renderMenu",value:function(){return Re.a.createElement(Pe.a,{selectedKeys:[this.state.value+""],className:"ne-ui-select-menu",onClick:this._selectHandler,onMouseDown:function(e){return e.preventDefault()}},this.state.options.map((function(e){return Re.a.createElement(Pe.a.Item,{key:e.value+"",className:"ne-ui-select-item"},Re.a.createElement("div",{className:"ne-ui-select-item-check-icon"},Re.a.createElement(oE,{iconfont:"toolbar-check"})),Re.a.createElement("div",{className:"ne-ui-select-item-label"},e.menuItem))})))}}]),i}();m()(wT,"propTypes",{className:De.a.string,descriptor:De.a.object.isRequired,dropdownContainer:De.a.object.isRequired});var xT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_handleOnSelect",(function(t,n){e.props.onSelect(t,n)})),m()(l()(e),"_handleSaveColor",(function(t){e.props.onSaveSelect(t)})),e}return a()(i,[{key:"render",value:function(){var e=nw(this.props.className,"ne-ui-color-picker"),t=this.props,n=t.activeColors,r=t.defaultColor;return 0===n.length&&r&&(n=[r]),Re.a.createElement(Fe.ColorPicker,Ee()({},this.props,{activeColors:n,show:this.props.show,customColors:this.props.customColors,onSelect:this._handleOnSelect,onSaveColor:this._handleSaveColor,className:e}))}}]),i}();m()(xT,"propTypes",{className:De.a.string,activeColors:De.a.array,defaultColor:De.a.string,customColors:De.a.array,show:De.a.bool,lang:De.a.string,onSelect:De.a.func,onSaveSelect:De.a.func,container:De.a.object}),m()(xT,"defaultProps",{onSelect:function(){},onSaveSelect:function(){},activeColors:[]}),FN(".ne-embed-icon {\n  width: 16px;\n  height: 16px;\n  display: flex !important;\n  justify-content: center;\n  align-items: center;\n}\n");var _T=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=nw(this.props.className,"ne-embed-icon","ne-embed-icon-".concat(this.props.type));return Re.a.createElement("span",{className:e},this._getIcon())}},{key:"_getIcon",value:function(){var e=this.props,t=e.type,n=e.fill;return e.stroke,"t-font-color"===t?function(e){return Re.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 240 240",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Re.a.createElement("title",null,"icon/字体颜色"),Re.a.createElement("defs",null,Re.a.createElement("rect",{id:"path-1",x:"0",y:"0",width:"256",height:"256"})),Re.a.createElement("g",{id:"icon/字体颜色",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Re.a.createElement("g",{transform:"translate(0.000000, 0.500000)"},Re.a.createElement("mask",{id:"mask-2",fill:"white"},Re.a.createElement("use",{xlinkHref:"#path-1"})),Re.a.createElement("g",{id:"蒙版"}),Re.a.createElement("g",{mask:"url(#mask-2)"},Re.a.createElement("g",{transform:"translate(39.000000, 17.353553)"},Re.a.createElement("path",{d:"M11,201.146447 L167,201.146447 C173.075132,201.146447 178,206.071314 178,212.146447 C178,218.221579 173.075132,223.146447 167,223.146447 L11,223.146447 C4.92486775,223.146447 7.43989126e-16,218.221579 0,212.146447 C-7.43989126e-16,206.071314 4.92486775,201.146447 11,201.146447 Z",id:"矩形",fill:e,fillRule:"evenodd"}),Re.a.createElement("path",{d:"M72.3425855,16.8295583 C75.799482,7.50883712 86.1577877,2.75526801 95.4785089,6.21216449 C100.284516,7.99463061 104.096358,11.7387855 105.968745,16.4968188 L106.112518,16.8745422 L159.385152,161.694068 C161.291848,166.877345 158.635655,172.624903 153.452378,174.531599 C148.358469,176.405421 142.719567,173.872338 140.716873,168.864661 L140.614848,168.598825 L89.211,28.86 L37.3759214,168.623816 C35.4885354,173.712715 29.8981043,176.351047 24.7909589,174.617647 L24.5226307,174.522368 C19.4337312,172.634982 16.7953993,167.044551 18.5287999,161.937406 L18.6240786,161.669077 L72.3425855,16.8295583 Z",id:"路径-21",fill:"#262626",fillRule:"nonzero"}),Re.a.createElement("path",{d:"M121,103.146447 C126.522847,103.146447 131,107.623599 131,113.146447 C131,118.575687 126.673329,122.994378 121.279905,123.142605 L121,123.146447 L55,123.146447 C49.4771525,123.146447 45,118.669294 45,113.146447 C45,107.717207 49.3266708,103.298515 54.7200952,103.150288 L55,103.146447 L121,103.146447 Z",id:"路径-22",fill:"#262626",fillRule:"nonzero"}))))))}(n):"t-bg-color"===t?function(e){return Re.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Re.a.createElement("title",null,"icon/填充色"),Re.a.createElement("defs",null,Re.a.createElement("rect",{id:"path-1",x:"0",y:"0",width:"256",height:"256"})),Re.a.createElement("g",{id:"icon/填充色",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Re.a.createElement("g",{id:"icon/背景颜色"},Re.a.createElement("mask",{id:"mask-2",fill:"white"}),Re.a.createElement("g",{id:"蒙版"}),Re.a.createElement("g",{id:"编组",mask:"url(#mask-2)",fill:"#262626"},Re.a.createElement("g",{transform:"translate(119.502295, 137.878331) rotate(-135.000000) translate(-119.502295, -137.878331) translate(48.002295, 31.757731)",id:"矩形"},Re.a.createElement("path",{d:"M100.946943,60.8084699 L43.7469427,60.8084699 C37.2852111,60.8084699 32.0469427,66.0467383 32.0469427,72.5084699 L32.0469427,118.70847 C32.0469427,125.170201 37.2852111,130.40847 43.7469427,130.40847 L100.946943,130.40847 C107.408674,130.40847 112.646943,125.170201 112.646943,118.70847 L112.646943,72.5084699 C112.646943,66.0467383 107.408674,60.8084699 100.946943,60.8084699 Z M93.646,79.808 L93.646,111.408 L51.046,111.408 L51.046,79.808 L93.646,79.808 Z",fillRule:"nonzero"}),Re.a.createElement("path",{d:"M87.9366521,16.90916 L87.9194966,68.2000001 C87.9183543,69.4147389 86.9334998,70.399264 85.7187607,70.4 L56.9423078,70.4 C55.7272813,70.4 54.7423078,69.4150264 54.7423078,68.2 L54.7423078,39.4621057 C54.7423078,37.2523513 55.5736632,35.1234748 57.0711706,33.4985176 L76.4832996,12.4342613 C78.9534987,9.75382857 83.1289108,9.5834005 85.8093436,12.0535996 C87.1658473,13.303709 87.9372691,15.0644715 87.9366521,16.90916 Z",fillRule:"evenodd"}),Re.a.createElement("path",{d:"M131.3,111.241199 L11.7,111.241199 C5.23826843,111.241199 0,116.479467 0,122.941199 L0,200.541199 C0,207.002931 5.23826843,212.241199 11.7,212.241199 L131.3,212.241199 C137.761732,212.241199 143,207.002931 143,200.541199 L143,122.941199 C143,116.479467 137.761732,111.241199 131.3,111.241199 Z M124,130.241 L124,193.241 L19,193.241 L19,130.241 L124,130.241 Z",fillRule:"nonzero"}))),Re.a.createElement("path",{d:"M51,218 L205,218 C211.075132,218 216,222.924868 216,229 C216,235.075132 211.075132,240 205,240 L51,240 C44.9248678,240 40,235.075132 40,229 C40,222.924868 44.9248678,218 51,218 Z",id:"矩形",fill:e,mask:"url(#mask-2)"}))))}(n):"t-cell-bg-color"===t?function(e){return Re.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Re.a.createElement("title",null,"icon/背景颜色"),Re.a.createElement("defs",null,Re.a.createElement("rect",{id:"path-1",x:"0",y:"0",width:"256",height:"256"})),Re.a.createElement("g",{id:"icon/背景颜色",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Re.a.createElement("g",null,Re.a.createElement("mask",{id:"mask-2",fill:"white"},Re.a.createElement("use",{xlinkHref:"#path-1"})),Re.a.createElement("g",{id:"蒙版"}),Re.a.createElement("path",{d:"M157.746212,50.9888527 L75.746212,50.9888527 C61.3868085,50.9888527 49.746212,62.6294492 49.746212,76.9888527 L49.746212,158.988853 C49.746212,173.348256 61.3868085,184.988853 75.746212,184.988853 L157.746212,184.988853 C172.105616,184.988853 183.746212,173.348256 183.746212,158.988853 L183.746212,76.9888527 C183.746212,62.6294492 172.105616,50.9888527 157.746212,50.9888527 Z M75.746212,70.9888527 L157.746212,70.9888527 C161.059921,70.9888527 163.746212,73.6751442 163.746212,76.9888527 L163.746212,158.988853 C163.746212,162.302561 161.059921,164.988853 157.746212,164.988853 L75.746212,164.988853 C72.4325035,164.988853 69.746212,162.302561 69.746212,158.988853 L69.746212,76.9888527 C69.746212,73.6751442 72.4325035,70.9888527 75.746212,70.9888527 Z",id:"矩形",fill:"#262626",fillRule:"nonzero",mask:"url(#mask-2)",transform:"translate(116.746212, 117.988853) rotate(45.000000) translate(-116.746212, -117.988853) "}),Re.a.createElement("path",{d:"M201.333333,164 C201.333333,164 188,179.781818 188,189.454545 C188,197.454545 194,204 201.333333,204 C208.666667,204 214.666667,197.454545 214.666667,189.454545 C214.666667,179.781818 201.333333,164 201.333333,164 Z",id:"Path",fill:"#262626",mask:"url(#mask-2)"}),Re.a.createElement("path",{d:"M50,219 L206,219 C212.075132,219 217,223.924868 217,230 C217,236.075132 212.075132,241 206,241 L50,241 C43.9248678,241 39,236.075132 39,230 C39,223.924868 43.9248678,219 50,219 Z",id:"矩形",fill:e,mask:"url(#mask-2)"}),Re.a.createElement("polygon",{id:"路径-24",fill:"#262626",opacity:"0.349999994",mask:"url(#mask-2)",points:"43 119.102921 192 119.102921 118.898066 199.102921"}),Re.a.createElement("g",{id:"路径-25",mask:"url(#mask-2)",fill:"#262626",fillRule:"nonzero"},Re.a.createElement("g",{transform:"translate(99.131915, 19.731915)",id:"路径-23"},Re.a.createElement("path",{d:"M-7.07106781,-7.07106781 C-3.23682931,-10.9053063 2.9363852,-10.9750197 6.85567738,-7.28020809 L7.07106781,-7.07106781 L71.0710678,56.9289322 C74.9763107,60.8341751 74.9763107,67.1658249 71.0710678,71.0710678 C67.2368293,74.9053063 61.0636148,74.9750197 57.1443226,71.2802081 L56.9289322,71.0710678 L-7.07106781,7.07106781 C-10.9763107,3.16582489 -10.9763107,-3.16582489 -7.07106781,-7.07106781 Z"}))))))}(n):null}}]),i}();function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}m()(_T,"propTypes",{className:De.a.string,type:De.a.string.isRequired,fill:De.a.string,stroke:De.a.string}),m()(_T,"defaultProps",{fill:"red"}),FN('.ne-ui-toolbar-color-button {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 42px;\n  height: 32px;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  margin-left: 8px !important;\n}\n.ne-ui-toolbar-color-button.disabled {\n  border-color: transparent !important;\n}\n.ne-ui-toolbar-color-button.ne-ui-dropdown-open {\n  background-color: #F5F5F5;\n  border-radius: 5px;\n  height: 26px;\n}\n.ne-ui-toolbar-color-button button {\n  padding: 0;\n  border: none;\n  background: transparent;\n  height: 25px;\n}\n.ne-ui-toolbar-color-button button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-color-button button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-color-button button:active,\n.ne-ui-toolbar-color-button button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-color-button button:hover {\n  background: #F5F5F5;\n}\n.ne-ui-toolbar-color-button button.ant-dropdown-open {\n  background: none;\n}\n.ne-ui-toolbar-color-button .ne-ui-toolbar-color-show-button {\n  width: 25px;\n  height: 26px;\n  border-radius: 5px;\n}\n.ne-ui-toolbar-color-button .ne-ui-toolbar-color-show-button .ne-ui-color-button {\n  border: 2px solid transparent;\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ne-ui-toolbar-color-button .ne-ui-toolbar-color-show-button .ne-ui-color-button:hover {\n  border-color: #F5F5F5;\n}\n.ne-ui-toolbar-color-button .ne-ui-toolbar-color-dropdown-button {\n  width: 16px;\n  min-width: unset;\n  border-left: 1px solid transparent;\n}\n.ne-ui-toolbar-color-picker-overlay {\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.12);\n}\n.ne-ui-toolbar-color-dropdown-arrow {\n  width: 16px;\n  height: 16px;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-image: url("https://gw.alipayobjects.com/zos/bmw-prod/d5fce5b0-cd60-43b0-a351-9463486be4d2.svg");\n}\n');var CT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{visible:!1,userColors:[]}),m()(l()(t),"_clickHandler",(function(){t.props.onSelect(t.props.color)})),m()(l()(t),"_selectHandler",(function(e,n){n||t.setState({visible:!1}),t.props.onSelect(e)})),m()(l()(t),"_saveColorHandler",(function(e){t.props.onSaveColor(e)})),t.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.state),t}return a()(i,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.defaultColor,o=t.activeColors,i=t.userColors,a=Re.a.createElement(xT,{defaultColor:r,activeColors:o,customColors:i,show:this.state.visible,onSaveSelect:this._saveColorHandler,onSelect:this._selectHandler});return Re.a.createElement("div",{"data-ne-button-arrow":"true",className:nw(n,"ne-ui-toolbar-color-button",this.props.disabled?"disabled":"",this.state.visible?"ne-ui-dropdown-open":"")},nE(this.props.tooltip,Re.a.createElement(aT,{key:"show",onClick:this._clickHandler,className:"ne-ui-toolbar-color-show-button",disabled:this.props.disabled},this.props.type?Re.a.createElement(_T,{type:this.props.type,fill:this.props.color}):null)),Re.a.createElement(Le.a,{overlay:a,visible:this.state.visible,align:{offset:[-29,3]},onVisibleChange:function(t){e.setState({visible:t})},overlayClassName:"ne-ui-toolbar-color-picker-overlay",trigger:"click",getPopupContainer:function(t){return e.props.popupContainer||t},disabled:this.props.disabled},nE(this.props.tooltip,Re.a.createElement(aT,{key:"dropdown",className:"ne-ui-toolbar-color-dropdown-button",disabled:this.props.disabled},Re.a.createElement("span",{className:"ne-ui-toolbar-color-dropdown-arrow"})))))}}]),i}();function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(CT,"propTypes",{className:De.a.string,children:De.a.any,disabled:De.a.bool,onSelect:De.a.func,onSaveColor:De.a.func,color:De.a.string,defaultColor:De.a.string,userColors:De.a.array,activeColors:De.a.array,type:De.a.string,popupContainer:De.a.object,tooltip:De.a.oneOfType([De.a.string,De.a.array])}),m()(CT,"defaultProps",{onSelect:function(){},onSaveColor:function(){}}),FN(".ne-ui-color-picker-button {\n  display: flex;\n}\n");var ET=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{className:"",defaultColor:void 0,color:void 0,activeColors:[],userColors:void 0,icon:null}),m()(l()(t),"_selectHandler",(function(e){t.props.descriptor.onEvent("select",e)})),m()(l()(t),"_saveColorHandler",(function(e){t.props.descriptor.onEvent("saveColor",e)}));var s=e.descriptor.getInitUIState();return t.state=NT(NT({},t.state),s),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(NT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(NT({},n))}))}},{key:"render",value:function(){var e=this.state.icon;return Re.a.createElement(CT,{disabled:this.state.disabled,type:e,color:this.state.color,defaultColor:this.state.defaultColor,activeColors:this.state.activeColors,userColors:this.state.userColors,onSelect:this._selectHandler,onSaveColor:this._saveColorHandler,className:nw(this.state.className,this.props.className),popupContainer:this.props.descriptor.uiLayer,tooltip:this.state.tooltip})}}]),i}();function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(ET,"propTypes",{className:De.a.string,onChange:De.a.func,descriptor:De.a.object.isRequired}),FN(".ne-ui-toolbar-dropdown-button {\n  border-radius: 6px;\n  width: 40px;\n  height: 27px;\n}\n.ne-ui-toolbar-dropdown-button-menu.ne-check-menu .ne-ui-menu-item {\n  padding-left: 32px;\n}\n.ne-ui-toolbar-dropdown-button-menu.ne-check-menu .ne-ui-menu-item .ne-icon-check {\n  position: absolute;\n  left: 10px;\n}\n.ne-ui-toolbar-dropdown-button-menu .ne-ui-menu-item {\n  min-width: 104px;\n  padding: 2px 16px;\n  font-size: 12px;\n}\n.ne-ui-toolbar-dropdown-button-menu .ne-ui-menu-item .ne-ui-menu-item-content {\n  display: flex;\n  align-items: center;\n  line-height: 30px;\n}\n.ne-ui-toolbar-dropdown-button-menu .ne-ui-menu-item.ne-disabled .ne-icon {\n  opacity: 0.25;\n}\n.ne-ui-toolbar-dropdown-button-menu .ne-ui-menu-item .ne-ui-dropdown-item-icon,\n.ne-ui-toolbar-dropdown-button-menu .ne-ui-menu-item .ne-icon {\n  margin-right: 10px;\n}\n.ne-ui-toolbar-dropdown-inline-container {\n  display: flex;\n  height: 40px;\n  width: auto;\n  justify-content: space-evenly;\n  align-items: center;\n  background-color: #FFFFFF;\n  border-radius: 5px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  padding: 0 5px;\n}\n.ne-ui-toolbar-dropdown-inline-container .ne-ui-inline-button {\n  width: 28px;\n  height: 28px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  border-radius: 5px;\n  margin-left: 3px;\n}\n.ne-ui-toolbar-dropdown-inline-container .ne-ui-inline-button.selected {\n  background-color: #E8E8E8;\n}\n.ne-ui-toolbar-dropdown-inline-container .ne-ui-inline-button:nth-of-type(1) {\n  margin-left: 0;\n}\n.ne-ui-toolbar-dropdown-inline-container .ne-ui-inline-button:hover {\n  background-color: #E8E8E8;\n}\n");var ST="MenuItem",BT="InlineItem",PT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,icon:"",iconfont:null,value:null,items:[],allowCheck:!0}),m()(l()(t),"_renderInlineItemContent",(function(){var e=t.state,n=e.items,r=e.value;return Re.a.createElement("div",{onMouseDown:function(e){return e.preventDefault()},className:"ne-ui-toolbar-dropdown-inline-container"},n.map((function(e,n){var o=e.tooltip,i=e.icon,a=e.iconfont,c=e.iconSize,l=e.value;return nE(o,Re.a.createElement("div",{onClick:function(){return t.props.descriptor.onEvent("select",l)},className:nw("ne-ui-inline-button",r===l&&"selected"),key:n},Re.a.createElement(oE,{type:i,iconfont:a,size:c})),{key:n})})))})),m()(l()(t),"_selectHandler",(function(e){t.props.descriptor.onEvent("select",e.key)})),t.state=DT(DT({},t.state),e.descriptor.getInitUIState()),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(DT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(DT({},n))}))}},{key:"render",value:function(){var e=this;return Re.a.createElement(Le.a,{disabled:this.state.disabled,overlay:this._handleRenderContent(),getPopupContainer:function(){return e.props.dropdownContainer},placement:window.h5?"topRight":"bottomCenter",trigger:"click"},Re.a.createElement(yT,{disabled:this.state.disabled,tooltip:this.state.tooltip,className:nw("ne-ui-toolbar-dropdown-button","ne-toolbar-widget","ne-ui-toolbar-dropdown-button",this.props.className)},Re.a.createElement(oE,{type:this.state.icon,iconfont:this.state.iconfont,size:this.state.iconSize})))}},{key:"_handleRenderContent",value:function(){switch(this.props.contentType){case ST:return this._renderMenu();case BT:return this._renderInlineItemContent();default:br(!1,"F:dropdown-button;L:96")}}},{key:"_renderMenu",value:function(){var e=this.state,t=e.items,n=e.value,r=t.some((function(e){return!!e.icon||!!e.iconfont}));return Re.a.createElement(Pe.a,{className:nw("ne-ui-toolbar-dropdown-button-menu",this.state.allowCheck&&"ne-check-menu"),onMouseDown:function(e){return e.preventDefault()},onClick:this._selectHandler},t.map((function(e,t){var o=Re.a.createElement("div",{className:"ne-ui-menu-item-content"},e.checked||e.value===n?Re.a.createElement(oE,{type:"check",className:"ne-ui-menu-item-checked"}):null,r?Re.a.createElement(oE,{className:"ne-ui-dropdown-item-icon",type:e.icon,iconfont:e.iconfont}):null,Re.a.createElement("div",{className:"ne-ui-menu-item-label"},e.label));return e.tooltip&&(o=nE(e.tooltip,o,{placement:"right",key:t})),Re.a.createElement(Pe.a.Item,{key:e.value,className:nw("ne-ui-menu-item",e.disabled?"ne-disabled":""),disabled:e.disabled},o)})))}}]),i}();m()(PT,"propTypes",{descriptor:De.a.object.isRequired,className:De.a.string,contentType:De.a.string,dropdownContainer:De.a.object});var FT=function(e){return Re.a.createElement(PT,Ee()({contentType:ST},e))},TT=function(e){return Re.a.createElement(PT,Ee()({contentType:BT},e))};var MT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNodeRef",Re.a.createRef()),m()(l()(e),"_clickHandler",(function(){e.props.onSelect(e.props.data,e.props.data.value)})),e}return a()(i,[{key:"getRootNode",value:function(){return this._rootNodeRef.current}},{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentWillUnmount",value:function(){this.props.onDestroy(this)}},{key:"render",value:function(){var e=this.props.showRemark,t=this.props.data,n=t.icon,r=t.iconSize,o=void 0===r?20:r,i=t.iconfont,a=t.label,c=t.remark,l=n||i?Re.a.createElement(oE,{type:n,iconfont:i,size:o}):null;return Re.a.createElement("div",{"data-testid":this.props["data-testid"],ref:this._rootNodeRef,onMouseEnter:this.props.onMouseEnter,onClick:this._clickHandler,className:nw(this.props.className,this.props.data.className,e&&c?"ne-ui-card-item-has-remark":"","ne-ui-text-item")},Re.a.createElement("div",{className:"ne-ui-card-item-icon"},l),Re.a.createElement("div",{className:"ne-ui-card-item-content"},Re.a.createElement("div",{className:"ne-ui-card-item-label"},a),e&&c?Re.a.createElement("div",{className:"ne-ui-card-item-remark"},c):null))}},{key:"click",value:function(){this._clickHandler()}}]),i}();m()(MT,"propTypes",{data:De.a.object.isRequired,onSelect:De.a.func,onMouseEnter:De.a.func,className:De.a.string,showRemark:De.a.bool,onReady:De.a.func,onDestroy:De.a.func,"data-testid":De.a.string}),m()(MT,"defaultProps",{onSelect:function(){},onMouseEnter:function(){},onReady:function(){},onDestroy:function(){}}),FN(".ne-ui-file-item-container {\n  position: relative;\n}\n.ne-ui-file-item-container .ne-ui-file-item {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n.ne-ui-file-item-container .ne-ui-file-item .ne-ui-file-item-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ne-ui-file-item-container .ne-ui-file-item .ne-ui-file-item-remark {\n  color: rgba(0, 0, 0, 0.35);\n  font-size: 12px;\n  line-height: 12px;\n  margin-top: 6px;\n  margin-left: 32px;\n}\n.ne-ui-file-item-container .ne-ui-file-item input {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 0;\n  height: 100%;\n  opacity: 0;\n}\n");var LT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_fileInputRef",Re.a.createRef()),m()(l()(e),"_rootNodeRef",Re.a.createRef()),m()(l()(e),"click",(function(){e._fileInputRef.current.click()})),m()(l()(e),"_fileChangeHandler",(function(t){var n=Array.from(t.target.files);t.target.value="",e._handleFiles(n)})),e}return a()(i,[{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentWillUnmount",value:function(){this.props.onDestroy(this)}},{key:"render",value:function(){var e=this.props.showRemark,t=this.props.data,n=t.icon,r=t.iconSize,o=void 0===r?20:r,i=t.iconfont,a=t.label,c=t.remark,l=t.multiple,s=t.accept,u=t.disabled,d=n||i?Re.a.createElement(oE,{type:n,iconfont:i,size:o}):null,f=u?null:Re.a.createElement("input",{ref:this._fileInputRef,multiple:l,onChange:this._fileChangeHandler,type:"file",accept:s||"*/*"}),h=nw(this.props.data.className,this.props.className,"ne-ui-file-item-container","ne-ui-text-item",e&&c?"ne-ui-card-item-has-remark":"",u?"ne-disabled":"");return Re.a.createElement("div",{"data-testid":this.props["data-testid"],ref:this._rootNodeRef,onMouseEnter:this.props.onMouseEnter,className:h,onClick:this.click},Re.a.createElement("div",{className:"ne-ui-file-item"},f,Re.a.createElement("div",{className:"ne-ui-file-item-content"},Re.a.createElement("div",{className:"ne-ui-card-item-icon"},d),Re.a.createElement("div",{className:"ne-ui-card-item-label"},a)),this._renderRemark()))}},{key:"_renderRemark",value:function(){if(!this.props.showRemark)return null;var e=this.props.data.remark;return"function"==typeof e&&(e=e()),e?Re.a.createElement("div",{className:"ne-ui-file-item-remark"},e):null}},{key:"getRootNode",value:function(){return this._rootNodeRef.current}},{key:"_handleFiles",value:function(e){e.length>0&&this.props.onSelect(this.props.data,e)}}]),i}();m()(LT,"propTypes",{data:De.a.object.isRequired,onSelect:De.a.func,onMouseEnter:De.a.func,className:De.a.string,showRemark:De.a.bool,onReady:De.a.func,onDestroy:De.a.func,"data-testid":De.a.string}),m()(LT,"defaultProps",{onSelect:function(){},onReady:function(){},onDestroy:function(){},onMouseEnter:function(){},multiple:!1});var AT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNodeRef",Re.a.createRef()),m()(l()(e),"_clickHandler",xe()(ke.a.mark((function t(){var n,r;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onBeforeSelect();case 2:n=t.sent,(r=new File([],"image.png")).path=n,e.props.onSelect(e.props.data,[r]);case 6:case"end":return t.stop()}}),t)})))),e}return a()(i,[{key:"getRootNode",value:function(){return this._rootNodeRef.current}},{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentWillUnmount",value:function(){this.props.onDestroy(this)}},{key:"render",value:function(){var e=this.props.showRemark,t=this.props.data,n=t.icon,r=t.iconSize,o=void 0===r?24:r,i=t.iconfont,a=t.label,c=t.remark,l=n||i?Re.a.createElement(oE,{type:n,iconfont:i,size:o}):null;return Re.a.createElement("div",{"data-testid":this.props["data-testid"],ref:this._rootNodeRef,onMouseEnter:this.props.onMouseEnter,onClick:this._clickHandler,className:nw(this.props.className,this.props.data.className,e&&c?"ne-ui-card-item-has-remark":"","ne-ui-text-item")},Re.a.createElement("div",{className:"ne-ui-card-item-icon"},l),Re.a.createElement("div",{className:"ne-ui-card-item-content"},Re.a.createElement("div",{className:"ne-ui-card-item-label"},a),e&&c?Re.a.createElement("div",{className:"ne-ui-card-item-remark"},c):null))}},{key:"click",value:function(){this._clickHandler()}}]),i}();m()(AT,"propTypes",{data:De.a.object.isRequired,onSelect:De.a.func,onBeforeSelect:De.a.func,onMouseEnter:De.a.func,className:De.a.string,showRemark:De.a.bool,onReady:De.a.func,onDestroy:De.a.func,"data-testid":De.a.string}),m()(AT,"defaultProps",{onSelect:function(){},onBeforeSelect:function(){return xe()(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve);case 1:case"end":return e.stop()}}),e)})))()},onMouseEnter:function(){},onReady:function(){},onDestroy:function(){}}),FN(".ne-ui-table-selector-row {\n  margin-top: -1px;\n  display: flex;\n}\n.ne-ui-table-selector-cell {\n  width: 20px;\n  height: 16px;\n  background-color: #fff;\n  border: 1px solid #d9d9d9;\n  margin-left: -1px;\n}\n.ne-ui-table-selector-cell.ne-ui-selected {\n  background-color: #ddefff;\n}\n");var IT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{row:3,col:3,x:-1,y:-1}),e}return a()(i,[{key:"render",value:function(){for(var e=this,t=[],n=this.state,r=n.row,o=n.col,i=n.x,a=n.y,c=Math.min(10,Math.max(r,a+1)+1),l=Math.min(10,Math.max(o,i+1)+1),s=function(n){for(var r=[],o=function(t){r.push(Re.a.createElement("div",{key:"".concat(n,"-").concat(t),className:nw("ne-ui-table-selector-cell",n<=a&&t<=i?"ne-ui-selected":""),onMouseEnter:function(){e._handleHoverIn(n,t)},onClick:function(){e._handleClick(n,t)}}))},c=0;c<l;c++)o(c);t.push(Re.a.createElement("div",{key:"row-".concat(n),className:"ne-ui-table-selector-row"},r))},u=0;u<c;u++)s(u);return Re.a.createElement("div",{className:"ne-ui-table-selector"},t,Re.a.createElement("div",{className:"ne-ui-table-selector-counter"},a+1," x ",i+1))}},{key:"_handleHoverIn",value:function(e,t){this.setState({x:t,y:e})}},{key:"_handleClick",value:function(e,t){this.props.onSelect(e+1,t+1)}}]),i}();m()(IT,"propTypes",{row:De.a.number,col:De.a.number,onSelect:De.a.func}),m()(IT,"defaultProps",{onSelect:function(){}}),FN("");var jT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNodeRef",Re.a.createRef()),m()(l()(e),"_clickHandler",(function(){e.props.onSelect(e.props.data,{row:3,col:3})})),e}return a()(i,[{key:"getRootNode",value:function(){return this._rootNodeRef.current}},{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentWillUnmount",value:function(){this.props.onDestroy(this)}},{key:"render",value:function(){var e=this,t=this.props.data,n=t.icon,r=t.iconSize,o=void 0===r?24:r,i=t.iconfont,a=t.label,c=n||i?Re.a.createElement(oE,{type:n,iconfont:i,size:o}):null,l=Re.a.createElement("div",{"data-testid":this.props["data-testid"],ref:this._rootNodeRef,onClick:this._clickHandler,onMouseEnter:this.props.onMouseEnter,className:nw(this.props.className,"ne-ui-file-item")},Re.a.createElement("div",{className:"ne-ui-card-item-icon"},c),a);return this.props.data.allowSelector?Re.a.createElement(Se.a,{trigger:"hover",placement:"rightTop",getPopupContainer:function(){return e.props.overlayContainer||document.body},content:this._renderSelector()},l):l}},{key:"click",value:function(){this._clickHandler()}},{key:"_renderSelector",value:function(){var e=this;return Re.a.createElement(IT,{onSelect:function(t,n){e.props.onSelect(e.props.data,{row:t,col:n})}})}}]),i}();m()(jT,"propTypes",{data:De.a.object.isRequired,overlayContainer:De.a.any,onSelect:De.a.func,onMouseEnter:De.a.func,className:De.a.string,onReady:De.a.func,onDestroy:De.a.func,"data-testid":De.a.string}),m()(jT,"defaultProps",{onSelect:function(){},onMouseEnter:function(){},onReady:function(){},onDestroy:function(){}}),FN(".ne-ui-card-sub-menu {\n  padding: 8px 0;\n  border-radius: 4px;\n  overflow: hidden;\n}\n.ne-ui-card-sub-menu-overlay {\n  padding-left: 0;\n}\n.ne-ui-card-sub-menu-overlay .ant-popover-inner-content {\n  padding: 0;\n}\n.ne-ui-card-sub-menu-overlay .ant-popover-arrow {\n  display: none;\n}\n");var VT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNodeRef",Re.a.createRef()),e}return a()(i,[{key:"getRootNode",value:function(){return this._rootNodeRect.current}},{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentWillUnmount",value:function(){this.props.onDestroy(this)}},{key:"render",value:function(){var e=this;return Re.a.createElement(Se.a,{overlayClassName:"ne-ui-card-sub-menu-overlay",content:this.renderContent(),getPopupContainer:function(){return e.props.overlayContainer||document.body},placement:"rightTop"},Re.a.createElement("div",{ref:this._rootNodeRef,onMouseEnter:this.props.onMouseEnter,className:"ne-ui-card-sub-menu-trigger"},Re.a.createElement(MT,{"data-testid":this.props["data-testid"],className:"ne-ui-card-menu-item",data:this.props.data}),Re.a.createElement(oE,{type:"card-arrow",className:"ne-ui-card-sub-menu-trigger-icon"})))}},{key:"renderContent",value:function(){var e=this.props.data.config,t=null;e.headerHTML&&(t=this._renderHeader(e.headerHTML));var n=this._renderGroups(e.groups);return Re.a.createElement("div",{className:"ne-ui-card-sub-menu",onMouseDown:function(e){return e.preventDefault()}},t,n)}},{key:"_renderHeader",value:function(e){return Re.a.createElement("div",{className:"ne-ui-card-sub-menu-header",dangerouslySetInnerHTML:{__html:e}})}},{key:"_renderGroups",value:function(e){var t=this;return e.map((function(e,n){var r=e.title;return Re.a.createElement("div",{className:"ne-card-sub-menu-group",key:"sub-group-".concat(n)},r?t._renderGroupTitle(r):null,t._renderItems(e.items))}))}},{key:"_renderGroupTitle",value:function(e){return Re.a.createElement("div",{className:"ne-ui-card-sub-menu-group-title"},xm(e))}},{key:"_renderItems",value:function(e){var t=this,n=this.props,r=n.itemElement,o=n.showRemark;return e.map((function(e,n){var a;if(r)a=r;else switch(e.type){case"TextItem":a=MT;break;case"FileItem":a=LT;break;case"TableItem":a=jT;break;case"SubMenu":a=i;break;default:console.warn("invalid card-select item type: ",e),a=null}return a?Re.a.createElement(a,{data:e,key:n,showRemark:o,className:"ne-ui-card-sub-menu-item",onSelect:t.props.onSelect}):null}))}}]),i}();m()(VT,"propTypes",{data:De.a.object.isRequired,onSelect:De.a.func,onMouseEnter:De.a.func,className:De.a.string,showRemark:De.a.bool,onReady:De.a.func,onDestroy:De.a.func,itemElement:De.a.any,overlayContainer:De.a.any,"data-testid":De.a.string}),m()(VT,"defaultProps",{onSelect:function(){},onMouseEnter:function(){},onReady:function(){},onDestroy:function(){}}),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-card-menu {\n  background: #fff;\n  border: 1px solid #E8E8E8;\n  box-shadow: rgba(221, 221, 221, 0.5) 0 1px 3px;\n  border-radius: 4px;\n  padding: 5px 0;\n}\n.ne-ui-card-menu-item,\n.ne-ui-card-sub-menu-item {\n  display: flex;\n  align-items: center;\n  color: #595959;\n  padding: 6px 16px 6px 8px;\n  min-width: 158px;\n  cursor: pointer;\n  white-space: nowrap;\n  font-size: 14px;\n  line-height: 1.5715;\n}\n.ne-ui-card-menu-item.ne-ui-selected,\n.ne-ui-card-sub-menu-item.ne-ui-selected {\n  background-color: #f4f4f4;\n}\n.ne-ui-card-menu-item .ne-ui-card-item-icon,\n.ne-ui-card-sub-menu-item .ne-ui-card-item-icon {\n  width: 24px;\n  height: 24px;\n  margin-right: 4px;\n  margin-left: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ne-ui-card-menu-item .ne-ui-card-item-icon *.ne-icon,\n.ne-ui-card-sub-menu-item .ne-ui-card-item-icon *.ne-icon {\n  color: #000000;\n}\n.ne-ui-card-sub-menu-trigger {\n  position: relative;\n}\n.ne-ui-card-sub-menu-trigger:HOVER {\n  background-color: #f4f4f4;\n}\n.ne-ui-card-sub-menu-trigger .ne-ui-card-sub-menu-trigger-icon {\n  position: absolute;\n  top: 14px;\n  right: 15px;\n  width: 7px;\n  height: 7px;\n}\n.ne-ui-card-sub-menu-item {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.ne-ui-card-sub-menu-item.ne-disabled {\n  cursor: not-allowed;\n}\n.ne-ui-card-sub-menu-item.ne-disabled .ne-ui-card-item-label {\n  color: #9e9e9e;\n}\n.ne-ui-card-sub-menu-item:not(.ne-disabled):HOVER {\n  background-color: #f4f4f4;\n}\n.ne-ui-card-sub-menu-item.ne-ui-card-item-has-remark {\n  align-items: flex-start;\n}\n.ne-ui-card-sub-menu-item .ne-ui-card-item-label {\n  color: rgba(0, 0, 0, 0.65);\n  font-size: 14px;\n  line-height: 18px;\n}\n.ne-ui-card-sub-menu-item .ne-ui-card-item-remark {\n  color: rgba(0, 0, 0, 0.35);\n  font-size: 12px;\n  line-height: 12px;\n  margin-top: 8px;\n}\n.ne-ui-card-menu-header {\n  font-size: 12px;\n  color: #8c8c8c;\n  line-height: 20px;\n  margin: 0 16px 6px 16px;\n  border-bottom: 1px solid #e8e8e8;\n  padding-bottom: 8px;\n  cursor: default;\n}\n.ne-ui-card-menu-header code {\n  background: #f5f5f5;\n  border-radius: 4px;\n  padding: 2px;\n  border: 1px solid #D9D9D9;\n}\n.ne-ui-card-menu-group-title {\n  color: #8C8C8C;\n  cursor: default;\n  padding-left: 15px;\n  padding-right: 18px;\n  line-height: 20px;\n  font-size: 12px;\n  margin-top: 8px;\n}\n.ne-ui-card-sub-menu-group-title {\n  color: rgba(0, 0, 0, 0.45);\n  cursor: default;\n  padding: 2px 16px;\n  line-height: 24px;\n  font-size: 12px;\n}\n.ne-ui-card-menu-empty {\n  display: flex;\n  min-width: 200px;\n  align-items: center;\n  padding: 6px 16px;\n  cursor: default;\n  font-size: 14px;\n  line-height: 1.5715;\n  border-radius: 4px;\n}\n");var zT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_children",[]),m()(l()(t),"_contentNodeRef",null),m()(l()(t),"state",{selected:-1,itemCount:0}),t.state.selected=e.selectEmitter?0:-1,t._contentNodeRef=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.selectEmitter;t&&($N(this,t,"reset",(function(){e.setState({selected:0})})),$N(this,t,"moveDown",(function(){var t=e._getNextSelectIndex();t!==e._getSelectedIndex()&&(e._children[t]&&e._scrollTo(e._children[t]),e.setState({selected:t}))})),$N(this,t,"moveUp",(function(){var t=e._getPrevSelectIndex();t!==e._getSelectedIndex()&&(e._children[t]&&e._scrollTo(e._children[t]),e.setState({selected:t}))})),$N(this,t,"enter",(function(){var t=e._children[e._getSelectedIndex()];t&&t.click()})))}},{key:"hasMatch",value:function(){return!!this._children[this._getSelectedIndex()]}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.className,r=null;t.headerHTML&&(r=this._renderHeader(t.headerHTML));var o=this._renderGroups(t.groups);return Re.a.createElement("div",{className:nw("ne-ui-card-menu",n),onMouseDown:function(e){return e.preventDefault()}},r,Re.a.createElement("div",{ref:this._contentNodeRef,className:"ne-ui-card-menu-content"},o))}},{key:"_getNextSelectIndex",value:function(){return(this._getSelectedIndex()+1)%this.state.itemCount}},{key:"_getPrevSelectIndex",value:function(){var e=this._getSelectedIndex()-1;return e<0?this.state.itemCount-1:e}},{key:"_getSelectedIndex",value:function(){var e=this.state,t=e.selected,n=e.itemCount;return-1===t?-1:t>=n?n-1:t}},{key:"_renderHeader",value:function(e){return Re.a.createElement("div",{className:"ne-ui-card-menu-header",dangerouslySetInnerHTML:{__html:e}})}},{key:"_renderGroups",value:function(e){var t=this,n=0;return 0===e.length?this._renderEmpty():e.map((function(e,r){var o=e.title,i=Re.a.createElement("div",{className:"ne-card-menu-group",key:"group-".concat(r)},o?t._renderGroupTitle(o):null,t._renderItems(e.items,n));return n+=e.items.length,i}))}},{key:"_renderGroupTitle",value:function(e){return Re.a.createElement("div",{className:"ne-ui-card-menu-group-title"},xm(e))}},{key:"_renderItems",value:function(e,t){var n=this,r=this.props,o=r.itemElement,i=r.showRemark,a=r.overlayContainer,c=this._getSelectedIndex();return(e=e.map((function(e,r){var l;if(o)l=o;else switch(e.type){case"TextItem":l=MT;break;case"FileItem":l=LT;break;case"LikeFileItem":l=AT;break;case"TableItem":l=jT;break;case"SubMenu":l=VT;break;default:console.warn("invalid card-select item type: ",e),l=null}return l?Re.a.createElement(l,{"data-testid":"card-menu-item-".concat(e.name),overlayContainer:a,data:e,key:"".concat(e.name,"-").concat(r),onReady:function(e){return n._children.push(e)},onDestroy:function(e){var t=n._children.indexOf(e);-1!==t&&n._children.splice(t,1)},onMouseEnter:function(){n._onItemMouseEnter(r+t)},showRemark:i,className:nw("ne-ui-card-menu-item",r+t===c?"ne-ui-selected":""),onSelect:n.props.onSelect,onBeforeSelect:e.customFileSelector}):null}))).length||(e=this._renderEmpty()),e}},{key:"_onItemMouseEnter",value:function(e){this.setState({selected:e})}},{key:"_renderEmpty",value:function(){return Re.a.createElement("div",{className:"ne-ui-card-menu-empty"},this.props.emptyTipText)}},{key:"_scrollTo",value:function(e){var t=this._contentNodeRef.current;if(t){var n=t.getBoundingClientRect(),r=t.scrollTop,o=t.scrollHeight,i=e.getRootNode().getBoundingClientRect();i.top<n.top&&r>0?t.scrollTop=Math.max(r-(n.top-i.top)-40,0):i.bottom>n.bottom&&o>0&&(t.scrollTop=Math.min(o,r+(i.bottom-n.bottom)+40))}}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.config.groups;return{itemCount:t.length?t.reduce((function(e,t){return e+t.items.length}),0):0}}}]),i}();function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(zT,"propTypes",{config:De.a.object.isRequired,className:De.a.string,showRemark:De.a.bool,onSelect:De.a.func,selectEmitter:De.a.object,itemElement:De.a.any,overlayContainer:De.a.any,emptyTipText:De.a.string}),m()(zT,"defaultProps",{onSelect:function(){},emptyTipText:xm("无匹配卡片")}),FN(".ne-ui-toolbar-card-select-button {\n  min-width: 26px;\n  height: 26px;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  background: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ne-ui-toolbar-card-select-button.ne-ui-menu-open {\n  background: #F5F5F5;\n}\n.ne-ui-toolbar-card-select-button[disabled] {\n  opacity: 0.25;\n  background: none;\n}\n.ne-card-toolbar-select-popover {\n  z-index: 9;\n}\n.ne-ui-toolbar-card-select-menu {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.ne-ui-toolbar-card-select-menu .ne-ui-card-menu-content {\n  min-width: 182px;\n  max-height: calc(90vh - 120px);\n  overflow-y: auto;\n}\n.ne-ui-toolbar-card-select-menu .ne-ui-card-menu-content::-webkit-scrollbar {\n  -webkit-appearance: none;\n}\n.ne-ui-toolbar-card-select-menu .ne-ui-card-menu-content::-webkit-scrollbar:vertical {\n  width: 10px;\n}\n.ne-ui-toolbar-card-select-menu .ne-ui-card-menu-content::-webkit-scrollbar-thumb {\n  border-radius: 6px;\n  border: 2px solid #fff;\n  background-color: #d8d8d8;\n}\n.ne-ui-toolbar-card-select-menu .ne-ui-card-menu-content::-webkit-scrollbar-track {\n  background-color: #fff;\n  border-radius: 6px;\n}\n");var qT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,className:"",config:null,isMenuOpen:!1}),m()(l()(t),"_btnRef",null),m()(l()(t),"_overlay",null),m()(l()(t),"_openMenu",(function(){if(t.state.isMenuOpen)t.setState({isMenuOpen:!1},(function(){return t._overlay&&t._overlay.cancel()}));else{var e=t.props,n=e.descriptor,r=e.overlayContainer,o=e.containerNode;t.setState({isMenuOpen:!0}),t._overlay=tE.open({containerNode:r||document.body,targetNode:t._btnRef.current,autoClose:!1,reactComponent:Re.a.createElement(hE,{closeExclude:t._btnRef.current,targetNode:t._btnRef.current,boundaryNode:o.parentNode.parentNode||document.body,visible:!0,offset:5,className:"ne-card-toolbar-select-popover",placement:window.h5?"topLeft":["bottomLeft","topLeft"]},Re.a.createElement(zT,{onSelect:function(e){t._overlay&&t._overlay.cancel();for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];n.onEvent("select",e,o)},emptyTipText:xm("无可用卡片"),showRemark:!0,config:t._getCardMenuItemConfig(),overlayContainer:r,className:"ne-ui-toolbar-card-select-menu"})),closeCallback:function(){t.setState({isMenuOpen:!1})}})}})),t._btnRef=Re.a.createRef(),t.state=e.descriptor.getInitUIState()||t.state,t.state.isMenuOpen=!1,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(HT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(HT({},n))}))}},{key:"componentWillUnmount",value:function(){this._overlay&&this._overlay.cancel()}},{key:"render",value:function(){return nE(this.state.tooltip,Re.a.createElement("span",{className:this.props.className},Re.a.createElement("button",{"data-testid":"ui-toolbar-card-select-button",ref:this._btnRef,onClick:this._openMenu,disabled:this.state.disabled,className:nw("ant-btn ne-ui-toolbar-card-select-button ne-ui-toolbar-button",this.state.className,this.state.isMenuOpen&&"ne-ui-menu-open")},Re.a.createElement(oE,{type:this.state.icon,size:this.state.iconSize}))))}},{key:"_getCardMenuItemConfig",value:function(){var e=this.props.descriptor.getConfig(),t=this.props.descriptor.getRecentSelectItems();return t?{groups:[t].concat(x()(e.groups))}:e}}]),i}();function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(qT,"propTypes",{className:De.a.string,overlayContainer:De.a.any,containerNode:De.a.any,descriptor:De.a.object.isRequired}),FN(".ne-ui-toolbar-file-button {\n  min-width: 32px;\n  height: 32px;\n  position: relative;\n  padding: 0;\n  border: none;\n  background: transparent;\n}\n.ne-ui-toolbar-file-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-file-button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-file-button:active,\n.ne-ui-toolbar-file-button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-file-button:hover {\n  background: #F5F5F5;\n}\n.ne-ui-toolbar-file-button .ne-ui-toolbar-file-input {\n  position: absolute;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n");var KT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,className:"",icon:null,iconfont:null,accept:null,multiple:!1}),m()(l()(t),"_fileInput",null),m()(l()(t),"_handleFileChange",(function(e){var n=e.target;Promise.resolve().then((function(){n.value=""})),t.state.multiple?t.props.descriptor.onEvent("file",Array.from(n.files)):t.props.descriptor.onEvent("file",n.files[0])})),t.state=e.descriptor.getInitUIState()||t.state,t._fileInput=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(ZT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(ZT({},n))}))}},{key:"render",value:function(){return nE(this.state.tooltip,Re.a.createElement(aT,{className:nw("ne-ui-toolbar-file-button",this.state.className,this.props.className),disabled:this.state.disabled},Re.a.createElement("input",{multiple:this.state.multiple,onChange:this._handleFileChange,ref:this._fileInput,accept:this.state.accept,type:"file",className:"ne-ui-toolbar-file-input"}),Re.a.createElement(oE,{type:this.state.icon,iconfont:this.state.iconfont})),{trigger:["hover"]})}}]),i}();function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$T(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(KT,"propTypes",{className:De.a.string,descriptor:De.a.object.isRequired,index:De.a.number.isRequired,containerNode:De.a.object.isRequired}),FN('.ne-button-emoji-icon {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-bottom: 1px;\n  background-size: contain;\n  background-image: url("https://gw.alipayobjects.com/zos/bmw-prod/3d954444-9409-4f8b-8fa7-12b23f1c5906.svg");\n  background-repeat: no-repeat;\n}\n.ne-button-emoji-popover .ant-popover-inner-content {\n  padding: 0;\n}\n.ne-button-emoji-panel {\n  width: 224px;\n  padding: 4px 4px;\n  transition: none;\n}\n.ne-button-emoji-panel .ne-button-emoji-item {\n  width: 72px;\n  height: 96px;\n  padding: 4px 4px;\n  display: inline-block;\n  line-height: unset;\n  text-align: center;\n}\n.ne-button-emoji-panel .ne-button-emoji-item img {\n  margin: 0 auto;\n  height: 64px;\n  width: 64px;\n}\n.ne-button-emoji-panel .ne-button-emoji-item .ne-emoji-title {\n  font-size: 12px;\n  color: #8c8c8c;\n  line-height: 24px;\n}\n.ne-button-emoji-panel .ne-button-emoji-item:hover {\n  border-radius: 4px;\n  background: #f5f5f5;\n}\n');var YT=function(e){u()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"togglePopover",(function(){t.setState((function(e){return{active:!e.active}}))})),m()(l()(t),"onSelectEmoji",(function(e){t.props.descriptor.onEvent("select",e),t.setState({active:!1})}));var n=e.descriptor.getInitUIState();return t.state={active:!1,disabled:n.disabled,lang:n.lang,tooltip:n.tooltip},t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(JT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(JT({},n))}))}},{key:"render",value:function(){var e=this,t=this.props.descriptor,n=t.pluginContext.getEmojis();return nE(this.state.tooltip,Re.a.createElement(bt.a,{overlayClassName:"ne-button-emoji-popover",trigger:["click"],visible:this.state.active,onVisibleChange:function(t){t!==e.state.active&&e.setState({active:t})},content:Re.a.createElement("div",{className:"ne-button-emoji-panel"},n.default.map((function(t){return Re.a.createElement("a",{key:t.id,className:"ne-button-emoji-item",onMouseDown:function(e){e.preventDefault()},onClick:function(){e.onSelectEmoji(t)}},Re.a.createElement("img",{src:gv.sanitizeUrl(t.src)}),Re.a.createElement("br",null),Re.a.createElement("span",{className:"ne-emoji-title"},t.title[e.state.lang]))})))},Re.a.createElement(aT,{disabled:t.getUIState().disabled,className:"ne-ui-toolbar-button ".concat(this.props.className),onClick:this.togglePopover},Re.a.createElement("span",{className:"ne-button-emoji-icon"}))))}}]),i}(Re.a.Component);function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GT(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(YT,"propTypes",{className:De.a.string,descriptor:De.a.instanceOf(Uk).isRequired}),FN("");var QT=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,className:"",icon:null,iconfont:null}),t.state=e.descriptor.getInitUIState()||t.state,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(XT({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(XT({},n))}))}},{key:"render",value:function(){var e=this.props,t=e.descriptor,n=e.className;return Re.a.createElement("div",{className:n},t.render(this.state))}}]),i}();m()(QT,"propTypes",{className:De.a.string,descriptor:De.a.object.isRequired,index:De.a.number.isRequired,containerNode:De.a.object.isRequired}),FN(".ne-ui-toolbar-dbl-toggle-button {\n  min-width: 26px;\n  height: 26px;\n  border-radius: 5px;\n  padding: 0;\n  border: none;\n  background: transparent;\n}\n.ne-ui-toolbar-dbl-toggle-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-dbl-toggle-button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-dbl-toggle-button:active,\n.ne-ui-toolbar-dbl-toggle-button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-dbl-toggle-button:hover {\n  background: #F5F5F5;\n}\n.ne-ui-toolbar-dbl-toggle-button.checked {\n  background-color: #E8E8E8;\n}\n");var eM=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_delayTimer",null),m()(l()(e),"_clickHandler",(function(){if(e._delayTimer)return clearTimeout(e._delayTimer),e._delayTimer=null,void e.props.onDblClick(!e.props.checked);e._delayTimer=setTimeout((function(){e.props.onClick(!e.props.checked),e._delayTimer=null}),300)})),e}return a()(i,[{key:"componentWillUnmount",value:function(){this._delayTimer&&clearTimeout(this._delayTimer)}},{key:"render",value:function(){var e=nw(this.props.className,"ne-ui-toolbar-dbl-toggle-button",this.props.checked?"checked":"");return nE(this.props.tooltip,Re.a.createElement(aT,{icon:this.props.icon,disabled:this.props.disabled,className:e,htmlType:"button",onClick:this._clickHandler,type:"default"},this.props.children))}}]),i}();function tM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(eM,"propTypes",{icon:De.a.string,className:De.a.string,checked:De.a.bool,children:De.a.element,onClick:De.a.func,onDblClick:De.a.func,disabled:De.a.bool,tooltip:De.a.oneOfType([De.a.string,De.a.array])}),m()(eM,"defaultProps",{checked:!1,onClick:function(){},onDblClick:function(){}});var rM=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{disabled:!1,checked:!1,icon:"",iconfont:null}),m()(l()(t),"_clickHandler",(function(e){t.props.descriptor.onEvent("click",e)})),m()(l()(t),"_dblclickHandler",(function(e){t.props.descriptor.onEvent("dblclick",e)})),t.state=e.descriptor.getInitUIState()||t.state,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.descriptor;t.isReady()&&this.setState(nM({},t.getUIState())),t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state)&&e.setState(nM({},n))}))}},{key:"render",value:function(){return Re.a.createElement(eM,{tooltip:this.state.tooltip,className:"ne-toolbar-widget ne-ui-toolbar-dbl-status-button",checked:this.state.checked,disabled:this.state.disabled,onClick:this._clickHandler,onDblClick:this._dblclickHandler},Re.a.createElement(oE,{type:this.state.icon,iconfont:this.state.iconfont}))}}]),i}();m()(rM,"propTypes",{descriptor:De.a.object.isRequired});var oM=function(e){u()(i,Ce.PureComponent||Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleChange",lt()((function(t){var n=e.props,r=n.hsl;(0,n.onChange)(Nt.calculateChange(t,r,e.container),t)}),50)),m()(l()(e),"handleMouseDown",(function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)})),m()(l()(e),"handleMouseUp",(function(t){e.handleChange(t),e.unbindEventListeners()})),e}return a()(i,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners(),this.handleChange.cancel()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,i=t.pointer,a=t.circle,c=Ct()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl(".concat(this.props.hsl.h,",100%, 50%)"),borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:"".concat(-100*this.props.hsv.v+100,"%"),left:"".concat(100*this.props.hsv.s,"%"),cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return Re.a.createElement("div",{style:c.color,ref:function(t){e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Re.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),Re.a.createElement("div",{style:c.white,className:"saturation-white"},Re.a.createElement("div",{style:c.black,className:"saturation-black"}),Re.a.createElement("div",{style:c.pointer},this.props.pointer?Re.a.createElement(this.props.pointer,this.props):Re.a.createElement("div",{style:c.circle}))))}}]),i}();oM.defaultProps={onChange:function(){}};var iM=function(e){u()(i,Ce.PureComponent||Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleChange",(function(t){var n=Et.calculateChange(t,e.props.direction,e.props.hsl,e.container);n&&"function"==typeof e.props.onChange&&e.props.onChange(n,t)})),m()(l()(e),"handleMouseDown",(function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)})),m()(l()(e),"handleMouseUp",(function(t){e.handleChange(t),e.unbindEventListeners()})),e}return a()(i,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=Ct()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 3px",position:"relative",height:"100%",borderRadius:"2px"},pointer:{position:"absolute",left:"".concat(Math.min(this.props.hsl.h/3.6,97.25),"%")},slider:{width:"8px",borderRadius:"50%",border:"2px solid #fff",height:"8px",boxShadow:"0 0 1px 1px rgba(0, 0, 0, .3)",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:"".concat(-100*this.props.hsl.h/360+100,"%")}}},{vertical:"vertical"===n});return Re.a.createElement("div",{style:r.hue},Re.a.createElement("div",{className:"hue-".concat(n),style:r.container,ref:function(t){e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Re.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),Re.a.createElement("div",{style:r.pointer},this.props.pointer?Re.a.createElement(this.props.pointer,this.props):Re.a.createElement("div",{style:r.slider}))))}}]),i}();var aM=function(e){u()(i,Ce.PureComponent||Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleChange",(function(t){var n=Ot.calculateChange(t,e.props.hsl,e.props.direction,e.props.a,e.container);n&&"function"==typeof e.props.onChange&&e.props.onChange(n,t)})),m()(l()(e),"handleMouseDown",(function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)})),m()(l()(e),"handleMouseUp",(function(t){e.handleChange(t),e.unbindEventListeners()})),m()(l()(e),"unbindEventListeners",(function(){window.removeEventListener("mousemove",e.handleChange),window.removeEventListener("mouseup",e.handleMouseUp)})),e}return a()(i,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=Ct()({default:{alpha:{absolute:"0px 0px 0px 0px"},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,", 0) 0%,\n           rgba(").concat(t.r,",").concat(t.g,",").concat(t.b,", 1) 100%)"),boxShadow:this.props.shadow,borderRadius:"2px"},container:{position:"relative",height:"100%",margin:"0 3px",borderRadius:"2px"},pointer:{position:"absolute",left:"".concat(100*t.a,"%")},slider:{width:"8px",borderRadius:"50%",border:"2px solid #fff",height:"8px",boxShadow:"0 0 1px 1px rgba(0, 0, 0, .3)",transform:"translateX(-4px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,", 0) 0%, rgba(").concat(t.r,",").concat(t.g,",").concat(t.b,", 1) 100%)")},pointer:{left:0,top:"".concat(100*t.a,"%")}}},{vertical:"vertical"===this.props.direction});return Re.a.createElement("div",{style:n.alpha},Re.a.createElement("div",{style:n.checkboard},Re.a.createElement(Rt.Checkboard,{renderers:this.props.renderers,borderRadius:"2px"})),Re.a.createElement("div",{style:n.gradient}),Re.a.createElement("div",{style:n.container,ref:function(t){e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Re.a.createElement("div",{className:"alpha-container",style:n.pointer},this.props.pointer?Re.a.createElement(this.props.pointer,this.props):Re.a.createElement("div",{style:n.slider}))))}}]),i}();var cM=function(e){u()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"onComplete",(function(){t.state.inputValue&&(t.setState({value:t.state.inputValue,inputValue:null}),t.props.onChange(m()({},t.props.label.toLowerCase(),t.state.inputValue)))})),t.state={value:String(e.value).toUpperCase(),inputValue:String(e.value).toUpperCase()},t}return a()(i,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({value:e.value,inputValue:null})}},{key:"render",value:function(){var e=this;return Re.a.createElement("div",{style:{width:this.props.width}},Re.a.createElement(wt.a,{size:"small",value:null===this.state.inputValue?this.state.value:this.state.inputValue,onChange:function(t){e.setState({inputValue:t.target.value})},onBlur:this.onComplete,onPressEnter:this.onComplete,style:{fontSize:12,textAlign:"center",padding:"2px"},"data-testid":"field-input-".concat(this.props.label.toLowerCase())}),Re.a.createElement("div",{className:"lake-input-label"},this.props.label))}}]),i}(Re.a.Component);cM.propTypes={value:De.a.oneOfType([De.a.string,De.a.number]),width:De.a.number,label:De.a.string,percentage:De.a.bool,onChange:De.a.func};var lM=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,i=e.disableAlpha,a=Ct()({default:{fields:{display:"flex",justifyContent:"space-between",marginTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"100%",padding:"2px 10% 2px",border:"1px solid rgba(0, 0, 0, .09)",borderRadius:"2px",fontSize:"12px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),c=function(e,o){e.hex?St()(e.hex).isValid()&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},o))};return Re.a.createElement("div",{style:a.fields,className:"flexbox-fix lake-color-fields"},Re.a.createElement(cM,{width:80,label:"HEX",value:o.toUpperCase(),onChange:c}),Re.a.createElement(cM,{width:30,label:"R",value:n.r,onChange:c}),Re.a.createElement(cM,{width:30,label:"G",value:n.g,onChange:c}),Re.a.createElement(cM,{width:30,label:"B",value:n.b,onChange:c}),Re.a.createElement(cM,{width:30,label:"A",percentage:!0,value:Math.round(100*n.a),onChange:c}))};lM.propTypes={disableAlpha:De.a.bool,width:De.a.oneOfType([De.a.string,De.a.number]),rgb:De.a.object,hsv:De.a.object,hsl:De.a.object,hex:De.a.string,onChange:De.a.func,renderers:De.a.object};var sM=function(e){var t=e.width,n=e.rgb,r=e.hsv,o=e.hsl,i=e.hex,a=e.onChange,c=e.disableAlpha,l=e.renderers,s=Ct()({default:{picker:{width:t,padding:0,background:"#fff"},Saturation:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)",circle:{width:"10px",height:"10px",border:"1px solid #fff"}},controls:{display:"flex"},sliders:{flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",background:"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(n.a,")")},Hue:{container:{radius:"2px",hadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},slider:{width:"8px",height:"8px",background:"transparent",border:"1px solid #fff"}},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}}},{disableAlpha:c});return Re.a.createElement("div",{className:"lake-custom-picker"},Re.a.createElement("div",{className:"lake-satuation-container"},Re.a.createElement(oM,{style:s.Saturation,hsl:o,hsv:r,onChange:a})),Re.a.createElement("div",{style:s.controls,className:"flexbox-fix"},Re.a.createElement("div",{style:s.sliders},Re.a.createElement("div",{className:"lake-hue-container"},Re.a.createElement(iM,{style:s.Hue,hsl:o,onChange:a})),Re.a.createElement("div",{className:"lake-hue-container"},Re.a.createElement(aM,{style:s.Alpha,rgb:n,hsl:o,renderers:l,onChange:a}))),Re.a.createElement("div",{className:"lake-check-board-container"},Re.a.createElement(Rt.Checkboard,null),Re.a.createElement("div",{style:s.activeColor}))),Re.a.createElement(lM,{rgb:n,hsl:o,hex:i,onChange:a,disableAlpha:c}))};sM.propTypes={disableAlpha:De.a.bool,width:De.a.oneOfType([De.a.string,De.a.number]),rgb:De.a.object,hsv:De.a.object,hsl:De.a.object,hex:De.a.string,onChange:De.a.func,renderers:De.a.object},sM.defaultProps={disableAlpha:!1,width:216};var uM=Object(Rt.ColorWrap)(sM);FN(".lake-colorboard-default {\n  display: flex;\n  align-items: center;\n  padding: 4px 8px;\n  margin: 4px 0 8px;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.lake-colorboard-default:hover {\n  background-color: #f5f5f5;\n}\n.lake-colorboard-group {\n  display: flex;\n  padding: 0 8px;\n  width: 100%;\n  height: auto;\n  position: relative;\n}\n.lake-colorboard-group:first-child {\n  margin-bottom: 10px;\n}\n.lake-colorboard-group:nth-child(2) {\n  margin-bottom: 6px;\n}\n.lake-colorboard-group:last-child {\n  margin-bottom: 0;\n}\n.lake-colorboard-group-item {\n  width: 24px;\n  height: 24px;\n  padding: 2px 2px;\n  display: inline-block;\n  border-radius: 3px 3px;\n  border: 1px solid transparent;\n  flex: 0 0 auto;\n  cursor: pointer;\n}\n.lake-colorboard-group-item > span {\n  position: relative;\n  width: 18px;\n  height: 18px;\n  display: block;\n  border-radius: 2px 2px;\n  border: 1px solid transparent;\n}\n.lake-colorboard-group-item > span svg {\n  position: absolute;\n  top: -1px;\n  left: 1px;\n  width: 12px;\n  height: 12px;\n}\n.lake-colorboard-group-item-border > span {\n  border: 1px solid #e8e8e8;\n}\n.lake-colorboard-group-item-special {\n  position: relative;\n}\n.lake-colorboard-group-item-special::after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: 10px;\n  left: 0;\n  width: 22px;\n  height: 0;\n  border-bottom: 2px solid #ff5151;\n  transform: rotate(-45deg);\n}\n.lake-colorboard-group-item:hover {\n  border: 1px solid #d9d9d9;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);\n}\n.lake-colorboard .lake-color-history {\n  padding: 6px 12px;\n  margin-top: 8px;\n  text-align: left;\n}\n.lake-colorboard .lake-none-custom-color {\n  line-height: 20px;\n  color: #bfbfbf;\n  padding: 2px 12px;\n  text-align: left;\n}\n.lake-colorboard .lake-more-color {\n  margin-top: 10px;\n  border-top: 1px solid #e8e8e8;\n}\n.lake-colorboard .lake-more-color-container {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 12px 8px;\n  border-radius: 2px;\n}\n.lake-colorboard .lake-more-color-container:hover {\n  background-color: #f5f5f5;\n}\n.lake-colorboard .lake-more-color-preview {\n  display: inline-block;\n  width: 17px;\n  height: 17px;\n  margin-right: 8px;\n  border-radius: 50%;\n  background-position: center;\n  background-image: url('https://gw.alipayobjects.com/mdn/rms_740edc/afts/img/A*G6CzS7jByMIAAAAAAAAAAABkARQnAQ');\n}\n.lake-colorboard .lake-more-color .lake-icon-arrow-right {\n  position: absolute;\n  right: 12px;\n  line-height: 18px;\n}\n.lake-rgbpicker-container {\n  position: absolute;\n  width: 240px;\n  height: auto;\n  padding: 0;\n  border-radius: 4px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);\n  border: 1px solid #f5f5f5;\n  background-color: #fff;\n  z-index: 1032;\n}\n.lake-rgbpicker-container .lake-input-label {\n  text-align: center;\n  font-size: 12px;\n  color: #8c8c8c;\n}\n.lake-custom-picker {\n  width: 100%;\n  padding: 12px 12px 5px 12px;\n}\n.lake-satuation-container {\n  position: relative;\n  height: 130px;\n  overflow: hidden;\n  margin-bottom: 12px;\n}\n.lake-hue-container {\n  position: relative;\n  width: 182px;\n  height: 8px;\n  margin-bottom: 6px;\n}\n.lake-check-board-container {\n  width: 22px;\n  height: 22px;\n  border-radius: 5px;\n  position: relative;\n  overflow: hidden;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.35), inset 0 0 4px rgba(0, 0, 0, 0.35);\n}\n.recent-use-color-container {\n  border-top: 1px solid #F5F5F5;\n  padding: 12px 8px;\n}\n.recent-use-color-title {\n  font-size: 12px !important;\n}\n.recent-use-color-list {\n  display: flex;\n  justify-content: space-between;\n}\n.recent-define-color-icon {\n  border-width: 1px;\n  height: 24px;\n  width: 24px;\n  border-radius: 5px;\n}\n.able-select-custom-color {\n  cursor: pointer;\n  border-style: solid;\n}\n.able-select-custom-color:hover {\n  border-color: #82CCF0 !important;\n}\n.un-define-color-item {\n  user-select: none;\n  pointer-events: none;\n  background-color: white;\n  border-color: lightgray;\n  border-style: dashed;\n}\n");var dM=function(e){u()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t,n;o()(this,i),n=r.call(this,e),m()(l()(n),"onChange",(function(e,t){n.setState({color:e.rgb,hex:e.hex}),(!t||"mousemove"!==t.type&&"mousedown"!==t.type)&&(n.props.onSelect("rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")),n.props.onSave("rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")")))})),m()(l()(n),"getRecentDefineColorIcon",(function(e,t){return Re.a.createElement(Re.a.Fragment,null,Re.a.createElement("div",{key:"rdc-".concat(e.index),className:nw("recent-define-color-icon",e.color&&"able-select-custom-color",null==e?void 0:e.className),onClick:function(){return null==t?void 0:t(e.color)},style:{backgroundColor:null==e?void 0:e.color,borderColor:null==e?void 0:e.borderColor}}))})),m()(l()(n),"getRecentDefineColorItem",(function(e){for(var t=e.slice(),n=[],r=0;r<7;r++)if(t.length){var o=t.pop();n.push({index:r,color:o,borderColor:o})}else n.push({index:r,className:"un-define-color-item"});return n})),m()(l()(n),"getRecentDefineColorComponent",(function(){return Re.a.createElement(hM,{colorComponentTitle:xm("最近自定义"),colorIcon:n.getRecentDefineColorIcon,colorItemGroup:[n.getRecentDefineColorItem(n.props.customColors)],showCustomColorButton:!1,titleClassName:"recent-use-color-title",colorListClassName:"recent-use-color-list",onSelectColor:n.props.onSelect})}));var a=e.color,c=null;if(0!==(null===(t=e.color)||void 0===t?void 0:t.indexOf("#"))){c={};var s=["r","g","b","a"];e.color.replace(/[0-9]+(\.[0-9]+)*/g,(function(e){c[s.shift()]=parseFloat(e)})),a=null}return n.state={color:c,hex:a},n}return a()(i,[{key:"render",value:function(){return be.a.createPortal(Re.a.createElement("div",{className:"yuquesdk"},Re.a.createElement("div",{style:this.props.position,className:"lake-rgbpicker-container","data-lake-editor-ui":"colorpicker","data-lake_prevent_click_unselect":"true"},Re.a.createElement(uM,{color:this.state.color||this.state.hex,onChange:this.onChange,disableAlpha:!1}),Re.a.createElement("div",{className:"recent-use-color-container"},this.getRecentDefineColorComponent()))),this.props.container)}}]),i}(Re.a.Component);m()(dM,"propTypes",{container:De.a.object,color:De.a.string,position:De.a.object,onSelect:De.a.func,onSave:De.a.func,customColors:De.a.array}),FN(".color-select-component-container {\n  display: flex;\n  flex-direction: column;\n}\n.color-select-title {\n  text-align: left;\n  font-size: 13px;\n  margin-bottom: 5px;\n}\n.color-icon {\n  border-color: lightgray;\n  border-radius: 5px;\n  border-width: 1px;\n  border-style: solid;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.color-select-container {\n  display: flex;\n  justify-content: center;\n}\n.color-select-group {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n}\n.color-select-list {\n  display: flex;\n  margin-top: 5px;\n}\n.color-select-list:nth-of-type(1) {\n  margin-top: 0;\n}\n.font-color-select-icon {\n  border-color: lightgray;\n  border-radius: 5px;\n  border-width: 1px;\n  border-style: solid;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 5px;\n  font-weight: 500;\n  cursor: pointer;\n}\n.font-color-select-icon:nth-of-type(1) {\n  margin-left: 0;\n}\n.font-color-select-icon:hover {\n  border-color: #95C2FF !important;\n}\n.bg-color-select-icon {\n  border-color: lightgray;\n  border-radius: 5px;\n  border-width: 1px;\n  border-style: solid;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 5px;\n  height: 24px;\n  cursor: pointer;\n}\n.bg-color-select-icon:nth-of-type(1) {\n  margin-left: 0;\n}\n.bg-color-select-icon:hover {\n  border-color: #95C2FF !important;\n  border-width: 1px;\n}\n.selected-color-icon {\n  border-color: #096DD9 !important;\n  border-width: 1px;\n}\n.more-color-icon-container {\n  border-color: lightgray;\n  border-radius: 5px;\n  border-width: 1px;\n  border-style: solid;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 4px;\n  margin-right: 2px;\n  width: 27px;\n  cursor: pointer;\n}\n.more-color-icon {\n  height: 0;\n  width: 0;\n  border: 4px solid transparent;\n  border-left-color: gray;\n  margin-left: 5px;\n}\n.more-color-icon-container:hover {\n  border-color: #95C2FF;\n}\n");var fM=function(e){var t=e.colorComponentTitle,n=e.colorIcon,r=e.colorItemGroup,o=e.titleClassName,i=e.colorListClassName,a=e.customColors,c=e.onOpenCustomColorModal,l=e.showCustomColorButton,s=void 0===l||l,u=e.selectedColor,d=e.onSaveColor,f=e.onSelectColor,h=e.container,p=e.componentRef,v=Object(Ce.useState)(!1),m=E()(v,2),y=m[0],g=m[1],b=Object(Ce.useState)(null),w=E()(b,2),x=w[0],_=w[1];Object(Ce.useEffect)((function(){y||_(null)}),[y]),Object(Ce.useImperativeHandle)(p,(function(){return{handleCustomColorModal:function(e){return g(e)}}}));return Re.a.createElement("div",{className:"color-select-component-container"},Re.a.createElement("div",{className:nw("color-select-title",o)},t),Re.a.createElement("div",{className:"color-select-container"},Re.a.createElement("div",{className:"color-select-group"},r.map((function(e,t){return Re.a.createElement("div",{className:nw("color-select-list",i),key:"".concat(t,"_list")},e.map((function(e){return n(e,f,u)})))}))),s&&Re.a.createElement("div",{className:"more-color-icon-container",onClick:function(e){if(y)return g(!1),void _(null);var t=function(e){e.stopPropagation();for(var t=e.target;t&&!t.classList.contains("color-select-component-container");)t=t.parentNode;return t}(e);t&&function(e){var t=e.getBoundingClientRect(),n={top:t.top},r=t.left+t.width+15;r+240>document.body.clientWidth?n.right=document.body.clientWidth-t.left+15:n.left=r,c&&c(),g(!0),_(n)}(t)}},Re.a.createElement("div",{className:"more-color-icon"})),y&&Re.a.createElement("div",{className:"lake-colorboard","data-lake-editor-ui":"colorpicker","data-lake_prevent_click_unselect":"true",onMouseDown:function(e){"INPUT"!==e.target.tagName&&e.preventDefault()}},Re.a.createElement(dM,{color:u,container:h||document.body,position:x,onSelect:f,onSave:d,customColors:a}))))};fM.propTypes={colorComponentTitle:De.a.string,colorIcon:De.a.func,colorItemGroup:De.a.array,titleClassName:De.a.string,colorListClassName:De.a.string,customColors:De.a.array,onOpenCustomColorModal:De.a.func,showCustomColorButton:De.a.bool,selectedColor:De.a.string,onSaveColor:De.a.func,onSelectColor:De.a.func,container:De.a.object,componentRef:De.a.object};var hM=Object(Ce.forwardRef)((function(e,t){return Re.a.createElement(fM,Ee()({},e,{componentRef:t}))})),pM=[{color:"#404040",tip:xm("黑色")},{color:"#808080",tip:xm("灰色")},{color:"#E8323C",tip:xm("红色")},{color:"#E79800",tip:xm("橙色")},{color:"#00945E",tip:xm("绿色")},{color:"#0057AD",tip:xm("蓝色")},{color:"#FCFCFC",tip:xm("白色")}],vM=function(e,t,n){var r="#FCFCFC"===e.color;return Re.a.createElement("div",{key:"".concat(e.color,"-font-color"),title:e.tip,onClick:function(){return null==t?void 0:t(e.color)},className:nw("font-color-select-icon",n===e.color&&"selected-color-icon"),style:{backgroundColor:r?"lightgray":"white",color:e.color}},"A")},mM=[[{color:"#FFFFFF",borderColor:"#E8E8E8",tip:xm("白色")},{color:"#FAE0DD",borderColor:"#F8D6D3",tip:xm("浅红")},{color:"#F8DDC4",borderColor:"#FDD5B4",tip:xm("浅橙")},{color:"#FAF6C4",borderColor:"#F8F091",tip:xm("浅黄")},{color:"#D3EEDB",borderColor:"#CBEBD5",tip:xm("浅绿")},{color:"#D0E8F2",borderColor:"#C0E5F1",tip:xm("浅蓝")},{color:"#D6D1F0",borderColor:"#CFC7F0",tip:xm("浅紫")}],[{color:"#C4C4C4",borderColor:"#C4C4C4",tip:xm("灰色")},{color:"#FF8580",borderColor:"#FF8580",tip:xm("红色")},{color:"#FFA97F",borderColor:"#FFA97F",tip:xm("橙色")},{color:"#FFE280",borderColor:"#FFE280",tip:xm("黄色")},{color:"#97E7C6",borderColor:"#97E7C6",tip:xm("绿色")},{color:"#80B7FF",borderColor:"#80B7FF",tip:xm("蓝色")},{color:"#A99FDF",borderColor:"#A99FDF",tip:xm("紫色")}]],yM=function(e,t,n){return Re.a.createElement("div",{key:"".concat(e.color,"-color-icon"),title:e.tip,onClick:function(){return null==t?void 0:t(e.color)},className:nw("bg-color-select-icon",n===e.color&&"selected-color-icon"),style:{backgroundColor:e.color,borderColor:e.borderColor}})},gM=[{fontColor:"#343434",borderColor:"#E8E8E8",bgColor:"#F0F0F0"},{fontColor:"#FFFFFF",borderColor:"#262626",bgColor:"#262626"},{fontColor:"#FFFFFF",borderColor:"#004EB3",bgColor:"#004EB3"},{fontColor:"#343434",borderColor:"#C0E5F1",bgColor:"#D0E8F2"},{fontColor:"#343434",borderColor:"#F8F091",bgColor:"#FAF6C4"},{fontColor:"#ED7200",borderColor:"#FDD5B4",bgColor:"#F8DDC4"},{fontColor:"#343434",borderColor:"#CBEBD5",bgColor:"#D3EEDB"}],bM=function(e,t){return Re.a.createElement("div",{key:"".concat(e.fontColor,"-compose"),onClick:function(){return null==t?void 0:t(e.bgColor,e.fontColor)},className:"font-color-select-icon",style:{color:e.fontColor,backgroundColor:e.bgColor,borderColor:e.borderColor}},"A")};FN(".ne-ui-color-picker-button {\n  display: flex;\n}\n.clear-color-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-top: 1px solid #F5F5F5;\n  padding-top: 5px;\n  margin-top: 10px;\n  padding-bottom: 5px;\n}\n.clear-color-container:hover {\n  background-color: #F5F5F5;\n  cursor: pointer;\n}\n.color-select-component {\n  margin: 0 12px;\n}\n.color-select-component .color-select-component-container:nth-of-type(1) {\n  margin-top: 12px;\n}\n.color-select-component .color-select-component-container:nth-of-type(2) {\n  margin-top: 12px;\n}\n");var wM=function(e){var t=e.composeColorController,n=e.clearColor,r=e.className,o=e.onSaveFontColor,i=e.onSaveBgColor,a=e.onSelectFontColor,c=e.onSelectBgColor,l=e.tooltip,s=e.type,u=e.disabled,d=e.overlayContainer,f=e.fontColorState,h=e.bgColorState,p=Object(Ce.useState)(!1),v=E()(p,2),m=v[0],y=v[1],g=Object(Ce.useRef)(null),b=Object(Ce.useRef)(null);return Re.a.createElement("div",{"data-ne-button-arrow":"true",className:nw(r,"ne-ui-toolbar-color-button",u?"disabled":"")},nE(l,Re.a.createElement(aT,{key:"show",onClick:function(){a(f.color),c(h.color)},className:"ne-ui-toolbar-color-show-button",disabled:u},Re.a.createElement("div",{className:"ne-ui-color-button",style:{backgroundColor:h.color}},Re.a.createElement(_T,{type:s,fill:f.color})))),Re.a.createElement(Le.a,{visible:m,overlayClassName:"ne-ui-toolbar-color-picker-overlay",onVisibleChange:function(e){var t,n;y(e),e||(null===(t=g.current)||void 0===t||t.handleCustomColorModal(!1),null===(n=b.current)||void 0===n||n.handleCustomColorModal(!1))},align:{offset:[-29,3]},getPopupContainer:function(e){return d||e},overlay:Re.a.createElement(Re.a.Fragment,null,Re.a.createElement("div",{className:"color-select-component"},t.FontColorDes&&Re.a.createElement(hM,{customColorPickShow:m,selectedColor:f.activeColor||f.color,colorComponentTitle:xm("字体颜色"),colorIcon:vM,colorItemGroup:[pM],onSaveColor:o,onSelectColor:a,customColors:f.userColors,ref:g,container:d,onOpenCustomColorModal:function(){var e;return null===(e=b.current)||void 0===e?void 0:e.handleCustomColorModal(!1)}}),t.BgColorDes&&Re.a.createElement(hM,{selectedColor:h.activeColor||h.color,colorComponentTitle:xm("背景颜色"),colorIcon:yM,colorItemGroup:mM,onSaveColor:i,onSelectColor:c,customColors:h.userColors,onOpenCustomColorModal:function(){var e;return null===(e=g.current)||void 0===e?void 0:e.handleCustomColorModal(!1)},container:d,ref:b})),Re.a.createElement("div",{className:"clear-color-container",onClick:function(){n()}},xm("清除颜色"))),trigger:"click",disabled:u},nE(l,Re.a.createElement(aT,{key:"dropdown",className:"ne-ui-toolbar-color-dropdown-button",disabled:u},Re.a.createElement("span",{className:"ne-ui-toolbar-color-dropdown-arrow"})))))};function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xM(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}wM.propTypes={className:De.a.string,children:De.a.any,disabled:De.a.bool,type:De.a.string,overlayContainer:De.a.object,tooltip:De.a.oneOfType([De.a.string,De.a.array]),composeColorController:De.a.object,onSaveFontColor:De.a.func,onSaveBgColor:De.a.func,activeFontColor:De.a.string,activeBgColor:De.a.string,clearColor:De.a.func,onSelectFontColor:De.a.func,onSelectBgColor:De.a.func,fontColorState:De.a.object,bgColorState:De.a.object};var kM=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{className:"",tooltip:xm("颜色配置"),icon:"t-font-color",fontColorState:null,bgColorState:null}),m()(l()(t),"_selectBgColorHandler",(function(e){var n;null===(n=t.props.composeColorController.BgColorDes)||void 0===n||n.onEvent("select",e)})),m()(l()(t),"_selectFontColorHandler",(function(e){var n;null===(n=t.props.composeColorController.FontColorDes)||void 0===n||n.onEvent("select",e)})),m()(l()(t),"_saveFontColorHandler",(function(e){var n;null===(n=t.props.composeColorController.FontColorDes)||void 0===n||n.onEvent("saveColor",e)})),m()(l()(t),"_saveBgColorHandler",(function(e){var n;null===(n=t.props.composeColorController.BgColorDes)||void 0===n||n.onEvent("saveColor",e)})),m()(l()(t),"_clearColorHandler",(function(){var e,n,r=t.props.composeColorController;null===(e=r.FontColorDes)||void 0===e||e.onEvent("clearColor"),null===(n=r.BgColorDes)||void 0===n||n.onEvent("clearBgColor")}));var s=e.composeColorController,u=(null==s?void 0:s.FontColorDes.getInitUIState())||{},d=(null==s?void 0:s.BgColorDes.getInitUIState())||{};return t.state=_M(_M({},t.state),{},{fontColorState:u,bgColorState:d}),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.composeColorController,n=t.FontColorDes,r=t.BgColorDes;null!=n&&n.isReady()&&this.setState({fontColorState:_M(_M({},this.state.fontColorState),n.getUIState())}),null!=r&&r.isReady()&&this.setState({bgColorState:_M(_M({},this.state.bgColorState),r.getUIState())}),null==n||n.on("statechange",(function(){var t=n.getUIState();cT(t,e.state.fontColorState)&&e.setState({fontColorState:_M({},t)})})),null==r||r.on("statechange",(function(){var t=r.getUIState();cT(t,e.state.bgColorState)&&e.setState({bgColorState:_M({},t)})}))}},{key:"render",value:function(){var e=this.props.composeColorController,t=this.state,n=t.icon,r=t.bgColorState,o=t.fontColorState;return Re.a.createElement(wM,{disabled:(null==r?void 0:r.disabled)&&(null==o?void 0:o.disabled),type:n,onSelectFontColor:this._selectFontColorHandler,onSelectBgColor:this._selectBgColorHandler,fontColorState:o,bgColorState:r,onSaveFontColor:this._saveFontColorHandler,onSaveBgColor:this._saveBgColorHandler,className:nw(this.state.className,this.props.className),overlayContainer:e.OverlayContainer,tooltip:this.state.tooltip,composeColorController:this.props.composeColorController,clearColor:this._clearColorHandler})}}]),i}();m()(kM,"propTypes",{className:De.a.string,composeColorController:De.a.object});var CM=function(e){var t=e.className,n=e.overlayContainer,r=e.onSelectComposeColor,o=e.onSaveCellBgColor,i=e.onSelectCellBgColor,a=e.clearColor,c=e.cellBgColorState,l=Object(Ce.useState)(!1),s=E()(l,2),u=s[0],d=s[1],f=Object(Ce.useRef)(null);return Re.a.createElement("div",{"data-ne-button-arrow":"true",className:nw(t,"ne-ui-toolbar-color-button",c.disabled&&"disabled")},nE(c.tooltip,Re.a.createElement(aT,{key:"show",className:"ne-ui-toolbar-color-show-button",disabled:c.disabled,onClick:function(){i(c.color)}},Re.a.createElement(_T,{type:c.icon,fill:c.color}))),Re.a.createElement(Le.a,{visible:u,overlayClassName:"ne-ui-toolbar-color-picker-overlay",onVisibleChange:function(e){d(e),e||f.current.handleCustomColorModal(!1)},align:{offset:[-29,3]},getPopupContainer:function(e){return n||e},overlay:Re.a.createElement(Re.a.Fragment,null,Re.a.createElement("div",{className:"color-select-component"},Re.a.createElement(hM,{colorComponentTitle:xm("组合样式"),colorIcon:bM,colorItemGroup:[gM],onSelectColor:r,showCustomColorButton:!1}),Re.a.createElement(hM,{colorComponentTitle:xm("单元格背景色"),selectedColor:c.activeColor||c.color,colorIcon:yM,colorItemGroup:mM,onSaveColor:o,onSelectColor:i,customColors:c.userColors,ref:f})),Re.a.createElement("div",{className:"clear-color-container",onClick:a},xm("清除颜色"))),trigger:"click",disabled:c.disabled},nE(c.tooltip,Re.a.createElement(aT,null,Re.a.createElement("span",{className:"ne-ui-toolbar-color-dropdown-arrow"})))))};function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RM(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}CM.propTypes={className:De.a.string,overlayContainer:De.a.object,onSelectComposeColor:De.a.func,onSelectCellBgColor:De.a.func,onSaveCellBgColor:De.a.func,clearColor:De.a.func,cellBgColorState:De.a.object};var EM=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];t=r.call.apply(r,[this,e].concat(a)),m()(l()(t),"state",{className:"",tooltip:xm("颜色配置"),icon:"t-cell-bg-color",cellBgColorState:null}),m()(l()(t),"_selectComposeColor",(function(e,n){var r,o,i=t.props.composeColorController;null===(r=i.CellBgColorDes)||void 0===r||r.onEvent("select",e),null===(o=i.FontColorDes)||void 0===o||o.onEvent("select",n)})),m()(l()(t),"_selectCellBgColor",(function(e){var n;null===(n=t.props.composeColorController.CellBgColorDes)||void 0===n||n.onEvent("select",e)})),m()(l()(t),"_saveCellBgColor",(function(e){var n;null===(n=t.props.composeColorController.CellBgColorDes)||void 0===n||n.onEvent("saveColor",e)})),m()(l()(t),"_clearColor",(function(){t.props.composeColorController.CellBgColorDes.onEvent("clearColor")}));var s=e.composeColorController,u=(null==s?void 0:s.CellBgColorDes.getInitUIState())||{};return t.state=NM(NM({},t.state),{},{cellBgColorState:u}),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.composeColorController.CellBgColorDes;null!=t&&t.isReady()&&this.setState({cellBgColorState:NM(NM({},this.state.cellBgColorState),t.getUIState())}),null==t||t.on("statechange",(function(){var n=t.getUIState();cT(n,e.state.cellBgColorState)&&e.setState({cellBgColorState:NM(NM({},e.state.cellBgColorState),n)})}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.composeColorController,r=this.state.cellBgColorState;return Re.a.createElement(CM,{className:t,overlayContainer:n.OverlayContainer,onSelectComposeColor:this._selectComposeColor,onSelectCellBgColor:this._selectCellBgColor,onSaveCellBgColor:this._saveCellBgColor,clearColor:this._clearColor,cellBgColorState:r})}}]),i}();m()(EM,"propTypes",{className:De.a.string,composeColorController:De.a.object});var OM=function(){function e(t){o()(this,e),m()(this,"$FontWithBgColorComponent",null),m()(this,"$CellBgColorComponent",null),m()(this,"bgColorDes",null),m()(this,"fontColorDes",null),m()(this,"cellBgColorDes",null),m()(this,"instance",null),m()(this,"_overlayContainer",null),this._overlayContainer=t}return a()(e,[{key:"registerColorDes",value:function(e,t){return this.handleColorRegister(e,t)}},{key:"handleColorRegister",value:function(e,t){return this.registerDes(e,t),this.handlerColorComponentRender(t)}},{key:"registerDes",value:function(e,t){switch(t){case oT.FontColor:this.FontColorDes=e;break;case oT.BgColor:this.BgColorDes=e;break;case oT.CellBgColor:this.CellBgColorDes=e;break;default:br(!1,"F:ComposeColorController;L:51")}}},{key:"handlerColorComponentRender",value:function(e){switch(e){case oT.FontColor:return;case oT.BgColor:return this.renderBgColorToolBar();case oT.CellBgColor:return this.renderCellBgColorToolBar();default:br(!1,"F:ComposeColorController;L:66")}}},{key:"renderBgColorToolBar",value:function(){return this._createFontWithBgColorComponent()}},{key:"renderCellBgColorToolBar",value:function(){return this._createCellBgColorComponent()}},{key:"_renderFontWithBgColorComponent",value:function(){this.FontWithBgColorComponent=Re.a.createElement(kM,{key:"compose-color-component",className:"ne-toolbar-widget",composeColorController:this})}},{key:"_createFontWithBgColorComponent",value:function(){return this._renderFontWithBgColorComponent(),this.FontWithBgColorComponent}},{key:"_renderCellBgColorComponent",value:function(){this.CellBgColorComponent=Re.a.createElement(EM,{key:"compose-color-component",className:"ne-toolbar-widget",composeColorController:this})}},{key:"_createCellBgColorComponent",value:function(){return this._renderCellBgColorComponent(),this.CellBgColorComponent}},{key:"destroy",value:function(){this.instance=null,this.FontWithBgColorComponent=null,this.CellBgColorComponent=null}},{key:"BgColorDes",get:function(){return this.bgColorDes},set:function(e){this.bgColorDes=e}},{key:"FontColorDes",get:function(){return this.fontColorDes},set:function(e){this.fontColorDes=e}},{key:"CellBgColorDes",get:function(){return this.cellBgColorDes},set:function(e){this.cellBgColorDes=e}},{key:"FontWithBgColorComponent",get:function(){return this.$FontWithBgColorComponent},set:function(e){this.$FontWithBgColorComponent=e}},{key:"CellBgColorComponent",get:function(){return this.$CellBgColorComponent},set:function(e){this.$CellBgColorComponent=e}},{key:"OverlayContainer",get:function(){return this._overlayContainer}}]),e}();FN(".font-style {\n  font-size: 14px;\n  color: rgba(38, 38, 38);\n}\n.format-style-container {\n  width: 100%;\n  height: 40px;\n  cursor: pointer;\n  border-bottom: 1px solid rgba(216, 216, 216, 0.35);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n}\n.format-style-container.disabled {\n  cursor: not-allowed;\n  pointer-events: none;\n  opacity: 0.25;\n  background: transparent;\n}\n.format-style-container .ne-ui-toolbar-select-button {\n  padding: 0 5px 0 10px;\n  width: auto;\n}\n.format-style-container .ne-ui-toolbar-select-value {\n  width: 40px;\n  text-align: left;\n  font-size: 12px;\n  font-weight: bold;\n}\n.format-style-container .format-style-title {\n  font-size: 14px;\n  color: rgba(38, 38, 38);\n}\n.format-style-container .format-style-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.format-style-container .format-style-content .format-style-value {\n  font-size: 14px;\n  color: rgba(38, 38, 38);\n  text-align: center;\n}\n.format-style-container .format-style-content .format-style-arrow {\n  margin-left: 3px;\n  width: 8px;\n  height: 8px;\n  border-top: 1px solid black;\n  border-right: 1px solid black;\n  transform: rotate(45deg);\n}\n.ne-ui-format-style-select-item:hover {\n  background-color: #f5f5f5 !important;\n}\n.disabled-item {\n  cursor: not-allowed;\n}\n.format-style-container:hover {\n  background-color: #F5F5F5;\n}\n.ne-ui-extension-format-style-overlay {\n  padding: 0;\n}\n.ne-ui-extension-format-style-overlay .ant-popover-content {\n  min-width: 0;\n}\n.ne-ui-extension-format-style-overlay .ant-popover-inner-content {\n  padding: 0;\n}\n.ne-ui-extension-format-style-overlay .ant-popover-arrow {\n  display: none;\n}\n.ne-ui-extension-format-style-overlay .format-style-dropdown-menu {\n  width: 102px;\n  background-color: white;\n  border: 1px solid #e8e8e8;\n}\n.ne-ui-extension-format-style-overlay .format-style-dropdown-menu .ant-menu-item-selected {\n  background-color: transparent;\n}\n.ne-ui-extension-format-style-overlay .ne-ui-format-style-select-item {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  line-height: 30px;\n  font-size: 12px;\n}\n.ne-ui-extension-format-style-overlay .ne-ui-format-style-select-item.ant-dropdown-menu-item-selected {\n  background-color: white !important;\n}\n.ne-ui-extension-format-style-overlay .ne-ui-format-style-select-item.ant-dropdown-menu-item-selected .ne-ui-select-item-check-icon {\n  opacity: 1;\n  left: 3px;\n}\n.ne-ui-extension-format-style-overlay .ne-ui-format-style-select-item .check-icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n}\n.ne-ui-extension-format-style-overlay .ne-ui-format-style-select-item .ne-ui-select-item-label {\n  font-size: 14px;\n}\n");var DM=function(e){var t=e.tooltip,n=e.value,r=e.options,o=e.disabled,i=e.onSelect,a=e.label,c=e.overlayContainer,l=Object(Ce.useRef)(null);return Re.a.createElement(Re.a.Fragment,null,Re.a.createElement(Se.a,{overlayClassName:"ne-ui-extension-format-style-overlay",content:Re.a.createElement(Pe.a,{className:"ne-ui-select-menu format-style-dropdown-menu",onClick:function(e){var t=e.key;return function(e){i(e),l.current.onMouseLeave()}(Number(t))}},r.map((function(e){return Re.a.createElement(Pe.a.Item,{key:e.value,className:nw("ne-ui-format-style-select-item",e.value===n&&"ant-dropdown-menu-item-selected")},Re.a.createElement("div",{className:"ne-ui-select-item-check-icon"},Re.a.createElement(oE,{iconfont:"toolbar-check"})),Re.a.createElement("div",{className:"ne-ui-select-item-label"},e.label))}))),getPopupContainer:function(){return c},placement:"rightBottom",ref:l},Re.a.createElement("div",{className:nw(o&&"disabled-item")},Re.a.createElement("div",{className:nw("format-style-container",o&&"disabled")},Re.a.createElement("div",{className:"format-style-title"},t),Re.a.createElement("div",{className:"format-style-content"},Re.a.createElement("div",{className:"format-style-value"},a),Re.a.createElement("div",{className:"format-style-arrow"}))))))};DM.propTypes={tooltip:De.a.string,value:De.a.any,options:De.a.array,disabled:De.a.bool,onSelect:De.a.func,onOpenDropdown:De.a.func,componentRef:De.a.object,label:De.a.any,overlayContainer:De.a.object},FN(".button-select-group {\n  height: 32px;\n  width: 195px;\n  border: 1px solid #D9D9D9;\n  border-radius: 5px;\n  display: flex;\n}\n.button-select-group .button-selected-item {\n  cursor: pointer;\n  background-color: #F5F5F5;\n}\n.button-select-group .button-select-item {\n  cursor: pointer;\n  height: 100%;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-left: 1px solid #D9D9D9;\n}\n.button-select-group .button-select-item.disabled {\n  pointer-events: none;\n  opacity: 0.25;\n  background: transparent;\n}\n.button-select-group .button-select-item:nth-of-type(1) {\n  border-left-width: 0;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.button-select-group .button-select-item:last-of-type {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.button-select-group.disabled-item {\n  cursor: not-allowed;\n}\n.button-select-group .button-select-item:hover {\n  background-color: #F5F5F5;\n}\n");var SM=function(e){var t=e.options;return Re.a.createElement("div",{className:"button-select-group"},t.map((function(e,t){var n=e.checked,r=e.tooltip,o=e.iconfont,i=e.onClick,a=e.disabled,c=e.icon,l=e.iconSize,s=void 0===l?14:l;return nE(r,Re.a.createElement("div",{onClick:function(){return i()},className:nw("button-select-item",n&&"button-selected-item",a&&"disabled")},Re.a.createElement(oE,{type:c,iconfont:o,size:s})),{key:t})})))};function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BM(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}SM.propTypes={options:De.a.array},FN(".font-style {\n  font-size: 14px;\n  color: rgba(38, 38, 38);\n}\n.ne-ui-extensions-function-dropdown-content {\n  height: 225px;\n  width: 227px;\n}\n.ne-ui-extensions-function-dropdown-content .dropdown-font-style-container {\n  width: 100%;\n  height: 100px;\n  border-bottom: 1px solid rgba(216, 216, 216, 0.35);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  padding: 5px 0;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button-container {\n  display: flex;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button {\n  border-left: 1px solid rgba(216, 216, 216, 0.35);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 45px;\n  flex: 1;\n  cursor: pointer;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button .button-title {\n  font-size: 14px;\n  color: rgba(38, 38, 38);\n  text-align: center;\n  margin-left: 10px;\n  width: auto;\n  overflow: hidden;\n  white-space: nowrap;\n  word-break: break-all;\n  text-overflow: ellipsis;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button.disabled {\n  pointer-events: none;\n  cursor: not-allowed;\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button.selected {\n  background-color: #F5F5F5;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button:first-of-type {\n  border-bottom-left-radius: 4px;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button:last-of-type {\n  border-bottom-right-radius: 4px;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button:hover {\n  background-color: #F5F5F5;\n}\n.ne-ui-extensions-function-dropdown-content .operation-button:nth-of-type(1) {\n  border-left-width: 0;\n}\n");var FM=function(e){var t=e.ExtensionsFunctionDes,n=e.ItalicFontStyleState,r=e.UnderlineFontStyleState,o=e.CodeTextTextStyleState,i=e.SuperscriptTextStyleState,a=e.SubscriptTextStyleState,c=e.OutdentState,l=e.IndentState,s=e.FontSizeState,u=e.LineHeightState,d=e.FormatPainterState,f=e.ClearFormatState,h=e.overlayContainer,p=function(e){var t=e.icon,n=e.iconfont,r=e.iconSize,o=void 0===r?16:r,i=e.tooltip,a=e.disabled,c=e.onClick,l=e.onDbClick,s=e.selected,u=null;return Re.a.createElement("div",{className:nw("operation-button",a&&"disabled",s&&"selected"),onClick:function(){if(u&&l)return clearTimeout(u),u=null,void l();u=setTimeout((function(){c(),u=null}),l?300:0)}},Re.a.createElement(oE,{type:t,iconfont:n,size:o}),Re.a.createElement("div",{className:"button-title",title:i},i))};return Re.a.createElement("div",{className:"ne-ui-extensions-function-dropdown-content",onMouseDown:function(e){return e.preventDefault()}},Re.a.createElement("div",{className:"dropdown-font-style-container",key:"font-style"},Re.a.createElement(SM,{options:[PM({onClick:function(){return t[oT.ItalicFontStyle].onEvent("change")}},n),PM({onClick:function(){return t[oT.UnderlineFontStyle].onEvent("change")}},r),PM({onClick:function(){return t[oT.CodeTextStyle].onEvent("select","code")}},o)],key:"basic-font-style"}),Re.a.createElement(SM,{options:[PM({onClick:function(){return t[oT.Indent].onEvent("select","indent")}},l),PM({onClick:function(){return t[oT.Outdent].onEvent("select","outdent")}},c),PM({iconSize:16,onClick:function(){return t[oT.SubscriptTextStyle].onEvent("select","subscript")}},a),PM({iconSize:16,onClick:function(){return t[oT.SuperscriptTextStyle].onEvent("select","superscript")}},i)],key:"mixed-text-style"})),Re.a.createElement(DM,Ee()({onSelect:function(e){return t[oT.FontSize].onEvent("select",e)}},s,{overlayContainer:h})),Re.a.createElement(DM,Ee()({onSelect:function(e){return t[oT.LineHeight].onEvent("select",e)}},u,{options:u.items,label:"default"===u.value?xm("默认"):u.label,overlayContainer:h})),Re.a.createElement("div",{className:"operation-button-container"},p(PM({onClick:function(){t[oT.FormatPainter].onEvent("click",!d.checked)},onDbClick:function(){t[oT.FormatPainter].onEvent("dblclick",!d.checked)},selected:d.checked},d)),p(PM({onClick:function(){return t[oT.ClearFormat].onEvent("click")}},f))))};function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TM(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}FM.propTypes={ExtensionsFunctionDes:De.a.object,componentRef:De.a.object,ItalicFontStyleState:De.a.object,UnderlineFontStyleState:De.a.object,CodeTextTextStyleState:De.a.object,SubscriptTextStyleState:De.a.object,SuperscriptTextStyleState:De.a.object,OutdentState:De.a.object,IndentState:De.a.object,FontSizeState:De.a.object,LineHeightState:De.a.object,FormatPainterState:De.a.object,ClearFormatState:De.a.object,overlayContainer:De.a.object},FN(".ne-ui-toolbar-extension-button {\n  min-width: 26px;\n  height: 26px;\n  border-radius: 6px;\n  padding: 0;\n  border: none;\n  background: transparent;\n}\n.ne-ui-toolbar-extension-button[disabled] {\n  opacity: 0.25;\n  background: transparent;\n}\n.ne-ui-toolbar-extension-button:after {\n  display: none !important;\n}\n.ne-ui-toolbar-extension-button:active,\n.ne-ui-toolbar-extension-button:focus {\n  background: transparent;\n}\n.ne-ui-toolbar-extension-button:hover {\n  background: #F5F5F5;\n}\n.ne-ui-extensions-dropdown-overlay {\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  border-radius: 5px;\n  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\n}\n");var LM=function(e){var t,n,r,o,i,a,c,l,s,u,d,f=e.className,h=e.iconType,p=void 0===h?"t-extensions":h,v=e.iconSize,m=void 0===v?16:v,y=e.controller,g=Object(Ce.useState)(!1),b=E()(g,2),w=b[0],x=b[1],_=Object(Ce.useState)(!0),k=E()(_,2),C=k[0],R=k[1],N=y.ExtensionsFunctionDes,O=Object(Ce.useState)(null===(t=N[oT.ItalicFontStyle])||void 0===t?void 0:t.getInitUIState()),D=E()(O,2),S=D[0],B=D[1],P=Object(Ce.useState)(null===(n=N[oT.UnderlineFontStyle])||void 0===n?void 0:n.getInitUIState()),F=E()(P,2),T=F[0],M=F[1],L=Object(Ce.useState)(null===(r=N[oT.CodeTextStyle])||void 0===r?void 0:r.getInitUIState()),A=E()(L,2),I=A[0],j=A[1],V=Object(Ce.useState)(null===(o=N[oT.SubscriptTextStyle])||void 0===o?void 0:o.getInitUIState()),z=E()(V,2),U=z[0],H=z[1],q=Object(Ce.useState)(null===(i=N[oT.SuperscriptTextStyle])||void 0===i?void 0:i.getInitUIState()),W=E()(q,2),Z=W[0],$=W[1],J=Object(Ce.useState)(null===(a=N[oT.Outdent])||void 0===a?void 0:a.getInitUIState()),Y=E()(J,2),G=Y[0],X=Y[1],Q=Object(Ce.useState)(null===(c=N[oT.Indent])||void 0===c?void 0:c.getInitUIState()),ee=E()(Q,2),te=ee[0],ne=ee[1],re=Object(Ce.useState)(null===(l=N[oT.FontSize])||void 0===l?void 0:l.getInitUIState()),oe=E()(re,2),ie=oe[0],ae=oe[1],ce=Object(Ce.useState)(null===(s=N[oT.LineHeight])||void 0===s?void 0:s.getInitUIState()),le=E()(ce,2),se=le[0],ue=le[1],de=Object(Ce.useState)(null===(u=N[oT.FormatPainter])||void 0===u?void 0:u.getInitUIState()),fe=E()(de,2),he=fe[0],pe=fe[1],ve=Object(Ce.useState)(null===(d=N[oT.ClearFormat])||void 0===d?void 0:d.getInitUIState()),me=E()(ve,2),ye=me[0],ge=me[1],be=K()((function(){S.disabled&&T.disabled&&ye.disabled&&I&&U.disabled&&Z.disabled&&G.disabled&&te.disabled&&ie.disabled&&se.disabled&&he.disabled?R(!0):R(!1)}),40);Object(Ce.useEffect)((function(){be()}),[S.disabled,T.disabled,ye.disabled,I.disabled,U.disabled,Z.disabled,G.disabled,te.disabled,ie.disabled,se.disabled,he.disabled]);return Object(Ce.useEffect)((function(){Object.keys(N).forEach((function(e){var t=N[e],n=function(e){switch(e){case oT.ItalicFontStyle:return{state:S,setState:B};case oT.UnderlineFontStyle:return{state:T,setState:M};case oT.CodeTextStyle:return{state:I,setState:j};case oT.SubscriptTextStyle:return{state:U,setState:H};case oT.SuperscriptTextStyle:return{state:Z,setState:$};case oT.Outdent:return{state:G,setState:X};case oT.Indent:return{state:te,setState:ne};case oT.FontSize:return{state:ie,setState:ae};case oT.LineHeight:return{state:se,setState:ue};case oT.FormatPainter:return{state:he,setState:pe};case oT.ClearFormat:return{state:ye,setState:ge};default:br(!1,"F:extension-function-button;L:141")}}(e),r=n.state,o=n.setState;t.isReady()&&o(MM(MM({},r),t.getUIState())),t.on("statechange",(function(){var e=t.getUIState();o(MM(MM({},r),e))}))}))}),[]),Re.a.createElement(Le.a,{visible:w,overlayClassName:"ne-ui-extensions-dropdown-overlay",overlay:Re.a.createElement(FM,{ExtensionsFunctionDes:N,ItalicFontStyleState:S,UnderlineFontStyleState:T,CodeTextTextStyleState:I,SubscriptTextStyleState:U,SuperscriptTextStyleState:Z,OutdentState:G,IndentState:te,FontSizeState:ie,LineHeightState:se,FormatPainterState:he,ClearFormatState:ye,overlayContainer:y.OverlayContainer}),onVisibleChange:function(e){x(e)},align:{offset:[0,3]},trigger:"click",getPopupContainer:function(e){return y.OverlayContainer||e}},nE(xm("更多"),Re.a.createElement(aT,{disabled:C,className:nw("ne-ui-toolbar-extension-button",f),key:"dropdown",onClick:function(){return x((function(e){return!e}))}},Re.a.createElement(oE,{type:p,size:m}))))};LM.propTypes={className:De.a.string,tooltip:De.a.string,iconType:De.a.string,controller:De.a.object,iconSize:De.a.string,componentRef:De.a.object};var AM=function(){function e(t){o()(this,e),m()(this,"$UIComponent",null),m()(this,"_extensionsFunctionDes",{}),m()(this,"_overlayContainer",null),this._overlayContainer=t}return a()(e,[{key:"handleFunctionRegister",value:function(e,t){return this.ToolbarUILayer||(this.ToolbarUILayer=e.uiLayer),this.registerFunction(e,t),this.handleComponentRender()}},{key:"registerToolbarExtension",value:function(e,t){return this.handleFunctionRegister(e,t)}},{key:"registerFunction",value:function(e,t){this.ExtensionsFunctionDes[t]=e}},{key:"handleComponentRender",value:function(){if(!this.Component)return this.createExtensionsFunctionComponent()}},{key:"createExtensionsFunctionComponent",value:function(){return this.renderExtensionsFunctionComponent(),this.Component}},{key:"renderExtensionsFunctionComponent",value:function(){this.Component=Re.a.createElement(LM,{key:"extensions-function",className:"ne-toolbar-widget",controller:this})}},{key:"destroy",value:function(){this.$UIComponent=null}},{key:"Component",get:function(){return this.$UIComponent},set:function(e){this.$UIComponent=e}},{key:"ExtensionsFunctionDes",get:function(){return this._extensionsFunctionDes},set:function(e){this._extensionsFunctionDes=e}},{key:"OverlayContainer",get:function(){return this._overlayContainer}}]),e}(),IM=function(){function e(t,n,r){o()(this,e),m()(this,"_composeColorController",null),m()(this,"_extensionsFunctionController",null),m()(this,"_descriptors",null),m()(this,"_overlayContainer",null),m()(this,"_containerNode",null),this._composeColorController=new OM(n),this._extensionsFunctionController=new AM(n),this._descriptors=t,this._overlayContainer=n,this._containerNode=r}return a()(e,[{key:"createWidgets",value:function(){var e=this;return this._descriptors.map((function(t,n){return e.createWidget(t,n)}))}},{key:"createWidget",value:function(e,t){if(e===oT.Divider)return Re.a.createElement(vT,{key:"divider".concat(t),className:"ne-toolbar-widget"});var n=e.constructor.Type;return[oT.BgColor,oT.FontColor,oT.CellBgColor].includes(n)?this._createComposeColorWidget(e,n):this._createNormalWidget(n,t,e)}},{key:"_createNormalWidget",value:function(e,t,n){switch(e){case oT.Button:return Re.a.createElement(uT,{index:t,containerNode:this._containerNode,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.StatusButton:return Re.a.createElement(pT,{index:t,containerNode:this._containerNode,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.DoubleClickStatusButton:return Re.a.createElement(rM,{index:t,containerNode:this._containerNode,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.FileButton:return Re.a.createElement(KT,{index:t,containerNode:this._containerNode,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.EmojiButton:return Re.a.createElement(YT,{className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.Select:return Re.a.createElement(wT,{index:t,dropdownContainer:this._overlayContainer,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.DropdownButton:return Re.a.createElement(FT,{index:t,dropdownContainer:this._overlayContainer,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.InlineContentDropdownButton:return Re.a.createElement(TT,{index:t,dropdownContainer:this._overlayContainer,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.CardSelect:return Re.a.createElement(qT,{index:t,containerNode:this._containerNode,overlayContainer:this._overlayContainer,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.Custom:return Re.a.createElement(QT,{index:t,containerNode:this._containerNode,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});case oT.ColorPickerButton:return Re.a.createElement(ET,{index:t,containerNode:this._containerNode,className:"ne-toolbar-widget",key:n.key||n.name,descriptor:n});default:br(!1,"F:ToolbarWidgetsController;L:198")}}},{key:"disable",value:function(){this._descriptors.forEach((function(e){e!==oT.Divider&&e.disable()}))}},{key:"enable",value:function(){this._descriptors.forEach((function(e){e!==oT.Divider&&e.enable()}))}},{key:"destroy",value:function(){this._descriptors.forEach((function(e){e!==oT.Divider&&e.destroy()})),this._composeColorController.destroy(),this._extensionsFunctionController.destroy(),this._descriptors=null}},{key:"close",value:function(){this._descriptors.forEach((function(e){e!==oT.Divider&&e.close()}))}},{key:"refresh",value:function(){var e;null===(e=this._descriptors)||void 0===e||e.forEach((function(e){e!==oT.Divider&&e.refresh()}))}},{key:"_createExtensionWidget",value:function(e,t){return this._extensionsFunctionController.registerToolbarExtension(e,t)}},{key:"_createComposeColorWidget",value:function(e,t){return this._composeColorController.registerColorDes(e,t)}}]),e}(),jM=function(){function e(t,n){o()(this,e),m()(this,"_containerNode",null),m()(this,"_contentNode",null),m()(this,"_widgets",null),m()(this,"_callback",null),m()(this,"_observer",null),this._contentNode=t,this._containerNode=t.parentNode.parentNode,this._widgets=this._getWidgetSize(),this._callback=n||function(){},this._init()}return a()(e,[{key:"_init",value:function(){var e=this;if(this._widgets.length){var t=this._contentNode,n=this._containerNode;this._observer=new ResizeObserver((function(){requestAnimationFrame((function(){if(t.isConnected){var r=n.getBoundingClientRect().width;r>0&&e._refresh(r)}}))})),this._observer.observe(this._containerNode)}}},{key:"destroy",value:function(){this._observer.disconnect(),this._containerNode=null,this._contentNode=null,this._callback=null,this._widgets=null}},{key:"_getWidgetSize",value:function(){var e=[],t=this._contentNode.getBoundingClientRect().x;return Array.from(this._contentNode.children).forEach((function(n){if(n.classList.contains("ne-toolbar-widget")){var r=n.getBoundingClientRect();e.push({width:r.width,offset:r.x-t,isDivider:n.classList.contains("ne-ui-divider"),node:n})}})),e}},{key:"_refresh",value:function(e){for(var t=this._widgets,n=-1,r=t.length-1;r>=0;r--){var o=t[r];if(o.offset+o.width<=e){n=r+1;break}}n=this._checkMoreButton(e,n),n=this._checkDivider(n),this._callback(n)}},{key:"_checkMoreButton",value:function(e,t){var n=this._widgets;if(t===n.length)return t;for(var r=t;r>=0;r--)if(n[r].offset+50<=e)return r;br(!1,"F:toolbar-monitor;L:111")}},{key:"_checkDivider",value:function(e){return br(e>=1,"F:toolbar-monitor;L:116"),this._widgets[e-1].isDivider?e-1:e}}]),e}();FN(".ne-ui-toolbar-more {\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin-left: 10px;\n  border-left: 1px solid #f0f0f0;\n}\n.ne-ui-toolbar-more-button.checked {\n  background-color: #E8E8E8;\n}\n.ne-ui-toolbar-more-overlay {\n  padding: 0;\n}\n.ne-ui-toolbar-more-overlay .ant-popover-arrow {\n  display: none;\n}\n.ne-ui-toolbar-more-overlay .ant-popover-inner-content {\n  padding: 0 10px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n.ne-ui-toolbar-more-overlay .ant-popover-inner-content .ne-ui-divider:first-child {\n  display: none;\n}\n");var VM=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{open:!1}),m()(l()(e),"_clickHandler",(function(){e.setState({open:!e.state.open})})),e}return a()(i,[{key:"close",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=nE(xm("更多"),Re.a.createElement("span",{className:"ne-ui-toolbar-more"},Re.a.createElement(aT,{className:nw("ne-ui-toolbar-button","ne-ui-toolbar-more-button",this.props.className,this.state.open?"checked":""),onClick:this._clickHandler},Re.a.createElement(oE,{iconfont:"more",size:12}))));return Re.a.createElement(Se.a,{visible:this.state.open,overlayClassName:"ne-ui-toolbar-more-overlay",placement:"bottomRight",content:this.props.widgets,getPopupContainer:this.props.getPopupContainer},e)}}]),i}();m()(VM,"propTypes",{className:De.a.string,widgets:De.a.array.isRequired,getPopupContainer:De.a.func});var zM=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_contentBoxRef",Re.a.createRef()),m()(l()(e),"_moreBtnRef",Re.a.createRef()),m()(l()(e),"_toolbarMonitor",null),m()(l()(e),"state",{main:null,sub:null}),m()(l()(e),"_clickHandler",(function(){e.props.descriptor.onEvent("click")})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this._contentBoxRef.current;t&&(this._toolbarMonitor=new jM(t,(function(t){e.setState({main:e.props.widgets.slice(0,t),sub:e.props.widgets.slice(t)})})))}},{key:"componentWillUnmount",value:function(){this._toolbarMonitor.destroy()}},{key:"closeMoreButton",value:function(){this._moreBtnRef.current&&this._moreBtnRef.current.close()}},{key:"render",value:function(){var e={main:this.props.widgets,sub:[]};return this.state.main&&(e=this.state),Re.a.createElement("div",{className:"ne-ui-inner-toolbar"},Re.a.createElement("div",{className:"ne-ui-toolbar-content",ref:this._contentBoxRef},e.main,this._renderMoreButton(e.sub)))}},{key:"_renderMoreButton",value:function(e){var t=this;return e.length?Re.a.createElement(VM,{className:"ne-toolbar-widget",ref:this._moreBtnRef,widgets:e,getPopupContainer:function(){return t.props.overlayContainer}}):null}}]),i}();m()(zM,"propTypes",{widgets:De.a.array.isRequired,overlayContainer:De.a.object.isRequired}),FN('.ne-ui-toolbar {\n  position: relative;\n  display: flex;\n  height: 50px;\n  color: #595959;\n}\n.ne-ui-toolbar .ne-toolbar-widget {\n  color: #595959;\n  flex-shrink: 0;\n}\n.ne-ui-toolbar .ne-toolbar-widget:hover {\n  color: #595959;\n}\n.ne-ui-toolbar .ne-toolbar-widget:last-child {\n  margin-right: 0;\n}\n.ne-ui-inner-toolbar {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n}\n.ne-ui-inner-toolbar .ne-ui-toolbar-content {\n  display: flex;\n  flex-wrap: nowrap;\n  height: 100%;\n  align-items: center;\n}\n.ne-ui-toolbar .ne-toolbar-widget {\n  margin-left: 8px;\n}\n.ne-ui-toolbar .ne-toolbar-widget *.ne-icon {\n  color: #000000;\n}\n.ne-ui-toolbar [data-ne-button-arrow="true"] + [data-ne-button-arrow="true"] {\n  margin-left: 4px;\n}\n.ne-ui-toolbar [data-ne-button-arrow="true"] + .ne-ui-divider,\n.ne-ui-toolbar .ne-ui-divider + [data-ne-button-arrow="true"] {\n  margin-left: 10px;\n}\n');var UM,HM=function(){function e(t,n,r,i,a){var c=this;o()(this,e),m()(this,"_mountNode",null),m()(this,"_containerNode",null),m()(this,"_overlayContainer",null),m()(this,"_disabled",!1),m()(this,"_fixed",!1),m()(this,"_toolbarWidgetsController",null),m()(this,"_toolbarView",Re.a.createRef()),this._mountNode=n,this._overlayContainer=i,this._containerNode=document.createElement("div"),this._containerNode.setAttribute("data-toolbar-name",t),this._containerNode.className="ne-ui-toolbar lake-diagram-prevent-mouse-select",r.forEach((function(e){"|"!==e&&(e.toolbarNode=c._containerNode)})),this._toolbarWidgetsController=new IM(r,i,this._containerNode),this._fixed=a,this._mountNode.appendChild(this._containerNode)}return a()(e,[{key:"isFixed",get:function(){return this._fixed}},{key:"destroy",value:function(){this._toolbarWidgetsController.destroy(),be.a.unmountComponentAtNode(this._containerNode),this._containerNode.remove(),this._containerNode=null}},{key:"enable",value:function(){this._disabled=!1,this._toolbarWidgetsController.enable()}},{key:"disable",value:function(){this._disabled=!0,this._toolbarWidgetsController.disable()}},{key:"close",value:function(){this._toolbarWidgetsController.close()}},{key:"show",value:function(){this._containerNode.style.display=""}},{key:"hide",value:function(){this._containerNode.style.display="none",this._toolbarView.current&&this._toolbarView.current.closeMoreButton()}},{key:"render",value:function(){var e=this._toolbarWidgetsController.createWidgets().filter(Boolean);be.a.render(Re.a.createElement(zM,{ref:this._toolbarView,widgets:e,overlayContainer:this._containerNode}),this._containerNode)}},{key:"refresh",value:function(){this._refresh()}},{key:"_refresh",value:function(){this._disabled||this._toolbarWidgetsController.refresh()}}]),e}(),qM=function(){function e(t,n,r){o()(this,e),m()(this,"_toolbar",null),m()(this,"_name",null),m()(this,"_config",null),m()(this,"_toolbarUI",null),this._toolbar=t,this._name=n,this._config=r}return a()(e,[{key:"destroy",value:function(){this._toolbar=null,this._config=null,this._toolbarUI&&this._toolbarUI.destroy(),this._toolbarUI=null}},{key:"open",value:function(){this._toolbarUI||(this._toolbarUI=this._toolbar._createToolbarUI(this._name,this._config),this._toolbarUI.hide()),this._toolbar._openUI(this._toolbarUI)}},{key:"refresh",value:function(){this._toolbarUI&&this._toolbarUI.refresh()}},{key:"close",value:function(){this._toolbarUI&&this._toolbar._closeUI(this._toolbarUI)}}]),e}(),WM=function(){function e(t,n,r){var i=this;o()(this,e),m()(this,"_iEditor",null),m()(this,"_toolbarOption",null),m()(this,"_rootNode",null),m()(this,"_defaultUI",null),m()(this,"_descriptorDefines",{}),m()(this,"_uiStack",[]),m()(this,"_agents",[]),m()(this,"_disabled",!0),this._rootNode=t,this._iEditor=n,this._iKernel=n.iKernel,this._toolbarOption=r,this._iEditor.on("selectionchange",K()((function(){i._getCurrentToolbarUI().refresh()}),300)),this._iEditor.on("contentchange",K()((function(){i._getCurrentToolbarUI().refresh()}),300))}return a()(e,[{key:"init",value:function(){var e=this;this._defaultUI=this._createToolbarUI("default"),this._iEditor.on("focusstatuschange",(function(t){t.focused&&e.enable()})),this._iEditor.on("exitFullscreen",(function(){e._defaultUI&&e._defaultUI.close()}))}},{key:"destroy",value:function(){this._defaultUI.destroy(),this._agents.forEach((function(e){e.destroy()})),this._descriptorDefines=null}},{key:"enable",value:function(){this._disabled&&(this._disabled=!1,this._getCurrentToolbarUI().enable())}},{key:"disable",value:function(){this._disabled||(this._disabled=!0,this._getCurrentToolbarUI().disable())}},{key:"refresh",value:function(){this._disabled||this._getCurrentToolbarUI().refresh()}},{key:"registerWidget",value:function(e,t){var n=this,r={};"string"==typeof e?r[e]=t:r=e,Object.keys(r).forEach((function(e){n._descriptorDefines[e]=r[e]}))}},{key:"registerToolbar",value:function(e,t){var n=new qM(this,e,t);return this._agents.push(n),n}},{key:"_openUI",value:function(e){var t=this._getCurrentToolbarUI();e.hide(),t.isFixed||t===e||(this._uiStack.push(e),e.enable(),e.show(),t&&(t.disable(),t.hide()))}},{key:"_closeUI",value:function(e){var t=this._getCurrentToolbarUI();if(t===e){this._uiStack.pop();var n=this._getCurrentToolbarUI();br(n,"F:toolbar;L:148"),n.enable(),n.show(),t.disable(),t.hide()}else{var r=this._uiStack.indexOf(e);-1!==r&&this._uiStack.splice(r,1)}}},{key:"_createToolbarUI",value:function(e,t){var n=this,r=this._iEditor;t||(t=this._toolbarOption.getConfig(e));var o=t,i=o.items,a=void 0===i?[]:i,c=o.fixed,l=a.map((function(e){if(e===oT.Divider)return oT.Divider;var t,o=n._descriptorDefines[e];return o?("function"==typeof o?t=new o(r,e):o.clazz&&(t=new o.clazz(r,e,o.pluginContext)),t.init(),t):null})).filter(Boolean),s=new HM(e,this._rootNode,l,this._iEditor.overlayContainer,c);return s.render(),s}},{key:"_getCurrentToolbarUI",value:function(){return this._uiStack[this._uiStack.length-1]||this._defaultUI}}]),e}(),ZM=["cardSelect","undo","redo","style","bold","taskList","orderedList","unorderedList","link","quote","alignment","indent"];function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JM=(m()(UM={},"default",{items:["cardSelect","|","undo","redo","formatPainter","clearFormat","|","style","fontsize","bold","italic","strikethrough","underline","mixedTextStyle","|","color","bgColor","|","alignment","unorderedList","orderedList","indent","lineHeight","|","taskList","link","quote","hr","|","search","translate","toc","materialLibrary"]}),m()(UM,"table",{items:["cardSelect","|","undo","redo","formatPainter","clearFormat","|","style","fontsize","bold","italic","strikethrough","underline","mixedTextStyle","|","color","bgColor","tableCellBgColor","tableBorderVisible","|","alignment","tableVerticalAlign","tableMergeCell","|","unorderedList","orderedList","indent","lineHeight","|","taskList","link","quote","hr","|","search","translate","toc","materialLibrary"]}),UM),YM=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=$M($M({},JM),t)}return a()(e,[{key:"getConfig",value:function(e){return this._option[e]||{}}}]),e}();m()(YM,"OptionName","toolbar");var GM=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_toolbar",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this._toolbar=new WM(e.uiLayer,e,this.option),e.extendMethods({registerToolbarWidget:function(){var e;return(e=t._toolbar).registerWidget.apply(e,arguments)},registerToolbar:function(e,n){return t._toolbar.registerToolbar(e,n)}})}},{key:"destroy",value:function(){this._toolbar.destroy(),this._toolbar=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"afterInit",value:function(){var e=this;this._toolbar.init(),this.iEditor.iKernel.onPluginEvent("typographyChange",(function(){e._toolbar.refresh()})),this.iEditor.iRenderer.onPluginEvent("mobileViewportChange",(function(t){e.autoAlignBottomInMobile(t)}))}},{key:"autoAlignBottomInMobile",value:function(e){var t=this.iEditor.uiLayer.offsetHeight,n=this.iEditor.editorExtraBox.offsetHeight,r=this.iEditor.uiExtraBox.offsetHeight;this.iEditor.editorNode.style.height=e+"px",this.iEditor.scrollNode.parentNode.style.height=e-t-r+"px",this.iEditor.iRenderer.domRootNode.style.minHeight=e-t-n-r+"px"}}]),i}();m()(GM,"PluginName","toolbar"),m()(GM,"PluginOption",YM);var XM=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iRenderer",null),t._iRenderer=e,t}return a()(i,[{key:"execute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"card";this._iRenderer.iKernel.execCommand("focusCard",e,t,n),this._iRenderer.focus({})}}]),i}();FN('.ne-editor ne-card.ne-card-mask:after {\n  content: " ";\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 2;\n  cursor: not-allowed;\n}\n.ne-editor ne-card[data-card-type="block"] {\n  border-radius: 4px;\n  border: 1px solid #eee;\n  margin: 2px 0;\n}\n.ne-editor ne-card[data-card-type="block"][data-card-name="yuque"],\n.ne-editor ne-card[data-card-type="block"][data-card-name="localdoc"] {\n  border: 1px solid #d9d9d9;\n}\n.ne-editor ne-card[data-card-type="block"][data-card-name="hr"] {\n  border: 1px solid transparent;\n}\n.ne-editor ne-card[data-card-type="block"].ne-card-hovered {\n  border: 1px solid #AEDAF6;\n}\n.ne-editor ne-card[data-card-type="block"].ne-card-hovered[data-card-name="hr"] {\n  border: 1px solid transparent;\n}\n.ne-editor ne-card[data-card-type="block"].ne-focused {\n  border: 1px solid #1890FF;\n}\n.ne-editor ne-card[data-card-type="block"].ne-focused[data-card-name="board"] {\n  border: 1px solid #ccc;\n}\n.ne-editor ne-card[data-card-type="block"].ne-focused[data-card-name="hr"] {\n  border: 1px solid transparent;\n}\n.ne-editor ne-card[data-card-type="block"].ne-focused[data-card-name="hr"] .ne-card-container {\n  background: #daeafe;\n}\n.ne-editor ne-card[data-card-type="block"].ne-card-editing {\n  border: 1px solid #ccc;\n}\n.ne-editor ne-card[data-card-type="block"].ne-max {\n  border: 0;\n}\n.ne-editor ne-card[data-card-type="block"].ne-max[data-card-name="board"] {\n  border: 0;\n}\n.ne-editor ne-card[data-card-type="block"] .ne-card-container {\n  overflow: hidden;\n  border-radius: 4px;\n}\n.ne-editor ne-card[data-card-type="inline"].ne-card-hovered,\n.ne-editor ne-card[data-card-type="inline"].ne-focused {\n  background: rgba(27, 162, 227, 0.2);\n}\n.ne-editor ne-card[data-card-type="inline"][data-card-name="label"] {\n  top: -1px;\n}\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"] {\n  height: auto;\n  line-height: 0;\n  border-radius: 4px;\n  border: 0px solid transparent;\n}\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"] .ne-card-container {\n  line-height: 0;\n}\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"] .ne-image-wrap {\n  border: 1px solid transparent;\n}\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"].ne-card-hovered,\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"].ne-focused {\n  background: transparent;\n}\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"].ne-card-hovered .ne-image-wrap,\n.ne-editor ne-card[data-card-type="inline"][data-card-name="image"].ne-focused .ne-image-wrap {\n  border: 1px solid #AEDAF6;\n}\n.ne-editor ne-card[data-card-type="inline"].ne-card-hovered[data-card-name="yuqueInline"] .ne-yuque-doc-title-view {\n  background: rgba(27, 162, 227, 0.2);\n}\n');var QM=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"currentNode",null),e}return a()(i,[{key:"init",value:function(e){e.registerCommand("focusCard",new XM(e)),e.onDocument("focusin",(function(e){var t;if(["INPUT","TEXTAREA"].includes(null===(t=e.target)||void 0===t?void 0:t.tagName)){var n=kd(e.target,"ne-card");n&&setTimeout((function(){n.classList.add("ne-card-editing")}),200)}})),e.onDocument("focusout",(function(e){var t;if(["INPUT","TEXTAREA"].includes(null===(t=e.target)||void 0===t?void 0:t.tagName)){var n=kd(e.target,"ne-card");n&&setTimeout((function(){n.classList.remove("ne-card-editing")}),200)}}))}}]),i}();m()(QM,"PluginName","card"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-card[data-card-name=\"label\"] .ne-card-container {\n  max-width: 200px;\n  display: flex;\n  align-items: center;\n}\nne-card[data-card-name=\"label\"] .ne-card-label {\n  width: 100%;\n}\nne-card[data-card-name=\"label\"] .ne-card-label-text {\n  white-space: nowrap;\n  border-radius: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  line-height: 14px;\n  padding: 0 3px;\n  border: 2px solid transparent;\n}\nne-card[data-card-name=\"label\"].ne-focused .ne-card-label-text {\n  border-color: #1890FF;\n}\nne-card[data-card-name=\"label\"] .ne-card-label-text {\n  border: 2px solid #fff;\n}\n.ne-label-overlay .ne-card-label-input-box input {\n  width: 144px;\n}\n.ne-label-overlay .ne-card-label-colors {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n.ne-label-overlay .ne-card-label-colors .ne-card-label-color-item {\n  width: 24px;\n  height: 24px;\n  padding: 2px;\n  border-radius: 3px;\n  border: 1px solid transparent;\n  cursor: pointer;\n}\n.ne-label-overlay .ne-card-label-colors .ne-card-label-color-item:HOVER {\n  border-color: #d9d9d9;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);\n}\n.ne-label-overlay .ne-card-label-colors .ne-card-label-color-inner-item {\n  width: 18px;\n  height: 18px;\n  border: 1px solid transparent;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 2px;\n}\n.ne-label-overlay .ne-card-label-colors .ne-card-label-color-selected {\n  display: block;\n  width: 12px;\n  height: 12px;\n}\n");var eL=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_inputRef",Re.a.createRef()),m()(l()(e),"state",{panelShow:!1}),m()(l()(e),"openEditor",(function(){e.state.panelShow||e.setState({panelShow:!0})})),m()(l()(e),"_visibleChange",(function(t){e.setState({panelShow:t}),t||e.props.onClose()})),m()(l()(e),"_handleInputKeyDown",(function(t){229!==t.keyCode&&(jE.isEnter(t)||jE.isEscape(t)?(e.setState({panelShow:!1}),e.props.onClose()):jE.isTab(t)&&t.preventDefault())})),m()(l()(e),"_handleLabelChange",(function(t){e.props.onLabelChange(t.target.value)})),e}return a()(i,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.panelShow&&t.panelShow!==this.state.panelShow&&!this.props.cardData.getLabel()&&setTimeout((function(){n._inputRef.current&&(n._inputRef.current.focus(),n._inputRef.current.select())}),32)}},{key:"render",value:function(){var e=this,t=this.props.cardData.getStyle();return Re.a.createElement(Se.a,{trigger:"click",getPopupContainer:function(){return e.props.overlayContainer},onVisibleChange:this._visibleChange,overlayClassName:"ne-label-overlay",visible:this.state.panelShow,placement:"bottomLeft",content:this._renderInput()},Re.a.createElement("div",{className:"ne-card-label"},Re.a.createElement("div",{className:nw("ne-card-label-text",this.state.panelShow?"ne-active":""),style:t},this._getText())))}},{key:"_renderInput",value:function(){var e=this,t=this.props.cardData.getColorIndex(),n=this.props.cardData.getLabel(),r=Re.a.createElement(oE,{type:"check"}),o=ky.map((function(n,o){return Re.a.createElement("div",{key:n[0],className:"ne-card-label-color-item",onClick:function(){e._handleColorChange(o)}},Re.a.createElement("div",{className:"ne-card-label-color-inner-item",style:{backgroundColor:n[0],borderColor:xy.getStroke(n[0])}},o===t?r:null))}));return Re.a.createElement("div",{className:"ne-card-label-input-box"},Re.a.createElement(Me.a,{onKeyDown:this._handleInputKeyDown,onChange:this._handleLabelChange,ref:this._inputRef,value:n||""}),Re.a.createElement("div",{className:"ne-card-label-colors"},o))}},{key:"_getText",value:function(){return this.props.cardData.getLabel()||xm("设置状态")}},{key:"_handleColorChange",value:function(e){this.props.onColorIndexChange(e)}}]),i}();m()(eL,"propTypes",{isFocus:De.a.bool,cardData:De.a.instanceOf(Ny).isRequired,overlayContainer:De.a.any.isRequired,onLabelChange:De.a.func,onColorIndexChange:De.a.func,onClose:De.a.func}),m()(eL,"defaultProps",{onLabelChange:function(){},onColorIndexChange:function(){},onClose:function(){}});var tL=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"init",value:function(){var e=this;this.uiViewProxy=cO.render(eL,{cardData:this.cardData,focus:!1,overlayContainer:this.iEditor.innerOverlayContainer,onLabelChange:function(t){e.cardData.setLabel(t)},onColorIndexChange:function(t){e.cardData.setColorIndex(t)},onClose:function(){e.cardData.sync(!1),e.emit("onClose")}},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){this.uiViewProxy.rerender({focus:!0})}},{key:"blur",value:function(){this.uiViewProxy.rerender({focus:!1})}},{key:"openEditor",value:function(){this.uiViewProxy&&this.uiViewProxy.getReactRef().openEditor()}}]),i}();var nL=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this),Ls(this,this._ui,"onClose",(function(){e._iEditor.execCommand("focus")}))}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}},{key:"openEditor",value:function(){this._ui.openEditor()}}]),i}();m()(nL,"$EditableCardUI",tL),m()(nL,"$CardData",Ny);var rL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_labels",new Map),e}return a()(i,[{key:"init",value:function(e,t){var n=this;t.registerInlineCard(this,"label",{factory:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=ut()(nL,[e].concat(r));return n._labels.set(i.viewNode.attrs.id,i),i}}),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("label",{type:"TextItem",icon:"card-label",iconSize:16,label:xm("状态"),keywords:"标签,bq,biaoqian,label,状态,zt,zhuangtai,status"}),e.onPluginEvent("insertCardByUI:label",(function(){var t=e.execCommand("insertCard","label",null,!0),r=n._labels.get(t);r&&r.openEditor()}))}}]),i}();m()(rL,"PluginName","label"),FN('.ne-engine ne-hole[data-card="hr"] .ne-i-filler {\n  align-self: center;\n}\n.ne-engine ne-card[data-card-name="hr"] {\n  font-size: 24px;\n  color: #fff;\n}\n.ne-engine ne-card[data-card-name="hr"] .ne-card-container {\n  width: 100%;\n}\n.ne-engine ne-card[data-card-name="hr"] ne-card-root {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: default;\n}\n.ne-engine ne-card[data-card-name="hr"] ne-card-root .ne-card-container {\n  padding: 18px 0;\n}\n.ne-engine ne-card[data-card-name="hr"] ne-card-root .ne-card-container:hover {\n  background-color: #f4f4f4;\n}\n.ne-engine ne-card[data-card-name="hr"] ne-card-root .ne-hr-line {\n  width: 100%;\n  height: 2px;\n  background: #e8e8e8;\n  border-top: 1px solid transparent;\n}\n');var oL=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.containerNode.innerHTML='<div class="ne-hr-line"></div>'}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy"]}}}]),i}();var iL=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){var e;null===(e=this._ui)||void 0===e||e.destroy()}}]),i}();m()(iL,"$EditableCardUI",oL);var aL=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:hr-toolbar-descriptor;L:10"),this.iEditor.execCommand("hr")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-hr",className:"ne-ui-toolbar-hr",tooltip:Uk.getTooltip(this.iEditor,xm("插入分割线"),"hr")}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("hr")}}}]),i}();m()(aL,"Type","Button");var cL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"hr",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(iL,[e].concat(n))}}),e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("hr",aL),t.hasExtendMethod("registerHotKey")&&t.registerHotKey("hr",["cmd","opt","S"],(function(e){e.stop(),t.execCommand("hr")})),e.hasExtendMethod("registerSlashCommand")&&e.registerSlashCommand("hr",{iconfont:"hr",label:xm("分隔线"),keywords:["分隔线","fengexian","hr","fgx","divider"],hotkey:t.getHotKeyByName("hr"),markdown:["---","Enter"]})}}]),i}();m()(cL,"PluginName","hr");var lL=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:link-toolbar-descriptor;L:10");var t=this.iEditor;t.hasExtendMethod("insertLink")&&t.insertLink()}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-link",className:"ne-ui-toolbar-link",tooltip:Uk.getTooltip(this.iEditor,xm("插入链接"),"link")}}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("link")&&!e.queryCommandEnabled("insertLink")}}}]),i}();m()(lL,"Type","Button");var sL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("link",lL),t.hasExtendMethod("insertLink")&&e.extendMethods({insertLink:function(){t.insertLink.apply(t,arguments)}}),e.hasExtendMethod("registerSlashCommand")&&e.registerSlashCommand("link",{label:xm("链接"),keywords:["lianjie","charulianjie","链接","lj","link"],icon:"t-link",hotkey:t.getHotKeyByName("link"),execute:function(){t.insertLink()}})}}]),i}();m()(sL,"PluginName","link");var uL=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(){this.iEditor.execCommand("quote")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-quote",className:"ne-ui-toolbar-quote",checked:!1,tooltip:Uk.getTooltip(this.iEditor,xm("插入引用"),"quote")}}},{key:"getUIState",value:function(){var e=this.iEditor.queryCommandState("quote");return{checked:1===e,disabled:this.disabled||-1===e}}}]),i}();m()(uL,"Type","StatusButton");var dL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("quote",uL),e.hasExtendMethod("registerSlashCommand")&&e.registerSlashCommand("quote",{label:xm("引用"),keywords:["引用","yinyong","yy","quote"],icon:"t-quote",hotkey:t.getHotKeyByName("quote"),markdown:[">","Space"]})}}]),i}();m()(dL,"PluginName","quote"),FN("ne-quote {\n  display: block;\n  padding-left: 10px;\n  margin: 10px 0;\n  border-left: 3px solid #eee;\n}\nne-quote ne-text,\nne-quote ne-oli-i,\nne-quote ne-uli-i {\n  opacity: 0.7;\n}\n");var fL=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel.iEditing;e.hasExtendMethod("registerQuickInput")&&t.hasExtendMethod("quickInputForQuote")&&e.registerQuickInput({trigger:"whiteSpace",atStart:!0,pattern:/^[>》]$/,matchPosition:function(e,t,n){if(!n)return e.acceptNode(t.node.nodeName,"quote");var r=n.parentNode;return r&&e.acceptNode(r.nodeName,"quote")}},(function(e){t.quickInputForQuote(e)})),e.hasExtendMethod("registerHotKey")&&e.registerHotKey("quote",["cmd","shift","U"],(function(t){t.stop(),e.execCommand("quote")}))}}]),i}();m()(fL,"PluginName","quote");var hL=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"attrName",""),t.attrName="ne-".concat(e),t}return a()(i,[{key:"translate",value:function(){return{type:qC.ATTR_NAME,name:this.attrName,value:"true"}}}]),i}();FN('[ne-sup] {\n  font-size: 0.83em;\n  vertical-align: super;\n  position: relative;\n  top: -0.25em;\n  z-index: 0;\n}\n[ne-sub] {\n  font-size: 0.83em;\n  vertical-align: sub;\n  position: relative;\n  bottom: -0.25em;\n  z-index: 0;\n}\n.ne-engine [ne-sub][ne-fontsize="12"],\n.ne-viewer [ne-sub][ne-fontsize="12"],\n.ne-engine [ne-sup][ne-fontsize="12"],\n.ne-viewer [ne-sup][ne-fontsize="12"] {\n  font-size: 9px;\n}\n.ne-engine [ne-sub][ne-fontsize="13"],\n.ne-viewer [ne-sub][ne-fontsize="13"],\n.ne-engine [ne-sup][ne-fontsize="13"],\n.ne-viewer [ne-sup][ne-fontsize="13"] {\n  font-size: 9.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="14"],\n.ne-viewer [ne-sub][ne-fontsize="14"],\n.ne-engine [ne-sup][ne-fontsize="14"],\n.ne-viewer [ne-sup][ne-fontsize="14"] {\n  font-size: 10.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="15"],\n.ne-viewer [ne-sub][ne-fontsize="15"],\n.ne-engine [ne-sup][ne-fontsize="15"],\n.ne-viewer [ne-sup][ne-fontsize="15"] {\n  font-size: 11.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="16"],\n.ne-viewer [ne-sub][ne-fontsize="16"],\n.ne-engine [ne-sup][ne-fontsize="16"],\n.ne-viewer [ne-sup][ne-fontsize="16"] {\n  font-size: 12px;\n}\n.ne-engine [ne-sub][ne-fontsize="17"],\n.ne-viewer [ne-sub][ne-fontsize="17"],\n.ne-engine [ne-sup][ne-fontsize="17"],\n.ne-viewer [ne-sup][ne-fontsize="17"] {\n  font-size: 12.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="18"],\n.ne-viewer [ne-sub][ne-fontsize="18"],\n.ne-engine [ne-sup][ne-fontsize="18"],\n.ne-viewer [ne-sup][ne-fontsize="18"] {\n  font-size: 13.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="19"],\n.ne-viewer [ne-sub][ne-fontsize="19"],\n.ne-engine [ne-sup][ne-fontsize="19"],\n.ne-viewer [ne-sup][ne-fontsize="19"] {\n  font-size: 14.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="20"],\n.ne-viewer [ne-sub][ne-fontsize="20"],\n.ne-engine [ne-sup][ne-fontsize="20"],\n.ne-viewer [ne-sup][ne-fontsize="20"] {\n  font-size: 15px;\n}\n.ne-engine [ne-sub][ne-fontsize="21"],\n.ne-viewer [ne-sub][ne-fontsize="21"],\n.ne-engine [ne-sup][ne-fontsize="21"],\n.ne-viewer [ne-sup][ne-fontsize="21"] {\n  font-size: 15.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="22"],\n.ne-viewer [ne-sub][ne-fontsize="22"],\n.ne-engine [ne-sup][ne-fontsize="22"],\n.ne-viewer [ne-sup][ne-fontsize="22"] {\n  font-size: 16.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="23"],\n.ne-viewer [ne-sub][ne-fontsize="23"],\n.ne-engine [ne-sup][ne-fontsize="23"],\n.ne-viewer [ne-sup][ne-fontsize="23"] {\n  font-size: 17.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="24"],\n.ne-viewer [ne-sub][ne-fontsize="24"],\n.ne-engine [ne-sup][ne-fontsize="24"],\n.ne-viewer [ne-sup][ne-fontsize="24"] {\n  font-size: 18px;\n}\n.ne-engine [ne-sub][ne-fontsize="25"],\n.ne-viewer [ne-sub][ne-fontsize="25"],\n.ne-engine [ne-sup][ne-fontsize="25"],\n.ne-viewer [ne-sup][ne-fontsize="25"] {\n  font-size: 18.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="26"],\n.ne-viewer [ne-sub][ne-fontsize="26"],\n.ne-engine [ne-sup][ne-fontsize="26"],\n.ne-viewer [ne-sup][ne-fontsize="26"] {\n  font-size: 19.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="27"],\n.ne-viewer [ne-sub][ne-fontsize="27"],\n.ne-engine [ne-sup][ne-fontsize="27"],\n.ne-viewer [ne-sup][ne-fontsize="27"] {\n  font-size: 20.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="28"],\n.ne-viewer [ne-sub][ne-fontsize="28"],\n.ne-engine [ne-sup][ne-fontsize="28"],\n.ne-viewer [ne-sup][ne-fontsize="28"] {\n  font-size: 21px;\n}\n.ne-engine [ne-sub][ne-fontsize="29"],\n.ne-viewer [ne-sub][ne-fontsize="29"],\n.ne-engine [ne-sup][ne-fontsize="29"],\n.ne-viewer [ne-sup][ne-fontsize="29"] {\n  font-size: 21.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="30"],\n.ne-viewer [ne-sub][ne-fontsize="30"],\n.ne-engine [ne-sup][ne-fontsize="30"],\n.ne-viewer [ne-sup][ne-fontsize="30"] {\n  font-size: 22.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="31"],\n.ne-viewer [ne-sub][ne-fontsize="31"],\n.ne-engine [ne-sup][ne-fontsize="31"],\n.ne-viewer [ne-sup][ne-fontsize="31"] {\n  font-size: 23.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="32"],\n.ne-viewer [ne-sub][ne-fontsize="32"],\n.ne-engine [ne-sup][ne-fontsize="32"],\n.ne-viewer [ne-sup][ne-fontsize="32"] {\n  font-size: 24px;\n}\n.ne-engine [ne-sub][ne-fontsize="33"],\n.ne-viewer [ne-sub][ne-fontsize="33"],\n.ne-engine [ne-sup][ne-fontsize="33"],\n.ne-viewer [ne-sup][ne-fontsize="33"] {\n  font-size: 24.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="34"],\n.ne-viewer [ne-sub][ne-fontsize="34"],\n.ne-engine [ne-sup][ne-fontsize="34"],\n.ne-viewer [ne-sup][ne-fontsize="34"] {\n  font-size: 25.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="35"],\n.ne-viewer [ne-sub][ne-fontsize="35"],\n.ne-engine [ne-sup][ne-fontsize="35"],\n.ne-viewer [ne-sup][ne-fontsize="35"] {\n  font-size: 26.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="36"],\n.ne-viewer [ne-sub][ne-fontsize="36"],\n.ne-engine [ne-sup][ne-fontsize="36"],\n.ne-viewer [ne-sup][ne-fontsize="36"] {\n  font-size: 27px;\n}\n.ne-engine [ne-sub][ne-fontsize="37"],\n.ne-viewer [ne-sub][ne-fontsize="37"],\n.ne-engine [ne-sup][ne-fontsize="37"],\n.ne-viewer [ne-sup][ne-fontsize="37"] {\n  font-size: 27.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="38"],\n.ne-viewer [ne-sub][ne-fontsize="38"],\n.ne-engine [ne-sup][ne-fontsize="38"],\n.ne-viewer [ne-sup][ne-fontsize="38"] {\n  font-size: 28.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="39"],\n.ne-viewer [ne-sub][ne-fontsize="39"],\n.ne-engine [ne-sup][ne-fontsize="39"],\n.ne-viewer [ne-sup][ne-fontsize="39"] {\n  font-size: 29.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="40"],\n.ne-viewer [ne-sub][ne-fontsize="40"],\n.ne-engine [ne-sup][ne-fontsize="40"],\n.ne-viewer [ne-sup][ne-fontsize="40"] {\n  font-size: 30px;\n}\n.ne-engine [ne-sub][ne-fontsize="41"],\n.ne-viewer [ne-sub][ne-fontsize="41"],\n.ne-engine [ne-sup][ne-fontsize="41"],\n.ne-viewer [ne-sup][ne-fontsize="41"] {\n  font-size: 30.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="42"],\n.ne-viewer [ne-sub][ne-fontsize="42"],\n.ne-engine [ne-sup][ne-fontsize="42"],\n.ne-viewer [ne-sup][ne-fontsize="42"] {\n  font-size: 31.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="43"],\n.ne-viewer [ne-sub][ne-fontsize="43"],\n.ne-engine [ne-sup][ne-fontsize="43"],\n.ne-viewer [ne-sup][ne-fontsize="43"] {\n  font-size: 32.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="44"],\n.ne-viewer [ne-sub][ne-fontsize="44"],\n.ne-engine [ne-sup][ne-fontsize="44"],\n.ne-viewer [ne-sup][ne-fontsize="44"] {\n  font-size: 33px;\n}\n.ne-engine [ne-sub][ne-fontsize="45"],\n.ne-viewer [ne-sub][ne-fontsize="45"],\n.ne-engine [ne-sup][ne-fontsize="45"],\n.ne-viewer [ne-sup][ne-fontsize="45"] {\n  font-size: 33.75px;\n}\n.ne-engine [ne-sub][ne-fontsize="46"],\n.ne-viewer [ne-sub][ne-fontsize="46"],\n.ne-engine [ne-sup][ne-fontsize="46"],\n.ne-viewer [ne-sup][ne-fontsize="46"] {\n  font-size: 34.5px;\n}\n.ne-engine [ne-sub][ne-fontsize="47"],\n.ne-viewer [ne-sub][ne-fontsize="47"],\n.ne-engine [ne-sup][ne-fontsize="47"],\n.ne-viewer [ne-sup][ne-fontsize="47"] {\n  font-size: 35.25px;\n}\n.ne-engine [ne-sub][ne-fontsize="48"],\n.ne-viewer [ne-sub][ne-fontsize="48"],\n.ne-engine [ne-sup][ne-fontsize="48"],\n.ne-viewer [ne-sup][ne-fontsize="48"] {\n  font-size: 36px;\n}\n');var pL=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel;e.registerAttrTranslator({sub:new hL("sub"),sup:new hL("sup")}),e.hasExtendMethod("registerHotKey")&&[{key:["cmd","shift",190],command:"sup"},{key:["cmd","shift",188],command:"sub"}].forEach((function(n){var r=n.key,o=n.command;e.registerHotKey(o,r,(function(e){e.stop(),t.execCommand(o)}))}))}}]),i}();m()(pL,"PluginName","subscript");var vL=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){this.iEditor.execCommand(t)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-moremark",items:[{label:xm("上标"),icon:"t-superscript",value:"superscript",disabled:!0,checked:!1},{label:xm("下标"),icon:"t-subscript",value:"subscript",disabled:!0,checked:!1},{label:xm("行内代码"),icon:"t-code",value:"code",disabled:!0,checked:!1}],tooltip:xm("更多文本样式")}}},{key:"getUIState",value:function(){var e=this,t=this.iEditor,n=[{label:xm("上标"),icon:"t-superscript",value:"sup",tooltip:Uk.getTooltip(this.iEditor,null,"sup")},{label:xm("下标"),icon:"t-subscript",value:"sub",tooltip:Uk.getTooltip(this.iEditor,null,"sub")}].map((function(n){var r=t.queryCommandState(n.value);return n.disabled=e.disabled||-1===r,n.checked=1===r,n})),r=t.queryCommandState("code");return n.push({label:xm("行内代码"),icon:"t-code",value:"code",checked:1===r,disabled:this.disabled||-1===r,tooltip:Uk.getTooltip(this.iEditor,null,"code")}),{disabled:this.disabled||!t.queryCommandEnabled("italic"),items:n}}}]),i}();m()(vL,"Type","DropdownButton");var mL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("mixedTextStyle",vL)}}]),i}();m()(mL,"PluginName","mixedTextStyle"),FN("ne-code {\n  display: inline;\n  text-indent: 0;\n}\nne-code-content {\n  display: inline;\n  background-color: rgba(0, 0, 0, 0.06);\n  border-radius: 2px;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;\n  padding: 0 2px;\n  margin: 0 1px;\n}\nne-code-content:before,\nne-code-content:after {\n  content: '\\FEFF';\n  display: inline-block;\n}\n");var yL=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=eC.createElement("ne-code"),this._contentNode=eC.createElement("ne-code-content"),this._rootNode.appendChild(this._contentNode),this._updateFontSize()}},{key:"$didUpdate",value:function(){this._updateFontSize()}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_updateFontSize",value:function(){var e=function e(t){return null!=t&&t.length?Math.max.apply(Math,x()(t.map((function(t){return t.isFillerNode()||t.isTextNode()?t.attrs.fontsize||0:t.isElement()?e(t.children):0})))):0}(this.viewNode.children);this._contentNode.style.fontSize=0===e?"":e+"px"}}]),i}();var gL=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("code",yL),e.hasExtendMethod("registerHotKey")&&e.registerHotKey("code",["cmd","E"],(function(t){t.stop(),e.execCommand("code")}))}}]),i}();m()(gL,"PluginName","code"),FN("/**\n * 排版设置共享内容\n */\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-table-hole {\n  margin: 4px 0 16px 0;\n  -webkit-margin-after: 1px;\n}\nne-table-hole[data-no-spacing] {\n  margin: -12px 0 0 0;\n  -webkit-margin-after: -15px;\n}\n.ne-engine ne-h1,\n.ne-viewer ne-h1 {\n  font-size: 28px!important;\n  line-height: 36px!important;\n  margin: 26px 0 10px 0;\n}\n.ne-engine ne-h1:first-child,\n.ne-viewer ne-h1:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h1 ne-heading-ext,\n.ne-viewer ne-h1 ne-heading-ext {\n  height: 36px;\n}\n.ne-engine ne-h1 ne-text,\n.ne-viewer ne-h1 ne-text {\n  font-size: 28px!important;\n}\n.ne-engine ne-h2,\n.ne-viewer ne-h2 {\n  font-size: 24px!important;\n  line-height: 32px!important;\n}\n.ne-engine ne-h2:first-child,\n.ne-viewer ne-h2:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h2 ne-heading-ext,\n.ne-viewer ne-h2 ne-heading-ext {\n  height: 32px;\n}\n.ne-engine ne-h2 ne-text,\n.ne-viewer ne-h2 ne-text {\n  font-size: 24px!important;\n}\n.ne-engine ne-h3,\n.ne-viewer ne-h3 {\n  font-size: 20px!important;\n  line-height: 28px!important;\n}\n.ne-engine ne-h3:first-child,\n.ne-viewer ne-h3:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h3 ne-heading-ext,\n.ne-viewer ne-h3 ne-heading-ext {\n  height: 28px;\n}\n.ne-engine ne-h3 ne-text,\n.ne-viewer ne-h3 ne-text {\n  font-size: 20px!important;\n}\n.ne-engine ne-h4,\n.ne-viewer ne-h4 {\n  font-size: 16px!important;\n  line-height: 24px!important;\n}\n.ne-engine ne-h4:first-child,\n.ne-viewer ne-h4:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h4 ne-heading-ext,\n.ne-viewer ne-h4 ne-heading-ext {\n  height: 24px;\n}\n.ne-engine ne-h4 ne-text,\n.ne-viewer ne-h4 ne-text {\n  font-size: 16px!important;\n}\n.ne-engine ne-h5,\n.ne-viewer ne-h5 {\n  line-height: 24px!important;\n}\n.ne-engine ne-h5:first-child,\n.ne-viewer ne-h5:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h5 ne-heading-ext,\n.ne-viewer ne-h5 ne-heading-ext {\n  height: 24px;\n}\n.ne-engine ne-h6,\n.ne-viewer ne-h6 {\n  line-height: 24px!important;\n}\n.ne-engine ne-h6:first-child,\n.ne-viewer ne-h6:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h6 ne-heading-ext,\n.ne-viewer ne-h6 ne-heading-ext {\n  height: 24px;\n}\n/*\n * 本文件提供默认紧凑排版的基础样式设置，此处需要和各插件配合，使得 js 中获取的值和 css 中定义的值处于一致状态\n */\n.ne-typography-traditional {\n  line-height: 1.74;\n  letter-spacing: 0.05em;\n  color: #262626;\n  font-size: 14px;\n}\n.ne-typography-traditional .ne-table {\n  line-height: 1.74;\n}\n.ne-typography-traditional ne-code ne-text {\n  font-size: 14px;\n}\n.ne-typography-traditional ne-text[ne-sub],\n.ne-typography-traditional ne-text[ne-sup] {\n  font-size: 10.5px;\n}\n.ne-typography-traditional ne-h1 {\n  margin: 7px 0;\n}\n.ne-typography-traditional ne-h2 {\n  margin: 7px 0;\n}\n.ne-typography-traditional ne-h3 {\n  margin: 7px 0;\n}\n.ne-typography-traditional ne-h4 {\n  margin: 7px 0;\n}\n.ne-typography-traditional ne-h5 {\n  font-size: 14px!important;\n  margin: 7px 0;\n}\n.ne-typography-traditional ne-h5 ne-text {\n  font-size: 14px!important;\n}\n.ne-typography-traditional ne-h6 {\n  font-size: 14px!important;\n  margin: 7px 0;\n}\n.ne-typography-traditional ne-h6 ne-text {\n  font-size: 14px!important;\n}\n.ne-typography-traditional ne-tli ne-tli-i.ant-checkbox {\n  padding-top: 1px;\n}\n.ne-typography-traditional ne-card[data-card-name=\"mention\"] {\n  font-size: 14px;\n}\n"),FN("/**\n * 排版设置共享内容\n */\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-table-hole {\n  margin: 4px 0 16px 0;\n  -webkit-margin-after: 1px;\n}\nne-table-hole[data-no-spacing] {\n  margin: -12px 0 0 0;\n  -webkit-margin-after: -15px;\n}\n.ne-engine ne-h1,\n.ne-viewer ne-h1 {\n  font-size: 28px!important;\n  line-height: 36px!important;\n  margin: 26px 0 10px 0;\n}\n.ne-engine ne-h1:first-child,\n.ne-viewer ne-h1:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h1 ne-heading-ext,\n.ne-viewer ne-h1 ne-heading-ext {\n  height: 36px;\n}\n.ne-engine ne-h1 ne-text,\n.ne-viewer ne-h1 ne-text {\n  font-size: 28px!important;\n}\n.ne-engine ne-h2,\n.ne-viewer ne-h2 {\n  font-size: 24px!important;\n  line-height: 32px!important;\n}\n.ne-engine ne-h2:first-child,\n.ne-viewer ne-h2:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h2 ne-heading-ext,\n.ne-viewer ne-h2 ne-heading-ext {\n  height: 32px;\n}\n.ne-engine ne-h2 ne-text,\n.ne-viewer ne-h2 ne-text {\n  font-size: 24px!important;\n}\n.ne-engine ne-h3,\n.ne-viewer ne-h3 {\n  font-size: 20px!important;\n  line-height: 28px!important;\n}\n.ne-engine ne-h3:first-child,\n.ne-viewer ne-h3:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h3 ne-heading-ext,\n.ne-viewer ne-h3 ne-heading-ext {\n  height: 28px;\n}\n.ne-engine ne-h3 ne-text,\n.ne-viewer ne-h3 ne-text {\n  font-size: 20px!important;\n}\n.ne-engine ne-h4,\n.ne-viewer ne-h4 {\n  font-size: 16px!important;\n  line-height: 24px!important;\n}\n.ne-engine ne-h4:first-child,\n.ne-viewer ne-h4:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h4 ne-heading-ext,\n.ne-viewer ne-h4 ne-heading-ext {\n  height: 24px;\n}\n.ne-engine ne-h4 ne-text,\n.ne-viewer ne-h4 ne-text {\n  font-size: 16px!important;\n}\n.ne-engine ne-h5,\n.ne-viewer ne-h5 {\n  line-height: 24px!important;\n}\n.ne-engine ne-h5:first-child,\n.ne-viewer ne-h5:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h5 ne-heading-ext,\n.ne-viewer ne-h5 ne-heading-ext {\n  height: 24px;\n}\n.ne-engine ne-h6,\n.ne-viewer ne-h6 {\n  line-height: 24px!important;\n}\n.ne-engine ne-h6:first-child,\n.ne-viewer ne-h6:first-child {\n  margin-top: 0;\n}\n.ne-engine ne-h6 ne-heading-ext,\n.ne-viewer ne-h6 ne-heading-ext {\n  height: 24px;\n}\n/*\n * 本文件提供【经典】排版的基础样式设置，此处需要和各插件配合，使得 js 中获取的值和 css 中定义的值处于一致状态\n */\n.ne-typography-classic {\n  line-height: 1.74;\n  letter-spacing: 0.008em;\n  color: #404040;\n  font-size: 15px;\n}\n.ne-typography-classic .ne-table {\n  line-height: 1.74;\n}\n.ne-typography-classic ne-code ne-text {\n  font-size: 15px;\n}\n.ne-typography-classic ne-text[ne-sub],\n.ne-typography-classic ne-text[ne-sup] {\n  font-size: 11.25px;\n}\n.ne-typography-classic ne-h1 {\n  margin: 26px 0 10px 0;\n}\n.ne-typography-classic ne-h2 {\n  margin: 21px 0 5px 0;\n}\n.ne-typography-classic ne-h3 {\n  margin: 16px 0 5px 0;\n}\n.ne-typography-classic ne-h4 {\n  margin: 10px 0 5px 0;\n}\n.ne-typography-classic ne-h5 {\n  font-size: 15px!important;\n  margin: 8px 0 5px 0;\n}\n.ne-typography-classic ne-h5 ne-text {\n  font-size: 15px!important;\n}\n.ne-typography-classic ne-h6 {\n  font-size: 15px!important;\n  margin: 8px 0 5px 0;\n}\n.ne-typography-classic ne-h6 ne-text {\n  font-size: 15px!important;\n}\n.ne-typography-classic ne-tli ne-tli-i.ant-checkbox {\n  padding-top: 2px;\n}\n.ne-typography-classic ne-card[data-card-name=\"mention\"] {\n  font-size: 15px;\n}\n");var bL=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){this.kernel.iKernel.on("document.create",(function(){var t=e.queryCommandValue("typography"),n=e.domRootNode.classList;n.remove("ne-typography-".concat("classic"),"ne-typography-".concat("traditional")),n.add("ne-typography-".concat(t))})),e.iKernel.onPluginEvent("typographyChange",(function(t){var n=t.current,r=t.old,o=e.domRootNode.classList;o.remove("ne-typography-".concat(r)),o.add("ne-typography-".concat(n)),e.emit("typographyChange",{current:n,old:r})}))}},{key:"destroy",value:function(){this.iRenderer.domRootNode.classList.remove("ne-typography-".concat("classic"),"ne-typography-".concat("traditional")),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(bL,"PluginName","typography");var wL={" ":"whiteSpace","/":"slash","@":"at",Enter:"enter"},xL=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_descriptors",{whiteSpace:[],slash:[],enter:[],at:[]}),e}return a()(i,[{key:"init",value:function(e){var t=this,n=this.kernel.iEditing,r=W.ua.safari?"beforeinput":"keydown";e.onRootNode(r,(function(e){var o=e.keyCode;if(!e.metaKey&&!e.ctrlKey&&(229!==o||W.ua.mobile)){var i=e.key||e.data;if(i||"beforeinput"!==r||"insertParagraph"!==e.inputType||(i="Enter")," "===i||"/"===i||"Enter"===i||"@"===i){var a=n.matchQuickInput(t._descriptors[wL[i]]);a&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),a.handler(a.info))}}}),!1),e.onPluginEvent("beforeinput",(function(e){var r=n.matchQuickInput(t._descriptors[wL[e.data]]);r&&(e.stop(),r.handler(r.info))})),W.ua.safari&&e.onRootNode("keydown",(function(e){var r=e.keyCode;if(!e.metaKey&&!e.ctrlKey&&(229!==r||W.ua.mobile)){var o=e.key;if("Enter"===o){var i=n.matchQuickInput(t._descriptors[wL[o]]);i&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),i.handler(i.info))}}}),!1),e.extendMethods({registerQuickInput:function(e,n){br(t._descriptors[e.trigger],"F:render/index;L:99"),t._descriptors[e.trigger].push({descriptor:e,handler:n})}})}}]),i}();m()(xL,"PluginName","quickInput");var _L=function(){function e(){o()(this,e)}return a()(e,null,[{key:"insert",value:function(e,t,n,r){e.emitPluginEvent("insertCardByUI",{item:t,name:t.name,args:n,inputValue:r}),e.emitPluginEvent("insertCardByUI:".concat(t.name),{item:t,name:t.name,args:n,inputValue:r})}}]),e}();var kL,CL=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t,n){br("select"===e,"F:insert-card-toolbar-descriptor;L:11");var r=this.iEditor;_L.insert(r,t,n)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,value:null,icon:"t-insert-card",iconSize:18,className:"ne-ui-toolbar-insert-card",dropdownClassName:"ne-ui-toolbar-insert-card-dropdown",tooltip:xm("插入特色卡片")}}},{key:"getOverlayContainer",value:function(){return this._iEditor.overlayContainer}},{key:"getUIState",value:function(){var e=this.iEditor;return{disabled:this.disabled||!e.queryCommandEnabled("insertSlash")}}},{key:"getConfig",value:function(){return this.pluginContext.getConfig()}},{key:"getRecentSelectItems",value:function(){return this.pluginContext.getRecentSelectItems()}}]),i}();function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(CL,"Type","CardSelect");var EL=(m()(kL={},"general",{groups:[]}),m()(kL,"table",{groups:[]}),m()(kL,"simple",{groups:[]}),m()(kL,"note",{groups:[]}),kL),OL=function(){function e(t){o()(this,e),m()(this,"_itemDefinitions",{}),m()(this,"_option",null),m()(this,"_parsedConfig",{}),this._option=NL(NL({},EL),t)}return a()(e,[{key:"definitions",get:function(){return this._itemDefinitions}},{key:"registerCardSelect",value:function(e,t){var n=this._itemDefinitions;"string"==typeof e?n[e]=DL(t):Object.keys(e).forEach((function(t){n[t]=DL(e[t])}))}},{key:"getConfig",value:function(){return this._option}},{key:"hasType",value:function(e){return this._option[e]}},{key:"getParsedConfig",value:function(e){return br("general"===e||"simple"===e||"table"===e,"F:card-select-option;L:62"),this._parsedConfig[e]||(this._parsedConfig[e]=this._transformConfig(this._option[e],!0)),this._parsedConfig[e]}},{key:"_transformConfig",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._itemDefinitions;return NL(NL({},e),{},{groups:e.groups.map((function(e){var o=e.items.map((function(e){return e="string"==typeof e?{name:e}:NL({},e),r[e.name]?!n&&r[e.name].disabled?null:(e.config&&(e.config=t._transformConfig(e.config,n)),NL(NL({},r[e.name]),e)):null})).filter(Boolean);return o.length?NL(NL({},e),{},{items:o}):null})).filter(Boolean)})}}]),e}();function DL(e){return Array.isArray(e.accept)&&0===e.accept.length&&(e.disabled=!0),e&&"string"==typeof e.keywords?NL(NL({},e),{},{keywords:e.keywords.split(",")}):NL({},e)}function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SL(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(OL,"OptionName","cardSelect");var PL=function(){function e(t){o()(this,e),m()(this,"_plugin",null),m()(this,"_iKernel",null),m()(this,"_defaultContextType","general"),this._plugin=t}return a()(e,[{key:"getConfig",value:function(){return this._plugin.option.getParsedConfig(this._getContextType())}},{key:"getCommandDefinitions",value:function(){return this._plugin.option.getCommandDefinitions(this._getContextType())}},{key:"setDefaultContextType",value:function(e){this._plugin.option.hasType(e)?this._defaultContextType=e:this._defaultContextType="general"}},{key:"getRecentSelectItems",value:function(){var e=this._getContextType(),t=this._plugin.option.getParsedConfig(e).recordSelectedItemConfig;if(t){var n=t.enable,r=void 0!==n&&n,o=t.title,i=t.maxNum,a=t.itemsConfig;if(r){var c=this._getRecentSelectItems(a);if(c&&c.length)return{title:xm(o),items:c.splice(0,i)}}}}},{key:"_getRecentSelectItems",value:function(e){var t=this._plugin.getSelectCardNames();if(t.length){var n=this._plugin.option.definitions,r=[];return t.forEach((function(t){r.push(BL(BL(BL({},n[t]),e[t]),{},{name:t}))})),r}}},{key:"_getContextType",value:function(){var e=this._plugin.kernel.queryCommandValue("selection").firstRange.commonAncestorContainer;return zr.closest(e,Er.Table)?"table":this._defaultContextType}}]),e}();var FL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_selectors",new Map),e}return a()(i,[{key:"init",value:function(e,t){var n=this,r=new PL(this);e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("cardSelect",{clazz:CL,pluginContext:r}),e.extendMethods({registerCardSelect:function(e,t){n.option.registerCardSelect(e,t)},getCardSelectDefinitions:function(){return n.option.definitions},getCardSelectConfig:function(){return n.option.getConfig()}}),t.onPluginEvent("uiSwitched",(function(e){var t=e.type;r.setDefaultContextType(t)}))}},{key:"getSelectCardNames",value:function(){if(this.iEditor.hasExtendMethod("getSelectCardNames"))return this.iEditor.getSelectCardNames()}}]),i}();function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ML(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}m()(FL,"PluginName","cardSelect"),m()(FL,"PluginOption",OL);var LL=function(e){u()(n,g.a);var t=ML(n);function n(e){var r;return o()(this,n),r=t.call(this),m()(l()(r),"_ctx",null),r._ctx=e,r}return a()(n,[{key:"destroy",value:function(){this._ctx=null,this.removeAllListeners()}},{key:"selectPrev",value:function(){this._ctx.selectPrev()}},{key:"selectNext",value:function(){this._ctx.selectNext()}},{key:"replace",value:function(e){this._ctx.replace(e)}},{key:"replaceAll",value:function(e){this._ctx.replaceAll(e)}}]),n}(),AL=function(e){u()(n,g.a);var t=ML(n);function n(e){var r;return o()(this,n),r=t.call(this),m()(l()(r),"_searchPlugin",null),m()(l()(r),"_facade",new LL(l()(r))),m()(l()(r),"_record",null),r._searchPlugin=e,r}return a()(n,[{key:"destroy",value:function(){this._facade.destroy(),this._facade=null,this._searchPlugin=null,this._record=null}},{key:"getCounts",value:function(){return this._record?{total:this._record.ranges.length,index:this._record.index}:{matched:0,index:0}}},{key:"getFacade",value:function(){return this._facade}},{key:"getRecord",value:function(){return this._record}},{key:"selectPrev",value:function(){this._select(-1)}},{key:"selectNext",value:function(){this._select(1)}},{key:"replace",value:function(e){this._record&&this._searchPlugin.replace(this._record,e)}},{key:"replaceAll",value:function(e){this._record&&this._searchPlugin.replaceAll(this._record,e)}},{key:"updateRecord",value:function(e){this._record=e,this._facade.emit("change",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TL(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},{key:"clearRecord",value:function(){this._record=null,this._facade.emit("clear")}},{key:"_select",value:function(e){var t=this._record;if(t){var n=t.index,r=t.ranges;if(!(r.length<=1)){var o=(n+e)%r.length;o<0&&(o+=r.length),t.index=o,this.emit("indexChange",{oldIndex:n,index:o}),this._facade.emit("indexChange",{oldIndex:n,index:o})}}}}]),n}();var IL=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iRenderer",null),m()(l()(n),"_searchContext",null),n._iRenderer=e,n._searchContext=t,Ls(l()(n),t,"indexChange",(function(e){n.emit("indexChange",e)})),n}return a()(i,[{key:"getCounts",value:function(){return this._searchContext.getCounts()}},{key:"destroy",value:function(){this._iRenderer=null,this._searchContext=null,this.removeAllListeners()}},{key:"next",value:function(){this._searchContext.selectNext()}},{key:"prev",value:function(){this._searchContext.selectPrev()}},{key:"close",value:function(){this._iRenderer&&(this._iRenderer.clearSearch(),this.destroy())}}]),i}();var jL=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_kernel",null),m()(l()(a),"_iRenderer",null),m()(l()(a),"_searchContext",null),m()(l()(a),"_searchHandle",null),a._kernel=e,a._iRenderer=t,a._searchContext=n,a}return a()(i,[{key:"getState",value:function(){return this._searchHandle?1:0}},{key:"getValue",value:function(){return this._searchHandle}},{key:"execute",value:function(e,t){return this._searchHandle&&this._searchHandle.close(),e?(this._kernel.execCommand("search",e,t),this._searchHandle=new IL(this._iRenderer,this._searchContext),this._searchHandle):null}}]),i}();var VL=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_searchContext",null),m()(l()(e),"_continueIndex",null),m()(l()(e),"_lastSearchText",null),m()(l()(e),"_lastSearchOptions",null),e}return a()(i,[{key:"init",value:function(e,t,n,r){var o=this,i=new AL(this);this._searchContext=i,e.registerCommand("search",new jL(r,e,i)),r.iEditing.on("afterExecCommand",(function(e){if("search"===e.commandName){o._createDrawer(),o._lastSearchText=e.args[0],o._lastSearchOptions=e.args[1],i.getRecord()&&o._drawer.clearAll();var n=e.result.map((function(e){return t.modelRangeToViewRange(e)}));o.iRenderer.repairByViewRanges(n);var r=o._drawer.drawRanges(n,{fill:"#fffd4d",stroke:"#fffd4d"},!0);if(r.forEach((function(t,n){t.modelRange=e.result[n]})),0===r.length)i.clearRecord();else{var a=-1;a=o._continueIndex?o._continueIndex<r.length?o._continueIndex:0:o._calcSelectedIndex(r).index,o._drawer.drawRects(r[a].rects,{fill:"#ff9222",stroke:"#ff9222"}),i.updateRecord({ranges:r,index:a}),o._doScroll(r[a].viewRange)}}})),t.on("contentchange",(function(){o._lastSearchText&&o.iRenderer.execCommand("search",o._lastSearchText,o._lastSearchOptions)})),i.on("indexChange",(function(e){var t=e.index,n=e.oldIndex,r=i.getRecord().ranges,a=r[n],c=r[t];o._drawer.drawRects(a.rects,{fill:"#fffd4d",stroke:"#fffd4d"}),o._drawer.drawRects(c.rects,{fill:"#ff9222",stroke:"#ff9222"}),o._doScroll(c.viewRange)})),e.extendMethods({getSearchContext:function(){return i.getFacade()},clearSearch:function(){i.getRecord()&&(o._lastSearchText=null,o._lastSearchOptions=null,o._drawer.clearAll(),i.clearRecord())}})}},{key:"destroy",value:function(){this._searchContext.destroy(),this._searchContext=null,this._continueIndex=null,this._lastSearchText=null,this._lastSearchOptions=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_createDrawer",value:function(){this._drawer||(this._drawer=this.iRenderer.createDrawer())}},{key:"_doScroll",value:function(e){this.iRenderer.scrollToSelection(this.iEngine.createViewSelection(e),!0)}},{key:"replace",value:function(e,t){var n=e.index,r=e.ranges;br(this._lastSearchText,"F:render/index;L:148"),this._continueIndex=n,this.iRenderer.execCommand("replaceText",[r[n].modelRange],t),this.iRenderer.execCommand("search",this._lastSearchText,this._lastSearchOptions)}},{key:"replaceAll",value:function(e,t){this.iRenderer.execCommand("replaceText",e.ranges.map((function(e){return e.modelRange})),t)}},{key:"_calcSelectedIndex",value:function(e){for(var t=this.iEngine.option,n=this.iRenderer.domRootNode,r=t.getScrollNode(),o=n.getBoundingClientRect(),i=r.getBoundingClientRect(),a=i.top,c=i.bottom,l=o.y,s=0,u=e.length;s<u;s++){var d=e[s],f=d.rects,h=d.viewHeight,p=f[0].y+l;if(p===a)return{index:s,scroll:0};if(p>a&&p<=c)return p+h<=c?{index:s,scroll:0}:c-h>=a?{index:s,scroll:c-p+h}:{index:s,scroll:0};if(p>=c)return{index:s,scroll:p-a}}return{index:0,scroll:e[0].rects[0].y+l-a}}}]),i}();m()(VL,"PluginName","search"),FN(".ne-ui-search-input-suffix {\n  color: #d9d9d9;\n}\n");var zL=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_inputRef",null),t._inputRef=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this._inputRef.current,n=!1,r=null;this.props.autoFocus&&setTimeout((function(){e._inputRef.current.focus()}),1),W.ua.safari||sE(this,t,"keydown",(function(e){n=229===e.keyCode})),sE(this,t,"keydown",(function(t){"Enter"===t.key&&(t.shiftKey?e.props.onPrev():e.props.onNext())})),sE(this,t,"compositionstart",(function(){n=!0})),sE(this,t,"compositionend",(function(t){var o=t.target.value;o!==r&&(r=o,n=!1,e.props.onChange(o))})),sE(this,t,"input",(function(t){n||(r=t.target.value,e.props.onChange(r))}))}},{key:"render",value:function(){return Re.a.createElement("span",{className:"ant-input-affix-wrapper ne-ui-search-input"},Re.a.createElement("input",{placeholder:this.props.placeholder,type:"text",className:"ant-input",ref:this._inputRef,onKeyUp:this.props.onInputKeyUp,defaultValue:this.props.value}),Re.a.createElement("span",{className:"ne-ui-search-input-suffix"},this.props.suffix))}}]),i}();function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(zL,"propTypes",{suffix:De.a.string,onChange:De.a.func.isRequired,autoFocus:De.a.bool,onPrev:De.a.func,onNext:De.a.func,placeholder:De.a.string,value:De.a.string,onInputKeyUp:De.a.func}),m()(zL,"defaultProps",{onChange:function(){},onPrev:function(){},onNext:function(){},onInputKeyUp:function(){}}),FN(".ne-ui-search-container {\n  background-color: #fff;\n  position: fixed;\n}\n.ne-ui-search-panel {\n  background-color: #fff;\n  padding: 16px;\n  padding-top: 0;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px 0 rgba(225, 225, 225);\n}\n.ne-ui-search-sub-panel {\n  width: 360px;\n}\n.ne-ui-search-sub-panel .ne-ui-search-input,\n.ne-ui-search-sub-panel .ne-ui-replace-input {\n  margin-top: 12px;\n}\n.ne-ui-search-sub-panel .ne-ui-search-panel-item label {\n  display: block;\n  margin-bottom: 12px;\n}\n.ne-ui-search-sub-panel .ne-ui-search-panel-item button {\n  margin-right: 8px;\n}\n.ne-ui-search-sub-panel .ne-ui-search-panel-btns {\n  text-align: right;\n}\n.ne-ui-search-panel-close-btn {\n  position: absolute;\n  top: 10px;\n  right: 16px;\n  z-index: 1;\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n.ne-ui-search-panel-close-btn:hover {\n  background-color: #f5f5f5;\n}\n");var qL=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_isReset",!1),m()(l()(t),"state",{selectedIndex:0,matchCount:0,searchValue:"",replaceValue:"",activeKey:"search"}),m()(l()(t),"_handleTabChange",(function(e){t.setState({activeKey:e})})),m()(l()(t),"handleKeyUp",(function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&t.props.onClose()})),m()(l()(t),"_handleSearchChange",(function(e){t._isReset=!1,t.setState({searchValue:e}),t.props.onSearchTextChange(e)})),m()(l()(t),"_onReplaceTextChange",(function(e){t.setState({replaceValue:e.target.value})})),m()(l()(t),"_movePrev",(function(){t._isReset?(t._isReset=!1,t.props.onSearchTextChange(t.state.searchValue)):t.props.searchContext.selectPrev()})),m()(l()(t),"_moveNext",(function(){t._isReset?(t._isReset=!1,t.props.onSearchTextChange(t.state.searchValue)):t.props.searchContext.selectNext()})),m()(l()(t),"_handleReplaceClick",(function(){t.props.searchContext.replace(t.state.replaceValue||"")})),m()(l()(t),"_handleReplaceAllClick",(function(){t.props.searchContext.replaceAll(t.state.replaceValue||"")})),e.searchText&&(t.state.searchValue=e.searchText),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.searchContext;$N(this,t,"change",(function(t){var n=t.ranges,r=t.index;e.setState({matchCount:n.length,selectedIndex:r})})),$N(this,t,"clear",(function(){e.setState({selectedIndex:0,matchCount:0})})),$N(this,t,"indexChange",(function(t){var n=t.index;e.setState({selectedIndex:n})}))}},{key:"render",value:function(){return Re.a.createElement("div",{className:"ne-ui-toolbar-overlay ne-ui-search-container",style:HL({},this.props.position)},Re.a.createElement("div",{className:"ne-ui-search-panel"},Re.a.createElement("div",{className:"ne-ui-search-panel-close-btn",onClick:this.props.onClose},Re.a.createElement(oE,{type:"close"})),Re.a.createElement(Bt.a,{activeKey:this.state.activeKey,onChange:this._handleTabChange},Re.a.createElement(Bt.a.TabPane,{tab:xm("查找"),key:"search"}),Re.a.createElement(Bt.a.TabPane,{tab:xm("替换"),key:"replace"})),Re.a.createElement("div",{className:"ne-ui-search-panel-content"},this.renderContent())))}},{key:"renderContent",value:function(){var e="replace"===this.state.activeKey,t=e?Re.a.createElement("label",null,xm("替换为"),Re.a.createElement("span",{className:"ant-input-affix-wrapper ne-ui-replace-input"},Re.a.createElement("input",{onKeyUp:this.handleKeyUp,type:"text",placeholder:xm("请输入"),onChange:this._onReplaceTextChange,value:this.state.replaceValue,className:"ant-input"}))):null,n=this.state.matchCount>0;return Re.a.createElement("div",{className:"ne-ui-search-sub-panel"},Re.a.createElement("div",{className:"ne-ui-search-panel-item"},Re.a.createElement("label",null,xm("查找"),Re.a.createElement(zL,{suffix:this._getSuffix(),onPrev:this._movePrev,onNext:this._moveNext,autoFocus:!0,placeholder:xm("请输入"),value:this.state.searchValue,onChange:this._handleSearchChange,onInputKeyUp:this.handleKeyUp})),t),Re.a.createElement("div",{className:"ne-ui-search-panel-item ne-ui-search-panel-btns"},e?Re.a.createElement(gt.a,{onClick:this._handleReplaceAllClick,disabled:!n},xm("全部替换")):null,e?Re.a.createElement(gt.a,{onClick:this._handleReplaceClick,disabled:!n},xm("替换")):null,Re.a.createElement(gt.a,{onClick:this._movePrev,disabled:0===this.state.matchCount},xm("上一个")),Re.a.createElement(gt.a,{onClick:this._moveNext,disabled:0===this.state.matchCount},xm("下一个"))))}},{key:"_getSuffix",value:function(){return 0===this.state.matchCount?"0":"".concat(this.state.selectedIndex+1,"/").concat(this.state.matchCount)}}]),i}();m()(qL,"propTypes",{onClose:De.a.func,onSearchTextChange:De.a.func,boxNode:De.a.object.isRequired,scrollNode:De.a.object.isRequired,searchContext:De.a.object.isRequired,searchText:De.a.string,position:De.a.object.isRequired}),m()(qL,"defaultProps",{onClose:function(){},onSearchTextChange:function(){}});var WL=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iRenderer",null),m()(l()(t),"_searchContext",null),m()(l()(t),"_searchPlaneStatus","CLOSE"),t._iRenderer=e,br(t._iRenderer.hasExtendMethod("getSearchContext"),"F:search-plugin-context;L:18"),br(t._iRenderer.hasExtendMethod("clearSearch"),"F:search-plugin-context;L:19"),t._searchContext=t._iRenderer.getSearchContext(),t}return a()(i,[{key:"destroy",value:function(){this._iRenderer=null,this._searchContext=null,this.removeAllListeners()}},{key:"getSearchContext",value:function(){return this._searchContext}},{key:"search",value:function(e,t){e?this._iRenderer.execCommand("search",e,t):this._iRenderer.clearSearch()}},{key:"clear",value:function(){this._iRenderer.clearSearch(),this._searchPlaneStatus="CLOSE"}},{key:"SearchPlaneStatus",get:function(){return this._searchPlaneStatus},set:function(e){this._searchPlaneStatus=e}}]),i}(),ZL=function(){function e(){o()(this,e),m()(this,"_overlay",null)}return a()(e,[{key:"_getSearchText",value:function(e){return(e.queryCommandValue("text")||"").replace(/\n/g,"")}},{key:"_getSearchPanelPosition",value:function(){return{top:120,right:20}}},{key:"openSearchPanel",value:function(e,t,n){var r=this._getSearchText(e);this._overlay=tE.open({containerNode:t,targetNode:document.body,autoClose:!1,reactComponent:Re.a.createElement(qL,{searchText:r,boxNode:e.editBox,scrollNode:e.iRenderer.scrollNode,searchContext:n.getSearchContext(),onSearchTextChange:function(e){n.search(e)},position:this._getSearchPanelPosition(t)}),closeCallback:function(){e.iRenderer.focus(),n.clear()}}),r&&n.search(r)}},{key:"closeSearchPanel",value:function(){this._overlay&&this._overlay.cancel()}},{key:"handleSearchPanel",value:function(e,t,n){if("OPEN"===n.SearchPlaneStatus)return this.closeSearchPanel();n.SearchPlaneStatus="OPEN",this.openSearchPanel(e,t,n)}},{key:"Overlay",get:function(){return this._overlay}}]),e}();var KL=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_tools",null),m()(l()(e),"_utils",new ZL),e}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:search-toolbar-descriptor;L:15"),this._utils.handleSearchPanel(this.iEditor,this.iEditor.overlayContainer,this.pluginContext)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-searchreplace",className:"ne-ui-toolbar-search",tooltip:xm("查找替换")}}},{key:"getUIState",value:function(){return{disabled:this.disabled||!this.iEditor.queryCommandEnabled("search")}}},{key:"close",value:function(){this._utils.Overlay&&this._utils.Overlay.cancel()}}]),i}();m()(KL,"Type","Button");var $L=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_pluginContext",null),e}return a()(i,[{key:"init",value:function(e){this._pluginContext=new WL(this.iRenderer),e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("search",{clazz:KL,pluginContext:this._pluginContext})}},{key:"destroy",value:function(){this._pluginContext.destroy(),this._pluginContext=null,B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()($L,"PluginName","search"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-sidebar {\n  display: none;\n  width: 288px;\n  background: #fff;\n  border-left: 1px solid #f5f5f5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n}\n.ne-ui-sidebar-layer {\n  height: 100%;\n}\n/* 通用 sidebar 样式定义 */\n.ne-common-sidebar {\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: #595959;\n}\n.ne-common-sidebar .ne-sidebar-header {\n  font-size: 14px;\n  line-height: 24px;\n  font-weight: bold;\n  padding-bottom: 8px;\n  margin-bottom: 10px;\n  border-bottom: 1px solid #e8e8e8;\n}\n.ne-common-sidebar .ne-sidebar-body {\n  flex: 1;\n}\n.ne-common-sidebar .ne-sidebar-close-btn {\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  background: none;\n  padding: 0;\n  outline: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n}\n.ne-common-sidebar .ne-sidebar-close-btn:hover {\n  background-color: #e8e8e8;\n}\n");var JL=function(){function e(t,n,r){o()(this,e),m()(this,"_iEditor",null),m()(this,"_mountNode",null),m()(this,"_option",null),m()(this,"_descriptors",[]),m()(this,"_layerMap",new WeakMap),this._option=r,this._iEditor=n,this._mountNode=document.createElement("div"),this._mountNode.className="ne-ui-sidebar",this._mountNode.style.display="none",t.appendChild(this._mountNode)}return a()(e,[{key:"isVisible",get:function(){return"block"===this._mountNode.style.display}},{key:"destroy",value:function(){this.closeAll(),this._layerMap.deleteAll&&this._layerMap.deleteAll(),this._mountNode.remove(),this._descriptors=null,this._layerMap=null,this._mountNode=null}},{key:"hide",value:function(){this._hideSidebarBox()}},{key:"show",value:function(){this._showSidebarBox()}},{key:"open",value:function(e){br(e instanceof fF,"F:sidebar;L:52");var t=this._descriptors;if(e.isPermanent())for(var n=t.length-1;n>=0;n--)this._close(t[n]);else for(var r=t.length-1;r>=0&&!t[r].isPermanent();r--)this._close(t[r]);return this._open(e)}},{key:"closeAll",value:function(){var e=this;this._descriptors&&Array.from(this._descriptors).forEach((function(t){e._close(t)}))}},{key:"_open",value:function(e){var t=this;this._showSidebarBox();var n=document.createElement("div");n.className="ne-ui-sidebar-layer";var r=this._descriptors[this._descriptors.length-1];r&&(this._layerMap.get(r).style.display="none"),this._mountNode.appendChild(n),this._layerMap.set(e,n),this._descriptors.push(e),br(!e._$inited,"F:sidebar;L:104"),e._$inited=!0,e.sidebarRootNode=n,e.init(),e.close=function(){t._close(e)}}},{key:"_close",value:function(e){if(this._descriptors){var t=this._descriptors.indexOf(e);-1!==t&&this._descriptors.splice(t,1);var n=this._layerMap.get(e);e.emit("close"),e.destroy(),n.remove();var r=this._descriptors[this._descriptors.length-1];r?this._layerMap.get(r).style.display="":this._hideSidebarBox()}}},{key:"_showSidebarBox",value:function(){var e=this._mountNode.style;this.isVisible||(this._iEditor.editorNode.classList.add("ne-ui-sidebar-visible"),e.display="block"),this._iEditor.emitEvent("sidebarVisibleChange",!0),this._iEditor.emitPluginEvent("sidebarVisibleChange",!0)}},{key:"_hideSidebarBox",value:function(){this._iEditor.editorNode.classList.remove("ne-ui-sidebar-visible"),this._mountNode.style.display="none",this._iEditor.emitEvent("sidebarVisibleChange",!1),this._iEditor.emitPluginEvent("sidebarVisibleChange",!1)}}]),e}();var YL=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_sidebar",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this._sidebar=new JL(e.editorWrapNode.parentNode,e,this.option),e.extend("sidebar",this._sidebar);var n=!1;e.on("enterMaxView",(function(e){!e.sidebar&&t._sidebar.isVisible?(n=!0,t._sidebar.hide()):n=!1})),e.on("leaveMaxView",(function(){n&&(n=!1,t._sidebar.show())}))}},{key:"destroy",value:function(){this._sidebar.destroy(),this._sidebar=null,B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(YL,"PluginName","sidebar"),FN(".ne-ui-overlay-button {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: none;\n}\n");var GL=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this,t=this.props.config,n=t.icon,r=t.onClick,o=t.tooltip,i=Re.a.createElement(aT,{onClick:function(){e.props.onClick(),r&&r()},className:nw("ne-ui-overlay-button",this.props.className)},Re.a.createElement(oE,{type:n}));return o?Re.a.createElement(Be.a,{overlayClassName:"ne-ui-overlay-bar-tooltip",title:o,trigger:["hover","click"],placement:"top"},i):i}}]),i}();m()(GL,"propTypes",{className:De.a.string,config:De.a.object.isRequired,onClick:De.a.func}),m()(GL,"defaultProps",{onClick:function(){}}),FN(".ne-ui-overlay-divider {\n  width: 1px;\n  height: 14px;\n  border-left: 1px solid #e8e8e8;\n}\n");var XL=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:nw("ne-ui-overlay-divider",this.props.className)})}}]),i}();m()(XL,"propTypes",{className:De.a.string}),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-overlay {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 5px 3px;\n  border: 1px solid #E8E8E8;\n  box-shadow: rgba(221, 221, 221, 0.5) 0 1px 3px;\n  border-radius: 4px;\n  background: #fff;\n}\n.ne-ui-overlay .ne-ui-overlay-item {\n  margin-left: 8px;\n}\n.ne-ui-overlay .ne-ui-overlay-item:first-child {\n  margin-left: 0;\n}\n.ne-ui-overlay-bar-wrap .ant-popover-arrow {\n  display: none;\n}\n.ne-ui-overlay-bar-wrap .ant-popover-inner-content {\n  padding: 0;\n}\n");var QL=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this._renderContent();return Re.a.createElement(hE,{placement:this.props.placement,targetNode:this.props.targetNode,uiEmitter:this.props.uiEmitter,onClose:this.props.onClose,offset:0,className:"ne-ui-overlay-bar-wrap",visible:!0},e)}},{key:"_renderContent",value:function(){var e=this,t=this.props.items.map((function(t,n){return"|"===t?Re.a.createElement(XL,{className:"ne-ui-overlay-item",key:"divider-".concat(n)}):"button"===t.type?Re.a.createElement(GL,{key:"".concat(t.type).concat(n),className:"ne-ui-overlay-item",onClick:e.props.onClose,config:t}):(br(!1,"F:overlay-bar/index;L:68"),null)}));return Re.a.createElement("div",{className:nw("ne-ui-overlay",this.props.className),onMouseDown:function(e){return e.preventDefault()}},t)}}]),i}();function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(QL,"propTypes",{targetNode:De.a.object,uiEmitter:De.a.instanceOf(HC),className:De.a.string,placement:De.a.oneOfType([De.a.string,De.a.array]),onClose:De.a.func,items:De.a.array.isRequired}),m()(QL,"defaultProps",{onClose:function(){}}),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-link-editor {\n  width: 365px;\n  max-width: calc(100vw - 32px);\n  padding: 16px 12px;\n  font-size: 14px;\n  border: 1px solid #E8E8E8;\n  box-shadow: rgba(221, 221, 221, 0.5) 0 1px 3px;\n  border-radius: 4px;\n  background: #fff;\n}\n.ne-link-editor .ne-link-editor-field,\n.ne-link-editor .ne-link-editor-field-title {\n  margin-bottom: 16px;\n}\n.ne-link-editor .ne-link-error-tip {\n  color: #CF1322;\n  margin-top: 16px;\n}\n");var nA=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{text:"",src:"",visible:!0,valid:!0}),m()(l()(t),"_textRef",Re.a.createRef()),m()(l()(t),"_srcRef",Re.a.createRef()),m()(l()(t),"_handleDescKeyDown",(function(e){jE.isEscape(e)?(e.preventDefault(),t.props.onClose(),t.props.onCancel()):jE.isEnter(e)&&t._srcRef.current&&t._srcRef.current.focus()})),m()(l()(t),"_handleSrcKeyDown",(function(e){if(jE.isEscape(e))e.preventDefault(),t.props.onClose(),t.props.onCancel();else if(jE.isEnter(e)){if(e.preventDefault(),!t.state.valid)return;if(t._textRef.current&&t._srcRef.current){var n=t._textRef.current.input.value,r=t._srcRef.current.input.value;n&&r&&(t.props.onClose(),t.props.onConfirm(n,r))}}})),m()(l()(t),"_handleTextChange",(function(e){t.setState({text:e.target.value})})),m()(l()(t),"_handleSrcChange",(function(e){var n=e.target.value;t.setState({src:n,valid:!n||t.props.isValidURL(n)})})),m()(l()(t),"_handleSubmit",(function(){var e,n;t.setState({visible:!1}),t._textRef.current&&t._srcRef.current&&(e=t._textRef.current.input.value,n=t._srcRef.current.input.value),t.props.onClose(),e&&n?t.props.onConfirm(e,n):t.props.onCancel()})),t.state=tA(tA({},t.state),{},{visible:e.visible,text:e.text,src:e.src}),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this._srcRef.current;e&&(e.focus(),e.select())}},{key:"render",value:function(){var e=this,t=this._renderEditor();return Re.a.createElement(hE,{placement:["bottomLeft","topLeft"],targetNode:this.props.targetNode,uiEmitter:this.props.uiEmitter,onClose:function(){e.props.onClose(),e.props.onCancel()},className:"ne-ui-overlay-bar-wrap",visible:this.state.visible},t)}},{key:"_renderEditor",value:function(){return Re.a.createElement("div",{className:"ne-link-editor"},Re.a.createElement("div",{className:"ne-link-editor-field"},Re.a.createElement("label",null,Re.a.createElement("div",{className:"ne-link-editor-field-title"},xm("文本")),Re.a.createElement(Me.a,{ref:this._textRef,disabled:!this.props.allowModifyText,placeholder:xm("添加描述"),onKeyDown:this._handleDescKeyDown,onChange:this._handleTextChange,value:this.state.text||""}))),Re.a.createElement("div",{className:"ne-link-editor-field"},Re.a.createElement("label",null,Re.a.createElement("div",{className:"ne-link-editor-field-title"},xm("链接")),Re.a.createElement(Me.a,{ref:this._srcRef,placeholder:xm("链接地址"),onKeyDown:this._handleSrcKeyDown,onChange:this._handleSrcChange,value:this._getUserSrc(this.state.src)||""})),this._renderTip()),Re.a.createElement(gt.a,{onClick:this._handleSubmit,disabled:!this.state.text||!this.state.src||!this.state.valid},xm("确定")))}},{key:"_renderTip",value:function(){return this.state.valid?null:Re.a.createElement("div",{className:"ne-link-error-tip"},xm("请输入正确的链接"))}},{key:"_getUserSrc",value:function(e){return"about:blank"===e?void 0:e}}]),i}();function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(nA,"propTypes",{targetNode:De.a.object.isRequired,uiEmitter:De.a.instanceOf(HC),isValidURL:De.a.func.isRequired,visible:De.a.bool,text:De.a.string,src:De.a.string,allowModifyText:De.a.bool,onClose:De.a.func,onCancel:De.a.func,onConfirm:De.a.func}),m()(nA,"defaultProps",{visible:!0,allowModifyText:!0,isValidURL:function(){return!1},onClose:function(){},onCancel:function(){},onConfirm:function(){}}),FN("ne-link {\n  display: inline;\n  text-indent: 0;\n}\nne-link-content {\n  display: inline;\n  cursor: pointer;\n  color: var(--link-color);\n  caret-color: #000 !important;\n}\nne-link-content:hover {\n  background: rgba(27, 162, 227, 0.2);\n}\nne-link-content ne-text {\n  color: var(--link-color);\n}\n");var iA=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_overlay",null),m()(l()(e),"_getItems",(function(){var t=e.viewNode.attrs.src,n=e.pluginContext.getExtendLinkBtn({src:t,text:e._getLinkText()});return(n=n?n.filter(Boolean):[]).length&&n.push("|"),n=n.map((function(t){if("|"!==t&&t.onClick){var n=t.onClick;return oA(oA({},t),{},{onClick:function(){n(e.viewNode)}})}return t})),n=e.pluginContext.needShowDesktopButton(t)?[].concat(x()(n),[{type:"button",icon:"o-desktop-open",tooltip:xm("打开文档"),onClick:function(){var t=e.viewNode.attrs.src;e.iRenderer.emitEvent("visitLocalLink",t)}},{type:"button",icon:"o-visit-link",tooltip:xm("浏览器访问"),onClick:function(){var t=e.viewNode.attrs,n=t.external,r=t.src;e.iRenderer.emitEvent("visitLink",r,n)}}]):[].concat(x()(n),[{type:"button",icon:"o-visit-link",tooltip:xm("访问链接"),onClick:function(){var t=e.viewNode.attrs,n=t.external,r=t.src;e.iRenderer.emitEvent("visitLink",r,n)}}]),[].concat(x()(n),[{type:"button",icon:"o-edit",tooltip:xm("编辑链接"),onClick:function(){e._openEditor(!1)}},{type:"button",icon:"o-unlink",tooltip:xm("取消链接"),onClick:function(){e.iRenderer.execCommand("unlink",e.viewNode.attrs.id)}}])})),e}return a()(i,[{key:"init",value:function(e){var t=this;this.pluginContext.on("openEditor",(function(e){e===t.viewNode.attrs.id&&t._openEditor(!0)})),this._rootNode=eC.createElement("ne-link"),this._contentNode=eC.createElement("ne-link-content"),eC.setAttributeByChange(this._rootNode,e),this._rootNode.appendChild(this._contentNode),this.bindEvent()}},{key:"destroy",value:function(){var e;null===(e=this._overlay)||void 0===e||e.cancel()}},{key:"updateAttribute",value:function(e){eC.syncDOMAttrChange(this._rootNode,e)}},{key:"bindEvent",value:function(){var e=this;wR(this,this._rootNode,"mouseenter",(function(t){RN(t)||(e._overlay=tE.openOnlyByType("link",{containerNode:e.iRenderer.scrollableOverlayNode,targetNode:e._getTargetNode(),reactComponent:Re.a.createElement(QL,{placement:["bottomLeft","topLeft"],items:e._getItems()})}))}),!1),wR(this,this._rootNode,"click",(function(t){if(!RN(t)){var n=e.viewNode.attrs,r=n.external,o=n.src;e.iRenderer.emitEvent("visitLink",o,r)}}),!1)}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_getLinkText",value:function(){var e=this.viewNode.children;return e&&e.length?e.map((function(e){return e.isTextNode()?e.data:null})).filter(Boolean).join(""):xm("链接")}},{key:"_openEditor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.iRenderer,r=this._getTargetNode();tE.open({containerNode:n.scrollableOverlayNode,targetNode:r,reactComponent:Re.a.createElement(nA,{text:this._getLinkText(),targetNode:r,src:gv.sanitizeUrl(this.viewNode.attrs.src),isValidURL:this.pluginContext.isValidURL,onCancel:function(){t&&n.execCommand("rollbackHistory",1)},onConfirm:function(t,r){r=e.pluginContext.transformURL(r);var o=e.viewNode.attrs.src,i=n.queryCommandValue("linkText",e.viewNode.attrs.id);br(i,"F:link-element;L:209","F:link-element;L:209"),t===i&&r===o||n.execCommand("updateLink",e.viewNode.attrs.id,{text:t!==i?t:null,src:r!==o?r:null})}}),closeCallback:function(){e.iRenderer.execCommand("focus",{preventScroll:!0})},autoClose:!1})}},{key:"_getTargetNode",value:function(){return this._contentNode.querySelector("ne-text")||this._contentNode}}]),i}();m()(iA,"currentHover",null);var aA=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_extends",[]),m()(l()(e),"isValidURL",(function(t){return e.option.isValidURL(t)})),m()(l()(e),"transformURL",(function(t){return e.option.transformURL(t)})),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerBoxNode({link:{clazz:iA,pluginContext:this}}),e.extendMethods({insertLink:function(){t._insertLink()},extendLinkToolbar:function(e){t._extends.push(e)}}),e.hasExtendMethod("registerHotKey")&&e.registerHotKey("link",["cmd","K"],(function(e){e.stop(),t._insertLink()}))}},{key:"getExtendLinkBtn",value:function(e){var t=[];return this._extends.forEach((function(n){var r=n(e);Array.isArray(r)||(r=[r]),t.push.apply(t,x()(r))})),t.filter(Boolean)}},{key:"needShowDesktopButton",value:function(e){return this.option.allowToOpenLocal("link",e)}},{key:"_insertLink",value:function(){var e=this.iRenderer,t=null;if(e.queryCommandEnabled("insertLink"))t=e.execCommand("insertLink",xm("链接"),"about:blank",!0,!0);else{if(!e.queryCommandEnabled("link"))return;t=e.execCommand("link","about:blank",!0,!0)}br(t,"F:render/index;L:81"),this.emit("openEditor",t)}}]),i}();m()(aA,"PluginName","link"),m()(aA,"PluginOption",Tp),FN(".ne-collaboration-layer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 0;\n  z-index: 1;\n}\n.ne-collaboration-layer .ne-collaboration-cursor {\n  position: absolute;\n  width: 2px;\n}\n.ne-collaboration-layer .ne-collaboration-cursor .ne-collaboration-user {\n  position: absolute;\n  left: -2px;\n  top: -4px;\n  background: inherit;\n  width: 6px;\n  height: 6px;\n  border-radius: 6px;\n  overflow: hidden;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.1s linear;\n}\n.ne-collaboration-layer .ne-collaboration-cursor:hover .ne-collaboration-user,\n.ne-collaboration-layer .ne-collaboration-cursor.active .ne-collaboration-user {\n  top: -16px;\n  padding: 0 4px;\n  font-size: 12px;\n  line-height: 16px;\n  height: 16px;\n  width: auto;\n  white-space: nowrap;\n  border-radius: 2px 2px 2px 2px;\n  overflow: visible;\n}\n");var cA=["#597EF7","#73D13D","#FF4D4F","#9254DE","#36CFC9","#FFA940","#F759AB"],lA=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_disableCards",[]),e}return a()(i,[{key:"init",value:function(e,t,n,r){var o=this;e.hasExtendMethod("registerHotKey")&&(e.registerHotKey("undo",["cmd","Z"],(function(e){e.stop(),r.execCommand("undo")})),e.registerHotKey("redo",["cmd","shift","Z"],(function(e){e.stop(),r.execCommand("redo")}))),r.iEditing.on("collabSelectionChange",(function(e){var t=e.selections;o._createDrawer(),o._drawCollabSelections(t)})),this._createCursorLayer()}},{key:"_createCursorLayer",value:function(){var e=this.iRenderer.domRootNode;this._layerNode=document.createElement("div"),this._layerNode.className="ne-collaboration-layer",e.parentNode.appendChild(this._layerNode)}},{key:"destroy",value:function(){this.drawer=null}},{key:"_createDrawer",value:function(){this.drawer||(this.drawer=this.iRenderer.createDrawer())}},{key:"_drawCollabSelections",value:function(e){var t=this,n=this.iEngine;this._clear(),e.forEach((function(e){var r=e.user,o=e.selection,i=e.active,a=o.ranges;if(a){var c=t._getCollabUserStyle(r),l=a.map((function(e){var r=n.modelRangeToViewRange(e),o=r.start.node;if(o.isCardNode()&&o._virtualNode){if(o._virtualNode.isFocused())return null;t._disableCards.push(o._virtualNode),o._virtualNode.$disable()}return r})),s=t.drawer.drawRanges(l.filter(Boolean),c);if((s=s.filter(Boolean)).length){var u=s[s.length-1],d=u.rects[u.rects.length-1];t.refreshCursorPoint({rect:d,style:c,user:r,active:i})}}}))}},{key:"refreshCursorPoint",value:function(e){var t=e.rect,n=e.style,r=e.user,o=e.active;if(this.drawer.insideViewport(t.x)){var i=document.createElement("div");i.className="ne-collaboration-cursor";var a=document.createElement("span");a.className="ne-collaboration-user",a.innerText=r.name||r.login,i.appendChild(a),i.style.left=t.x+t.width+"px",i.style.top=t.y+"px",i.style.height=t.height+"px",i.style.background=n.fill,o&&i.classList.add("active"),this._layerNode.appendChild(i)}}},{key:"_clear",value:function(){this.drawer.clear(),this._layerNode.innerHTML="",this._disableCards.forEach((function(e){e.$enable()})),this._disableCards=[]}},{key:"_getCollabUserStyle",value:function(e){var t=e.iid,n=cA[t%cA.length];return{fill:n,stroke:n}}}]),i}();m()(lA,"PluginName","collaboration");var sA=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.iKernel;br(t.hasExtendMethod("insertFiles"),"F:editor/index;L:12"),e.onPluginEvent("insertCardByUI",(function(e){var n=e.item,r=e.args;"FileItem"!==(null==n?void 0:n.type)&&"LikeFileItem"!==(null==n?void 0:n.type)||t.insertFiles(r[0],{from:"ui",category:n.category||n.name})}))}}]),i}();m()(sA,"PluginName","fileReader");var uA={undo:xm("撤销"),redo:xm("重做")},dA=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:history-toolbar-descriptor;L:16"),this.iEditor.execCommand(this.name)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,iconfont:this.name,tooltip:Uk.getTooltip(this.iEditor,uA[this.name],this.name)}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name;return{disabled:this.disabled||-1===e.queryCommandState(t)}}}]),i}();m()(dA,"Type","Button");var fA=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&(e.registerToolbarWidget("undo",dA),e.registerToolbarWidget("redo",dA))}}]),i}();m()(fA,"PluginName","collaboration");var hA=function(){function e(t){o()(this,e),m()(this,"_tocSidebar",null),m()(this,"_prevPinStatus",null),t&&this.setTOCSidebar(t)}return a()(e,[{key:"setTOCSidebar",value:function(e){this._tocSidebar=e}},{key:"check",value:function(e){var t=e.curr.width;if(this._tocSidebar){var n=this._tocSidebar.getPinStatus(),r=t>=880;this._tocSidebar.setPinVisible(r),t<880&&n&&(this._prevPinStatus=!0,this._tocSidebar.setNormalViewStatus(!1)),r&&null!==this._prevPinStatus&&this._prevPinStatus&&!n&&(this._prevPinStatus=null,this._tocSidebar.setNormalViewStatus(!0))}}}]),e}();function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pA(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mA={enable:!0,normalView:!0,allowModifyHash:!0},yA=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=vA(vA({},mA),t)}return a()(e,[{key:"isEnabled",value:function(){return this._option.enable}},{key:"isDefaultNormalView",value:function(){return this._option.normalView}},{key:"isAllowModifyHash",value:function(){return this._option.allowModifyHash}}]),e}();m()(yA,"OptionName","toc");var gA=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t,n=e.scrollNode,a=e.contentNode,c=e.tocViewportNode,s=e.tocData,u=e.offsetTop;o()(this,i),t=r.call(this),m()(l()(t),"_scrollNode",null),m()(l()(t),"_contentNode",null),m()(l()(t),"_tocViewportNode",null),m()(l()(t),"_tocData",null),m()(l()(t),"_checkHandler",null),m()(l()(t),"_scrollTimer",null),m()(l()(t),"_outsideCheckStatus",!1),m()(l()(t),"_offsetTop",0),m()(l()(t),"_ignoreScrollOnce",!1),t._scrollNode=n,t._contentNode=a,t._tocViewportNode=c,t._tocData=s,t._offsetTop=u,t._checkHandler=bA.bind(l()(t));var d=n;return n===document.scrollingElement&&(d=document),d.addEventListener("scroll",t._checkHandler,{passive:!0}),t}return a()(i,[{key:"enableOutsideCheck",value:function(){this._outsideCheckStatus=!0}},{key:"disableOutsideCheck",value:function(){this._outsideCheckStatus=!1}},{key:"destroy",value:function(){this._scrollNode.removeEventListener("scroll",this._checkHandler,!1)}},{key:"reset",value:function(){this._checkHandler()}},{key:"ignoreScrollOnce",set:function(e){this._ignoreScrollOnce=e}},{key:"update",value:function(e){this._tocData=e,this._check()}},{key:"_check",value:function(){var e={};this._outsideCheckStatus?(e.outside=this._checkOutside(),e.outside||(e.current=this._checkIndex())):e.current=this._checkIndex(),this.emit("change",e)}},{key:"_getViewportRect",value:function(){if(this._scrollNode===document.scrollingElement)return{top:this._offsetTop,left:0,bottom:window.innerHeight,right:window.innerWidth,height:window.innerHeight,width:window.innerWidth};var e=this._scrollNode.getBoundingClientRect();return{top:e.top+this._offsetTop,left:e.left,bottom:e.bottom,right:e.right,height:e.height-this._offsetTop,width:e.width}}},{key:"_checkOutside",value:function(){if(this._scrollNode===document.scrollingElement){var e=this._contentNode.getBoundingClientRect(),t=this._getViewportRect();if(e.bottom<=t.top||e.top>=t.bottom)return!0}return!1}},{key:"_checkIndex",value:function(){var e,t=null===(e=this._tocData)||void 0===e?void 0:e.length;if(!t)return null;var n=this._getViewportRect(),r=Math.ceil(n.height/3),o={top:n.top,bottom:n.top+r,height:r},i=function e(t,n,r,o,i){br(o<=i,"F:toc-watcher;L:152");var a=Math.ceil((i+o)/2),c=wA(n,r[a].id);if(!c)return-1;var l=c.top,s=c.bottom;return l>=t.top&&l<t.bottom?function e(t,n,r,o){if(0===o)return o;var i=o-1,a=wA(n,r[i].id);return a&&a.bottom<=t.top?o:e(t,n,r,i)}(t,n,r,a):o===i?l>=t.bottom?o-1>=0?o-1:-1:(t.top,o):l>=t.bottom?e(t,n,r,o,Math.max(a-1,o)):s<=t.top?e(t,n,r,Math.min(a+1,i),i):a}(o,this._contentNode,this._tocData,0,t-1);i=function(e,t,n,r){if(-1===r)return r;var o=r-1,i=wA(t,n[r].id);return i&&o>=0&&i.top-e.top>e.height/2?o:r}(o,this._contentNode,this._tocData,i);var a=this._tocData[i];return a?a.id:null}}]),i}();function bA(){var e=this;this._scrollTimer||(this._ignoreScrollOnce?this._ignoreScrollOnce=!1:this._scrollTimer=setTimeout((function(){e._scrollTimer=null,e._check()}),300))}function wA(e,t){var n=e.querySelector('[id="'.concat(t,'"]'));return n?n.getBoundingClientRect():null}FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-toc-pin-tooltip[ne-force-tooltip-hide] {\n  display: none!important;\n}\n.ne-toc-view {\n  position: relative;\n  z-index: 1;\n  max-height: calc(100% - 50px);\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: column;\n  font-family: 'Chinese Quote', 'Segoe UI', Roboto, RobotoNum, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n.ne-toc-view.ne-force-hide {\n  display: none!important;\n}\n.ne-toc-view .ne-toc-pin {\n  margin-bottom: 12px;\n  padding-top: 8px;\n  padding-left: 28px;\n  display: flex;\n  align-items: center;\n  height: 30px;\n  flex-shrink: 0;\n}\n.ne-toc-view .ne-toc-pin .ne-toc-pin-text {\n  margin-right: 8px;\n  font-weight: bold;\n}\n.ne-toc-view .ne-toc-pin .ne-toc-pin-wrap {\n  position: relative;\n  font-size: 0;\n  height: 20px;\n  width: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.ne-toc-view .ne-toc-pin .ne-toc-pin-wrap:hover {\n  border-radius: 4px;\n  background-color: #ebebeb;\n}\n.ne-toc-view .ne-toc-pin .ne-toc-pin-wrap .ne-icon {\n  font-size: 20px;\n}\n.ne-toc-view .ne-toc-pin .lake-icon {\n  cursor: pointer;\n}\n.ne-toc-view-inner {\n  width: 100%;\n  cursor: default;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ne-toc-view-inner .ne-toc-item {\n  color: #595959;\n  display: block;\n}\n.ne-toc-pin-hide {\n  opacity: 0 !important;\n}\n.ne-toc-pin-hide .ne-toc-pin-wrap {\n  display: none;\n}\n.ne-toc-small-view {\n  width: 39px;\n}\n.ne-toc-small-view .ne-toc-pin {\n  opacity: 0;\n  overflow: hidden;\n}\n.ne-toc-small-view .ne-toc-item-text {\n  display: none;\n}\n.ne-toc-small-view .ne-toc-item {\n  height: 22px;\n  margin-bottom: 6px;\n  position: relative;\n}\n.ne-toc-small-view .ne-toc-item:before {\n  content: ' ';\n  display: block;\n  height: 2px;\n  width: 8px;\n  position: absolute;\n  right: 0;\n  top: 10px;\n  background: #d8d8d8;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-selected:before {\n  background: #25b864;\n}\n.ne-toc-small-view .ne-toc-item:last-child {\n  margin-bottom: 0;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-depth-1:before {\n  width: 24px;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-depth-2:before {\n  width: 16px;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-depth-3:before {\n  width: 12px;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-depth-4:before {\n  width: 8px;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-depth-5:before {\n  width: 4px;\n}\n.ne-toc-small-view .ne-toc-item.ne-toc-depth-6:before {\n  width: 2px;\n}\n.ne-toc-small-view .ne-toc-item .ne-toc-fold-btn {\n  display: none;\n}\n.ne-toc-small-view .ne-toc-placeholder .ne-toc-placeholder-tip {\n  display: none;\n}\n.ne-toc-small-view .ne-toc-placeholder .ne-toc-placeholder-ind {\n  display: block;\n}\n.ne-toc-normal-view,\n.ne-viewer-toc-sidebar-hover .ne-toc-view,\n.ne-toc-sidebar-hover .ne-toc-view {\n  width: 280px;\n}\n.ne-toc-normal-view .ne-toc-pin,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-pin,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-pin {\n  opacity: 1;\n}\n.ne-toc-normal-view .ne-toc-item-text,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item-text,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item-text {\n  display: block;\n}\n.ne-toc-normal-view .ne-toc-content,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-content,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-content {\n  position: relative;\n  z-index: 2;\n}\n.ne-toc-normal-view .ne-toc-content:after,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-content:after,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-content:after {\n  content: ' ';\n  background: #e8e8e8;\n  width: 2px;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n.ne-toc-normal-view .ne-toc-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item {\n  padding-left: 8px;\n  padding-right: 20px;\n  height: 22px;\n  font-size: 14px;\n  line-height: 22px;\n  margin-bottom: 6px;\n  white-space: nowrap;\n  border-left: 2px solid transparent;\n  cursor: default;\n}\n.ne-toc-normal-view .ne-toc-item a,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item a,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item a {\n  color: #595959;\n}\n.ne-toc-normal-view .ne-toc-item.ne-toc-ident-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item.ne-toc-ident-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item.ne-toc-ident-item {\n  padding-left: 35px;\n}\n.ne-toc-normal-view .ne-toc-item .ne-toc-item-inner,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-inner,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-inner {\n  display: flex;\n  align-items: center;\n}\n.ne-toc-normal-view .ne-toc-item:before,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item:before,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item:before {\n  display: none;\n}\n.ne-toc-normal-view .ne-toc-item.ne-toc-selected,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item.ne-toc-selected,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item.ne-toc-selected {\n  border-left-color: #25b864;\n  color: #3e3e3e;\n  font-weight: bold;\n}\n.ne-toc-normal-view .ne-toc-item:last-child,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item:last-child,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item:last-child {\n  margin-bottom: 0;\n}\n.ne-toc-normal-view .ne-toc-item .ne-toc-fold-btn,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-fold-btn,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-fold-btn {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-shrink: 0;\n  color: #8c8c8c;\n  width: 17px;\n  height: 16px;\n  cursor: pointer;\n}\n.ne-toc-normal-view .ne-toc-item .ne-toc-fold-btn .ne-rotate-270,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-fold-btn .ne-rotate-270,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-fold-btn .ne-rotate-270 {\n  transform: rotate(270deg);\n}\n.ne-toc-normal-view .ne-toc-item .ne-toc-item-text,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-text,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ne-toc-normal-view .ne-toc-item .ne-toc-item-text:hover,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-text:hover,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-text:hover {\n  cursor: pointer;\n  color: #262626;\n  font-weight: bold;\n}\n.ne-toc-normal-view .ne-toc-item .ne-toc-item-text:hover a,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-text:hover a,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-item .ne-toc-item-text:hover a {\n  color: #262626;\n}\n.ne-toc-normal-view .ne-toc-depth-1,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-1,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-1 {\n  padding-left: 25px;\n}\n.ne-toc-normal-view .ne-toc-depth-1.ne-toc-parent-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-1.ne-toc-parent-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-1.ne-toc-parent-item {\n  padding-left: 8px;\n}\n.ne-toc-normal-view .ne-toc-depth-2,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-2,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-2 {\n  padding-left: 42px;\n}\n.ne-toc-normal-view .ne-toc-depth-2.ne-toc-parent-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-2.ne-toc-parent-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-2.ne-toc-parent-item {\n  padding-left: 25px;\n}\n.ne-toc-normal-view .ne-toc-depth-3,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-3,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-3 {\n  padding-left: 59px;\n}\n.ne-toc-normal-view .ne-toc-depth-3.ne-toc-parent-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-3.ne-toc-parent-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-3.ne-toc-parent-item {\n  padding-left: 42px;\n}\n.ne-toc-normal-view .ne-toc-depth-4,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-4,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-4 {\n  padding-left: 76px;\n}\n.ne-toc-normal-view .ne-toc-depth-4.ne-toc-parent-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-4.ne-toc-parent-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-4.ne-toc-parent-item {\n  padding-left: 59px;\n}\n.ne-toc-normal-view .ne-toc-depth-5,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-5,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-5 {\n  padding-left: 93px;\n}\n.ne-toc-normal-view .ne-toc-depth-5.ne-toc-parent-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-5.ne-toc-parent-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-5.ne-toc-parent-item {\n  padding-left: 76px;\n}\n.ne-toc-normal-view .ne-toc-depth-6,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-6,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-6 {\n  padding-left: 110px;\n}\n.ne-toc-normal-view .ne-toc-depth-6.ne-toc-parent-item,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-depth-6.ne-toc-parent-item,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-depth-6.ne-toc-parent-item {\n  padding-left: 93px;\n}\n.ne-toc-normal-view .ne-toc-placeholder .ne-toc-placeholder-tip,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-placeholder .ne-toc-placeholder-tip,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-placeholder .ne-toc-placeholder-tip {\n  display: block;\n}\n.ne-toc-normal-view .ne-toc-placeholder .ne-toc-placeholder-ind,\n.ne-viewer-toc-sidebar-hover .ne-toc-view .ne-toc-placeholder .ne-toc-placeholder-ind,\n.ne-toc-sidebar-hover .ne-toc-view .ne-toc-placeholder .ne-toc-placeholder-ind {\n  display: none;\n}\n.ne-toc-placeholder .ne-toc-placeholder-tip {\n  font-size: 14px;\n  color: #d9d9d9;\n  padding-left: 28px;\n}\n.ne-toc-placeholder .ne-toc-placeholder-ind {\n  width: 100%;\n  height: 58px;\n  background: url('https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Y9PXRrL9XM0AAAAAAAAAAAAAARQnAQ') no-repeat right top;\n  display: none;\n}\n");var xA=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_tocRootRef",Re.a.createRef()),m()(l()(t),"_tocContentRef",Re.a.createRef()),m()(l()(t),"_scrollNodeRef",Re.a.createRef()),m()(l()(t),"_tocWatcher",null),m()(l()(t),"state",{selected:null,allowNormalView:!0}),m()(l()(t),"_collapsedMap",{}),m()(l()(t),"setNormalViewStatus",(function(e){br("boolean"==typeof e,"F:toc-view;L:110","F:toc-view;L:110"),t._toggleNormalViewStatus(e)})),t.state.allowNormalView=e.initNormalView,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t={scrollNode:this.props.scrollNode,contentNode:this.props.contentNode,tocViewportNode:this._tocRootRef.current.parentNode,toc:this.props.toc,offsetTop:this.props.offsetTop};this._tocWatcher=new gA(t),this.props.checkOutside&&this._tocWatcher.enableOutsideCheck(),this.props.eventEmitter.on("change",(function(){e._tocWatcher.reset()})),this._tocWatcher.on("change",(function(t){var n=t.current;e._reset(n),e.props.eventEmitter.emit("tocStatusChange",t)})),this.props.eventEmitter.emit("pinStatusChange",this.state.allowNormalView)}},{key:"componentWillUnmount",value:function(){this._tocWatcher&&(this._tocWatcher.destroy(),this._tocWatcher=null,this.props.eventEmitter.removeAllListeners())}},{key:"componentDidUpdate",value:function(e){var t;e.toc!==this.props.toc&&(null===(t=this._tocWatcher)||void 0===t||t.update(this.props.toc))}},{key:"toggleViewStatus",value:function(){this._toggleNormalViewStatus(!this.state.allowNormalView)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hidePin,r=t.toc,o=this.state.allowNormalView,i=o?"ne-toc-normal-view":"ne-toc-small-view";return Re.a.createElement("div",{ref:this._tocRootRef,onMouseDown:function(e){e.stopPropagation()},className:nw("ne-toc-view",i)},Re.a.createElement("div",{className:"ne-toc-pin ".concat(n?"ne-toc-pin-hide":"")},Re.a.createElement("span",{className:"ne-toc-pin-text"},xm("大纲")),Re.a.createElement(Be.a,{trigger:"hover",title:xm(o?"隐藏大纲":"钉住大纲"),overlayClassName:"ne-toc-pin-tooltip"},Re.a.createElement("div",{className:"ne-toc-pin-wrap",onClick:function(){return e._toggleNormalViewStatus()}},Re.a.createElement(oE,{iconfont:o?"pin":"pin-tilted",size:16})))),r&&r.length>0?this._renderToc():this._renderPlaceholder())}},{key:"_renderPlaceholder",value:function(){return Re.a.createElement("div",{className:"ne-toc-placeholder"},Re.a.createElement("div",{className:"ne-toc-placeholder-tip"},xm("标题将在此展示")),Re.a.createElement("div",{className:"ne-toc-placeholder-ind"}))}},{key:"_renderToc",value:function(){var e=this,t=this.props,n=t.toc,r=t.onClick,o=function(e,t,n){if(null==e||!e.length)return[];var r=function(e,t,n){var r={depth:0,children:[],nodeMap:{},collapsed:!1};n||(n={});var o=r;return e.forEach((function(e){var t=e.depth;t<1&&(t=1);var i=e.id,a={id:i,text:e.text,depth:t,collapsed:!!n[i],children:[]};if(r.nodeMap[i]=a,o.depth===t)a.parent=o.parent,o.parent.children.push(a);else if(o.depth<t)a.parent=o,o.children.push(a);else{for(;o.depth>=t;)o=o.parent;a.parent=o,o.children.push(a)}o=a,a.parent.collapsed&&(a.collapsed=!0)})),r}(e,0,n),o=r.nodeMap,i=[],a={};if(r.children.forEach((function(e){!function e(t,n,r){var o=t.children,i=t.collapsed;n.push(t),r[t.id]=!0,t.hasChild=!!o.length,t.hasChild||(t.collapsed=!1),0!==t.parent.depth&&(t.isChild=!0),t.hasChild&&(t.parent._needMarkIndent=!0),i||0===o.length||o.forEach((function(t){e(t,n,r)}))}(e,i,a)})),o[t])if(a[t])o[t].selected=!0;else for(var c=o[t];c=c.parent;)if(a[c.id]){c.selected=!0;break}return i}(n,this.state.selected,this._collapsedMap).map((function(t,n){var o=t.id,i=t.text,a=t.depth,c=[t.selected?"ne-toc-selected":null,t.hasChild?"ne-toc-parent-item":null,t.isChild?"ne-toc-child-item":null];return Re.a.createElement("div",{key:"".concat(o,"-").concat(n),"data-id":o,className:nw.apply(void 0,["ne-toc-item ne-toc-depth-".concat(a)].concat(c))},Re.a.createElement("div",{className:"ne-toc-item-inner"},e._renderCollapse(t),Re.a.createElement("div",{className:"ne-toc-item-text",onClick:function(t){t.preventDefault(),r(o),e._tocWatcher.ignoreScrollOnce=!0,e.setState({selected:o})},title:i},e._renderText(i,o))))}));return Re.a.createElement("div",{className:"ne-toc-view-inner",ref:this._scrollNodeRef},Re.a.createElement("div",{ref:this._tocContentRef,className:"ne-toc-content"},o))}},{key:"_renderText",value:function(e,t){return e&&this.props.allowShowHash?Re.a.createElement("a",{href:"#".concat(t)},e):e}},{key:"_renderCollapse",value:function(e){var t=this;if(!e.hasChild)return null;var n=e.collapsed?"ne-rotate-270":"";return Re.a.createElement("div",{className:"ne-toc-fold-btn",onClick:function(n){n.preventDefault(),t._toggleFolding(e.id)}},Re.a.createElement(oE,{className:n,iconfont:"catalog-switcher",size:16}))}},{key:"_toggleFolding",value:function(e){this._collapsedMap[e]?delete this._collapsedMap[e]:this._collapsedMap[e]=!0,this.forceUpdate()}},{key:"_toggleNormalViewStatus",value:function(e){var t,n=this,r="boolean"==typeof e?e:!this.state.allowNormalView,o=document.querySelector(".ne-toc-pin-tooltip");this.props.eventEmitter.emit("pinStatusChange",r),r?this.setState({allowNormalView:r}):(null===(t=this._tocRootRef)||void 0===t||t.current.classList.add("ne-force-hide"),null==o||o.setAttribute("ne-force-tooltip-hide","true"),setTimeout((function(){n._tocRootRef.current&&(n._tocRootRef.current.classList.remove("ne-force-hide"),n.setState({allowNormalView:r}))}),0),setTimeout((function(){null==o||o.removeAttribute("ne-force-tooltip-hide")}),1e3))}},{key:"_reset",value:function(e){this.state.current!==e&&(e&&this._makeVisible(e),this.setState({selected:e}))}},{key:"_makeVisible",value:function(e){var t=this._tocContentRef.current.querySelector('.ne-toc-item[data-id="'.concat(e,'"]'));if(t){var n=this._scrollNodeRef.current.getBoundingClientRect(),r=t.getBoundingClientRect();(r.top<=n.top+10||r.bottom>=n.bottom-10)&&(this._scrollNodeRef.current.scrollTop+=r.top-(n.top+n.height/2))}}}]),i}();m()(xA,"TYPE_NORMAL","normal"),m()(xA,"TYPE_SMALL","small"),m()(xA,"propTypes",{onClick:De.a.func,toc:De.a.array.isRequired,eventEmitter:De.a.object.isRequired,allowShowHash:De.a.bool,scrollNode:De.a.instanceOf(Element).isRequired,contentNode:De.a.instanceOf(Element).isRequired,offsetTop:De.a.number,checkOutside:De.a.bool,hidePin:De.a.bool,initNormalView:De.a.bool}),m()(xA,"defaultProps",{type:xA.TYPE_NORMAL,allowShowHash:!1,offsetTop:0,onClick:function(){},hidePin:!1,initNormalView:!0}),FN(".ne-toc-sidebar {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: fit-content;\n  background: rgba(255, 255, 255, 0.8);\n  backdrop-filter: blur(30px);\n  display: none;\n  z-index: 1;\n}\n.ne-toc-sidebar.ne-normal-toc-sidebar {\n  width: 40px;\n}\n.ne-toc-sidebar .ne-toc-view {\n  margin-top: 35px;\n  overflow: hidden;\n}\n@-moz-document url-prefix() {\n  .ne-toc-sidebar {\n    background: #fff;\n  }\n}\n.ne-toc-visible .ne-toc-sidebar {\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n.ne-ui-scrollbar-visible .ne-toc-sidebar {\n  right: 15px;\n}\n");var _A=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;o()(this,i),c=r.call(this),m()(l()(c),"_iEditor",null),m()(l()(c),"_iRenderer",null),m()(l()(c),"_mountNode",null),m()(l()(c),"_option",null),m()(l()(c),"_view",null),m()(l()(c),"_pinStatus",null),m()(l()(c),"_hoverTimeout",null),c._option=a,c._iEditor=t,c._iRenderer=n,c._mountNode=Xk("div",{className:"ne-toc-sidebar"}),c._mountNode.addEventListener("mouseenter",(function(){c._hoverTimeout=setTimeout((function(){c._mountNode.classList.add("ne-toc-sidebar-hover"),c._hoverTimeout=null}),350)})),c._mountNode.addEventListener("mouseleave",(function(){c._hoverTimeout&&(clearTimeout(c._hoverTimeout),c._hoverTimeout=null),c._mountNode.classList.remove("ne-toc-sidebar-hover")}));var s=new g.a;t.on("layoutChange",(function(){s.emit("change")})),n.on("typographyChange",(function(){s.emit("change")}));var u=c._iEditor.editorNode;return s.on("pinStatusChange",(function(e){var n,r;t.emitEvent("tocViewStatusChange",e),c._pinStatus=e,e?(null===(n=c._mountNode)||void 0===n||n.classList.add("ne-normal-toc-sidebar"),null==u||u.classList.add("ne-normal-toc")):(null===(r=c._mountNode)||void 0===r||r.classList.remove("ne-normal-toc-sidebar"),null==u||u.classList.remove("ne-normal-toc"))})),e.appendChild(c._mountNode),c._view=XN.render(xA,{toc:[],allowShowHash:a.isAllowModifyHash(),eventEmitter:s,scrollNode:t.scrollNode,contentNode:t.iRenderer.domRootNode,onClick:function(e){c.emit("tocPositionChange",e),c._scrollTo(e)},offsetTop:40,initNormalView:a.isDefaultNormalView()},c._mountNode),c}return a()(i,[{key:"destroy",value:function(){this.removeAllListeners()}},{key:"update",value:function(e){var t;null===(t=this._view)||void 0===t||t.rerender({toc:e})}},{key:"refresh",value:function(){var e,t;null===(e=this._view)||void 0===e||null===(t=e._tocWatcher)||void 0===t||t.reset()}},{key:"open",value:function(){var e;null===(e=this._iEditor.editorNode)||void 0===e||e.classList.add("ne-toc-visible")}},{key:"close",value:function(){var e;null===(e=this._iEditor.editorNode)||void 0===e||e.classList.remove("ne-toc-visible")}},{key:"toggle",value:function(){var e;null===(e=this._iEditor.editorNode)||void 0===e||e.classList.toggle("ne-toc-visible")}},{key:"getPinStatus",value:function(){return this._pinStatus}},{key:"setPinVisible",value:function(e){this._view.rerender({hidePin:!e})}},{key:"setNormalViewStatus",value:function(e){this._view.getReactRef().setNormalViewStatus(e)}},{key:"toggleViewStatus",value:function(){this._view.getReactRef().toggleViewStatus()}},{key:"_scrollTo",value:function(e){this._iRenderer.scrollByNodeId(e),this._option.isAllowModifyHash()&&(location.hash=e);var t=this._iRenderer.domRootNode.querySelector('[id="'.concat(e,'"]'));if(t){var n=t.getBoundingClientRect(),r=this._iEditor.scrollNode.getBoundingClientRect();this._iEditor.scrollNode.scrollTop+=n.top-r.top}}}]),i}();var kA=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this)).plugin=e,t}return a()(i,[{key:"execute",value:function(){this.plugin.toggleTocView()}}]),i}();var CA=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_tocSidebar",null),m()(l()(e),"_tocCollapse",null),e}return a()(i,[{key:"init",value:function(e,t){var n=this;this.option.isEnabled&&(e.registerCommand("toggleTocView",new kA(this)),this._tocSidebar=new _A(e.editorWrapNode.parentNode,e,t,this.option),this._tocCollapse=new hA(this._tocSidebar),this._tocSidebar.on("tocPositionChange",(function(e){n.iEditor.emitPluginEvent("tocPositionChange",e)})),t.once("document.create",(function(){n._tocSidebar.open()})),e.iKernel.onPluginEvent("tocChange",lt()((function(e){n._tocSidebar.update(e)}),1e3)),e.onPluginEvent("sidebarVisibleChange",(function(e){e||n._tocSidebar.refresh()})),e.on("enterMaxView",(function(){n._tocSidebar.close()})),e.on("leaveMaxView",(function(){n._tocSidebar.open()})),e.onPluginEvent("viewSizeChange",(function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null===(e=n._tocCollapse)||void 0===e||e.check.apply(e,r)})))}},{key:"destroy",value:function(){this._tocSidebar.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"openTocSidebar",value:function(){this._tocSidebar.open()}},{key:"closeTocSidebar",value:function(){this._tocSidebar.close()}},{key:"toggleTocSidebar",value:function(){this._tocSidebar.toggle()}},{key:"toggleTocView",value:function(){this._tocSidebar.toggleViewStatus()}},{key:"getToc",value:function(){return br(this.iEditor.iKernel.hasExtendMethod("getToc"),"F:editor/index;L:82"),this.iEditor.iKernel.getToc()}}]),i}();m()(CA,"PluginName","toc"),m()(CA,"PluginOption",yA),FN(".my-card {\n  border: 1px solid #e8e8e8;\n  height: 100%;\n  padding: 50px;\n}\n.my-card textarea {\n  resize: none;\n  width: 100%;\n  height: 50px;\n}\n");var RA=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:"my-card"},Re.a.createElement("textarea",null))}}]),i}();var NA=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["maximize","spacing"]}}},{key:"getResizerConfig",value:function(){return{min:100,max:1e3}}},{key:"getCardMaskConfig",value:function(){return!0}},{key:"init",value:function(){cO.render(RA,{},this.containerNode)}},{key:"destroy",value:function(){cO.ummount(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"beforeMaximizeChanged",value:function(e){console.log("------\x3e 最大化状态前变更通知：",e)}},{key:"afterMaximizeChanged",value:function(e){console.log("------\x3e 最大化状态后变更通知：",e)}},{key:"heightChanged",value:function(e){console.log("-------\x3e 卡片高度变更: ",e)}}]),i}();var EA=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();var OA=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){this._ui.destroy()}}]),i}();m()(OA,"$EditableCardUI",NA),m()(OA,"$CardData",EA);var DA=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"myCard",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(OA,[e].concat(n))}})}}]),i}();m()(DA,"PluginName","myCard"),FN(".ne-emoji {\n  display: inline-block;\n  line-height: inherit;\n  background-size: contain;\n  background-position: 0 0;\n  background-repeat: no-repeat;\n}\n.ne-emoji-default {\n  width: 18px;\n  height: 18px;\n  vertical-align: middle;\n  margin-bottom: 3px;\n}\n.ne-emoji-que {\n  width: 64px;\n  height: 64px;\n  vertical-align: text-bottom;\n  margin-bottom: -3px;\n}\n");var SA=function(e){u()(i,Ce.PureComponent);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props.cardData;return Re.a.createElement("img",{src:gv.sanitizeUrl(e.src),className:"ne-emoji ne-emoji-".concat(e.package)})}}]),i}();SA.propTypes={cardData:De.a.instanceOf(Vb)};var BA=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this._uiViewProxy=cO.render(SA,{cardData:this.cardData},this.containerNode)}}]),i}();var PA=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}}]),i}();m()(PA,"$CardData",Vb),m()(PA,"$EditableCardUI",BA);var FA=function(){function e(t){o()(this,e),m()(this,"_plugin",null),this._plugin=t}return a()(e,[{key:"getEmojis",value:function(){return this._plugin.option.emojis}}]),e}();var TA=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("select"===e,"F:emoji-toolbar-descriptor;L:20");var n={src:t.src,package:t.package};this.iEditor.execCommand(sb,n,!0)}},{key:"getInitUIState",value:function(){return{lang:this.iEditor.option.lang||"zh-cn",disabled:this.disabled,tooltip:xm("表情")}}},{key:"getUIState",value:function(){return{disabled:this.disabled||!this.iEditor.queryCommandEnabled(sb)}}}]),i}();m()(TA,"Type","EmojiButton"),m()(TA,"PluginContext",FA);var MA={emojis:{default:[{id:"good",package:"que",title:{"zh-cn":"棒","en-us":"Good"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*UHsnTpLQ48gAAAAAAAAAAAAAARQnAQ"},{id:"fighting",package:"que",title:{"zh-cn":"加油","en-us":"Fighting"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*pm-hQY3BLV8AAAAAAAAAAAAAARQnAQ"},{id:"hooray",package:"que",title:{"zh-cn":"撒花","en-us":"Hooray"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*9T62QYqFFhYAAAAAAAAAAAAAARQnAQ"},{id:"humble",package:"que",title:{"zh-cn":"卑微","en-us":"Humble"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*BHK1RpChRAwAAAAAAAAAAAAAARQnAQ"},{id:"pat",package:"que",title:{"zh-cn":"摸头","en-us":"Pat"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*2eERTp0nd5IAAAAAAAAAAAAAARQnAQ"},{id:"angry",package:"que",title:{"zh-cn":"生气","en-us":"Angry"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*b8hcRpIQ-QUAAAAAAAAAAAAAARQnAQ"},{id:"pensive",package:"que",title:{"zh-cn":"思考","en-us":"Pensive"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*TJ7dTIRWjVoAAAAAAAAAAAAAARQnAQ"},{id:"xiaoku",package:"que",title:{"zh-cn":"笑哭","en-us":"XiaoKu"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*qOVbRIyytEIAAAAAAAAAAAAAARQnAQ"},{id:"yes",package:"que",title:{"zh-cn":"击掌","en-us":"Yes"},src:"https://gw.alipayobjects.com/mdn/rms_15e52e/afts/img/A*uJPyRLbsRS4AAAAAAAAAAAAAARQnAQ"}]}},LA=function(){function e(t){o()(this,e),this._options=T()({},MA,t)}return a()(e,[{key:"emojis",get:function(){return this._options.emojis}}]),e}();m()(LA,"OptionName",lb);var AA=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerInlineCard(this,ab,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(PA,[e].concat(n))}}),e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget(cb,{clazz:TA,pluginContext:new FA(this)},this)}}]),i}();function IA(e){var t=e.actions;return Re.a.createElement("div",{className:"ne-embed-nav","data-testid":"ne-embed-nav",onMouseDown:function(e){e.preventDefault()}},t.map((function(e,t){return e&&[t>0&&Re.a.createElement(Tt.a,{key:t,type:"vertical",className:"ne-embed-nav-divider"}),e]})))}m()(AA,"PluginName",ib),m()(AA,"PluginOption",LA),FN(".ne-embed-nav {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  font-size: 14px;\n  line-height: 24px;\n  user-select: none;\n  height: 31px;\n  padding: 11px 11px 0px 0px;\n  color: #595959;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  white-space: nowrap;\n  overflow-y: visible;\n  /* AntD 组件中用了 ul 需要覆盖默认定义的文档中的 UL 的样式 */\n}\n.ne-embed-nav ul {\n  margin: 0;\n  padding: 0;\n}\n.ne-embed-nav li {\n  margin: 0;\n}\n.ne-embed-nav-divider {\n  margin: 0 6px;\n  height: 16px;\n}\n"),IA.propTypes={actions:De.a.array};var jA={},VA={};qb.forEach((function(e){jA[e.value]=e.name,VA[e.value]=e.syntax}));var zA=["c","cpp","csharp","erlang","go","groovy","java","kotlin","makefile","objectivec","perl","python","rust","swift","vbnet"],UA=function(e){return VA[e]||e},HA=function(e){e.code;var t=e.mode,n=zA.includes(t)?4:2;return{tabSize:n,indentUnit:n}};function qA(e){var t,n=e.autoWrap,r=e.getPopupContainer,o=e.onAutoWrapChange,i=Object(Ce.useState)(!1),a=E()(i,2),c=a[0],l=a[1],s=[{name:"auto-wrap",label:xm("自动换行"),onChange:o,isChecked:n}];return Re.a.createElement(bt.a,{className:"ne-codeblock-more-panel",overlayClassName:"ne-codeblock-overlay",trigger:"click",getPopupContainer:r,visible:c,placement:"bottomLeft",content:(t=s.map((function(e,t){var n=e.name,r=e.label,o=e.isChecked,i=e.onChange;return Re.a.createElement(Pe.a.Item,{key:n+t,className:"ne-codeblock-more-item","data-testid":"ne-codeblock-".concat(n,"-switch")},Re.a.createElement("span",null,r),Re.a.createElement(Te.a,{size:"small",onChange:i,defaultChecked:o}))})),Re.a.createElement(Pe.a,{className:"ne-codeblock-more-menu",selectable:!1},t)),onVisibleChange:function(e){l(e)},noArrow:!0,offset:2},Re.a.createElement("div",{className:"ne-codeblock-more-button ".concat(c?"ne-codeblock-more-active":""),"data-testid":"ne-codeblock-more-button"},Re.a.createElement(oE,{type:"card-codeblock-more"})))}qA.propTypes={autoWrap:De.a.bool,getPopupContainer:De.a.func,onAutoWrapChange:De.a.func,codeMirror:De.a.object,theme:De.a.string,onThemeChange:De.a.func},FN("/* 定制化 AntD Select 组件的静态及 Hover 态样式 */\n.ne-lang-select.ant-select-single.ant-select-sm:not(.ant-select-customize-input) .ant-select-selector {\n  padding: 0 5px 0 8px;\n  color: #595959;\n  border-color: transparent;\n  background: transparent;\n  border-radius: 4px;\n  height: 24px;\n  text-align: right;\n  cursor: pointer;\n}\n.ne-lang-select.ant-select-single.ant-select-sm:not(.ant-select-customize-input) .ant-select-selector .ant-select-selection-item {\n  padding-right: 23px;\n}\n.ne-lang-select.ant-select:not(.ant-select-disabled):hover .ant-select-selector {\n  border-color: transparent;\n  background-color: #e8e8e8;\n}\n.ne-lang-select.ant-select-focused:not(.ant-select-disabled).ant-select:not(.ant-select-customize-input) .ant-select-selector {\n  border-color: #25b864;\n  box-shadow: none;\n  background-color: #fff;\n  text-align: left;\n}\n.ne-lang-select .ant-select-arrow {\n  color: #8c8c8c;\n  right: 7px;\n}\n");var WA=["className","children"];var ZA=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=j()(e,WA);return Re.a.createElement(Mt.a,Ee()({className:nw(t,"ne-lang-select"),suffixIcon:Re.a.createElement(oE,{type:"select-arrow",size:12})},r),n)}}]),i}();m()(ZA,"propTypes",{className:De.a.string,children:De.a.any});var KA=Mt.a.Option;function $A(e){var t=e.mode,n=e.getPopupContainer,r=e.onSelect;return Re.a.createElement(ZA,{"data-testid":"ne-codeblock-mode-selector",className:"ne-codeblock-header-select",showSearch:!0,size:"small",style:{width:108},defaultValue:t,value:t,getPopupContainer:n,onSelect:r,filterOption:function(e,t){e=e.toLowerCase();var n=t.key||"",r=t.name||"";return r=r.toLowerCase(),n.includes(e)||r.includes(e)},virtual:!1},qb.map((function(e){return Re.a.createElement(KA,{name:e.name,value:e.value,key:e.value,"data-mode-name":e.name},e.name)})))}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YA(){return GA.apply(this,arguments)}function GA(){return(GA=xe()(ke.a.mark((function e(){var t=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CodeMirror){e.next=3;break}return e.next=3,Object(Fe.loadModule)("codemirror");case 3:return e.abrupt("return",XA.apply(void 0,t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XA(e,t,n,r,o){var i=UA(t),a=HA({code:n,mode:t});return o=o||{},window.CodeMirror.default(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JA(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:n,mode:i,lineWrapping:!!o.autoWrap,lineNumbers:!0,theme:o.theme,styleActiveLine:!1,matchBrackets:!0,autofocus:!1,dragDrop:!1,readOnly:!!r},a))}$A.propTypes={mode:De.a.string,onSelect:De.a.func,getPopupContainer:De.a.func},FN("/* stylelint-disable */\n/*!\n 本文件源码来源于老编辑器\n 定制了一些 codemirror 中内容的配色等基础样式，非特殊情况无需修改\n */\n/* BASICS */\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  color: black;\n  direction: ltr;\n}\n/* PADDING */\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px;\n  /* Horizontal padding of content */\n}\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */\n}\n/* GUTTER */\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n.CodeMirror-guttermarker {\n  color: black;\n}\n.CodeMirror-guttermarker-subtle {\n  color: #999;\n}\n/* CURSOR */\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor .CodeMirror-line::selection,\n.cm-fat-cursor .CodeMirror-line > span::selection,\n.cm-fat-cursor .CodeMirror-line > span > span::selection {\n  background: transparent;\n}\n.cm-fat-cursor .CodeMirror-line::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span > span::-moz-selection {\n  background: transparent;\n}\n.cm-fat-cursor {\n  caret-color: transparent;\n}\n@-moz-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@-webkit-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n/* Can style cursor different in overwrite (non-insert) mode */\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit;\n}\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n/* DEFAULT THEME */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n.cm-s-default .cm-keyword {\n  color: #708;\n}\n.cm-s-default .cm-atom {\n  color: #219;\n}\n.cm-s-default .cm-number {\n  color: #164;\n}\n.cm-s-default .cm-def {\n  color: #00f;\n}\n.cm-s-default .cm-variable-2 {\n  color: #05a;\n}\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #085;\n}\n.cm-s-default .cm-comment {\n  color: #a50;\n}\n.cm-s-default .cm-string {\n  color: #a11;\n}\n.cm-s-default .cm-string-2 {\n  color: #f50;\n}\n.cm-s-default .cm-meta {\n  color: #555;\n}\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #30a;\n}\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #170;\n}\n.cm-s-default .cm-attribute {\n  color: #00c;\n}\n.cm-s-default .cm-hr {\n  color: #999;\n}\n.cm-s-default .cm-link {\n  color: #00c;\n}\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n/* STOP */\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n.CodeMirror-scroll {\n  overflow: scroll !important;\n  /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px;\n  margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0;\n}\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent;\n}\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent;\n}\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n}\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px;\n  /* Force widget margins to stay inside of the container */\n}\n.CodeMirror-rtl pre {\n  direction: rtl;\n}\n.CodeMirror-code {\n  outline: none;\n}\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre {\n  position: static;\n}\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n.CodeMirror-selected {\n  background: #d9d9d9;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0;\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: #d7d4f0;\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0;\n}\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, 0.4);\n}\n/* Used to force a border model for a node */\n.cm-force-border {\n  padding-right: 0.1px;\n}\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n/* See issue #2901 */\n.cm-tab-wrap-hack:after {\n  content: '';\n}\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext {\n  background: none;\n}\n/*!\n 本文件源码来源于老编辑器\n 定制了一些 codemirror 中内容的配色等基础样式，非特殊情况无需修改\n */\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.CodeMirror {\n  background: none;\n  /* 字体参照 github，考虑和 14px 文字在一起排版，字号用 13px */\n  font-family: SFMono-Regular, Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n  font-size: 13.6px;\n  line-height: 1.45;\n  color: #595959;\n  direction: ltr;\n}\n.CodeMirror * {\n  box-sizing: unset;\n}\n.CodeMirror:hover .CodeMirror-scroll::-webkit-scrollbar-thumb,\n.CodeMirror.CodeMirror-focused .CodeMirror-scroll::-webkit-scrollbar-thumb,\n.CodeMirror:hover .CodeMirror-vscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror.CodeMirror-focused .CodeMirror-vscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror:hover .CodeMirror-hscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror.CodeMirror-focused .CodeMirror-hscrollbar::-webkit-scrollbar-thumb {\n  visibility: visible;\n}\n.CodeMirror .CodeMirror-scrollbar-filler,\n.CodeMirror .CodeMirror-gutter-filler {\n  background: transparent;\n}\n.CodeMirror .CodeMirror-lines {\n  padding-bottom: 24px;\n}\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box !important;\n  box-sizing: content-box !important;\n}\n.CodeMirror-gutters {\n  background: #fafafa;\n  border-color: #fafafa;\n  padding: 0 20px 0 6px;\n}\n.CodeMirror-scroll,\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar {\n  scrollbar-color: #bfbfbf transparent;\n}\n.CodeMirror-scroll::-webkit-scrollbar,\n.CodeMirror-vscrollbar::-webkit-scrollbar,\n.CodeMirror-hscrollbar::-webkit-scrollbar {\n  background-color: transparent;\n}\n.CodeMirror-scroll::-webkit-scrollbar-corner,\n.CodeMirror-vscrollbar::-webkit-scrollbar-corner,\n.CodeMirror-hscrollbar::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\n.CodeMirror-scroll::-webkit-scrollbar-thumb,\n.CodeMirror-vscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror-hscrollbar::-webkit-scrollbar-thumb {\n  background-color: #bfbfbf;\n  border-radius: 16px;\n  border: 3.5px solid transparent;\n  background-clip: content-box;\n  visibility: hidden;\n}\n.CodeMirror-selected {\n  background: transparent;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: rgba(180, 213, 254, 0.5);\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: rgba(180, 213, 254, 0.5);\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: rgba(180, 213, 254, 0.5);\n}\n/* DEFAULT THEME (来源于老编辑器，定制了一套代码配色) */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n/* 以 codemirror 默认为蓝本，部分颜色用 github 及 prism.js */\n.cm-s-default .cm-keyword {\n  color: #d73a49;\n}\n/* use github */\n.cm-s-default .cm-atom {\n  color: #905;\n}\n/* false null 等常量，use prism.js */\n.cm-s-default .cm-number {\n  color: #005cc5;\n}\n/* use github */\n.cm-s-default .cm-def {\n  color: #005cc5;\n}\n/* use github */\n.cm-s-default .cm-variable-2 {\n  color: #005cc5;\n}\n/* use github 蓝色 */\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #22863a;\n}\n/* use github 绿色 */\n.cm-s-default .cm-comment {\n  color: #6a737d;\n}\n/* use github */\n.cm-s-default .cm-string {\n  color: #690;\n}\n/* 单行字符串，用 prism 颜色 origin #a11; */\n.cm-s-default .cm-string-2 {\n  color: #690;\n}\n/* 多行字符串，用 prism 颜色 origin #a11; */\n.cm-s-default .cm-meta {\n  color: #1f7f9a;\n}\n/* c #include、java annotation 等，采用 vscode default light+ 颜色 */\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #6f42c1;\n}\n/* use github */\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #22863a;\n}\n/* html tag 名，use github */\n.cm-s-default .cm-attribute {\n  color: #6f42c1;\n}\n/* html tag 属性名，use github */\n.cm-s-default .cm-hr {\n  color: #999;\n}\n/* md 语法 */\n.cm-s-default .cm-link {\n  color: #00c;\n}\n/* md 语法 */\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.cm-s-default .cm-operator {\n  color: #d73a49;\n}\n/* 用 github 颜色 */\n.cm-s-default .cm-property {\n  color: #005cc5;\n}\n/* 用 github 蓝色，和 cm-def 一致 */\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: transparent;\n}\n/* STOP */\n[data-card-name=\"codeblock\"] {\n  height: auto !important;\n}\n.ne-codeblock {\n  position: relative;\n  padding-top: 31px;\n  overflow: visible;\n  text-indent: 0;\n  background: #fafafa;\n  min-height: 81px;\n}\n.ne-codeblock .ne-embed-nav {\n  padding: 0 11px;\n}\n.ne-codeblock-content {\n  position: relative;\n  z-index: 2;\n  background: #fafafa;\n}\n.ne-codeblock-overlay {\n  /* Popover 最小高度以及默认边距都太大了，不符合当前场景 */\n}\n.ne-codeblock-overlay.ant-popover .ant-popover-content {\n  min-width: 125px;\n}\n.ne-codeblock-overlay .ant-popover-inner-content {\n  padding: 8px 16px;\n}\n.ne-codeblock-overlay .ne-codeblock-more-item {\n  padding: 0;\n  height: 28px;\n  color: #595959;\n  font-size: 14px;\n  line-height: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: default !important;\n}\n.ne-codeblock-overlay .ne-codeblock-more-item:hover {\n  background: none !important;\n}\n.ne-codeblock-height-limit .CodeMirror-scroll {\n  max-height: 12600px;\n}\n.CodeMirror-scroll {\n  min-height: 50px;\n}\n.ne-codeblock-more-button {\n  height: 24px;\n  width: 24px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s;\n  cursor: pointer;\n}\n.ne-codeblock-more-button:hover,\n.ne-codeblock-more-button.ne-codeblock-more-active {\n  background-color: #e8e8e8;\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  word-break: normal;\n}\n.ne-codeblock-loading {\n  width: 50px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  margin-left: -25px;\n}\n"),FN(".ne-codeblock-loading {\n  width: 50px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  margin-left: -25px;\n}\n");var QA=new Ft.a("ne:codeblock:editor"),eI=function(e){u()(c,Ce.PureComponent);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e){var t;o()(this,c),t=i.call(this,e),m()(l()(t),"state",{visible:!1,width:void 0}),m()(l()(t),"setCursorPosition",(function(e){"before"!==e?"after"!==e||t.codeMirror.execCommand("goDocEnd"):t.codeMirror.execCommand("goDocStart")})),m()(l()(t),"syncCardDataToViewState",(function(){var e,n,r=t.props.cardData,o=r.mode,i=r.code,a=r.autoWrap,c=r.theme;i!==(null===(e=t.codeMirror)||void 0===e?void 0:e.getValue())&&(null===(n=t.codeMirror)||void 0===n||n.setValue(i)),t.state.mode!==o&&t.updateMode(o),t.state.autoWrap!==a&&t.updateAutoWrap(a),t.state.theme!==c&&t.updateTheme(c)})),m()(l()(t),"getViewState",(function(){var e="";return t.codeMirror&&(e=t.codeMirror.getValue()),{code:e,mode:t.state.mode,autoWrap:t.state.autoWrap,theme:t.state.theme}})),m()(l()(t),"onCodeChange",K()((function(e,n){"setValue"!==(null==n?void 0:n.origin)&&t.props.onChange(t.codeMirror.getValue())}),3e3)),m()(l()(t),"focusToCodeEditor",(function(){var e;null===(e=t.codeMirror)||void 0===e||e.focus(),t.onEditorFocus()})),m()(l()(t),"onEditorFocus",(function(){var e=kd(t.rootRef.current,"ne-card");e&&e.classList.remove("ne-focused")})),m()(l()(t),"blurEditor",(function(){t.codeMirror&&t.codeMirror.display.input.blur()}));var n=e.cardData;return t.state={width:void 0,mode:n.mode,autoWrap:n.autoWrap,theme:n.theme},t.cmRootRef=Re.a.createRef(),t.rootRef=Re.a.createRef(),t.codeMirror=null,t}return a()(c,[{key:"componentDidMount",value:function(){var e=this.props.cardData,t=e.mode,n=e.code,r=e.autoWrap,o=e.theme;this.createCodeEditor(t,n,{autoWrap:r,theme:o})}},{key:"componentDidUpdate",value:function(e){!e.focus&&this.props.focus&&this.focusToCodeEditor(),e.focus&&!this.props.focus&&this.blurEditor()}},{key:"updateHeight",value:function(){var e=this;this.forceUpdate((function(){setTimeout((function(){var t,n;null===(t=e.codeMirror)||void 0===t||null===(n=t.refresh)||void 0===n||n.call(t)}),300)}))}},{key:"onModeChange",value:function(e){this.updateMode(e),this.focusToCodeEditor(),this.props.onModeChange(e)}},{key:"updateMode",value:function(e){var t;QA("change mode to",e),this.setState({mode:e}),null===(t=this.codeMirror)||void 0===t||t.setOption("mode",UA(e))}},{key:"onAutoWrapChange",value:function(e){this.updateAutoWrap(e),this.props.onAutoWrapChange(e)}},{key:"updateAutoWrap",value:function(e){var t=this;e=!!e,this.codeMirror&&setTimeout((function(){t.codeMirror.setOption("lineWrapping",e)}),16),this.setState({autoWrap:e})}},{key:"onThemeChange",value:function(e){var t=e?"dark-default":"default";this.updateTheme(t),this.props.onThemeChange(t)}},{key:"updateTheme",value:function(e){var t=this;this.codeMirror&&(this.cmRootRef.current.classList.add("ne-codeblock-theme-updating"),setTimeout((function(){t.codeMirror.setOption("theme",e),t.cmRootRef.current.classList.remove("ne-codeblock-theme-updating")}),16)),this.setState({theme:e})}},{key:"createCodeEditor",value:(t=xe()(ke.a.mark((function e(t,n,r){var o=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CodeMirror){e.next=6;break}return e.next=3,YA(this.cmRootRef.current,t,n,!1,r);case 3:this.codeMirror=e.sent,e.next=7;break;case 6:this.codeMirror=XA(this.cmRootRef.current,t,n,!1,r);case 7:this.props.onReady(this.cmRootRef.current.querySelector(".CodeMirror-scroll")),this.codeMirror.on("focus",(function(){QA("focus"),o.props.onFocus()})),this.codeMirror.on("blur",(function(){QA("blur"),o.onCodeChange.cancel(),o.props.onBlur(o.codeMirror.getValue())})),this.codeMirror.on("change",this.onCodeChange),this.codeMirror.on("keydown",(function(e,t){var n=e.getDoc(),r=n.getCursor(),i=n.firstLine(),a=n.lastLine(),c=n.getLine(a).length,l=r.line,s=r.ch,u=n.somethingSelected();return!jE.isArrowLeft(t)&&!jE.isArrowUp(t)||l!==i||0!==s||u?!jE.isArrowRight(t)&&!jE.isArrowDown(t)||l!==a||s!==c||u?void 0:(t.preventDefault(),void o.props.onExitCardByKeyboard("after")):(t.preventDefault(),void o.props.onExitCardByKeyboard("before"))})),this.codeMirror.setOption("extraKeys",{Enter:function(e){var n=HA({code:e.getValue(),mode:t});for(var r in n)e.setOption(r,n[r]);e.execCommand("newlineAndIndent")}});case 13:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"destroyEditor",value:function(){this.codeMirror&&this.codeMirror.getWrapperElement().remove()}},{key:"render",value:function(){var e=this,t=this.state,n=t.mode,r=t.autoWrap,o=t.theme,i=this.props.focus,a=this.props.cardData.isHeightLimit();return Re.a.createElement("div",{className:"ne-codeblock ".concat(a?"ne-codeblock-height-limit":""),theme:o,ref:this.rootRef},i&&Re.a.createElement(IA,{actions:[Re.a.createElement($A,{key:"lang-select",mode:n,onSelect:function(t){e.onModeChange(t)},getPopupContainer:function(){return e.props.overlayContainer}}),Re.a.createElement(qA,{key:"more-menu",codeMirror:this.codeMirror,autoWrap:r,onAutoWrapChange:function(t){e.onAutoWrapChange(t)},theme:o,onThemeChange:function(t){e.onThemeChange(t)},getPopupContainer:function(){return e.props.overlayContainer}})]}),Re.a.createElement("div",{className:"ne-codeblock-content ne-code",ref:this.cmRootRef,"data-codeblock-mode":n}),Re.a.createElement("div",{className:"ne-codeblock-loading"},Re.a.createElement(dt.a,{style:{fontSize:"24px"}})))}}]),c}();m()(eI,"propTypes",{cardData:De.a.instanceOf(Kb),focus:De.a.bool,onChange:De.a.func,onModeChange:De.a.func,onAutoWrapChange:De.a.func,onThemeChange:De.a.func,onFocus:De.a.func,onBlur:De.a.func,onExitCardByKeyboard:De.a.func,onReady:De.a.func,overlayContainer:De.a.instanceOf(Element)}),m()(eI,"defaultProps",{onReady:function(){},onFocus:function(){},onBlur:function(){},onExitCardByKeyboard:function(){},onSelect:function(){},onModeChange:function(){},onAutoWrapChange:function(){},onThemeChange:function(){},onChange:function(){}});var tI=Ft()("ne:codeblock:ui"),nI=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_codeMirrorScrollNode",null),m()(l()(e),"_focusByKeyboard",null),m()(l()(e),"resizeTarget",(function(){return e._codeMirrorScrollNode})),m()(l()(e),"syncCardDataToViewState",(function(t){t||e.uiViewProxy.getReactRef().syncCardDataToViewState()})),m()(l()(e),"syncViewStateToCardData",(function(){var t=e.uiViewProxy.getReactRef().getViewState(),n=t.code,r=t.mode;n===e.cardData.code&&r===e.cardData.mode||(e.cardData.update({code:n,mode:r}),e.cardData.sync(!0))})),e}return a()(i,[{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|","widthMode","|","spacing"]}}},{key:"getResizerConfig",value:function(){return{min:50}}},{key:"init",value:function(){var e=this;tI("init use",this.cardData),this.cardData.on("change",this.syncCardDataToViewState),this.uiViewProxy=cO.render(eI,{cardData:this.cardData,focus:!1,overlayContainer:this.iEditor.innerOverlayContainer,onReady:function(t){e._codeMirrorScrollNode=t,e.refreshResizer()},onChange:function(t){e.cardData.update({code:t}),e.cardData.sync(!0)},onBlur:function(t){e.cardData.update({code:t}),e.cardData.sync(!1)},onExitCardByKeyboard:function(t){e.focusCardTo(t)},onAutoWrapChange:function(t){e.cardData.update({autoWrap:t}),e.cardData.sync(!1),Yb.save(e.cardData)},onModeChange:function(t){e.cardData.update({mode:t}),e.cardData.sync(!1),Yb.save(e.cardData)},onThemeChange:function(t){e.cardData.update({theme:t}),e.cardData.sync(!1),Yb.save(e.cardData)}},this.containerNode)}},{key:"heightChanged",value:function(){this.uiViewProxy.getReactRef().updateHeight()}},{key:"focus",value:function(){this.uiViewProxy.rerender({focus:!0}),this.focusByKeyboard&&this.uiViewProxy.getReactRef().setCursorPosition(this.focusByKeyboard)}},{key:"blur",value:function(){tI("blur"),this.uiViewProxy.rerender({focus:!1})}}]),i}();var rI=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return(t=r.call.apply(r,[this].concat(a)))._iEditor=e,t._ui=null,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}},{key:"sync",value:function(){return!this._iEditor.iEngine.nodeIsInTree(this.viewNode)||(this._ui.syncViewStateToCardData(),!0)}}]),i}();m()(rI,"$ExternalFocus",!0),m()(rI,"$EditableCardUI",nI),m()(rI,"$CardData",Kb);var oI=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,Qg,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(rI,[e].concat(n))},pluginContext:{}}),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(eb,{type:"TextItem",icon:"card-codeblock",iconSize:16,label:xm("代码块"),keywords:"代码块,dmk,daimakuai,code",markdown:["```","Enter"]}),e.onPluginEvent("insertCardByUI:".concat(eb),(function(){var t=Yb.load(),n=Kb.createStandardCardValue(t);e.execCommand("insertCard",Qg,n,!0)}))}},{key:"sync",value:function(){return this.cardNodes.forEach((function(e){e.sync()})),!0}}]),i}();m()(oI,"PluginName",Xg);var iI={host:window.location.origin,onBeforeRenderImage:function(e){return e}},aI=a()((function e(t){o()(this,e),this._options=T()({},iI,t),this.host=this._options.host,this.onBeforeRenderImage=this._options.onBeforeRenderImage}));m()(aI,"OptionName",Gg);var cI=Ft()("ne:browser:text-graph"),lI=function(){function e(t){var n,r=this,i=t.host,a=t.graph;o()(this,e),m()(this,"preview",(function(e){var t=e.type,n=e.code,o=r.actions;return cI("preview",{type:t,code:n}),_P({method:"post",url:"".concat(o.preview).concat(t),data:{content:n,from:null,user_id:null}}).promise})),m()(this,"generate",(n=xe()(ke.a.mark((function e(t){var n,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=t.code||"").trim()){e.next=5;break}return cI("code is empty, return empty url"),r.graph=t,e.abrupt("return",{code:n,success:!0,url:null});case 5:if(!r._needGenerateImg(t)){e.next=13;break}return cI("code changed, generate url"),e.next=9,r._generate(t);case 9:return o=e.sent,cI("generated",o),r.graph=t,e.abrupt("return",{success:o.success,code:n,url:o.url,message:o.message});case 13:return cI("do not need generate image"),r.graph=t,e.abrupt("return",{success:!0,code:n,url:t.url});case 16:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})),m()(this,"_generate",(function(e){var t=e.type,n=e.code,o=r.actions;return _P({method:"post",url:"".concat(o.generate).concat(t),data:{content:n,from:null,user_id:null}}).promise.catch((function(e){return console&&console.error("generate ".concat(t," error: ").concat(e)),{url:"".concat(o.generateRender).concat(t,"?").concat(encodeURIComponent(n))}}))})),this.host=i,this.graph=a,this.actions=this._getActions()}return a()(e,[{key:"_needGenerateImg",value:function(e){var t=e.type,n=e.code,r=e.url,o=this.graph;return t!==o.type||!r||n!==o.code}},{key:"_getActions",value:function(){var e=this.host;return window&&window.____lakeEditorTestMockiMageGenerator||{generate:"".concat(e,"/api/services/graph/generate/"),generateRender:"".concat(e,"/api/services/graph/generate_redirect/"),preview:"".concat(e,"/api/services/graph/preview/")}}}]),e}(),sI=new Ft.a("ne:math:editor");function uI(e){var t=e.cursorFrom,n=e.onExitCardByKeyboard,r=Object(Ce.useRef)(null);return Object(Ce.useEffect)((function(){!function(e,t){sI("focus to math input"),e.setSelectionRange&&setTimeout((function(){var n="after"===t?e.value.length:0;e.setSelectionRange(n,n),e.focus()}),24)}(r.current.querySelector("textarea"),t)}),[t]),Re.a.createElement("span",{ref:r},Re.a.createElement(wt.a.TextArea,{className:"ne-math-input",defaultValue:e.code,onChange:e.onChange,onKeyDown:function(e){var t=r.current.querySelector("textarea"),o=t.selectionStart;return(jE.isArrowLeft(e)||jE.isArrowUp(e))&&0===o?(e.preventDefault(),void n("before")):(jE.isArrowRight(e)||jE.isArrowDown(e))&&o===t.value.length?(e.preventDefault(),void n("after")):void 0}}))}uI.propTypes={code:De.a.string,cursorFrom:De.a.string,onChange:De.a.func.isRequired,onExitCardByKeyboard:De.a.func.isRequired};var dI=null;function fI(e){return hI.apply(this,arguments)}function hI(){return(hI=xe()(ke.a.mark((function e(t){var n,r,o,i,a=arguments;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,dI||(dI=document.createElement("canvas")),r=null,o=new Promise((function(e){r=e})),(i=new Image).crossOrigin="anonymous",i.onload=function(){var e=i.naturalWidth||i.width,t=i.naturalHeight||i.height,o=e*n,a=t*n;if(!(o>0&&a>0))return r(null);pI(o,a).drawImage(i,0,0,o,a);var c=dI.toDataURL("image/png");vI(),r({url:c,width:o,height:a,originalWidth:e,originalHeight:t})},i.onerror=function(){r(null)},i.src=t,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pI(e,t){return dI||(dI=document.createElement("canvas")),dI.width=e,dI.height=t,dI.getContext("2d")}function vI(){dI&&(dI.width=0,dI.height=0)}var mI=Fe.ua.firefox?327.471/375.5:Fe.ua.safari?327.471/362:14/17.4;function yI(e){return e*mI}var gI=function(e){u()(s,Ce.PureComponent);var t,n,r,i,c=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(r);if(i){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)});function s(){var e;o()(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=c.call.apply(c,[this].concat(n)),m()(l()(e),"state",{pngUrl:null,width:0}),m()(l()(e),"_converted",!1),m()(l()(e),"_converting",!1),e}return a()(s,[{key:"render",value:function(){var e=this,t=this.props.url,n=this.state,r=n.pngUrl,o=n.width;if(!t)return null;var i=r||t,a=null;return r&&o&&(a={width:o+"px"}),Re.a.createElement("img",{"data-testid":"ne-math-preview-image",src:gv.sanitizeUrl(i),key:i,style:a,onLoad:function(t){e._onImageLoaded(t).catch((function(){})),e._converting||e.props.onReady()},onError:function(){e._converting||e.props.onReady()}})}},{key:"_onImageLoaded",value:(n=xe()(ke.a.mark((function e(t){var n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.target)&&n.src){e.next=3;break}return e.abrupt("return");case 3:if(!this.props.convertToPNG){e.next=8;break}return e.next=6,this._toPNG(n.src);case 6:e.next=10;break;case 8:r=n.naturalWidth||n.width,n.style.width=yI(r)+"px";case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_toPNG",value:(t=xe()(ke.a.mark((function e(t){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._converted){e.next=2;break}return e.abrupt("return");case 2:return this._converted=!0,this._converting=!0,e.prev=4,e.next=7,fI(t,2);case 7:n=e.sent,this._converting=!1,n&&this.setState({pngUrl:n.url,width:yI(n.originalWidth)});case 10:return e.prev=10,this._converting=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[4,,10,13]])}))),function(e){return t.apply(this,arguments)})}]),s}();m()(gI,"propTypes",{onReady:De.a.func,url:De.a.string.isRequired,convertToPNG:De.a.bool}),m()(gI,"defaultProps",{convertToPNG:!0,onReady:function(){}}),FN('ne-card[data-card-name="math"] {\n  font-size: 0;\n}\nne-card[data-card-name="math"][data-card-type="inline"] {\n  height: 100%;\n  vertical-align: middle;\n}\nne-card[data-card-name="math"] .ne-card-container {\n  display: inline-block;\n}\nne-card[data-card-name="math"] .ne-math {\n  display: inline-block;\n}\nne-card[data-card-name="math"] .ne-math .ne-math-viewer {\n  display: inline-block;\n  cursor: pointer;\n}\nne-card[data-card-name="math"] img {\n  max-width: 100%;\n}\ntextarea.ne-math-input {\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  min-width: 400px;\n  min-height: 84px;\n  max-height: 280px;\n  padding: 6px 6px;\n  line-height: 24px;\n  color: #595959;\n  outline: none;\n  font-family: \'Lucida Console\', Consolas, Monaco, \'Andale Mono\', \'Ubuntu Mono\', monospace;\n  vertical-align: bottom;\n  font-size: 14px;\n  font-weight: 400;\n}\n.ne-math-selected {\n  background: unset;\n}\n.ne-math-editor-toolbar {\n  position: relative;\n  height: 40px;\n  background: #f9f9f9;\n  border-top: 1px solid #e8e8e8;\n  line-height: 24px;\n  padding: 8px 8px;\n  text-align: left;\n  text-indent: 0;\n}\n.ne-math-editor-toolbar .ne-math-editor-submit {\n  float: right;\n}\n.ne-math-editor-toolbar a {\n  font-size: 12px;\n  color: #8c8c8c;\n}\n.ne-math-editor-toolbar .anticon {\n  margin-right: 6px;\n}\n.ne-math-editor-toolbar a:hover {\n  color: #595959;\n}\n.ne-math-editor-overlay .ant-popover {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n.ne-math-editor-overlay .ant-popover-content {\n  border: 1px solid #e8e8e8;\n  border-radius: 3px;\n  overflow: hidden;\n}\n.ne-math-editor-overlay .ant-popover-inner-content {\n  padding: 0;\n}\ndiv.ne-icon-question {\n  width: 14px;\n  height: 14px;\n  font-size: 14px;\n  line-height: 1em;\n  vertical-align: middle;\n  margin-bottom: 2px;\n  margin-right: 4px;\n}\n.ne-math-code,\n.ne-math-placeholder {\n  display: inline-block;\n  line-height: 32px;\n  padding: 0 6px;\n  height: 100%;\n  color: rgba(0, 0, 0, 0.25);\n  background: #f5f5f5;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.ne-math-entry {\n  cursor: pointer;\n}\n@media print {\n  .ne-viewer ne-card[data-card-name="math"][data-card-type="inline"] {\n    display: inline;\n  }\n}\n.ne-viewer ne-card[data-card-name="math"][data-card-type="inline"] {\n  vertical-align: middle;\n}\n.ne-viewer ne-card[data-card-name="math"] .ne-math-viewer {\n  display: inline-block;\n}\n');var bI=new Ft.a("ne:math:editor"),wI=new AE(["cmd","enter"]),xI=new AE(["escape"]),_I=function(e){u()(i,Ce.PureComponent);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"syncValue",(function(){t.setState({code:t.props.cardData.code,url:t.props.cardData.url})})),m()(l()(t),"setCursorPosition",(function(e){t.setState({cursorFrom:e})})),m()(l()(t),"mathEditorHotKeyHandle",(function(e){var n=t.state.editing;if(n)return wI.match(e)?(bI("submit use: cmd+enter",{editing:n}),void t.exit("cmd+enter")):void(xI.match(e)&&(bI("esc:",{editing:n}),t.exit("esc")))})),m()(l()(t),"onMathEditorRef",(function(e){e?(t.mathEditorDOM=e,t.registerHotKey()):t.mathEditorDOM=null})),m()(l()(t),"doPreview",function(){var e=xe()(ke.a.mark((function e(n){var r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.preview({type:"latex",code:n});case 2:r=e.sent,o=r.success?YP(r.svg):null,t.setState({url:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m()(l()(t),"doGenerate",xe()(ke.a.mark((function e(){var n,r,o,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=n.code,o=n.url,e.next=3,t.props.generate({type:"latex",code:r,url:o});case 3:i=e.sent,t.setState({url:i.url});case 5:case"end":return e.stop()}}),e)})))),m()(l()(t),"exit",(function(e){bI("exit editor, trigger by: ".concat(e,", try to gen image")),t.doGenerate(),t.props.onExit(),t.props.onExitCardByKeyboard("after")})),m()(l()(t),"onChange",(function(e){var n=e.target.value;t.setState({code:n}),t.props.onChange(n),t.debouncedPreview()})),m()(l()(t),"debouncedPreview",K()((function(){var e=t.state,n=e.editing,r=e.code;n?t.doPreview(r):bI("not editing, ignore preview")}),300));var n=e.cardData;return t.state={code:n.code,url:n.url,editing:e.focus,cursorFrom:"end"},t.cardUINodeRef=Re.a.createRef(),t.mathEditorDOM=null,t}return a()(i,[{key:"componentDidMount",value:function(){var e=this.props.cardData.code;e&&this.doPreview(e)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.focus;n||!1===this.state.editing||this.setState({editing:!1},(function(){t.removeHotKey()})),n&&!1===e.focus&&this.setState({editing:!0})}},{key:"registerHotKey",value:function(){this.mathEditorDOM&&this.mathEditorDOM.addEventListener("keydown",this.mathEditorHotKeyHandle)}},{key:"removeHotKey",value:function(){this.mathEditorDOM&&this.mathEditorDOM.removeEventListener("keydown",this.mathEditorHotKeyHandle)}},{key:"renderEditor",value:function(){var e=this,t=this.props,n=t.cardData,r=t.onExitCardByKeyboard,o=this.state.cursorFrom;return Re.a.createElement("div",{"data-testid":"ne-math-editor",ref:this.onMathEditorRef},Re.a.createElement(uI,{code:n.code,cursorFrom:o,onChange:this.onChange,onExitCardByKeyboard:r}),Re.a.createElement("div",{className:"ne-math-editor-toolbar"},Re.a.createElement("a",{href:"https://www.yuque.com/yuque/gpvawt/math",target:"_blank"},Re.a.createElement(oE,{type:"question"}),xm("查看帮助文档")),Re.a.createElement(xt.a,{title:sO(["cmd","enter"])},Re.a.createElement("a",{"data-testid":"ne-math-editor-submit",className:"ne-math-editor-submit",onClick:function(){e.exit("confirm")}},Re.a.createElement("span",{className:"text"},xm("确定"))))))}},{key:"renderEntry",value:function(){var e=this.state,t=e.code,n=e.url;return n?Re.a.createElement("span",{className:"ne-math-entry ne-math-viewer"},Re.a.createElement(gI,{url:n,key:n})):t?Re.a.createElement("span",{className:"ne-math-entry ne-math-code"},t):Re.a.createElement("span",{className:"ne-math-entry ne-math-placeholder"},xm("添加 Tex 公式"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.focus,r=t.overlayContainer;return Re.a.createElement(bt.a,{className:"ne-math-editor-panel",trigger:"click",getPopupContainer:function(){return r||e.cardUINodeRef.current},overlayClassName:"ne-math-editor-overlay",visible:n,placement:"bottomLeft",content:this.renderEditor(),noArrow:!0,destroyTooltipOnHide:!0},Re.a.createElement("span",{ref:this.cardUINodeRef,className:"ne-math ".concat(n?"ne-math-selected":"")},this.renderEntry()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!t.url&&e.cardData.url?{url:e.cardData.url}:null}}]),i}();m()(_I,"propTypes",{cardData:De.a.instanceOf(dw),focus:De.a.bool.isRequired,onChange:De.a.func.isRequired,onExit:De.a.func.isRequired,onExitCardByKeyboard:De.a.func.isRequired,preview:De.a.func.isRequired,generate:De.a.func.isRequired,overlayContainer:De.a.instanceOf(Element)});var kI=Ft()("ne:math:eui"),CI=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_option",null),m()(l()(e),"_previewer",null),m()(l()(e),"_changedValue",!1),m()(l()(e),"_generatingImage",!1),m()(l()(e),"syncValue",(function(t){t||e._uiViewProxy.getReactRef().syncValue()})),m()(l()(e),"ensureMathImage",(function(){e.cardData.needGenPreviewImg()&&!e._generatingImage&&e.generateImage(e.cardData.toGraph())})),m()(l()(e),"generateImage",function(){var t=xe()(ke.a.mark((function t(n){var r;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._generatingImage=!0,r={},t.prev=2,t.next=5,e._previewer.generate(n);case 5:r=t.sent,e.cardData.update({url:r.url}),e.cardData.sync(!1),e._changedValue=!1;case 9:return t.prev=9,e._generatingImage=!1,t.finish(9);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,null,[[2,,9,12]])})));return function(e){return t.apply(this,arguments)}}()),m()(l()(e),"sync",(function(){return!e._generatingImage&&(e._changedValue&&(e.cardData.sync(!0),e._changedValue=!1),!0)})),e}return a()(i,[{key:"init",value:function(){var e=this;kI("init",this.cardData),this.cardData.on("change",this.syncValue),this._option=this.pluginOption,this._previewer=new lI({host:this._option.host,graph:this.cardData.toGraph()}),this._uiViewProxy=cO.render(_I,{cardData:this.cardData,focus:!1,onChange:function(t){e.cardData.update({code:t,url:null}),e._changedValue=!0},onExit:function(){e.blur()},onExitCardByKeyboard:function(t){e.focusCardTo(t)},preview:this._previewer.preview,generate:this.generateImage,overlayContainer:this.iEditor.innerOverlayContainer},this.containerNode),this.ensureMathImage()}},{key:"focus",value:function(){kI("focus"),this._uiViewProxy.rerender({focus:!0}),this.focusByKeyboard&&this._uiViewProxy.getReactRef().setCursorPosition(this.focusByKeyboard)}},{key:"blur",value:function(){kI("blur"),this.cardData.sync(!1),this._changedValue=!1,this._uiViewProxy.rerender({focus:!1}),this.ensureMathImage()}}]),i}();var RI=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return(t=r.call.apply(r,[this].concat(a)))._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){this._ui.destroy()}},{key:"sync",value:function(){return this._ui.sync()}}]),i}();m()(RI,"$EditableCardUI",CI),m()(RI,"$CardData",dw);var NI=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerInlineCard(this,Jg,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(RI,[e].concat(n))}}),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(Yg,{type:"TextItem",icon:"card-math",iconSize:16,label:xm("公式"),keywords:"数学公式,sxgs,公式,gs,gongshi,formula,math,latex"}),e.onPluginEvent("insertCardByUI:".concat(Yg),(function(){e.execCommand("insertCard",Jg,null,!0)}))}},{key:"sync",value:function(){return this.cardNodes.every((function(e){return e.sync()}))}}]),i}();m()(NI,"PluginName",$g),m()(NI,"PluginOption",aI);var EI={TEXT_DIAGRAM_TYPES:{PUML:"puml",MERMAID:"mermaid",GRAPHVIZ:"graphviz",FLOWCHART:"flowchart"},TEXT_DIAGRAMS:[{type:"puml",name:"PlantUML"},{type:"mermaid",name:"Mermaid"},{type:"flowchart",name:"Flowchart"},{type:"graphviz",name:"Graphviz"}],TEXT_DIAGRAM_GUIDES:{puml:"https://www.yuque.com/yuque/gpvawt/editor-puml",flowchart:"https://www.yuque.com/yuque/gpvawt/flowchart",graphviz:"https://www.yuque.com/yuque/gpvawt/graphviz",mermaid:"https://www.yuque.com/yuque/gpvawt/mermaid"},TEXT_DIAGRAM_SYNTAX:{puml:"plantuml"},EDITOR_MODE:{CODE:"code",PREVIEW:"preview"},EDITOR_LAYOUT:{DEFAULT:"default",TWO_COLUMN:"two-column"}},OI={host:window.location.origin,onBeforeRenderImage:function(e){return e}},DI=a()((function e(t){o()(this,e),this._options=T()({},OI,t),this.onBeforeRenderImage=this._options.onBeforeRenderImage,this.host=this._options.host}));m()(DI,"OptionName",ob);var SI={puml:{sequence:{id:"sequence",name:"时序图 (Sequence)",text:'@startuml\n\nautonumber\n\nactor "用户" as User\nparticipant "浏览器" as Browser\nparticipant "服务端" as Server #orange\n\nactivate User\n\nUser -> Browser: 输入 URL\nactivate Browser\n\nBrowser -> Server: 请求服务器\nactivate Server\n\nServer -> Server: 模板渲染\nnote right of Server: 这是一个注释\n\nServer -> Browser: 返回 HTML\ndeactivate Server\n\nBrowser --\x3e User\n\n@enduml',src:"https://cdn.nlark.com/__puml/b11b6192390c95750c4b71c2580ff529.svg"},"use-case":{id:"use-case",name:"用例图 (Use Case)",text:"@startuml\n\nactor A\nactor B\n\nA -up-> (up)\nA -right-> (center)\nA -down-> (down)\nA -left-> (left)\n\nB -up-> (up)\nB -left-> (center)\nB -right-> (right)\nB -down-> (down)\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/a7908b49c22b05104624bebc463cd25d.svg"},class:{id:"class",name:"类图 (Class)",text:"@startuml\n\nclass Car {\n  color\n  model\n  +start()\n  #run()\n  #stop()\n}\n\nCar <|- Bus\nCar *-down- Tire\nCar *-down- Engine\nBus o-down- Driver\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/e9cf4eba3cdaf0cf1bc68065406d9d43.svg"},flowchart:{id:"flowchart",name:"流程图 (Flow)",text:"@startuml\n\nstart\n\n:step 1;\n\nif (try) then (true)\n  :step 2;\n  :step 3;\nelse (false)\n  :error;\n  end\nendif\n\nstop\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/48a1408972f20bc1f4837aa807254692.svg"},activity:{id:"activity",name:"活动图 (Activity)",text:"@startuml\n\n|A Section|\nstart\n:step1;\n|#AntiqueWhite|B Section|\n:step2;\n:step3;\n|A Section|\n:step4;\n|B Section|\n:step5;\nstop\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/2aa76dcc256f08335083bd039b5b4e49.svg"},component:{id:"component",name:"组件图 (Component)",text:"@startuml\n\nDataAccess - [First Component]\n[First Component] ..> HTTP : use\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/6b9de2b03b69402b018655ed491fcd34.svg"},state:{id:"state",name:"状态图 (State)",text:"@startuml\n\n[*] --\x3e State1\nState1 --\x3e [*]\nState1 : this is a string\nState1 : this is another string\n\nState1 -> State2\nState2 --\x3e [*]\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/0d1c26fb399ed9669a2e1a29e98b4de4.svg"},object:{id:"object",name:"对象图 (Object)",text:"@startuml\n\nobject Car\nobject Bus\nobject Tire\nobject Engine\nobject Driver\n\nCar <|- Bus\nCar *-down- Tire\nCar *-down- Engine\nBus o-down- Driver\n\n@enduml",src:"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/__puml/1af2d7ebc3e554c752289bcce7679cdb.svg"}},mermaid:{flowchart:{id:"flowchart",name:"Flow Chart",text:"\ngraph TD\n    A[Start] --\x3e B{Is it?};\n    B --\x3e|Yes| C[OK];\n    C --\x3e D[Rethink];\n    D --\x3e B;\n    B ----\x3e|No| E[End];\n"},sequence:{id:"sequence",name:"Sequence Diagram",text:"\nsequenceDiagram\n    participant John\n    participant Alice\n    Alice->>John: Hello John, how are you?\n    John--\x3e>Alice: Great!\n"},class:{id:"class",name:"Class Diagram",text:"\nclassDiagram\n    Animal <|-- Duck\n    Animal <|-- Fish\n    Animal <|-- Zebra\n    Animal : +int age\n    Animal : +String gender\n    Animal: +isMammal()\n    Animal: +mate()\n    class Duck{\n        +String beakColor\n        +swim()\n        +quack()\n    }\n    class Fish{\n        -int sizeInFeet\n        -canEat()\n    }\n    class Zebra{\n        +bool is_wild\n        +run()\n    }\n  "},state:{id:"state",name:"State Diagram",text:"\nstateDiagram-v2\n    [*] --\x3e Still\n    Still --\x3e [*]\n\n    Still --\x3e Moving\n    Moving --\x3e Still\n    Moving --\x3e Crash\n    Crash --\x3e [*]\n  "},er:{id:"er",name:"ER Diagram",text:"\nerDiagram\n    CUSTOMER ||--o{ ORDER : places\n    ORDER ||--|{ LINE-ITEM : contains\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses\n  "},gantt:{id:"gantt",name:"Gantt",text:"\ngantt\n    title A Gantt Diagram\n    dateFormat  YYYY-MM-DD\n    section Section\n    A task           :a1, 2014-01-01, 30d\n    Another task     :after a1  , 20d\n    section Another\n    Task in sec      :2014-01-12  , 12d\n    another task      : 24d\n"},pie:{id:"pie",name:"Pie Chart",text:'\npie\n    title Key elements in Product X\n    "Calcium" : 42.96\n    "Potassium" : 50.05\n    "Magnesium" : 10.01\n    "Iron" :  5\n'}},flowchart:{default:{id:"default",name:"Flowchart",text:"\nst=>start: Start\ne=>end\nop1=>operation: My Operation\nsub1=>subroutine: My Subroutine\ncond=>condition: Yes or No?\nio=>inputoutput: catch something...\npara=>parallel: parallel tasks\n\nst->op1->cond\ncond(yes)->io->e\ncond(no)->para\npara(path1, bottom)->sub1(right)->op1\npara(path2, top)->op1\n"}},graphviz:{fsm:{id:"fsm",name:"Finite State Machine",text:'\ndigraph finite_state_machine {\n\trankdir=LR;\n\tsize="8,5"\n\tnode [shape = doublecircle]; LR_0 LR_3 LR_4 LR_8;\n\tnode [shape = circle];\n\tLR_0 -> LR_2 [ label = "SS(B)" ];\n\tLR_0 -> LR_1 [ label = "SS(S)" ];\n\tLR_1 -> LR_3 [ label = "S($end)" ];\n\tLR_2 -> LR_6 [ label = "SS(b)" ];\n\tLR_2 -> LR_5 [ label = "SS(a)" ];\n\tLR_2 -> LR_4 [ label = "S(A)" ];\n\tLR_5 -> LR_7 [ label = "S(b)" ];\n\tLR_5 -> LR_5 [ label = "S(a)" ];\n\tLR_6 -> LR_6 [ label = "S(b)" ];\n\tLR_6 -> LR_5 [ label = "S(a)" ];\n\tLR_7 -> LR_8 [ label = "S(b)" ];\n\tLR_7 -> LR_5 [ label = "S(a)" ];\n\tLR_8 -> LR_6 [ label = "S(b)" ];\n\tLR_8 -> LR_5 [ label = "S(a)" ];\n}\n'}}},BI=function(e){return SI[e]||null};function PI(e){var t=e.type,n=e.getPopupContainer,r=e.switchType;return Re.a.createElement(Le.a,{trigger:["click"],getPopupContainer:n,placement:"bottomLeft",overlay:Re.a.createElement(Pe.a,{onClick:function(e){var t=e.key;e.domEvent.stopPropagation(),r(t)}},EI.TEXT_DIAGRAMS.map((function(e){return Re.a.createElement(Pe.a.Item,{key:e.type,name:e.name.toLowerCase(),value:e.type,"data-diagram-type":e.name},e.name)})))},Re.a.createElement("a",{"data-testid":"ne-text-diagram-select",className:"ne-diagram-select"},function(e){for(var t=EI.TEXT_DIAGRAMS,n=0,r=t.length;n<r;n++){var o=t[n];if(o.type===e)return o.name}return t[0].name}(t)," ",Re.a.createElement(oE,{type:"select-arrow",size:12})))}function FI(e){var t=e.type;return Re.a.createElement("span",{className:"ne-text-diagram-name"},function(e){var t=EI.TEXT_DIAGRAMS.find((function(t){return t.type===e}));return t?t.name:""}(t))}PI.propTypes={type:De.a.string,getPopupContainer:De.a.func,switchType:De.a.func},FI.propTypes={type:De.a.string};var TI=EI.EDITOR_MODE;function MI(e){var t=e.type,n=e.mode,r=e.getPopupContainer,o=e.switchTemplate,i=BI(t);return i?Re.a.createElement(Le.a,{trigger:["click"],getPopupContainer:r,disabled:n!==TI.CODE,placement:"bottomLeft",overlay:Re.a.createElement(Pe.a,{"data-templates-menu":t,onClick:function(e){var t=e.key;e.domEvent.stopPropagation(),o(t)}},Object.values(i).map((function(e){return Re.a.createElement(Pe.a.Item,{key:e.id,"data-template":e.id},e.name)})))},Re.a.createElement("a",{"data-testid":"ne-text-diagram-templates",className:"ne-text-diagram-template-selector"},xm("模板")," ",Re.a.createElement(oE,{type:"select-arrow",size:12}))):null}MI.propTypes={type:De.a.string,mode:De.a.string,getPopupContainer:De.a.func,switchTemplate:De.a.func};var LI=EI.EDITOR_MODE;function AI(e){var t=e.hotkeys,n=e.mode,r=e.handlePreviewButtonClick;return Re.a.createElement(Be.a,{title:sO(t.preview)},Re.a.createElement("button",{"data-testid":"ne-text-diagram-preview",size:"small",className:yt()({"ne-text-diagram-action-preview":!0,"ne-text-diagram-action-preview-active":n===LI.PREVIEW}),onClick:r},Re.a.createElement(oE,{type:"preview"}),xm("预览")))}AI.propTypes={hotkeys:De.a.object,mode:De.a.string,handlePreviewButtonClick:De.a.func};var II=Ft()("ne:text-diagram:viewer"),jI=function(e){u()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this,e)).state={url:e.url,error:null},t}return a()(i,[{key:"componentDidMount",value:function(){!this.state.url&&this.props.code&&this.genImg()}},{key:"componentDidUpdate",value:function(e){this.props.code!==e.code&&this.genImg()}},{key:"genImg",value:function(){var e=this,t=this.props,n=t.type,r=t.code;this.props.preview({type:n,code:r}).then((function(t){II("preview img generated",t),t.success?e.setState({url:YP(t.svg),error:null}):e.setState({error:t.message})})).catch((function(t){e.setState({error:t.message})}))}},{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.className,o=void 0===r?"":r,i=this.state,a=i.url,c=i.error;return a=this.props.onBeforeRenderImage(a),e=null!==c?Re.a.createElement("pre",null,c):a?Re.a.createElement("img",{src:gv.sanitizeUrl(a),onLoad:this.props.onLoad,"data-testid":"ne-text-diagram-img",onDragStart:function(e){e.preventDefault(),e.stopPropagation()}}):Re.a.createElement("div",{className:"ne-text-diagram-loading"},Re.a.createElement(dt.a,null)),Re.a.createElement("div",{"data-diagram":n,className:"ne-text-diagram-viewer ".concat(o)},e)}}]),i}(Re.a.PureComponent);m()(jI,"defaultProps",{onLoad:function(){},onBeforeRenderImage:function(e){return e}}),m()(jI,"propTypes",{className:De.a.string,type:De.a.string.isRequired,code:De.a.string.isRequired,url:De.a.string,preview:De.a.func.isRequired,onBeforeRenderImage:De.a.func,onLoad:De.a.func}),FN(".ne-text-diagram-loading {\n  width: 36px;\n  height: 36px;\n  font-size: 36px;\n  position: absolute;\n  top: calc(50% - 18px);\n  left: calc(50% - 18px);\n  color: #666;\n  z-index: 1;\n}\n"),FN(".ne-text-diagram-stage {\n  position: relative;\n  height: 100%;\n  background: #fafafa;\n  border-radius: 4px;\n  font-size: 14px;\n  text-indent: 0;\n}\n.ne-text-diagram-stage ul.ant-dropdown-menu {\n  list-style: none;\n  margin: 0;\n}\n.ne-text-diagram-stage ul.ant-dropdown-menu li {\n  margin: 0;\n}\n.ne-embed-nav a,\n.ne-embed-nav a:hover {\n  color: #595959;\n}\n.ne-embed-nav .ne-text-diagram-name {\n  font-weight: bold;\n}\n.ne-embed-nav .ne-text-diagram-template-selector,\n.ne-embed-nav .ne-diagram-select {\n  position: relative;\n  width: 64px;\n  height: 24px;\n  line-height: 24px;\n  padding: 0 6px;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n.ne-embed-nav .ne-text-diagram-template-selector:hover,\n.ne-embed-nav .ne-diagram-select:hover,\n.ne-embed-nav .ne-text-diagram-template-selector.ant-dropdown-open,\n.ne-embed-nav .ne-diagram-select.ant-dropdown-open {\n  background-color: #e8e8e8;\n}\n.ne-embed-nav .ne-text-diagram-template-selector .ne-icon-select-arrow,\n.ne-embed-nav .ne-diagram-select .ne-icon-select-arrow {\n  vertical-align: -0.125em;\n  position: absolute;\n  top: 53%;\n  right: 10px;\n  width: 12px;\n  height: 12px;\n  margin-top: -6px;\n  font-size: 12px;\n  pointer-events: none;\n  color: #8c8c8c;\n}\n.ne-embed-nav .ne-text-diagram-template-selector[disabled],\n.ne-embed-nav .ne-diagram-select[disabled] {\n  color: #bfbfbf;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n.ne-embed-nav .ne-text-diagram-template-selector[disabled] .ne-icon-select-arrow,\n.ne-embed-nav .ne-diagram-select[disabled] .ne-icon-select-arrow {\n  color: #bfbfbf;\n}\n.ne-embed-nav .ne-diagram-select {\n  width: 96px;\n}\n.ne-embed-nav .ne-text-diagram-select {\n  position: absolute;\n}\n.ne-embed-nav .ne-text-diagram-action-preview {\n  background: none;\n  border: none;\n  width: 64px;\n  height: 24px;\n  line-height: 24px;\n  border-radius: 4px;\n  transition: all 0.3s;\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.ne-embed-nav .ne-text-diagram-action-preview:hover {\n  background: #e8e8e8;\n}\n.ne-embed-nav .ne-text-diagram-action-preview:focus {\n  outline: none;\n}\n.ne-embed-nav .ne-text-diagram-action-preview-active {\n  background: #e8e8e8;\n}\n.ne-embed-nav .ne-text-diagram-divider {\n  margin: 0 6px;\n  height: 16px;\n}\n.ne-text-diagram-editor-wrap {\n  position: relative;\n  height: 100%;\n}\n.ne-text-diagram-editor-wrap .ne-text-diagram-editor {\n  padding-top: 31px;\n  height: 100%;\n}\n.ne-text-diagram-editor-wrap .ne-text-diagram-editor .CodeMirror {\n  height: 100%;\n}\n.ne-text-diagram-editor-wrap .ne-text-diagram-preview {\n  padding-top: 31px;\n  background: #fff;\n  min-height: 118px;\n}\n.ne-text-diagram-layout-default .ne-text-diagram-editor-wrap {\n  /* 3 行代码(87px) + 头部区域(31px) */\n  min-height: 118px;\n}\n.ne-text-diagram-layout-default .ne-text-diagram-preview {\n  position: relative;\n  top: 0;\n  left: -1px;\n  right: -1px;\n  border-left: 1px solid #e8e8e8;\n  border-radius: 4px;\n  border-top: 0;\n  border-bottom: 0;\n  background-color: #fff;\n}\n.ne-text-diagram-layout-default .ne-text-diagram-preview .ne-text-diagram-viewer {\n  flex: 1;\n  height: 100%;\n  overflow: auto;\n  height: calc(100% + 3px);\n  max-height: 640px;\n}\n.ne-text-diagram-layout-default .ne-text-diagram-preview img {\n  max-width: 100%;\n}\n.ne-text-diagram-preview {\n  position: relative;\n  overflow: auto;\n}\n.ne-text-diagram-preview pre {\n  margin: 16px;\n}\n.ne-text-diagram-preview .ne-icon-loading {\n  width: 36px;\n  height: 36px;\n  position: absolute;\n  top: calc(50% - 22px);\n  left: 50%;\n  text-align: center;\n  color: #666;\n  font-size: 36px;\n  z-index: 1;\n  visibility: visible;\n  opacity: 1;\n  transition: all 0.3s linear;\n  animation: loading 0.8s linear infinite;\n}\n.ne-text-diagram-preview .ne-text-diagram-viewer {\n  padding: 0 24px 24px 24px;\n}\n.ne-text-diagram-layout-two-column {\n  height: 100%;\n  border-radius: 0;\n  border: 0;\n  border-bottom: 1px solid #e8e8e8;\n}\n.ne-text-diagram-layout-two-column .ne-embed-nav {\n  padding-left: 18px;\n  padding-right: 30px;\n  width: 100%;\n}\n.ne-text-diagram-layout-two-column .ne-text-diagram-editor-wrap {\n  width: 100%;\n  overflow: auto;\n  display: flex;\n}\n.ne-text-diagram-layout-two-column .ne-text-diagram-editor {\n  height: 100% !important;\n  max-height: unset;\n  width: 50%;\n}\n.ne-text-diagram-layout-two-column .ne-text-diagram-preview {\n  height: 100%;\n  width: 50%;\n  border-left: 1px solid #e8e8e8;\n  padding: 12px;\n  padding-top: 31px;\n}\n");var VI=Ft()("ne:text-diagram:editor"),zI=EI.EDITOR_MODE,UI=EI.EDITOR_LAYOUT,HI=EI.TEXT_DIAGRAM_TYPES,qI=function(e){u()(c,Ce.PureComponent);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e){var t;o()(this,c),t=i.call(this,e),m()(l()(t),"onCodeChange",K()((function(e,n){"setValue"!==(null==n?void 0:n.origin)&&t.props.onChange(t.codeMirror.getValue())}),3e3)),m()(l()(t),"syncCardDataToViewState",(function(){t.switchType(t.props.cardData.type),t.codeMirror.getValue()!==t.props.cardData.code&&t.codeMirror.setValue(t.props.cardData.code)})),m()(l()(t),"setCursorPosition",(function(e){"before"!==e?"after"!==e||t.codeMirror.execCommand("goDocEnd"):t.codeMirror.execCommand("goDocStart")})),m()(l()(t),"getViewState",(function(){var e="";return t.codeMirror&&(e=t.codeMirror.getValue()),{code:e,type:t.state.type}})),m()(l()(t),"needPreview",(function(){return t.props.layout===UI.TWO_COLUMN})),m()(l()(t),"focusEditor",(function(){t.codeMirror.focus()})),m()(l()(t),"switchType",(function(e){if(e!==t.state.type){var n=t.getCodeMirrorMode(e);VI("switch diagram type",{type:e,syntax:n}),t.setState({type:e,mode:zI.CODE,codeForPreview:null}),t.codeMirror.setOption("mode",n),t.props.onDiagramTypeChange(e)}})),m()(l()(t),"switchLayout",(function(e){t.setState({mode:zI.CODE}),t.focusEditor(),e===UI.TWO_COLUMN&&t.doPreview()})),m()(l()(t),"switchTemplate",(function(e){var n=BI(t.state.type);if(n){var r=n[e].text.trim();t.codeMirror.setValue(r),t.props.onChange(r),t.focusEditor()}})),m()(l()(t),"switchView",(function(e){var n=t.instance.getValue();t.setState({mode:e,codeForPreview:e===zI.PREVIEW?n:null},(function(){}))})),m()(l()(t),"doPreview",(function(){var e=t.instance.getValue();VI("preview",e),t.setState({codeForPreview:e})})),m()(l()(t),"getHelpUrl",(function(){return EI.TEXT_DIAGRAM_GUIDES[t.state.type]})),m()(l()(t),"getRootDom",(function(){return t.rootRef.current})),m()(l()(t),"onPreviewDone",(function(){})),m()(l()(t),"handlePreviewButtonClick",(function(){var e=t.state,n=e.mode;if(e.layout!==UI.TWO_COLUMN){var r="";n===zI.PREVIEW&&(r=zI.CODE),n===zI.CODE&&(r=zI.PREVIEW),r&&(t.props.onSwitchChange(r),t.switchView(r))}else t.doPreview()})),m()(l()(t),"needShowCodePanel",(function(){return t.props.layout===UI.TWO_COLUMN||t.state.mode===zI.CODE})),m()(l()(t),"needShowPreviewPanel",(function(){return t.props.layout===UI.TWO_COLUMN||t.state.mode===zI.PREVIEW})),m()(l()(t),"renderPreview",(function(){var e=t.state,n=e.mode,r=e.type,o=e.codeForPreview;return t.props.layout===UI.DEFAULT&&n===zI.CODE?null:o?Re.a.createElement(jI,{type:r,code:o,preview:t.props.preview,onBeforeRenderImage:t.props.onBeforeRenderImage,onLoad:t.onPreviewDone}):null}));var n=e.cardData;return t.state={mode:zI.CODE,type:n.type||HI.PUML,codeForPreview:null},t.rootRef=Re.a.createRef(),t.editorRef=Re.a.createRef(),t.bodyRef=Re.a.createRef(),t.codeBoxRef=Re.a.createRef(),t.instance=null,t.codeMirror=null,t}return a()(c,[{key:"componentDidMount",value:function(){this.initEditor()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.layout,r=t.focus;n!==e.layout&&this.switchLayout(n),r&&r!==e.focus&&this.focusEditor()}},{key:"initEditor",value:(t=xe()(ke.a.mark((function e(){var t,n,r,o,i,a=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorRef.current,n=this.props.cardData,r=this.getOptions(n.type),o=K()((function(){a.doPreview()}),300),window.CodeMirror){e.next=7;break}return e.next=7,Object(Fe.loadModule)("codemirror");case 7:(i=window.CodeMirror.default.fromTextArea(t,r)).on("change",(function(e,t){a.onCodeChange(e,t),a.needPreview()&&o()})),i.on("focus",(function(){a.props.onFocus()})),i.on("blur",(function(){a.onCodeChange.cancel();var e=i.getValue();a.props.onBlur(e)})),i.on("keydown",(function(e,t){var n=e.getDoc(),r=n.getCursor(),o=n.firstLine(),i=n.lastLine(),c=n.getLine(i).length,l=r.line,s=r.ch,u=n.somethingSelected();return!jE.isArrowLeft(t)&&!jE.isArrowUp(t)||l!==o||0!==s||u?!jE.isArrowRight(t)&&!jE.isArrowDown(t)||l!==i||s!==c||u?void 0:(t.preventDefault(),void a.props.onExitCardByKeyboard("after")):(t.preventDefault(),void a.props.onExitCardByKeyboard("before"))})),this.codeMirror=i,this.instance={getValue:function(){return i.getValue()},doPreview:function(){a.doPreview()}},this.props.onLoad({editor:this.instance});case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getCodeMirrorMode",value:function(e){return EI.TEXT_DIAGRAM_SYNTAX[e]||"simplemode"}},{key:"getOptions",value:function(e){return{tabSize:2,mode:this.getCodeMirrorMode(e),lineNumbers:!0,lineWrapping:!1,indentWithTabs:!0,styleActiveLine:!1,matchBrackets:!0,autofocus:!1,dragDrop:!1,readOnly:!1,maxHighlightLength:2048,viewportMargin:1/0}}},{key:"fixEditorBodySize",value:function(){var e=this.state.mode;if(this.props.layout===UI.DEFAULT){var t=this.bodyRef.current.querySelector(".ne-text-diagram-viewer"),n=null;t&&e===zI.PREVIEW&&(t.style.overflow="hidden",n=Math.max(t.scrollHeight,80),t.style.height=n+"px",t.style.overflow="auto")}}},{key:"render",value:function(){var e=this,t=this.state,n=t.type,r=t.mode,o=this.props,i=o.layout,a=o.cardData,c={preview:["cmd","p"]};return Re.a.createElement("div",{className:"ne-text-diagram-stage ne-text-diagram-layout-".concat(i),onKeyDown:function(t){new AE(c.preview).match(t)&&(t.preventDefault(),e.handlePreviewButtonClick())},ref:this.rootRef,"data-text-diagram-layout":i,"data-text-diagram-type":this.state.type},Re.a.createElement("div",{ref:this.bodyRef,className:"ne-text-diagram-editor-wrap",onClick:this.focusEditor},Re.a.createElement("div",{ref:this.codeBoxRef,"data-testid":"ne-text-diagram-code",className:"ne-text-diagram-editor ne-code",style:{display:this.needShowCodePanel()?"block":"none"}},Re.a.createElement("textarea",{value:a.code,ref:this.editorRef,autoComplete:"off",tabIndex:"1",readOnly:!0})),Re.a.createElement("div",{className:"ne-text-diagram-preview",style:{display:this.needShowPreviewPanel()?"flex":"none"}},this.renderPreview())),Re.a.createElement(IA,{actions:[this.props.canChangeType?Re.a.createElement(PI,{key:"diagram-select",type:n,switchType:this.switchType}):Re.a.createElement(FI,{key:"diagram-name",type:n}),Re.a.createElement(MI,{key:"template-select",type:n,mode:r,switchTemplate:this.switchTemplate}),i===UI.DEFAULT&&Re.a.createElement(AI,{key:"diagram-preview",mode:r,hotkeys:c,handlePreviewButtonClick:this.handlePreviewButtonClick})]}))}}]),c}();m()(qI,"propTypes",{cardData:De.a.instanceOf(bw),focus:De.a.bool,canChangeType:De.a.bool,layout:De.a.oneOf(Object.values(UI)),onChange:De.a.func,onDiagramTypeChange:De.a.func,onBlur:De.a.func,onFocus:De.a.func,onBeforeRenderImage:De.a.func,onLoad:De.a.func,preview:De.a.func,onSwitchChange:De.a.func,onExitCardByKeyboard:De.a.func}),m()(qI,"defaultProps",{layout:UI.DEFAULT,canChangeType:!0,onChange:function(){},onDiagramTypeChange:function(){},onBlur:function(){},onFocus:function(){},onBeforeRenderImage:function(){},onLoad:function(){}});var WI=Ft()("ne:text-diagram:eui"),ZI=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_option",null),m()(l()(e),"_previewer",null),m()(l()(e),"_showResizer",!0),m()(l()(e),"syncCardDataToViewState",(function(t){t||e.uiViewProxy.getReactRef().syncCardDataToViewState()})),m()(l()(e),"syncViewStateToCardData",(function(){var t=e.uiViewProxy.getReactRef().getViewState(),n=t.code,r=t.type;n===e.cardData.code&&r===e.cardData.type||(e.cardData.update({code:n,type:r}),e.cardData.sync(!0))})),m()(l()(e),"blur",(function(){WI("blur: sync card data and gen image"),e.uiViewProxy.rerender({focus:!1})})),m()(l()(e),"generateImage",function(){var t=xe()(ke.a.mark((function t(n){var r;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._previewer.generate(n);case 2:(r=t.sent).code===e.cardData.code&&(e.cardData.update({url:r.url}),e.cardData.sync(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return a()(i,[{key:"getResizerConfig",value:function(){return this._showResizer?{min:120}:null}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|",{name:"maximize",option:{concise:!0}},"widthMode","|","spacing"]}}},{key:"init",value:function(){var e=this;WI("init use",this.cardData),this._option=this.pluginOption,this._previewer=new lI({host:this._option.host,graph:this.cardData.toGraph()}),this.cardData.on("change",this.syncCardDataToViewState),this.uiViewProxy=cO.render(qI,{cardData:this.cardData,layout:EI.EDITOR_LAYOUT.DEFAULT,focus:!1,onChange:function(t){e.cardData.update({code:t,url:null}),e.cardData.sync(!0)},onBlur:function(t){e.cardData.update({code:t,url:null}),e.cardData.sync(!1),e.generateImage(e.cardData.toGraph())},onDiagramTypeChange:function(t){e.cardData.update({type:t,url:null}),e.cardData.sync(!1)},onBeforeRenderImage:this._option.onBeforeRenderImage,onFocus:function(){},preview:this._previewer.preview,onSwitchChange:function(t){e._showResizer=t===EI.EDITOR_MODE.CODE,e.refreshResizer()},onExitCardByKeyboard:function(t){e.focusCardTo(t)}},this.containerNode)}},{key:"focus",value:function(){this.uiViewProxy.rerender({focus:!0}),this.focusByKeyboard&&this.uiViewProxy.getReactRef().setCursorPosition(this.focusByKeyboard)}},{key:"afterMaximizeChanged",value:function(e){var t=EI.EDITOR_LAYOUT,n=e?t.TWO_COLUMN:t.DEFAULT;this.uiViewProxy.rerender({layout:n})}}]),i}();var KI=Ft()("ne:text-diagram:node"),$I=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return(t=r.call.apply(r,[this].concat(a)))._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this),KI("inited, init value: ",this.value)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}},{key:"sync",value:function(){return!this._iEditor.iEngine.nodeIsInTree(this.viewNode)||(this._ui.syncViewStateToCardData(),!0)}}]),i}();m()($I,"$EditableCardUI",ZI),m()($I,"$CardData",bw),m()($I,"$ExternalFocus",!0);var JI=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,nb,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()($I,[e].concat(n))},pluginContext:{}}),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(rb,{type:"TextItem",icon:"card-text-diagram",iconSize:16,label:xm("文本绘图"),keywords:["文本绘图","wenbenhuitu","wbht","ht","plantuml","puml","graphviz","mermaid","flowchart"]});var n=EI.TEXT_DIAGRAMS;e.onPluginEvent("insertCardByUI:".concat(rb),(function(t){var r=t.inputValue,o={};if(r){var i=r.toLowerCase();n.forEach((function(e){var t=e.type,n=e.name;(t.toLowerCase().startsWith(i)||n.toLowerCase().startsWith(i))&&(o.type=t)}))}var a=bw.createStandardCardValue(o);e.execCommand("insertCard",nb,a,!0)}))}},{key:"sync",value:function(){return this.cardNodes.forEach((function(e){e.sync()})),!0}}]),i}();m()(JI,"PluginName",tb),m()(JI,"PluginOption",DI),window.__neInjector||(window.__neInjector={});var YI=function(){function e(){o()(this,e)}return a()(e,null,[{key:"get",value:function(e){return window.__neInjector[e]}}]),e}();function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GI(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QI=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t){var n;return o()(this,c),n=i.call(this),m()(l()(n),"_id",null),m()(l()(n),"_apiURL",null),m()(l()(n),"_file",null),m()(l()(n),"_uploadRequest",null),n._id=xr(),n._apiURL=e,n._file=t,n}return a()(c,[{key:"id",get:function(){return this._id}},{key:"file",get:function(){return this._file}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n,r=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file,n=new FormData,this.emit(RP.EVENT_START,t),n.append("file",t,t.name),e.abrupt("return",new Promise((function(e){r._uploadRequest=_P({method:"POST",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&r.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:r._apiURL,data:n,dataType:"json",success:function(t){r.emit("upload-success");var n=XI({},t.data);r.emit(RP.EVENT_SUCCESS,n),e({result:n})},error:function(t){t=kP(t),r.emit(RP.EVENT_ERROR,t),e({error:t})},processData:!0})})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),c}();function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nj=Fe.MultiPartUploadUtil.getOssClient,rj=Fe.MultiPartUploadUtil.multipartUpload,oj=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e){var t,n=e.attachableId,r=e.attachableType,a=e.file,s=e.endpointBeforeUpload,u=e.endpointAfterUpload;return o()(this,c),t=i.call(this),m()(l()(t),"_id",null),m()(l()(t),"_file",null),m()(l()(t),"_attachableId",null),m()(l()(t),"_attachableType",null),m()(l()(t),"_endpointBeforeUpload",null),m()(l()(t),"_endpointAfterUpload",null),t._id=xr(),t._attachableId=n,t._attachableType=r,t._file=a,t._endpointBeforeUpload=s,t._endpointAfterUpload=u||"/api/video/after_upload",t}return a()(c,[{key:"id",get:function(){return this._id}},{key:"file",get:function(){return this._file}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n,r,o,i,a,c,l,s,u,d,f=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._attachableId,n=this._attachableType,r=this._file,o=this._endpointBeforeUpload,i=this._endpointAfterUpload,e.prev=5,this.emit(RP.EVENT_START,r),e.next=9,nj(r,t,n,"video",o);case 9:return a=e.sent,c=a.ossClient,l=a.filekey,s=a.filekey_digest,this._ossClient=c,u=function(e){f.emit(RP.EVENT_PROGRESS,CP.toPercentage(e,1))},e.next=17,rj(r,c,l,u);case 17:return d=e.sent,e.abrupt("return",new Promise((function(e){var o={filename:r.name,attachable_type:n,attachable_id:t,filekey:d.name,filekey_digest:s};f._afterUploadRequest=_P({method:"POST",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&f.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:i,data:o,dataType:"json",success:function(t){f.emit("upload-success");var n=tj({},t.data);f.emit(RP.EVENT_SUCCESS,n),e({result:n})},error:function(t){t=kP(t),f.emit(RP.EVENT_ERROR,t),e({error:t})},processData:!0})})));case 21:return e.prev=21,e.t0=e.catch(5),this.emit(RP.EVENT_ERROR,e.t0),e.abrupt("return",{error:e.t0});case 25:case"end":return e.stop()}}),e,this,[[5,21]])}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this._ossClient&&this._ossClient.cancel(),this._afterUploadRequest&&this._afterUploadRequest.xhr.abort()}}]),c}();var ij={createUploadTask:null,uploadAction:null,downloadVideoHandler:null,queryAction:null,queryInterval:3e3,whiteHostList:["vod.yuque.com","intranetproxy.alipay.com","cdn.nlark.com","lark.alipay.com"],useMultipart:!1,accept:null,useYuqueVideoPlayer:!0,withPip:!0},aj=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},ij,e),t}return a()(i,[{key:"downloadVideoHandler",get:function(){return this._option.downloadVideoHandler}},{key:"uploadAction",get:function(){return this._option.uploadAction}},{key:"queryAction",get:function(){return this._option.queryAction}},{key:"queryInterval",get:function(){return this._option.queryInterval}},{key:"accept",get:function(){return this._option.accept}},{key:"isWhiteHost",value:function(e){try{var t=new URL(e).hostname;if(t)return this._option.whiteHostList.includes(t)}catch(e){}return!0}},{key:"createUploadTask",value:function(e){if(this._option.createUploadTask)return this._option.createUploadTask(e);if(this._option.useMultipart){var t=this._option.attachable_id,n=this._option.attachable_type,r=this._option.endpointBeforeUpload,o=this._option.endpointAfterUpload;return new oj({attachableId:t,attachableType:n,file:e,endpointBeforeUpload:r,endpointAfterUpload:o})}return new QI(this._option.uploadAction,e)}}]),i}();m()(aj,"OptionName","video");var cj=function(e){u()(i,Lc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"preReadFile",value:function(e,t,n){if(("localDoc"===(null==n?void 0:n.category)||"video"===(null==n?void 0:n.category))&&"ui"===(null==n?void 0:n.from)){if(!e.checkFileSize("video",t.file.size))return!1;var r=IB.uploadVideoByFile(this._iEditor,[t.file]),o=E()(r,1)[0];return t._$neUploadTask=o,!1}}}]),i}();function lj(e){window.open(e)}var sj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"renderIconNormal",(function(){return Re.a.createElement("div",{className:"ne-card-video-icon video-icon"},Re.a.createElement(oE,{type:"card-video-normal"}))})),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getName(),t=this.props.cardData.getSize();return Re.a.createElement("div",{className:"ne-card-video-content ne-card-video-uploading"},Re.a.createElement("div",{className:"ne-card-video-center"},this.renderIconNormal(),Re.a.createElement("div",{className:"ne-card-video-name"},e," ",t&&Re.a.createElement(Re.a.Fragment,null,"(",Ic(t),")")),this.props.children))}}]),i}();m()(sj,"propTypes",{cardData:De.a.object.isRequired,children:De.a.any});var uj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props.getVideoUrl(),t=this.props.getVideoCover(),n=this.props.getVideoState(),r={};return!1===this.props.allowDownload&&(r.controlsList="nodownload"),Re.a.createElement("div",{className:"ne-card-video-content ne-card-video-done"},this.props.useYuqueVideoPlayer?Re.a.createElement(Fe.VideoPlayer,{preload:"metadata",playsInline:"playsinline",poster:t,autoPlay:!1,state:n,controls:{left:["PlayPause","Time"],right:["PlaybackRates","Volume",this.props.withPip?"PictureInPicture":"","Fullscreen"]}},Re.a.createElement("source",{src:gv.sanitizeUrl(e)})):Re.a.createElement("video",Ee()({preload:"metadata",src:gv.sanitizeUrl(e),playsInline:"playsinline",poster:t,onContextMenu:function(e){e.preventDefault()},controls:!0},r)))}}]),i}();m()(uj,"propTypes",{allowDownload:De.a.bool,getVideoUrl:De.a.func,getVideoCover:De.a.func,getVideoState:De.a.func,useYuqueVideoPlayer:De.a.bool,withPip:De.a.bool});var dj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getErrorCode",(function(){var t;return null!==(t=e.props.loadingError)&&void 0!==t&&t.code?e.props.loadingError.code:""})),m()(l()(e),"getErrorMessage",(function(){var t=e.getErrorCode(),n=e.props.cardData.getMessage(),r="";switch(t){case Wx:r="视频链接已损坏";break;case Zx:r="查询转码失败";break;case qx:r="视频已损坏";break;default:r="视频无法播放，请稍后重试"}return xm(n||r)})),m()(l()(e),"renderWarnIcon",(function(){return Re.a.createElement("div",{className:"ne-card-video-icon video-warn"},Re.a.createElement(oE,{type:"card-video-warn"}))})),m()(l()(e),"renderErrorIcon",(function(){return Re.a.createElement("span",{className:"lake-error-icon"},"X")})),e}return a()(i,[{key:"render",value:function(){var e=this.getErrorCode(),t=this.props.cardData.getName(),n=this.getErrorMessage(),r="reject"===e;return Re.a.createElement("div",{className:"ne-card-video-content ne-card-video-error"},Re.a.createElement("div",{className:"ne-card-video-center"},r?this.renderWarnIcon():"",Re.a.createElement("div",{className:"ne-card-video-name"},t||""),Re.a.createElement("div",{className:"ne-card-video-message"},r?"":this.renderErrorIcon(),n)))}}]),i}();m()(dj,"propTypes",{cardData:De.a.object.isRequired,loadingError:De.a.object});var fj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"renderIconSpin",(function(){return Re.a.createElement("i",{className:"ne-card-video-anticon video-spin"},Re.a.createElement(WF,null))})),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getStatus();return Re.a.createElement(sj,{cardData:this.props.cardData},Re.a.createElement("div",{className:"ne-card-video-converting"},this.renderIconSpin(),Re.a.createElement("span",null,xm(e===Ix.Done?"获取视频中":"正在转码中，请稍候..."))))}}]),i}();m()(fj,"propTypes",{cardData:De.a.object.isRequired}),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-card-video-content {\n  position: relative;\n  height: 450px;\n  background: #f7f7f7;\n}\n.ne-card-video-content video {\n  width: 100%;\n  height: 450px;\n  outline: none;\n}\n.ne-card-video-uploading,\n.ne-card-video-uploaded,\n.ne-card-video-error {\n  border: 1px solid #e6e6e6;\n  background: #f6f6f6;\n}\n.ne-card-video-done {\n  position: relative;\n  height: auto;\n  border: none;\n  background: none;\n  line-height: 0;\n}\n.ne-card-video-content-active {\n  outline: 1px solid #d9d9d9;\n}\n.ne-card-video-center {\n  position: absolute;\n  top: 50%;\n  margin-top: -48px;\n  width: 100%;\n  height: 96px;\n}\n.ne-card-video-icon,\n.ne-card-video-name,\n.ne-card-video-message,\n.ne-card-video-progress,\n.ne-card-video-converting {\n  text-align: center;\n}\n.ne-card-video-icon {\n  font-size: 24px;\n  color: #bfbfbf;\n  margin-bottom: 12px;\n}\n.ne-card-video-name {\n  color: #595959;\n  margin-bottom: 12px;\n}\n.ne-card-video-message {\n  color: #595959;\n}\n.ne-card-video-anticon {\n  display: inline-block;\n  font-style: normal;\n  vertical-align: -0.125em;\n  text-align: center;\n  text-transform: none;\n  line-height: 0;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  margin-right: 5px;\n}\n.ne-card-video-anticon-anticon-spin {\n  display: inline-block;\n  -webkit-animation: rotateLoading 1s infinite linear;\n  animation: rotateLoading 1s infinite linear;\n}\n.ne-card-video .lake-error-icon {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  background: #f5222d;\n  text-align: center;\n  font-size: 12px;\n  color: #fff;\n  padding: 1px 0 0 0;\n  line-height: 16px;\n  border-radius: 100%;\n  vertical-align: middle;\n  margin: -2px 5px 0 0;\n}\n@media screen and (max-width: 750px) {\n  .ne-card-video-content {\n    height: 200px;\n  }\n  .ne-card-video-content video {\n    height: 200px !important;\n  }\n}\n");var hj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this),m()(l()(t),"handleUploadStart",(function(e){return t.props.onUploadStart(e)})),m()(l()(t),"handleUploadError",(function(e){return t.props.onUploadError(e)})),m()(l()(t),"handleUploadSuccess",(function(e){return t.props.onUploadSuccess(e)})),m()(l()(t),"handleUploadProgress",(function(e){t.setState({percent:e}),t.props.onUploadProgress()})),m()(l()(t),"renderIconSpin",(function(){return Re.a.createElement("i",{className:"ne-card-video-anticon video-spin"},Re.a.createElement(WF,null))})),m()(l()(t),"renderLoading",(function(){var e=t.state.percent;return Re.a.createElement(sj,{cardData:t.props.cardData},Re.a.createElement("div",{"data-role":"progress",className:"ne-card-video-progress"},t.renderIconSpin(),Re.a.createElement("span",{"data-role":"percent",className:"percent"},e,"%")))})),m()(l()(t),"renderTranscoding",(function(){return Re.a.createElement(fj,{cardData:t.props.cardData})})),m()(l()(t),"renderError",(function(){return Re.a.createElement(dj,{cardData:t.props.cardData,loadingError:t.props.loadingError})})),m()(l()(t),"renderSuccess",(function(){return Re.a.createElement(uj,{allowDownload:!0,getVideoUrl:t.props.getVideoUrl,getVideoCover:t.props.getVideoCover,getVideoState:t.props.getVideoState,useYuqueVideoPlayer:t.props.useYuqueVideoPlayer,withPip:t.props.withPip})})),m()(l()(t),"renderContent",(function(){var e=t.props.cardData.getStatus();if(e===Ix.Error||t.props.loadingStatus===Hx)return t.renderError();if([Ix.Uploading,Ix.Pending].includes(e))return t.renderLoading();if(e===Ix.Uploaded||e===Ix.Done){if(t.props.loadingStatus===zx)return t.renderTranscoding();if(t.props.getVideoUrl())return t.renderSuccess()}return null}));var n=e.cardData.getTaskId(),a=e.cardData.isCompleted();return n&&!a&&(t.uploadTask=e.uploadObserver.observe(n)),t.state={percent:0},t}return a()(i,[{key:"componentDidMount",value:function(){this.uploadTask&&($N(this,this.uploadTask,"start",this.handleUploadStart),$N(this,this.uploadTask,"success",this.handleUploadSuccess),$N(this,this.uploadTask,"progress",this.handleUploadProgress),$N(this,this.uploadTask,"timeout",this.handleUploadError),$N(this,this.uploadTask,"error",this.handleUploadError))}},{key:"componentWillUnmount",value:function(){this.uploadTask&&this.uploadTask.abort()}},{key:"render",value:function(){var e=this.renderContent();return Re.a.createElement("div",{className:"ne-card-video","data-testid":"ne-card-video"},e)}}]),i}();function pj(){return(pj=xe()(ke.a.mark((function e(t,n){var r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){_P({method:"GET",url:n,data:{video_id:t},success:function(t){"success"===t.data.status?e({done:!0,data:t.data.info}):"fail"===t.data.status?e({error:!0}):"transcoding"===t.data.status&&e({done:!1})},error:function(t){console.error(t),e({error:!0})}})}));case 2:if(!(r=e.sent).error){e.next=5;break}return e.abrupt("return",{success:!1});case 5:if(!r.done){e.next=7;break}return e.abrupt("return",{success:!0,data:r.data});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m()(hj,"propTypes",{cardData:De.a.object.isRequired,getVideoUrl:De.a.func,getVideoCover:De.a.func,getVideoState:De.a.func,uploadObserver:De.a.object.isRequired,onUploadStart:De.a.func,onUploadProgress:De.a.func,onUploadSuccess:De.a.func,onUploadError:De.a.func,loadingStatus:De.a.string,loadingError:De.a.object,useYuqueVideoPlayer:De.a.bool,withPip:De.a.bool});var vj=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),(n=r.call(this)).cardData=e,n.pluginOption=t,n._isPollingStatus=!1,n._videoUrl="",n._videoCover="",n._videoState=void 0,n}return a()(i,[{key:"isPollingStatus",get:function(){return this._isPollingStatus}},{key:"init",value:function(){var e=this.cardData.getVideoType(),t="",n=null;if(e===Vx.Common&&(t=zx,this.pollingVideoStatus()),e===Vx.Src){var r=this.cardData.getSrc();this.pluginOption.isWhiteHost(r)?this.setVideoUrl(r):n={code:qx}}return[Vx.Aliyun,Vx.Taobao].includes(e)&&(t=zx,this.queryVideoInfo()),{loadingStatus:t,loadingError:n}}},{key:"getVideoUrl",value:function(){return this._videoUrl}},{key:"setVideoUrl",value:function(e){this._videoUrl=e}},{key:"getVideoCover",value:function(){return this._videoCover}},{key:"setVideoCover",value:function(e){this._videoCover=e}},{key:"getVideoState",value:function(){return this._videoState}},{key:"setVideoState",value:function(e){this._videoState=e}},{key:"isPollingVideoStatus",value:function(){return this._isPollingStatus}},{key:"pollingVideoStatus",value:function(){var e=this,t=this.cardData.getVideoId();this._isPollingStatus||(this._isPollingStatus=!0,function(e,t){return pj.apply(this,arguments)}(t,this.pluginOption.queryAction).then((function(t){if(e._isPollingStatus=!1,t)if(t.success){var n=t.data,r=void 0===n?{}:n;e.setVideoUrl(xv(r.video)),e.setVideoCover(xv(r.cover)),e.setVideoState(r.state),e.emit("transcoding-success")}else e.emit("transcoding-error");else setTimeout((function(){e.pollingVideoStatus()}),e.pluginOption.queryInterval)})))}},{key:"queryVideoInfo",value:function(){var e=this,t=this.cardData.getVideoId(),n=this.cardData.getVideoType();(function(e,t){return new Promise((function(n,r){_P({method:"GET",url:t,data:{video_id:e},success:function(e){var t,o,i,a,c,l=e.data,s=void 0===l?{}:l,u="",d="";"success"===(null==s?void 0:s.status)&&(u=null==s||null===(i=s.info)||void 0===i?void 0:i.cover,d=null==s||null===(a=s.info)||void 0===a?void 0:a.video,o=null==s||null===(c=s.info)||void 0===c?void 0:c.state,d&&n({coverUrl:u,videoUrl:d,videoState:o}));var f=null==s||null===(t=s.snapShotRes)||void 0===t?void 0:t.MediaSnapshot;if(f&&f.Total){var h,p,v,m=Math.floor(f.Total/2),y=null==f||null===(h=f.Snapshots)||void 0===h?void 0:h.Snapshot;u=y?null===(p=y[m])||void 0===p?void 0:p.Url:null==f||null===(v=f.Snapshots[m])||void 0===v?void 0:v.Url}if(s.RequestId)if("Forbidden.IllegalStatus"===s.Code)r(new Error("illegal"));else{var g,b=null==s||null===(g=s.PlayInfoList)||void 0===g?void 0:g.PlayInfo;null!=b&&b.length&&(d=b[b.length-1].PlayURL),n({videoUrl:d,coverUrl:u})}else if(6===s.state)n({authKey:s.auth_key,taobaoVideoId:s.taobaoVideoId,uploaderId:s.userId,coverUrl:u});else{var w="";5===s&&(w=Wx),r(new Error(w))}},error:function(){r(new Error(Zx))},processData:!0})}))})(t,this.pluginOption.queryAction).then((function(t){var r="";if(t.videoUrl)r=t.videoUrl;else if(n===Vx.Taobao){var o=t.taobaoVideoId||e.cardData.getTaobaoVideoId(),i=t.uploaderId||e.cardData.getUploaderId(),a=t.authKey;o&&i&&(r=function(e){var t=e.taobaoVideoId,n=e.authKey,r="https://cloud.video.taobao.com/play/u/".concat(e.uploaderId,"/p/1/e/6/t/1/").concat(t,".mp4");return n&&(r+="?auth_key=".concat(n)),r}({taobaoVideoId:o,uploaderId:i,authKey:a}))}else r=e.cardData.getAliyunVideoSrc();r&&e.setVideoUrl(r);var c=e.cardData.getCover()||t.coverUrl;c&&e.setVideoCover(c),t.videoState&&e.setVideoState(t.videoState),e.emit("transcoding-success")})).catch((function(t){e.emit("transcoding-error",{code:t.message})}))}}]),i}();function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mj(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gj=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_uiViewProxy",null),m()(l()(e),"_updateObserver",null),m()(l()(e),"_videoAction",null),m()(l()(e),"_stopPolling",!1),m()(l()(e),"refreshAction",(function(){e.cardData.getStatus()!==Ix.Uploaded||e.getVideoUrl()||e._videoAction.isPollingStatus||e._stopPolling||(e.updateData({loadingStatus:zx}),e._videoAction.pollingVideoStatus())})),m()(l()(e),"onUploadStart",(function(){e.cardData.setStatus(Ix.Uploading),e.cardData.sync(!0)})),m()(l()(e),"onUploadProgress",(function(){e.cardData.getStatus()!==Ix.Uploading&&(e.cardData.setStatus(Ix.Uploading),e.cardData.sync(!0))})),m()(l()(e),"onUploadSuccess",(function(t){var n=t.video_id,r=t.filename,o=t.filesize;n?(e.cardData.setStatus(Ix.Uploaded),e.cardData.setVideoId(n),r&&e.cardData.setName(r),o&&e.cardData.setSize(o),e.cardData.sync(!0)):(e.cardData.setStatus(Ix.Error),e.cardData.setMessage(xm("视频已损坏")),e.cardData.sync(!0))})),m()(l()(e),"onTranscodingSuccess",(function(){e._stopPolling=!0,e.cardData.getStatus()!==Ix.Done&&(e.cardData.setStatus(Ix.Done),e.cardData.sync(!0)),e.updateData({loadingStatus:Ux}),e.refreshToolbar()})),m()(l()(e),"onTranscodingError",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e._stopPolling=!0;var n=t.code;e.updateData({loadingStatus:Hx,loadingError:{code:n,message:""}})})),m()(l()(e),"onUploadError",(function(t){e.cardData.setStatus(Ix.Error),null!=t&&t.message&&e.cardData.setMessage(t.message),e.cardData.sync(!0)})),m()(l()(e),"getVideoUrl",(function(){return e._videoAction.getVideoUrl()})),m()(l()(e),"getVideoCover",(function(){return e._videoAction.getVideoCover()})),m()(l()(e),"getVideoState",(function(){return e._videoAction.getVideoState()})),m()(l()(e),"downloadFile",(function(){var t=e.getVideoUrl();e.pluginOption.downloadVideoHandler?e.pluginOption.downloadVideoHandler(t):lj(t)})),m()(l()(e),"openSidebar",(function(){e.emit("openSidebar")})),m()(l()(e),"updateData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e._uiViewProxy.rerender(t)})),e}return a()(i,[{key:"init",value:function(e){var t,n;this._updateObserver=e,this._videoAction=new vj(this.cardData,this.pluginOption);var r=this._videoAction.init();this.cardData.on("change",this.refreshAction),this._uiViewProxy=cO.render(hj,yj(yj({cardData:this.cardData},r),{},{uploadObserver:this._updateObserver,getVideoUrl:this.getVideoUrl,getVideoCover:this.getVideoCover,getVideoState:this.getVideoState,onUploadStart:this.onUploadStart,onUploadProgress:this.onUploadProgress,onUploadSuccess:this.onUploadSuccess,onUploadError:this.onUploadError,useYuqueVideoPlayer:null===(t=this.pluginOption._option)||void 0===t?void 0:t.useYuqueVideoPlayer,withPip:null===(n=this.pluginOption._option)||void 0===n?void 0:n.withPip}),this.containerNode),this._videoAction.on("transcoding-success",this.onTranscodingSuccess),this._videoAction.on("transcoding-error",this.onTranscodingError)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this)}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","|","spacing"]}}},{key:"getCardToolbarConfig",value:function(){var e=[],t=this.cardData.getStatus();return t===Ix.Error?null:(t===Ix.Done&&this.getVideoUrl()&&(e.push({name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile}),e.push("|")),e.push({name:"preferences",text:xm("设置"),icon:"preferences",onClick:this.openSidebar}),e)}},{key:"getCardMaskConfig",value:function(){return!0}}]),i}();var bj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleChangeDownload",(function(t){e.props.onChangeDownload(t.target.checked)})),e}return a()(i,[{key:"render",value:function(){var e=this,t=this.props.cardData.getDownload();return Re.a.createElement(bF,{className:"ne-card-video-sidebar"},Re.a.createElement(bF.Header,{onClose:function(){return e.props.descriptor.close()}},xm("本地视频设置")),Re.a.createElement(bF.Body,null,Re.a.createElement(ht.a,{checked:t,onChange:this.handleChangeDownload},xm("允许在阅读页下载文件"))))}}]),i}();m()(bj,"propTypes",{cardData:De.a.object,descriptor:De.a.instanceOf(fF).isRequired,onChangeDownload:De.a.func});var wj=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_cardNode",null),m()(l()(t),"_uiViewProxy",null),m()(l()(t),"handleChangeDownload",(function(e){t._cardNode.cardData.setDownload(e),t._cardNode.cardData.sync(!0)})),t._cardNode=e,t}return a()(i,[{key:"init",value:function(){this._uiViewProxy=XN.render(bj,{cardData:this._cardNode.cardData,descriptor:this,onChangeDownload:this.handleChangeDownload},this.sidebarRootNode)}},{key:"destroy",value:function(){this._uiViewProxy&&(this._uiViewProxy.destroy(),this._uiViewProxy=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!1}}]),i}();var xj=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),m()(l()(t),"openSidebar",(function(){t._iEditor.hasExtend("sidebar")&&(t._descriptor=new wj(l()(t)),t._iEditor.sidebar.open(t._descriptor))})),m()(l()(t),"closeSidebar",(function(){t._descriptor&&(t._descriptor.close(),t._descriptor=null)})),m()(l()(t),"sync",(function(){return!t._iEditor.iEngine.nodeIsInTree(t.viewNode)||t.cardData.isCompleted()})),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this,this._iEditor.uploadObserver),this._ui.on("openSidebar",this.openSidebar)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null,this.closeSidebar()}},{key:"$blur",value:function(){this.closeSidebar(),B()(p()(i.prototype),"$blur",this).call(this)}}]),i}();m()(xj,"$EditableCardUI",gj),m()(xj,"$CardData",Jx);var _j=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"video",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(xj,[e].concat(n))}}),e.iKernel.hasExtendMethod("registerPreFileReader")&&e.iKernel.registerPreFileReader(em.getVideoFileAccept(this.option.accept),new cj(e));var n=em.getVideoFileAccept(this.option.accept),r=0===n.length;e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("video",{type:"FileItem",icon:"card-video",achromaticIcon:"card-video-a",label:xm("本地视频"),command:"video",multiple:!0,recordDisable:!0,remark:r?function(){var e=YI.get("videoRemark");return e?e():null}:null,disabled:r,accept:n,keywords:"shipin,sp,video,视频,本地视频"})}},{key:"sync",value:function(){return 0===this.cardNodes.filter((function(e){return!1===e.sync()})).length}}]),i}();m()(_j,"PluginName","video"),m()(_j,"PluginOption",aj);var kj=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(){return o()(this,c),i.apply(this,arguments)}return a()(c,[{key:"tryQuickUpload",value:(t=xe()(ke.a.mark((function e(t,n,r){var o,i,a,c,l,s;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Object(Fe.fileMd5)(t);case 4:return o=e.sent,i=t.size,a=t.name,c=t.type,s=_P({xhr:function(){return new window.XMLHttpRequest},url:r?Rv(n,r,"https://localhost"):n,data:{md5:o,filesize:i,filename:a,filetype:c},dataType:"json",success:function(e){e&&!1===e.data.success||(l=e)},error:function(e){console.error(e)},method:"POST",processData:!0}),e.next=11,s.xhr.promise;case 11:if(l&&!1!==l.success){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)})}]),c}();function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cj(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nj=function(e){u()(c,kj);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t,n,r){var a;return o()(this,c),a=i.call(this),m()(l()(a),"_id",null),m()(l()(a),"_apiURL",null),m()(l()(a),"_file",null),m()(l()(a),"_uploadRequest",null),a._id=xr(),a._apiURL=e,a._file=t,a._uploadExtraParams=n,a._quickUploadUrl=r,a}return a()(c,[{key:"id",get:function(){return this._id}},{key:"file",get:function(){return this._file}},{key:"upload",value:function(e,t,n){var r=this;this._uploadRequest=_P({method:"post",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&r.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:e?Rv(this._apiURL,e,"https://localhost"):this._apiURL,data:t,dataType:"json",success:function(e){var t=Rj({},e.data);r.emit(RP.EVENT_SUCCESS,t),n({result:t})},error:function(e){e=kP(e),r.emit(RP.EVENT_ERROR,e),n({error:e})},processData:!0})}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n,r,o=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file,n=this._uploadExtraParams,r=new FormData,this.emit(RP.EVENT_START),r.append("file",t,t.name),e.abrupt("return",new Promise((function(e){o.tryQuickUpload(t,o._quickUploadUrl,n).then((function(t){if(t){var i=Rj({},t.data);o.emit(RP.EVENT_SUCCESS,i),e({result:i})}else o.upload(n,r,e)})).catch((function(t){console.error(t),o.upload(n,r,e)}))})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this._uploadRequest&&this._uploadRequest.xhr.abort()}}]),c}();var Ej={createUploadTask:null,uploadFileURL:null,queryURL:null,allowAudioPlayer:!1,addsOnParams:{},accept:null},Oj=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},Ej,e),t}return a()(i,[{key:"createUploadTask",value:function(e){var t,n=this._option,r=n.uploadFileURL,o=n.queryURL,i=n.createUploadTask,a=n.addsOnParams;return t="function"==typeof a?a():a,br(r&&o||i,"F:audio-option;L:37"),i?i(e):new Nj(r,e,t)}},{key:"queryUrl",get:function(){return this._option.queryURL}},{key:"allowAudioPlayer",get:function(){return this._option.allowAudioPlayer}},{key:"uploadExtraParams",get:function(){return this._option.uploadExtraParams}},{key:"accept",get:function(){return this._option.accept}}]),i}();m()(Oj,"OptionName",Bb);var Dj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"handleUploadStart",(function(){t.setState({percent:0}),t.props.onUploadStart()})),m()(l()(t),"handleUploadError",(function(e){var n=e;e?n.message=t.props.message.uploadError:n={message:t.props.message.uploadError},t.props.onUploadError(n)})),m()(l()(t),"handleUploadSuccess",(function(e){t.props.onUploadSuccess(e)})),m()(l()(t),"handleUploadProgress",(function(e){t.setState({percent:e})}));var n=e.cardData.getTaskId(),a=e.cardData.isCompleted();return n&&!a&&(t.uploadTask=e.uploadObserver.observe(n)),t.state={percent:0},t}return a()(i,[{key:"componentDidMount",value:function(){this.uploadTask&&($N(this,this.uploadTask,"start",this.handleUploadStart),$N(this,this.uploadTask,"progress",this.handleUploadProgress),$N(this,this.uploadTask,"success",this.handleUploadSuccess),$N(this,this.uploadTask,"error",this.handleUploadError),$N(this,this.uploadTask,"timeout",this.handleUploadError))}},{key:"renderCopyrightDeniedErrorView",value:function(){var e=this.state.percent;return Re.a.createElement(Fe.AudioErrorView,{status:"copyright",audio:this.props.cardData.getAudioInfo(),audioURL:this.props.audioUrl,message:this.props.message,progress:e})}},{key:"renderErrorView",value:function(){return Re.a.createElement(Fe.AudioErrorView,{status:"error",audio:this.props.cardData.getAudioInfo(),audioURL:this.props.audioUrl,message:this.props.message,errorMessage:this.props.cardData.getErrorMessage()})}},{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.allowAudioPlayer,r=e.audioUrl,o=e.message,i=e.uiStatus,a=this.state.percent,c=t.getErrorMessage(),l=t.getAudioInfo(),s=this.props.cardData.getStatus();return l.url=r,t.getId()&&"error"!==s&&(s="uploaded"),"error"===s?this.renderErrorView():n?Re.a.createElement(Fe.AudioPlayer,{audioInfo:l,status:s,uiStatus:i,progress:a,message:o,errorMessage:c}):this.renderCopyrightDeniedErrorView()}}]),i}();m()(Dj,"propTypes",{cardData:De.a.instanceOf(Ow).isRequired,message:De.a.object.isRequired,audioUrl:De.a.string,uiStatus:De.a.string,allowAudioPlayer:De.a.bool.isRequired,uploadObserver:De.a.object.isRequired,onUploadStart:De.a.func,onUploadSuccess:De.a.func,onUploadError:De.a.func});var Sj={cantPlay:xm("音频文件不能播放"),copyright:xm("由于版权保护，不支持在公开文档中直接播放该音频，可点击文件名播放"),failedToQuery:xm("查询失败"),query:xm("查询音频信息中..."),invalidAudio:xm("无效音频，请重新上传"),notSupport:xm("此处不支持播放音频，可点击文件名播放"),uploading:xm("上传中"),transcodeError:xm("转码失败"),uploadError:xm("上传失败")};function Bj(e,t){return Pj.apply(this,arguments)}function Pj(){return(Pj=xe()(ke.a.mark((function e(t,n){var r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){_P({method:"get",url:n,data:{video_id:t},success:function(t){"success"===t.data.status?e({done:!0,data:t.data.info}):"fail"===t.data.status?e({error:!0}):"transcoding"===t.data.status&&e({done:!1})},error:function(t){console.error(t),e({error:!0})}})}));case 2:if(!(r=e.sent).error){e.next=5;break}return e.abrupt("return",{success:!1});case 5:if(!r.done){e.next=7;break}return e.abrupt("return",{success:!0,data:r.data});case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fj=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"_uploadObserver",null),m()(l()(e),"_audioUrl",null),m()(l()(e),"_QueryingUrl",!1),m()(l()(e),"_stopQuery",!1),m()(l()(e),"onTranscodeSuccess",(function(t){e._audioUrl=t.data.audio,e.uiViewProxy.rerender({audioUrl:t.data.audio,uiStatus:"transcoded"}),e.cardData.setStatus("uploaded"),e.cardData.sync(!0),e.refreshToolbar()})),m()(l()(e),"onTranscodeError",(function(t){t.message&&e.cardData.setErrorMessage(t.message),e.cardData.setStatus("error"),e.cardData.sync(!0)})),m()(l()(e),"onQueryUrlSuccess",(function(t){e._audioUrl=t.data.audio,e.uiViewProxy.rerender({audioUrl:t.data.audio}),e.cardData.setStatus("uploaded"),e.cardData.sync(!1)})),m()(l()(e),"onQueryUrlError",(function(t){t.message&&e.cardData.setErrorMessage(t.message),e.cardData.setStatus("error"),e.cardData.sync(!1)})),m()(l()(e),"tryPollingAudioUrl",(function(){e._audioUrl||!e.cardData.getId()||e._QueryingUrl||e._stopQuery||(e.pollingAudioUrl(),e._QueryingUrl=!0,e.uiViewProxy.rerender({uiStatus:"transcoding"}))})),m()(l()(e),"pollingAudioUrl",(function(){e._QueryingUrl||e._stopQuery||(e._QueryingUrl=!0,Bj(e.cardData.getId(),e.pluginOption.queryUrl).then((function(t){e.destroyed||(e._QueryingUrl=!1,t&&t.success?(e._stopQuery=!0,e.onTranscodeSuccess(t)):t&&!t.success?(e._stopQuery=!0,t.message=Sj.transcodeError,e.onTranscodeError(t)):setTimeout((function(){e.pollingAudioUrl()}),3e3))})))})),m()(l()(e),"downloadFile",(function(){lj(e._audioUrl)})),e}return a()(i,[{key:"init",value:function(e){var t=this;this._uploadObserver=e,this.uiViewProxy=cO.render(Dj,{cardData:this.cardData,uploadObserver:this._uploadObserver,audioUrl:this._audioUrl,allowAudioPlayer:this.pluginOption.allowAudioPlayer,message:Sj,onUploadStart:function(){"uploading"!==t.cardData.getStatus()&&(t.cardData.setStatus("uploading"),t.cardData.sync(!0))},onUploadSuccess:function(e){t.cardData.setId(e.video_id),t.cardData.setStatus("uploaded"),e.filesize&&t.cardData.setFileSize(e.filesize),e.filename&&t.cardData.setFileName(e.filename),t.cardData.sync(!0)},onUploadError:function(e){e.message&&t.cardData.setErrorMessage(e.message),t.cardData.setStatus("error"),t.cardData.sync(!0)}},this.containerNode),this.tryPollingAudioUrl(),this.cardData.on("change",this.tryPollingAudioUrl)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this)}},{key:"openSetting",value:function(){this.emit("openSetting")}},{key:"getCardToolbarConfig",value:function(){var e=this;return this._audioUrl?[{name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile},"|",{name:"preferences",text:xm("设置"),icon:"preferences",onClick:function(){return e.openSetting()}}]:null}},{key:"getContainerToolbarConfig",value:function(){return this._audioUrl?{draggable:!0,items:["delete","copy","|","widthMode","|","spacing"]}:null}}]),i}();FN(".ne-card-audio-sidebar .ne-sidebar-body .ant-checkbox-wrapper {\n  margin-right: 8px;\n}\n");var Tj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleChangeAllowDownloadInViewer",(function(t){e.props.onChangeAllowDownloadInViewer(t.target.checked)})),e}return a()(i,[{key:"render",value:function(){var e=this,t=this.props.cardData.getAllowDownloadInViewer();return Re.a.createElement(bF,{className:"ne-card-audio-sidebar"},Re.a.createElement(bF.Header,{onClose:function(){e.props.descriptor.close()}},xm("本地音频设置")),Re.a.createElement(bF.Body,null,Re.a.createElement(ht.a,{checked:t,onChange:this.handleChangeAllowDownloadInViewer},xm("允许在阅读页下载文件"))))}}]),i}();m()(Tj,"propTypes",{descriptor:De.a.instanceOf(fF).isRequired,cardData:De.a.object,onChangeAllowDownloadInViewer:De.a.func});var Mj=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_audioCardNode",null),m()(l()(t),"_viewHandle",null),m()(l()(t),"handleChangeAllowDownloadInViewer",(function(e){t._audioCardNode.cardData.setAllowDownloadInViewer(e),t._audioCardNode.cardData.sync(!0)})),t._audioCardNode=e,t}return a()(i,[{key:"init",value:function(){this._viewHandle=XN.render(Tj,{cardData:this._audioCardNode.cardData,descriptor:this,onChangeAllowDownloadInViewer:this.handleChangeAllowDownloadInViewer},this.sidebarRootNode)}},{key:"destroy",value:function(){this._viewHandle&&(this._viewHandle.destroy(),this._viewHandle=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!1}}]),i}();var Lj=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),m()(l()(t),"_cardUI",null),m()(l()(t),"openSidebar",(function(){t._iEditor.hasExtend("sidebar")&&(t._descriptor=new Mj(l()(t)),t._iEditor.sidebar.open(t._descriptor))})),m()(l()(t),"closeSidebar",(function(){t._descriptor&&(t._descriptor.close(),t._descriptor=null)})),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;br(this._iEditor.hasExtend("uploadObserver"),"F:audio-card-node;L:21"),this._cardUI=this._iEditor.createCardUI(this,this._iEditor.uploadObserver),this._cardUI.on("openSetting",(function(){return e.openSidebar()}))}},{key:"destroy",value:function(){this._cardUI.destroy(),this.closeSidebar(),this._cardUI=null}},{key:"$blur",value:function(){this.closeSidebar(),B()(p()(i.prototype),"$blur",this).call(this)}},{key:"sync",value:function(){return!this._iEditor.iEngine.nodeIsInTree(this.viewNode)||this.cardData.isCompleted()}}]),i}();m()(Lj,"$EditableCardUI",Fj),m()(Lj,"$CardData",Ow);var Aj=function(e){u()(i,Lc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"preReadFile",value:function(e,t,n){if(("audio"===(null==n?void 0:n.category)||"localDoc"===(null==n?void 0:n.category))&&"ui"===(null==n?void 0:n.from)){if(!e.checkFileSize("audio",t.file.size))return!1;var r=IB.uploadAudioFile(this._iEditor,[t.file]),o=E()(r,1)[0];return t._$neUploadTask=o,!1}}}]),i}();var Ij=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"audio",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(Lj,[e].concat(n))}}),e.iKernel.hasExtendMethod("registerPreFileReader")&&e.iKernel.registerPreFileReader(em.getAudioFileAccept(this.option.accept),new Aj(e)),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("audio",{type:"FileItem",icon:"card-audio",achromaticIcon:"card-audio-a",label:xm("本地音频"),name:"audio",multiple:!0,accept:em.getAudioFileAccept(this.option.accept),keywords:"音频,本地音频,yp,bendi,yinpin,bdyp,audio,mp3,sound,music,flac",recordDisable:!0})}},{key:"sync",value:function(){return 0===this.cardNodes.filter((function(e){return!1===e.sync()})).length}}]),i}();m()(Ij,"PluginName","audio"),m()(Ij,"PluginOption",Oj);var jj={startWeekDay:0},Vj=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},jj,e),t}return a()(i,[{key:"startWeekDay",get:function(){return this._option.startWeekDay}}]),i}();function zj(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e:n.map((function(t){return"".concat(e).concat("-"!==t.charAt(0)?"-":"").concat(t)})).join(" ")}}m()(Vj,"OptionName",fb);var Uj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-calendar-header")),m()(l()(e),"handleGotoPrevMonth",(function(t){t.stopPropagation(),e.changeCurrentDate(Iw,Vw,1)})),m()(l()(e),"handleGotoNextMonth",(function(t){t.stopPropagation(),e.changeCurrentDate("add",Vw,1)})),m()(l()(e),"changeCurrentDate",(function(t,n,r){var o=Aw(e.props.cardData.getCurrentDate())[t](r,n);e.props.onCurrentDateChange(Lw(o))})),m()(l()(e),"handleGotoToday",(function(){var t=Lw(Mw());e.props.cardData.getCurrentDate()!==t&&e.props.onCurrentDateChange(t)})),m()(l()(e),"handleClick",(function(){e.props.onClick()})),e}return a()(i,[{key:"render",value:function(){var e=Aw(this.props.cardData.getCurrentDate());return Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName(),onClick:this.handleClick},Re.a.createElement(gt.a,{className:this.getClassName("today-button"),"data-testid":this.getClassName("today-button"),onClick:this.handleGotoToday},xm("今天")),Re.a.createElement("div",{className:this.getClassName("month-selector")},Re.a.createElement("div",{className:this.getClassName("month-selector-prev"),"data-testid":this.getClassName("prev-month-button"),onClick:this.handleGotoPrevMonth},Re.a.createElement(oE,{type:"left-outlined"})),Re.a.createElement("div",{className:this.getClassName("month-selector-date"),"data-testid":this.getClassName("month")},e.format(xm("YYYY 年 M 月"))),Re.a.createElement("div",{className:this.getClassName("month-selector-next"),"data-testid":this.getClassName("next-month-button"),onClick:this.handleGotoNextMonth},Re.a.createElement(oE,{type:"right-outlined"}))))}}]),i}();m()(Uj,"propTypes",{cardData:De.a.object,onClick:De.a.func,onCurrentDateChange:De.a.func});var Hj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-calendar-content-week-names")),e}return a()(i,[{key:"render",value:function(){for(var e=[],t=this.props.cardData.getStartWeekDay(),n=0;n<7;n++){var r=(t+n)%7;e.push(Re.a.createElement("div",{className:this.getClassName("item"),"data-testid":"ne-card-calendar-week-names-item",key:r},xm(zw[r])))}return Re.a.createElement("div",{className:this.getClassName(),"data-testid":"ne-card-calendar-week-names"},e)}}]),i}();m()(Hj,"propTypes",{cardData:De.a.object.isRequired});var qj=Object(Ut.b)(zt.a),Wj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(qj,Ee()({},this.props,{locale:"enUS"===bm.getLanguage()?qt.a.DatePicker:Ht.a.DatePicker}),this.props.children)}}]),i}();m()(Wj,"RangePicker",qj.RangePicker),m()(Wj,"propTypes",{children:De.a.node}),FN(".ne-ui-select .ant-select-selector input {\n  display: none;\n}\n");var Zj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=nw(this.props.className,"ne-ui-select");return Re.a.createElement(Mt.a,{className:e,dropdownClassName:this.props.dropdownClassName,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:this.props.dropdownMatchSelectWidth,getPopupContainer:this.props.getPopupContainer,options:this.props.options,disabled:this.props.disabled,size:this.props.size,value:this.props.value,onChange:this.props.onChange,onDropdownVisibleChange:this.props.onDropdownVisibleChange},this.props.children)}}]),i}();m()(Zj,"propTypes",{className:De.a.string,dropdownClassName:De.a.string,dropdownMatchSelectWidth:De.a.bool,getPopupContainer:De.a.func,disabled:De.a.bool,options:De.a.arrayOf(De.a.shape({label:De.a.string,value:De.a.any})),value:De.a.any,size:De.a.string,onChange:De.a.func,onDropdownVisibleChange:De.a.func,children:De.a.node}),m()(Zj,"defaultProps",{value:null,onChange:function(){}}),m()(Zj,"Option",Mt.a.Option),FN('.ne-card-calendar-schedule-panel-textarea {\n  resize: none;\n  border: none;\n  background: transparent;\n  padding-left: 0;\n}\n.ne-card-calendar-schedule-panel-textarea:focus {\n  box-shadow: none;\n}\n.ne-card-calendar-schedule-panel-textarea-title {\n  font-size: 18px;\n}\n.ne-card-calendar-schedule-panel-textarea-desc {\n  font-size: 12px;\n}\n.ne-card-calendar-schedule-panel-color-select-dropdown {\n  width: 122px;\n}\n.ne-card-calendar-schedule-panel-color-select-option {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.ant-select-selector .ne-card-calendar-schedule-panel-color-select-option {\n  height: 100%;\n}\n.ant-select-selector .ne-card-calendar-schedule-panel-color-select-option-status,\n.ant-select-selector .ne-card-calendar-schedule-panel-color-select-option-name {\n  display: none;\n}\n.ne-card-calendar-schedule-panel-color-select-option-status {\n  flex: 0 0 14px;\n}\n.ne-card-calendar-schedule-panel-color-select-option-status[data-selected="true"] {\n  background: url("https://gw.alipayobjects.com/zos/bmw-prod/16f5566a-e266-4417-b762-3bd0e1f8296a.svg") no-repeat center center;\n  height: 14px;\n  background-size: 14px 14px;\n}\n.ne-card-calendar-schedule-panel-color-select-option-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 0 0 24px;\n}\n.ne-card-calendar-schedule-panel-color-select-option-box-content {\n  width: 8px;\n  height: 8px;\n}\n.ne-card-calendar-schedule-panel-color-select-option-name {\n  flex: 1;\n  font-size: 14px;\n  color: #595959;\n  font-weight: normal;\n}\n.ne-card-calendar-schedule-panel-date-picker {\n  padding-left: 0;\n}\n.ne-card-calendar-schedule-panel-date-picker .ant-picker-active-bar {\n  transform: translateX(-11px);\n}\n.ne-card-calendar-schedule-panel-date-picker .ant-picker-suffix,\n.ne-card-calendar-schedule-panel-date-picker .ant-picker-clear {\n  display: none;\n}\n.ne-card-calendar-schedule-panel-icon-calendar-e {\n  margin-top: 7px;\n}\n.ne-card-calendar-schedule-panel-icon-desc-e {\n  margin-top: 4px;\n}\n.ne-card-calendar-schedule-panel-button-box {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  display: flex;\n}\n.ne-card-calendar-schedule-panel-button-box .ne-icon {\n  margin: 6px;\n  cursor: pointer;\n}\n.ne-card-calendar-schedule-panel-button-box .ne-icon:hover {\n  background: #f0f0f0;\n  color: #000;\n}\n');var Kj=Zj.Option,$j=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t,n,a,c,s,u;return o()(this,i),u=r.call(this,e),m()(l()(u),"titleRef",Re.a.createRef()),m()(l()(u),"getValue",(function(){return{colorIndex:u.state.colorIndex,title:u.state.title,desc:u.state.desc,start:u.state.start,end:u.state.end}})),m()(l()(u),"handleClose",(function(){u.props.onClose()})),m()(l()(u),"handleOverlayClose",(function(e){!1===e&&u.props.onOverlayClose&&u.props.onOverlayClose()})),m()(l()(u),"syncValue",(function(e,t,n){(0!==u.changeValueCount||"title"!==e||t)&&(u.changeValueCount+=1,u.props.onChange({id:u.props.schedule.id,name:e,value:t,sync:n}))})),m()(l()(u),"changeValue",(function(e){var t=e.name,n=e.value,r=e.debounce;"object"===R()(t)?u.setState(t):u.setState(m()({},t,n)),r?u.debounceSyncValue(t,n,!1):u.syncValue(t,n)})),m()(l()(u),"handleChangeColorIndex",(function(e){u.changeValue({name:"colorIndex",value:e})})),m()(l()(u),"handleChangeTitle",(function(e){return function(t){u.changeValue({name:"title",value:t.target.value,debounce:e})}})),m()(l()(u),"handleChangeDesc",(function(e){return function(t){u.changeValue({name:"desc",value:t.target.value,debounce:e})}})),m()(l()(u),"handleChangeDate",(function(e){var t=E()(e,2),n=t[0],r=t[1];u.changeValue({name:{start:Lw(n),startDate:n,end:Lw(r),endDate:r}})})),m()(l()(u),"getClassName",zj("ne-card-calendar-schedule-panel")),m()(l()(u),"renderTitle",(function(){return u.renderItem(null,Re.a.createElement(Me.a.TextArea,{className:u.getClassName("textarea","textarea-title"),"data-testid":u.getClassName("title"),ref:u.titleRef,placeholder:xm("添加日程标题"),autoSize:{minRows:1,maxRows:3},value:u.state.title,onPressEnter:u.handleClose,onChange:u.handleChangeTitle(!0),onBlur:u.handleChangeTitle(!1)}))})),m()(l()(u),"renderColorSelect",(function(){return u.renderItem(null,Re.a.createElement(Zj,{className:u.getClassName("color-select"),value:u.state.colorIndex,getPopupContainer:function(e){return u.props.popupContainer||e.parentNode},destroyTooltipOnHide:!0,defaultActiveFirstOption:!1,dropdownClassName:u.getClassName("color-select-dropdown"),dropdownMatchSelectWidth:!1,onChange:u.handleChangeColorIndex,onDropdownVisibleChange:u.handleOverlayClose,size:"small"},Uw.map((function(e,t){return Re.a.createElement(Kj,{key:t,value:t},Re.a.createElement("div",{className:u.getClassName("color-select-option")},Re.a.createElement("div",{className:u.getClassName("color-select-option-status"),"data-selected":u.state.color===t}),Re.a.createElement("div",{className:u.getClassName("color-select-option-box")},Re.a.createElement("div",{className:u.getClassName("color-select-option-box-content"),style:{background:e.line}})),Re.a.createElement("div",{className:u.getClassName("color-select-option-name")},xm(e.name))))}))))})),m()(l()(u),"renderDivider",(function(){return u.renderItem(null,Re.a.createElement(Tt.a,{className:u.getClassName("divider")}))})),m()(l()(u),"renderDatePicker",(function(){return u.renderItem(Re.a.createElement("div",{className:u.getClassName("icon","icon-calendar","icon-calendar-e")}),Re.a.createElement(Wj.RangePicker,{className:u.getClassName("date-picker"),"data-testid":u.getClassName("date-picker"),getPopupContainer:function(){return u.props.popupContainer||document.body},bordered:!1,value:[u.state.startDate,u.state.endDate],onChange:u.handleChangeDate,onOpenChange:u.handleOverlayClose}))})),m()(l()(u),"renderDesc",(function(){return u.renderItem(Re.a.createElement("div",{className:u.getClassName("icon","icon-desc","icon-desc-e")}),Re.a.createElement(Me.a.TextArea,{className:u.getClassName("textarea","textarea-desc"),"data-testid":u.getClassName("desc"),placeholder:xm("添加说明"),autoSize:{minRows:1,maxRows:4},value:u.state.desc,onPressEnter:u.handleClose,onChange:u.handleChangeDesc(!0),onBlur:u.handleChangeDesc(!1)}))})),m()(l()(u),"renderItem",(function(e,t){return Re.a.createElement("div",{className:u.getClassName("item")},Re.a.createElement("div",{className:u.getClassName("item-side")},e),Re.a.createElement("div",{className:u.getClassName("item-content")},t))})),m()(l()(u),"renderButton",(function(){return Re.a.createElement("div",{className:u.getClassName("button-box"),"data-testid":u.getClassName("button-box")},Re.a.createElement(Be.a,{title:xm("删除")},Re.a.createElement("div",{className:u.getClassName("delete-btn"),onClick:u.props.onDelete},Re.a.createElement(oE,{type:"delete"}))),Re.a.createElement(Be.a,{title:xm("关闭")},Re.a.createElement("div",{className:u.getClassName("close-btn"),onClick:u.handleClose},Re.a.createElement(oE,{type:"close"}))))})),u.state={colorIndex:null!==(t=u.props.schedule.colorIndex)&&void 0!==t?t:0,title:null!==(n=u.props.schedule.title)&&void 0!==n?n:null,desc:null!==(a=u.props.schedule.desc)&&void 0!==a?a:null,start:null!==(c=u.props.schedule.start)&&void 0!==c?c:null,startDate:null,end:null!==(s=u.props.schedule.end)&&void 0!==s?s:null,endDate:null},u.state.start&&(u.state.startDate=Aw(u.state.start)),u.state.end&&(u.state.endDate=Aw(u.state.end)),u.debounceSyncValue=K()(u.syncValue,100),u.changeValueCount=0,u}return a()(i,[{key:"componentDidMount",value:function(){var e,t=this;null!==(e=this.titleRef)&&void 0!==e&&e.current&&!this.state.title&&setTimeout((function(){var e;null===(e=t.titleRef.current)||void 0===e||e.focus()}),200)}},{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName()},this.renderButton(),this.renderTitle(),this.renderColorSelect(),this.renderDivider(),this.renderDatePicker(),this.renderDesc())}}]),i}();m()($j,"propTypes",{schedule:De.a.object,popupContainer:De.a.object,onChange:De.a.func,onClose:De.a.func,onDelete:De.a.func,onOverlayClose:De.a.func});var Jj=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"getClassName",zj("ne-card-calendar-popover")),m()(l()(t),"handleVisibleChange",(function(e){t.setState({isShowPopover:e}),!1===e&&(t.props.onClose(void 0,!0),t.props.onOverlayClose&&t.props.onOverlayClose())})),t.state={isShowPopover:!0},t}return a()(i,[{key:"render",value:function(){var e=this;return Re.a.createElement(Se.a,{className:this.getClassName(),visible:this.state.isShowPopover,placement:this.props.pos.placement,getPopupContainer:function(){return e.props.popupContainer||document.body},destroyTooltipOnHide:!0,trigger:"click",onVisibleChange:this.handleVisibleChange,content:Re.a.createElement($j,{popupContainer:this.props.popupContainer,schedule:this.props.schedule,onChange:this.props.onChange,onClose:this.props.onClose,onDelete:this.props.onDelete,onOverlayClose:this.props.onOverlayClose})},Re.a.createElement("div",{className:this.getClassName("fake-line"),style:{left:this.props.pos.x,top:this.props.pos.y}}))}}]),i}();function Yj(e){var t=e.schedule,n=e.colIndex,r=e.date,o=e.activeScheduleId,i=t.id===o,a=Uw[t.colorIndex];a||(a=Uw[0]);var c={borderColor:i?a.line:a.border,backgroundColor:i?a.line:a.background},l={background:i?"#fff":a.line},s={borderRightColor:i?"#fff":a.line},u={borderLeftColor:i?"#fff":a.line},d=t.start===t.end,f=d;if(!d){var h=t.endDate.diff(r,jw)+1,p=Math.min(7-n,h),v=p+(8*p-3),m=t.isStartDate(r),y=r.add(p-1,jw);t.isEndDate(y)?(v-=m?6:1,f=!0):t.isStartDate(r)||(v+=5),c.width="calc(".concat(100*p,"% + ").concat(v,"px)")}return{lineStyle:c,labelStyle:l,leftArrowStyle:s,rightArrowStyle:u,isShowControl:f}}function Gj(e){var t=e.schedule,n=e.date,r=e.colIndex,o=t.isStartDate(n),i=n.add(7-r-1,jw),a=t.endDate.isSameOrBefore(i),c=t.isEndDate(i);return a?o&&c?"leftTop":"rightTop":o?"leftTop":"rightTop"}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xj(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Jj,"propTypes",{schedule:De.a.object.isRequired,onChange:De.a.func,onClose:De.a.func,onDelete:De.a.func,pos:De.a.object,popupContainer:De.a.object,onOverlayClose:De.a.func});var eV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"ref",Re.a.createRef()),m()(l()(e),"getClassName",zj("ne-card-calendar-schedule-line")),m()(l()(e),"handleSelectSchedule",(function(t){if(t.stopPropagation(),t.preventDefault(),e.ignoreSelectSchedule)e.ignoreSelectSchedule=!1;else{var n=e.props,r=n.schedule,o=n.activeScheduleId,i=n.dragScheduleId,a=n.resizeScheduleId,c=r.id;if(o===c){if(i||a)return;e.handleOpenSchedule(t)}else e.props.onSelect(c)}})),m()(l()(e),"handleOpenSchedule",(function(t,n){null==t||t.stopPropagation(),null==t||t.preventDefault();var r=Gj(e.props),o=e.ref.current.getBoundingClientRect(),i={x:0===r.indexOf("left")?o.left:o.right,y:o.top};e.props.onOpen(e.props.schedule,Qj(Qj({},i),{},{placement:r}),n)})),m()(l()(e),"handleBeforeDrag",(function(t){e.isDragging=!0;var n={x:t.pageX,y:t.pageY};setTimeout((function(){e.isDragging&&e.props.onBeforeDrag(e.props.schedule,n)}),150)})),m()(l()(e),"handleClearDrag",(function(){e.isDragging=!1})),m()(l()(e),"handleBeforeResize",(function(){e.props.onBeforeResize(e.props.schedule)})),e}return a()(i,[{key:"componentDidMount",value:function(){this.props.newScheduleId===this.props.schedule.id&&this.handleOpenSchedule(void 0,!0)}},{key:"componentDidUpdate",value:function(e){var t=this;e.resizeScheduleId&&!this.props.resizeScheduleId?(this.ignoreSelectSchedule=!0,setTimeout((function(){t.ignoreSelectSchedule=!1}),0)):this.ignoreSelectSchedule=!1}},{key:"render",value:function(){var e,t,n=this.props,r=n.schedule,o=n.date,i=n.activeScheduleId,a=r.isStartDate(o),c=r.id===i,l=(t=Yj(e=this.props),e.dragScheduleId===e.schedule.id&&(t.lineStyle.opacity=0),t),s=l.lineStyle,u=l.labelStyle,d=l.leftArrowStyle,f=l.rightArrowStyle,h=l.isShowControl;return Re.a.createElement("div",{className:this.getClassName(),ref:this.ref,style:s,"data-id":r.id,"data-active":c,"data-is-start":a,"data-line":"true","data-schedule-line":"true","data-control":String(h),onClick:this.handleSelectSchedule,onDoubleClick:this.handleOpenSchedule},a?Re.a.createElement("div",{className:this.getClassName("label"),style:u}):Re.a.createElement("div",{className:this.getClassName("right-arrow"),style:f}),Re.a.createElement("div",{className:this.getClassName("title"),"data-not-title":!r.title,onMouseDown:this.handleBeforeDrag,onMouseUp:this.handleClearDrag},r.title||xm("添加日程标题")),h?Re.a.createElement("div",{className:this.getClassName("control"),onMouseDown:this.handleBeforeResize}):Re.a.createElement("div",{className:this.getClassName("left-arrow"),style:d}))}}]),i}();m()(eV,"propTypes",{schedule:De.a.object.isRequired,onSelect:De.a.func,activeScheduleId:De.a.string,newScheduleId:De.a.string,dragScheduleId:De.a.string,resizeScheduleId:De.a.string,colIndex:De.a.number,rowIndex:De.a.number,date:De.a.object,onOpen:De.a.func,onBeforeResize:De.a.func,onBeforeDrag:De.a.func}),FN('.ne-card-calendar-schedule-snapshot {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n}\n.ne-card-calendar-schedule-snapshot-line {\n  position: absolute;\n}\n.ne-card-calendar-schedule-snapshot .ne-card-calendar-schedule-line {\n  width: auto !important;\n  margin-top: 0;\n  opacity: 0.8 !important;\n}\n.ne-card-calendar-schedule-snapshot .ne-card-calendar-schedule-line[data-is-start="false"] {\n  left: 0;\n}\n');var tV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"ref",Re.a.createRef()),m()(l()(t),"getClassName",zj("ne-card-calendar-schedule-snapshot")),m()(l()(t),"moving",(function(e){t.ref.current.style.transform="translate(".concat(e.x,"px, ").concat(e.y,"px)")})),m()(l()(t),"getLines",(function(e){var n=e.boxInfo,r=e.scheduleId,o=n.top,i=n.left;return x()(e.boxNode.querySelectorAll('.ne-card-calendar-schedule-line[data-id="'.concat(r,'"]'))).map((function(e,n){var r=e.getBoundingClientRect();return Re.a.createElement("div",{className:t.getClassName("line"),key:n,style:{top:r.top-o,left:r.left-i,width:r.width,height:r.height},dangerouslySetInnerHTML:{__html:e.outerHTML}})}))}));var n=e.boxInfo,a=n.width,c=n.height,s=t.getLines(e);return t.state={lines:s,style:{width:a,height:c}},t}return a()(i,[{key:"shouldComponentUpdate",value:function(e,t){return t.lines.length!==this.state.lines.length}},{key:"componentDidMount",value:function(){0===this.state.lines.length&&this.setState({lines:this.getLines(this.props)})}},{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName(),ref:this.ref,style:this.state.style},this.state.lines)}}]),i}();function nV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nV(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(tV,"propTypes",{boxNode:De.a.any,boxInfo:De.a.object,scheduleId:De.a.string}),FN('ne-card[data-card-name="calendar"] {\n  /* stylelint-disable-line */\n}\nne-card[data-card-name="calendar"] .ne-card-container {\n  background: #fafafa;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar {\n  position: relative;\n  padding: 0 16px 16px 16px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 72px;\n  position: relative;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header-today-button {\n  position: absolute;\n  top: 20px;\n  right: 16px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-prev,\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-next {\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  background-repeat: no-repeat;\n  background-position: center center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-prev .ne-icon,\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-next .ne-icon {\n  color: #8c8c8c;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-prev:hover .ne-icon,\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-next:hover .ne-icon {\n  color: #000;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-date {\n  margin: 0 20px;\n  font-size: 16px;\n  font-weight: 500;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-week-names {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 8px 0;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-week-names-item {\n  flex: 1;\n  font-size: 12px;\n  font-weight: 500;\n  color: #8c8c8c;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box {\n  position: relative;\n  border: 1px solid #d9d9d9;\n  border-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row {\n  display: flex;\n  flex-direction: row;\n  border-bottom: 1px solid #d9d9d9;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row:first-of-type .ne-card-calendar-content-box-row-cell:first-of-type {\n  border-top-left-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row:first-of-type .ne-card-calendar-content-box-row-cell:last-of-type {\n  border-top-right-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row:last-of-type,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row[data-last="true"] {\n  border-bottom: none;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row:last-of-type .ne-card-calendar-content-box-row-cell:first-of-type,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row[data-last="true"] .ne-card-calendar-content-box-row-cell:first-of-type {\n  border-bottom-left-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row:last-of-type .ne-card-calendar-content-box-row-cell:last-of-type,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row[data-last="true"] .ne-card-calendar-content-box-row-cell:last-of-type {\n  border-bottom-right-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  min-height: 84px;\n  padding: 4px 4px 10px 4px;\n  background-color: #fff;\n  border-right: 1px solid #d9d9d9;\n  min-width: 0;\n  position: relative;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell:first-of-type,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell:last-of-type {\n  background-color: #fafafa;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell:last-of-type {\n  border-right: none;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell:hover .ne-card-calendar-content-box-row-cell-date-plus {\n  display: block;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="full"]::after,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="half"]::after,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="left"]::after,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="right"]::after {\n  content: \' \';\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  bottom: -1px;\n  left: -1px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="full"]::after {\n  border: 1px solid #77c386;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="half"]::after,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="left"]::after,\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="right"]::after {\n  border-top: 1px solid #77c386;\n  border-bottom: 1px solid #77c386;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="left"]::after {\n  border-left: 1px solid #77c386;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border="right"]::after {\n  border-right: 1px solid #77c386;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border-style="top-left-corner"]::after {\n  border-top-left-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border-style="top-right-corner"]::after {\n  border-top-right-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border-style="bottom-left-corner"]::after {\n  border-bottom-left-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell[data-border-style="bottom-right-corner"]::after {\n  border-bottom-right-radius: 4px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-date {\n  color: #595959;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row-reverse;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-date-plus {\n  display: none;\n  width: 12px;\n  height: 12px;\n  border: 1px solid #d9d9d9;\n  background: #fff url("https://gw.alipayobjects.com/zos/bmw-prod/7ac8d36f-f041-4ee7-b1fe-d13404e9acea.svg") no-repeat center center;\n  background-size: 10px 10px;\n  border-radius: 2px;\n  cursor: pointer;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-date-text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 18px;\n  height: 18px;\n  font-size: 12px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-date[data-today="true"] .ne-card-calendar-content-box-row-cell-date-text {\n  border-radius: 50%;\n  color: #fff;\n  background-color: #69abe4;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-date[data-fade="true"] {\n  color: #bfbfbf;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-schedule-index {\n  height: 2px;\n  margin-top: 2px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-schedule-holder {\n  height: 24px;\n  margin-top: 2px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line {\n  display: flex;\n  height: 24px;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 2px;\n  box-sizing: border-box;\n  margin-top: 2px;\n  z-index: 2;\n  cursor: pointer;\n  align-items: center;\n  position: relative;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line[data-active="true"] .ne-card-calendar-schedule-line-title {\n  color: #fff;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line[data-is-start="false"] {\n  left: -5px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line[data-control="false"] {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-label {\n  flex: 0 0 2px;\n  width: 2px;\n  height: 12px;\n  border-radius: 1px;\n  margin: 0 4px 0 5px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-left-arrow,\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-right-arrow {\n  position: relative;\n  flex: 0 0 4px;\n  width: 0;\n  height: 0;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-left-arrow {\n  right: -1px;\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-right-width: 4px;\n  border-right-style: solid;\n  margin-left: 8px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-right-arrow {\n  left: -1px;\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left-width: 4px;\n  border-left-style: solid;\n  margin-right: 8px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-title {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  color: #595959;\n  min-width: 0;\n  flex: 1;\n  height: 100%;\n  line-height: 22px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-title[data-not-title="true"] {\n  color: #bfbfbf;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-schedule-line-control {\n  flex: 0 0 16px;\n  height: 100%;\n  cursor: ew-resize;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-popover-fake-line {\n  position: absolute;\n  width: 1px;\n  height: 24px;\n}\nne-card[data-card-name="calendar"] .ne-card-calendar-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: transparent;\n  z-index: 2;\n}\n.ne-card-calendar-schedule-panel {\n  width: 320px;\n  box-sizing: border-box;\n  padding: 24px 16px;\n  display: flex;\n  background: #fff;\n  flex-direction: column;\n}\n.ne-card-calendar-schedule-panel-item {\n  display: flex;\n  flex-direction: row;\n}\n.ne-card-calendar-schedule-panel-item-side {\n  flex: 0 0 36px;\n}\n.ne-card-calendar-schedule-panel-item-content {\n  flex: 1;\n}\n.ne-card-calendar-schedule-panel-icon {\n  width: 16px;\n  height: 16px;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: 16px 16px;\n}\n.ne-card-calendar-schedule-panel-icon-calendar {\n  background-image: url("https://gw.alipayobjects.com/zos/bmw-prod/524c6fbd-2711-47e5-a2f1-c03b27a7e979.svg");\n}\n.ne-card-calendar-schedule-panel-icon-desc {\n  background-image: url("https://gw.alipayobjects.com/zos/bmw-prod/31781942-31fc-4d5b-97e7-97b295e9e692.svg");\n}\n.ne-card-calendar-schedule-panel-divider {\n  margin: 8px 0 16px 0;\n}\n');var oV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"containerRef",Re.a.createRef()),m()(l()(t),"boxRef",Re.a.createRef()),m()(l()(t),"snapshotRef",Re.a.createRef()),m()(l()(t),"getClassName",zj("ne-card-calendar")),m()(l()(t),"closePopover",(function(){t.handleCloseSchedule()})),m()(l()(t),"handleOverlayClose",(function(){t.props.onOverlayClose&&t.props.onOverlayClose()})),m()(l()(t),"handleDeleteOrCloseSchedule",(function(e){var n=jE.isBackspace(e),r=!1;n||(r=jE.isDelete(e)),(n||r)&&!t.state.isShowPopover&&t.state.activeScheduleId&&(e.stopPropagation(),e.preventDefault(),t.deleteSchedule(t.state.activeScheduleId)),jE.isEscape(e)&&t.state.isShowPopover&&(e.stopPropagation(),e.preventDefault(),t.handleCloseSchedule())})),m()(l()(t),"onDeleteSchedule",(function(){var e=t.state.activeScheduleId;t.handleCloseSchedule(),t.deleteSchedule(e)})),m()(l()(t),"deleteSchedule",(function(e){var n=t.props.cardData.getScheduleList().filter((function(t){return t.id===e}))[0];n&&t.props.onScheduleChange({type:"delete",schedule:n.toJSON(),sync:!0})})),m()(l()(t),"handleCreateSchedule",(function(e){return function(n){n.stopPropagation(),n.preventDefault();var r=t.props.cardData.getColorIndex()%Uw.length,o=new Hw({colorIndex:r,start:Lw(e)});t.setState({activeScheduleId:o.id,newScheduleId:o.id}),t.props.onScheduleChange({type:"add",schedule:o.toJSON(),sync:!0}),t.props.onColorIndexChange((r+1)%Uw.length)}})),m()(l()(t),"handleSelectedSchedule",(function(e){t.state.activeScheduleId!==e&&(t.setState({activeScheduleId:e}),t.props.onEditingStatusChange(!0))})),m()(l()(t),"handleOpenSchedule",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.containerRef.current.getBoundingClientRect();t.setState({isShowPopover:!0,newScheduleId:"",popoverInfo:{pos:rV(rV({},n),{},{x:n.x-o.left,y:n.y-o.top}),schedule:e,isNewSchedule:r,isChangedSchedule:!1}}),t.props.onEditingStatusChange(!0)})),m()(l()(t),"handleCloseSchedule",(function(e){var n,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||e.stopPropagation(),null!==(n=t.state.popoverInfo)&&void 0!==n&&n.isNewSchedule&&!1===(null===(r=t.state.popoverInfo)||void 0===r?void 0:r.isChangedSchedule)){t.deleteSchedule(t.state.activeScheduleId);var i=t.props.cardData.getColorIndex()-1;i<0&&(i=0),t.props.onColorIndexChange(i%Uw.length)}(o||t.state.popoverInfo.isChangedSchedule)&&t.props.onSyncData(),t.setState({isShowPopover:!1,popoverInfo:{},activeScheduleId:""}),t.props.onEditingStatusChange(!1)})),m()(l()(t),"handleUpdateSchedule",(function(e){for(var n,r,o=e.id,i=e.name,a=e.value,c=e.sync,l=void 0===c||c,s=e.index,u=t.props.cardData.getScheduleList(),d=null,f=0;f<u.length;f++)if(u[f].id===o){d=u[f];break}if(d){var h=Hw.convert(d);"object"===R()(i)?Object.keys(i).forEach((function(e){h.updateValue(e,i[e])})):h.updateValue(i,a),t.props.onScheduleChange({type:"update",schedule:h.toJSON(),prevSchedule:d.toJSON(),sync:l,index:s})}null===(n=t.state.popoverInfo)||void 0===n||!n.isNewSchedule||null!==(r=t.state.popoverInfo)&&void 0!==r&&r.isChangedSchedule||t.setState({popoverInfo:rV(rV({},t.state.popoverInfo),{},{isChangedSchedule:!0})})})),m()(l()(t),"makeRecords",(function(e,t){for(var n=[],r=0;r<e;r++)"function"==typeof t?n.push(t(r,n[r-1])):n.push([r*t,(r+1)*t]);return n})),m()(l()(t),"makeRowRecords",(function(){return t.makeRecords(t.props.cardData.getDateRows().length,(function(e,n){var r=t.boxRef.current.children[e].getBoundingClientRect().height;if(!n)return[0,r];var o=E()(n,2)[1];return[o,o+r]}))})),m()(l()(t),"getBoxInfo",(function(){var e=t.boxRef.current.getBoundingClientRect(),n=e.top,r=e.left,o=e.width,i=e.height,a=o/7;return{top:n,left:r,width:o,height:i,colWidth:a,rowHeight:i/t.props.cardData.getDateRows().length,colRecords:t.makeRecords(7,a),rowRecords:t.makeRowRecords()}})),m()(l()(t),"findBoxIndex",(function(e){var n=t.state.boxInfo,r=e.x-n.left,o=e.y-n.top,i=-1,a=-1;return n.rowRecords.forEach((function(e,t){var n=E()(e,2),r=n[0],a=n[1];r<=o&&o<=a&&(i=t)})),n.colRecords.forEach((function(e,t){var n=E()(e,2),o=n[0],i=n[1];o<=r&&r<=i&&(a=t)})),{rowIndex:i,colIndex:a}})),m()(l()(t),"getHighlightDateSchedulePosInfo",(function(e){for(var n,r=e.unix(),o=x()(t.boxRef.current.querySelectorAll(".".concat(t.getClassName("content-box-row-cell"),'[data-unix="').concat(r,'"] [data-line="true"]'))),i=-1,a=t.props.cardData.getDateScheduleMap()[Lw(e)],c=[],l=o.map((function(e){var t=e.getBoundingClientRect(),n=!1,r=e.getAttribute("data-id");return e.hasAttribute("data-schedule-line")?(n=!0,i+=1):c.push(a[r]),{start:t.top,end:t.top+t.height,id:r,isScheduleLine:n,index:n?i:i+1}})),s=Object.values(a),u=null===(n=jt()(l,(function(e){return!e.isScheduleLine})))||void 0===n?void 0:n.id,d=a[u],f=[],h=0;h<d;h++)s.includes(h)||f.push(h);return{dateSchedulePosRecords:l,scheduleLineCount:i+1,freeSlot:f,maxSlotOrder:d,blackOrders:c}})),m()(l()(t),"findHighlightDateSchedulePosIndex",(function(e){var n=-1,r=-1,o=t.state.highlightDateSchedulePosInfo,i=o.dateSchedulePosRecords,a=o.scheduleLineCount,c=i.length!==i.lineCount;if((null==i?void 0:i.length)>0&&(At()(i,(function(t,o){if(0===o){var a=t.end;if(e.y<=a)return n=o,r=t.index,!1}else{var c=i[o-1].end,l=t.end;if(c<e.y&&e.y<=l)return n=o,r=t.index,!1}})),-1===n)){var l=i[i.length-1].end;e.y>l&&(n=i.length,r=a)}if(-1!==n&&c){var s=t.state.highlightDateSchedulePosInfo,u=s.freeSlot,d=s.blackOrders;if(d.length===i.length)n=u.length?u[0]:-1;else if(d.includes(n)){for(var f=n;d.includes(f);)f+=1;u.length&&f>u[u.length-1]&&(f=u[0]),n=f}}return{posIndex:n,scheduleIndex:r}})),m()(l()(t),"handleBeforeResizeSchedule",(function(e){t.setState({activeScheduleId:e.id,isResizingSchedule:!0,resizeSchedule:e,resizeScheduleId:e.id,boxInfo:t.getBoxInfo()})})),m()(l()(t),"handleBeforeDragSchedule",(function(e,n){!t.startMovingPos&&n&&(t.startMovingPos=rV({},n)),t.setState({activeScheduleId:e.id,isDraggingSchedule:!0,dragSchedule:e,dragScheduleId:e.id,boxInfo:t.getBoxInfo()},(function(){t.setState({isShowScheduleSnapshot:!0})}))})),m()(l()(t),"handleResizeOrDragSchedule",(function(e){if(e.stopPropagation(),e.preventDefault(),t.state.isResizingSchedule||t.state.isDraggingSchedule){var n={x:e.pageX,y:e.pageY};t.startMovingPos||(t.startMovingPos=rV({},n));var r=t.findBoxIndex(n),o=r.rowIndex,i=r.colIndex;if(-1!==o&&-1!==i){var a=t.props.cardData.getDateRows()[o][i];if(t.state.isResizingSchedule){var c=t.state.resizeSchedule;if(a.isSameOrAfter(c.startDate,jw)&&!c.endDate.isSame(a,jw)){t.handleUpdateSchedule({id:c.id,name:"endDate",value:a,sync:!1});var l=Hw.cloneWithUpdateValue(c,"endDate",a);t.setState({resizeSchedule:l,boxInfo:rV(rV({},t.state.boxInfo),{},{rowRecords:t.makeRowRecords()})})}}if(t.state.isDraggingSchedule){var s,u;if(t.state.highlightDate!==a)t.setState({highlightDate:a,highlightDateSchedulePosInfo:t.getHighlightDateSchedulePosInfo(a)});else{var d=t.findHighlightDateSchedulePosIndex(n),f=d.posIndex,h=d.scheduleIndex;t.state.dragSchedulePosIndex===f&&t.state.dragScheduleIndex===h||t.setState({dragScheduleIndex:h,dragSchedulePosIndex:f,dragScheduleColorIndex:t.state.dragSchedule.colorIndex})}null!==(s=t.snapshotRef)&&void 0!==s&&null!==(u=s.current)&&void 0!==u&&u.moving&&t.snapshotRef.current.moving({x:n.x-t.startMovingPos.x,y:n.y-t.startMovingPos.y})}}}})),m()(l()(t),"handleAfterResizeOrDragSchedule",(function(e){e.stopPropagation(),e.preventDefault();var n=t.state,r=n.isResizingSchedule,o=n.isDraggingSchedule;if(r||o){var i=t.state,a=i.highlightDate,c=i.dragSchedule,l=i.dragScheduleIndex,s=i.resizeSchedule;o&&c&&a&&t.handleUpdateSchedule({id:c.id,name:{startDate:a,endDate:a.add(c.duration,jw)},index:l}),r&&s&&t.handleUpdateSchedule({id:s.id,name:"end",value:s.end}),t.setState({isResizingSchedule:!1,isDraggingSchedule:!1,resizeSchedule:null,resizeScheduleId:"",dragSchedule:null,dragScheduleId:"",dragScheduleIndex:-1,dragSchedulePosIndex:-1,dragScheduleColorIndex:-1,boxInfo:{},isShowScheduleSnapshot:!1,highlightDate:null,highlightDateSchedulePosInfo:null}),t.startMovingPos=null}})),m()(l()(t),"renderHeader",(function(){return Re.a.createElement(Uj,{cardData:t.props.cardData,onClick:t.handleCloseSchedule,onCurrentDateChange:t.props.onCurrentDateChange})})),m()(l()(t),"renderWeekNames",(function(){return Re.a.createElement(Hj,{cardData:t.props.cardData})})),m()(l()(t),"renderCalendarCellSchedule",(function(e,n,r,o){var i=t.props.cardData.getScheduleList(),a=t.props.cardData.getDateScheduleMap(),c=t.state,l=c.activeScheduleId,s=c.newScheduleId,u=c.resizeScheduleId,d=c.dragScheduleId,f=c.dragSchedulePosIndex,h=c.dragScheduleColorIndex,p=Lw(e),v=i.filter((function(e){return e.include(p)})).sort((function(e,t){var n=a[p];return(n[e.id]||0)-(n[t.id]||0)}));return v.map((function(i,a){var c,m=e.unix(),y=i.isStartDate(p),g={},b={},w=a===v.length-1;return o&&d!==i.id&&-1!==f&&(f===a&&(g.backgroundColor=Uw[h].line),w&&f>=v.length&&(b.backgroundColor=Uw[h].line)),c=y||0===n?Re.a.createElement(eV,{key:"".concat(m,"-").concat(i.id,"-schedule"),date:e,colIndex:n,rowIndex:r,schedule:i,activeScheduleId:l,newScheduleId:s,resizeScheduleId:u,dragScheduleId:d,onSelect:t.handleSelectedSchedule,onOpen:t.handleOpenSchedule,onBeforeResize:t.handleBeforeResizeSchedule,onBeforeDrag:t.handleBeforeDragSchedule}):Re.a.createElement("div",{key:"".concat(m,"-").concat(i.id,"-holder"),"data-id":i.id,className:t.getClassName("content-box-row-cell-schedule-holder"),"data-line":"true"}),Re.a.createElement(Re.a.Fragment,{key:"".concat(m,"-").concat(i.id,"-fragment")},Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-schedule-index"),key:"".concat(m,"-").concat(i.id,"-index-start"),style:g}),c,w&&Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-schedule-index"),key:"".concat(m,"-").concat(i.id,"-index-end"),style:b}))}))})),m()(l()(t),"renderCalendarCell",(function(e,n,r){var o=t.state,i=o.date,a=o.resizeSchedule,c=o.highlightDate,l="none";a&&a.include(e)&&(l=a.isSameDaySchedule()?"full":a.isStartDate(e)?"left":a.isEndDate(e)?"right":"half");var s="",u=t.props.cardData.getDateRows().length-1;0===n?0===r?s="top-left-corner":r===u&&(s="bottom-left-corner"):6===n&&(0===r?s="top-right-corner":r===u&&(s="bottom-right-corner")),c&&c.isSame(e,jw)&&(l="full");var d="none"!==l;return Re.a.createElement("div",{className:t.getClassName("content-box-row-cell"),key:e.unix(),"data-testid":t.getClassName("date-cell"),"data-testtoday":e.isToday(),"data-border":l,"data-border-style":s,"data-unix":e.unix(),onClick:t.handleCreateSchedule(e)},Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-date"),"data-today":e.isToday(),"data-fade":e.month()!==i.month()},Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-date-text")},e.format("D")),Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-date-plus"),onClick:t.handleCreateSchedule(e)})),t.renderCalendarCellSchedule(e,n,r,d))})),m()(l()(t),"renderCalendarBox",(function(){var e=t.props.cardData.getDateRows(),n=t.state.date;return Re.a.createElement("div",{className:t.getClassName("content-box"),ref:t.boxRef,onMouseMove:t.handleResizeOrDragSchedule,onMouseUp:t.handleAfterResizeOrDragSchedule},e.map((function(r,o){return Re.a.createElement("div",{className:t.getClassName("content-box-row"),key:"".concat(n.month(),"-").concat(o),"data-testid":t.getClassName("date-row"),"data-last":o===e.length-1},r.map((function(e,n){return t.renderCalendarCell(e,n,o)})))})),t.renderScheduleSnapshot())})),m()(l()(t),"renderContent",(function(){return Re.a.createElement("div",{className:t.getClassName("content")},t.renderWeekNames(),t.renderCalendarBox())})),m()(l()(t),"renderPopover",(function(){return t.state.isShowPopover?Re.a.createElement(Jj,{schedule:t.state.popoverInfo.schedule,pos:t.state.popoverInfo.pos,popupContainer:t.props.overlayContainer,onChange:t.handleUpdateSchedule,onClose:t.handleCloseSchedule,onDelete:t.onDeleteSchedule,onOverlayClose:t.handleOverlayClose}):null})),m()(l()(t),"renderMask",(function(){return t.state.isShowPopover?Re.a.createElement("div",{className:t.getClassName("mask"),"data-testid":t.getClassName("mask"),onClick:t.handleCloseSchedule}):null})),m()(l()(t),"renderScheduleSnapshot",(function(){return t.state.isShowScheduleSnapshot?Re.a.createElement(tV,{ref:t.snapshotRef,scheduleId:t.state.dragSchedule.id,boxNode:t.boxRef.current,boxInfo:t.state.boxInfo}):null}));var n=e.cardData.getCurrentDate();return t.state={currentDate:n,date:Aw(n),activeScheduleId:"",newScheduleId:"",resizeScheduleId:"",dragScheduleId:"",isShowPopover:!1,popoverInfo:{},isResizingSchedule:!1,resizeSchedule:null,isDraggingSchedule:!1,dragSchedule:null,dragScheduleIndex:-1,dragSchedulePosIndex:-1,dragScheduleColorIndex:-1,highlightDateSchedulePosInfo:null,boxInfo:{},highlightDate:null},t}return a()(i,[{key:"componentDidMount",value:function(){sE(this,document,"keydown",this.handleDeleteOrCloseSchedule,{capture:!0})}},{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName(),ref:this.containerRef},this.renderHeader(),this.renderContent(),this.renderPopover(),this.renderMask())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.cardData.getCurrentDate();return n!==t.currentDate?{currentDate:n,activeScheduleId:"",newScheduleId:"",dragScheduleId:"",date:Aw(n)}:null}}]),i}();m()(oV,"propTypes",{cardData:De.a.object.isRequired,onColorIndexChange:De.a.func.isRequired,onCurrentDateChange:De.a.func.isRequired,onScheduleChange:De.a.func.isRequired,onSyncData:De.a.func,onEditingStatusChange:De.a.func,startWeekDay:De.a.number,overlayContainer:De.a.instanceOf(Element),onOverlayClose:De.a.func});var iV=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this.cardData.setStartWeekDay(e.startWeekDay),this.uiViewProxy=cO.render(oV,{cardData:this.cardData,focus:!1,overlayContainer:this.iEditor.innerOverlayContainer,onCurrentDateChange:function(e){t.cardData.setCurrentDate(e),t.cardData.sync(!1)},onColorIndexChange:function(e){t.cardData.setColorIndex(e),t.cardData.sync(!1)},onScheduleChange:function(e){t.cardData.setSchedule(e),!1!==e.sync&&t.cardData.sync(!1)},onSyncData:function(){t.cardData.sync(!1)},onEditingStatusChange:function(e){e?t.containerNode.parentNode.parentNode.classList.add("ne-card-editing"):t.containerNode.parentNode.parentNode.classList.remove("ne-card-editing")},onOverlayClose:function(){t.iEditor.execCommand("focus",{preventScroll:!0})}},this.containerNode)}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|","widthMode","|","spacing"]}}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this),this.closePopover()}},{key:"closePopover",value:function(){this.uiViewProxy.getReactRef().closePopover()}}]),i}();var aV=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this,this._iEditor.option.calendar)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}}]),i}();m()(aV,"$EditableCardUI",iV),m()(aV,"$CardData",Ww);var cV=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,ub,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(aV,[e].concat(n))}}),e.onPluginEvent("insertCardByUI:".concat(db),(function(){e.execCommand("insertCard",ub,Ww.getInitCardValue(),!0)})),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(db,{type:"TextItem",icon:"card-calendar",iconSize:16,label:xm("日历"),name:db,keywords:"日历,rl,rili,calendar"})}}]),i}();m()(cV,"PluginName","calendar"),m()(cV,"PluginOption",Vj);var lV={action:"/api/services/crypto"},sV=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},lV,t)}return a()(e,[{key:"action",get:function(){return this._option.action}}]),e}();m()(sV,"OptionName",Cb);var uV={loadingAction:"",loadingStatus:"",loadingError:null},dV="encrypt",fV="decrypt",hV="autoSave",pV="loading",vV="done";var mV=function(e){u()(h,g.a);var t,n,r,i,c,s,d=(c=h,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(c);if(s){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)});function h(e){var t,n=e.pluginOption,r=e.ui;return o()(this,h),t=d.call(this),m()(l()(t),"requestEncrypt",function(){var e=xe()(ke.a.mark((function e(n){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return br(n.password,"F:action;L:15","F:action;L:15","F:action;L:15"),e.abrupt("return",new Promise((function(e,r){_P({method:"post",url:t.pluginOption.action,data:{pwd:n.password,text:n.originData,action:dV},success:function(t){e(t.data)},error:function(e){r(e)}})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.pluginOption=n,t.ui=r,t}return a()(h,[{key:"requestDecrypt",value:function(e){var t=this;return br(e.password,"F:action;L:37"),br(e.cryptoData,"F:action;L:38"),new Promise((function(n,r){_P({method:"post",url:t.pluginOption.action,data:{pwd:e.password,text:e.cryptoData,action:fV},success:function(e){n(e.data)},error:function(e){r(e)}})}))}},{key:"loadingWrapper",value:(i=xe()(ke.a.mark((function e(t,n,r){var o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ui.updateLoadingStatus({loadingStatus:pV,loadingAction:t,loadingError:null}),o=null,e.prev=2,e.next=5,n();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),r&&r(),o=e.t0;case 11:return e.prev=11,this.ui.updateLoadingStatus({loadingStatus:vV,loadingAction:t,loadingError:o}),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[2,7,11,14]])}))),function(e,t,n){return i.apply(this,arguments)})},{key:"decryptData",value:(r=xe()(ke.a.mark((function e(t){var n,r,o,i=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,r=t.success,o=t.error,this.loadingWrapper(fV,xe()(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.requestDecrypt(n);case 2:t=e.sent,r&&r(t);case 4:case"end":return e.stop()}}),e)}))),(function(){o&&o()}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"autoSave",value:(n=xe()(ke.a.mark((function e(t){var n,r,o,i=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,r=t.success,o=t.error,this.loadingWrapper(hV,xe()(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.requestEncrypt(n);case 2:t=e.sent,r&&r(t);case 4:case"end":return e.stop()}}),e)}))),(function(){o&&o()}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"encryptData",value:(t=xe()(ke.a.mark((function e(t){var n,r,o,i=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,r=t.success,o=t.error,this.loadingWrapper(dV,xe()(ke.a.mark((function e(){var t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.requestEncrypt(n);case 2:t=e.sent,r&&r(t);case 4:case"end":return e.stop()}}),e)}))),(function(){o&&o()}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),h}(),yV=function(e){var t=e.prevProps,n=e.props,r=e.action;return n.loadingAction===r&&n.loadingStatus===vV&&t.loadingStatus===pV},gV=function(e){var t=e.prevProps,n=e.props,r=e.action;return yV({prevProps:t,props:n,action:r})&&null===n.loadingError},bV=function(e){var t=e.prevProps,n=e.props,r=e.action;return yV({prevProps:t,props:n,action:r})&&null!==n.loadingError};var wV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"formRef",Re.a.createRef()),m()(l()(e),"state",{isShowPasswordError:!1}),m()(l()(e),"getClassName",zj("ne-card-locked-text")),m()(l()(e),"handleDisableDecryptButton",(function(){e.setState({isShowPasswordError:!1})})),m()(l()(e),"handleDecrypt",(function(t){e.props.onDecrypt(t)})),e}return a()(i,[{key:"componentDidUpdate",value:function(e){e.errorCount!==this.props.errorCount&&this.props.errorCount>0&&!1===this.state.isShowPasswordError&&this.setState({isShowPasswordError:!0})}},{key:"render",value:function(){var e=this,t=this.state.isShowPasswordError,n=this.props.isPasswordErrorMax(),r={};return(n||t)&&(r={validateStatus:"error",help:xm(n?"密码出错超过 5 次，请 1 分钟后再尝试":"密码有误")}),Re.a.createElement("div",{className:this.getClassName("unlock-container"),"data-testid":this.getClassName("unlock-status")},Re.a.createElement("div",{className:this.getClassName("unlock-content")},Re.a.createElement("div",{className:this.getClassName("lock-icon")}),Re.a.createElement("div",{className:this.getClassName("unlock-submit")},Re.a.createElement(pt.a,{ref:this.formRef,onFinish:this.handleDecrypt,onValuesChange:this.handleDisableDecryptButton,onFinishFailed:this.handleDisableDecryptButton},Re.a.createElement(pt.a.Item,Ee()({name:"unlockPassword"},r,{rules:[{required:!0,message:xm("请输入密码")}]}),Re.a.createElement(Me.a,{type:"password",className:this.getClassName("unlock-input"),"data-testid":this.getClassName("unlock-input"),placeholder:xm("请输入密码"),addonAfter:Re.a.createElement("div",{className:"".concat(this.getClassName("unlock-submit-button")," ").concat(n?this.getClassName("unlock-submit-button-disabled"):""),"data-testid":this.getClassName("unlock-button"),onClick:function(){var t;return null===(t=e.formRef.current)||void 0===t?void 0:t.submit()}},Re.a.createElement(oE,{type:"unlock-outlined",size:14}),xm("解锁")),style:{width:"100%"}}))))))}}]),i}();m()(wV,"propTypes",{cardData:De.a.object.isRequired,errorCount:De.a.number.isRequired,isPasswordErrorMax:De.a.func.isRequired,onDecrypt:De.a.func.isRequired}),FN('ne-card[data-card-name="lockedtext"] {\n  /* stylelint-disable-line */\n}\nne-card[data-card-name="lockedtext"] .ne-card-container {\n  height: 240px;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-lock-icon {\n  width: 180px;\n  height: 106px;\n  background: transparent url(https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*VhgARpqXhsYAAAAAAAAAAABjARQnAQ) no-repeat;\n  background-size: contain;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  height: 100%;\n  background-color: #fafafa;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content .ne-card-locked-text-unlock-submit {\n  width: 50%;\n  margin-top: 20px;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content .ne-card-locked-text-unlock-input input {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content .ne-card-locked-text-unlock-submit-button {\n  display: inline-flex;\n  align-items: center;\n  cursor: pointer;\n  height: 30px;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content .ne-card-locked-text-unlock-submit-button.ne-card-locked-text-unlock-submit-button-disabled {\n  color: rgba(0, 0, 0, 0.25);\n  background: #f5f5f5;\n  border-color: #d9d9d9;\n  cursor: not-allowed;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content .ne-card-locked-text-unlock-submit-button > span {\n  vertical-align: middle;\n}\nne-card[data-card-name="lockedtext"] .ne-card-locked-text .ne-card-locked-text-unlock-container .ne-card-locked-text-unlock-content .ne-card-locked-text-unlock-submit-button .ne-icon {\n  margin-right: 2px;\n}\nne-card[data-card-name="lockedtext"] .ant-form-item:not(.ant-form-item-has-error) .ant-input-group-addon:hover {\n  color: #47c479;\n}\n'),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-card[data-card-name=\"lockedtext\"] {\n  /* stylelint-disable-line */\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  height: 40px;\n  padding: 0 12px 0 20px;\n  background-color: #fff;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-title {\n  display: flex;\n  font-size: 14px;\n  color: #262626;\n  font-weight: 500;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-notify {\n  margin-left: 10px;\n  display: flex;\n  align-items: center;\n  color: #8c8c8c;\n  font-size: 14px;\n  font-weight: normal;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-notify .ne-icon {\n  margin-right: 2px;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-operation {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-operation .ne-card-locked-text-editing-header-operation-button {\n  display: flex;\n  align-items: center;\n  padding: 5px 6px;\n  margin: 0 0 0 18px;\n  border-radius: 3px;\n  cursor: pointer;\n  color: #595959;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-operation .ne-card-locked-text-editing-header-operation-button:hover {\n  background: #e6e6e6;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-operation .ne-card-locked-text-editing-header-operation-button-icon {\n  margin-right: 4px;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-header .ne-card-locked-text-editing-header-operation .ne-card-locked-text-editing-header-operation-button-text {\n  font-size: 14px;\n  line-height: 1;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-content {\n  flex: 1;\n  display: flex;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-editing-container .ne-card-locked-text-editing-content .ne-card-locked-text-editing-textarea {\n  width: 100%;\n  height: 100%;\n  border: 0;\n  outline: none;\n  resize: none;\n  padding: 0 16px;\n  line-height: 1.74;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-set-password-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  height: 100%;\n  background-color: #fafafa;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-set-password-container .ne-card-locked-text-set-password-poster {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-set-password-container .ne-card-locked-text-set-password-content {\n  flex: 0 0 40%;\n  margin-left: 10%;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-set-password-container .ne-card-locked-text-set-password-content .ne-card-locked-text-set-password-notify {\n  color: #595959;\n  margin: 8px 0;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-set-password-container .ne-card-locked-text-set-password-content .ne-card-locked-text-set-password-input {\n  margin: 8px 0;\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-set-password-container .ne-card-locked-text-set-password-content .ne-card-locked-text-set-password-buttons button {\n  margin-right: 8px;\n}\n");var xV="editing",_V="set-password",kV="unlock",CV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this),m()(l()(t),"textareaRef",Re.a.createRef()),m()(l()(t),"autoSaveTimer",null),m()(l()(t),"autoSaveInterval",3e3),m()(l()(t),"maxPasswordErrorCount",5),m()(l()(t),"resetPasswordCountInterval",6e4),m()(l()(t),"syncValue",(function(){var e=t.props.cardData.getOriginData(),n=t.props.cardData.getCryptoData();n||t.state.originData===e||t.setState({showStatus:xV,originData:e,cryptoData:n}),n&&t.setState({showStatus:kV,originData:e,cryptoData:n})})),m()(l()(t),"getClassName",zj("ne-card-locked-text")),m()(l()(t),"updateOriginData",(function(e){t.setState({originData:e})})),m()(l()(t),"isPasswordErrorMax",(function(){return t.state.errorCount>=t.maxPasswordErrorCount})),m()(l()(t),"resetPasswordErrorCount",(function(){t.isPasswordErrorMax()&&setTimeout((function(){t.setState({errorCount:0})}),t.resetPasswordCountInterval)})),m()(l()(t),"focusEditor",(function(){setTimeout((function(){var e,n;null===(e=t.textareaRef)||void 0===e||null===(n=e.current)||void 0===n||n.focus()}),0)})),m()(l()(t),"setCursorPosition",(function(e){var n=t.textareaRef.current;"before"!==e?"after"!==e||n.setSelectionRange(n.value.length,n.value.length):n.setSelectionRange(0,0)})),m()(l()(t),"handleChangeShowStatus",(function(e){return function(){var n={showStatus:e};e===xV&&(n.password=""),t.setState(n)}})),m()(l()(t),"handleTextareaChange",(function(e){t.setState({originData:e.target.value}),t.autoSaveTimer&&clearTimeout(t.autoSaveTimer),t.autoSaveTimer=setTimeout((function(){t.handleAutoSave()}),t.autoSaveInterval)})),m()(l()(t),"handlePasswordChange",(function(e){t.setState({password:e.target.value})})),m()(l()(t),"handleAutoSave",(function(){if(t.state.showStatus===xV){if(t.props.cardData.getOriginData()===t.state.originData)return;if(!t.state.password)return void t.props.onOriginDataChange(t.state.originData);"loading"!==t.props.loadingStatus&&t.props.onAutoSave({password:t.state.password,originData:t.state.originData})}})),m()(l()(t),"handleLock",(function(){t.props.onEncrypt({password:t.state.password,originData:t.state.originData})})),m()(l()(t),"handleEncrypt",(function(){"loading"!==t.props.loadingStatus&&(t.state.password?t.props.onEncrypt({password:t.state.password,originData:t.state.originData}):je.b.error(xm("请输入密码")))})),m()(l()(t),"handleDecrypt",(function(e){"loading"!==t.props.loadingStatus&&(t.setState({password:e.unlockPassword}),t.props.onDecrypt({password:e.unlockPassword,cryptoData:t.state.cryptoData}))})),m()(l()(t),"handleKeyDown",(function(e){var n=t.textareaRef.current,r=n.selectionStart;return(jE.isArrowLeft(e)||jE.isArrowUp(e))&&0===r?(e.preventDefault(),void t.props.onExitCardByKeyboard("before")):(jE.isArrowRight(e)||jE.isArrowDown(e))&&r===n.value.length?(e.preventDefault(),void t.props.onExitCardByKeyboard("after")):void 0})),m()(l()(t),"renderEditing",(function(){var e=null,n=null;return t.state.cryptoData?e=Re.a.createElement("div",{className:t.getClassName("editing-header-operation")},Re.a.createElement("div",{className:t.getClassName("editing-header-operation-button"),"data-testid":t.getClassName("editing-lock-button"),onClick:t.handleLock},Re.a.createElement(oE,{type:"lock-outlined",className:t.getClassName("editing-header-operation-button-icon"),size:14}),Re.a.createElement("span",{className:t.getClassName("editing-header-operation-button-text")},xm("锁住")))):(n=Re.a.createElement("div",{className:t.getClassName("editing-header-notify")},Re.a.createElement(oE,{type:"litter-unlock-outlined",size:14}),xm("未设置密码，将明文显示")),e=Re.a.createElement("div",{className:t.getClassName("editing-header-operation")},Re.a.createElement("div",{className:t.getClassName("editing-header-operation-button"),"data-testid":t.getClassName("editing-set-password-button"),onClick:t.handleChangeShowStatus(_V)},Re.a.createElement(oE,{type:"lock-outlined",className:t.getClassName("editing-header-operation-button-icon"),size:14}),Re.a.createElement("span",{className:t.getClassName("editing-header-operation-button-text")},xm("设置密码"))))),Re.a.createElement("div",{className:t.getClassName("editing-container"),"data-testid":t.getClassName("editing-status")},Re.a.createElement("div",{className:t.getClassName("editing-header")},Re.a.createElement("div",{className:t.getClassName("editing-header-title")},xm("加密文本"),n),e),Re.a.createElement("div",{className:t.getClassName("editing-content")},Re.a.createElement("textarea",{className:t.getClassName("editing-textarea"),"data-testid":t.getClassName("editing-textarea"),ref:t.textareaRef,value:t.state.originData,onChange:t.handleTextareaChange,onBlur:t.handleAutoSave,onKeyDown:t.handleKeyDown})))})),m()(l()(t),"renderSetPassword",(function(){var e="loading"===t.props.loadingStatus&&"encrypt"===t.props.loadingAction;return Re.a.createElement("div",{className:t.getClassName("set-password-container"),"data-testid":t.getClassName("set-password-status")},Re.a.createElement("div",{className:t.getClassName("set-password-poster")},Re.a.createElement("div",{className:t.getClassName("lock-icon")})),Re.a.createElement("div",{className:t.getClassName("set-password-content")},Re.a.createElement("div",{className:t.getClassName("set-password-notify")},xm("设置密码 (谨慎保管，丢失后无法找回)：")),Re.a.createElement("div",{className:t.getClassName("set-password-input")},Re.a.createElement(Me.a,{placeholder:xm("建议设置 6 位以上"),"data-testid":t.getClassName("set-password-input"),onChange:t.handlePasswordChange,onPressEnter:t.handleEncrypt})),Re.a.createElement("div",{className:t.getClassName("set-password-buttons")},Re.a.createElement(gt.a,{type:"primary",loading:e,"data-testid":t.getClassName("set-password-sure-button"),onClick:t.handleEncrypt},xm("确认")),Re.a.createElement(gt.a,{"data-testid":t.getClassName("set-password-cancel-button"),onClick:t.handleChangeShowStatus(xV)},xm("取消")))))})),m()(l()(t),"renderUnlock",(function(){return Re.a.createElement(wV,{cardData:t.props.cardData,errorCount:t.state.errorCount,isPasswordErrorMax:t.isPasswordErrorMax,onDecrypt:t.handleDecrypt})}));var n=xV;return e.cardData.getCryptoData()&&(n=kV),t.state={originData:e.cardData.getOriginData(),cryptoData:e.cardData.getCryptoData(),password:"",showStatus:n,errorCount:0},t}return a()(i,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props;gV({prevProps:e,props:n,action:dV})&&this.state.showStatus!==kV&&this.setState({showStatus:kV,cryptoData:this.props.cardData.getCryptoData(),originData:this.props.cardData.getOriginData()}),gV({prevProps:e,props:n,action:hV})&&this.setState({cryptoData:this.props.cardData.getCryptoData()}),gV({prevProps:e,props:n,action:fV})&&this.state.showStatus!==xV&&this.setState({showStatus:xV,cryptoData:this.props.cardData.getCryptoData()}),bV({prevProps:e,props:n,action:fV})&&this.setState({errorCount:this.state.errorCount+1},(function(){t.resetPasswordErrorCount()}))}},{key:"render",value:function(){var e=null;switch(this.state.showStatus){case xV:e=this.renderEditing();break;case _V:e=this.renderSetPassword();break;case kV:e=this.renderUnlock()}return Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName()},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.cardData.getCryptoData()!==t.cryptoData&&(n.cryptoData=e.cardData.getCryptoData()),Object.keys(n).length?n:null}}]),i}();function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RV(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(CV,"propTypes",{cardData:De.a.object,onOriginDataChange:De.a.func,onEncrypt:De.a.func,onDecrypt:De.a.func,onAutoSave:De.a.func,onExitCardByKeyboard:De.a.func,loadingStatus:De.a.string,loadingAction:De.a.string,loadingError:De.a.any});var EV=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"syncValue",(function(t){t||e.uiViewProxy.getReactRef().syncValue()})),m()(l()(e),"updateOriginData",(function(t){e.uiViewProxy.getReactRef().updateOriginData(t)})),e}return a()(i,[{key:"getResizerConfig",value:function(){return{min:240}}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|","widthMode","|","spacing"]}}},{key:"init",value:function(e){var t=this;this.cardData.on("change",this.syncValue),this.uiViewProxy=cO.render(CV,NV(NV({},e),{},{cardData:this.cardData,focus:!1,onOriginDataChange:function(e){t.cardData.setOriginData(e),t.cardData.sync(!0)},onEncrypt:function(e){t.emit("encrypt",e)},onDecrypt:function(e){t.emit("decrypt",e)},onAutoSave:function(e){t.emit("autoSave",e)},onExitCardByKeyboard:function(e){t.focusCardTo(e)}}),this.containerNode)}},{key:"updateLoadingStatus",value:function(e){this.uiViewProxy.rerender(e)}},{key:"focusEditor",value:function(){this.uiViewProxy.getReactRef().focusEditor()}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this),this.focusEditor(),this.focusByKeyboard&&this.uiViewProxy.getReactRef().setCursorPosition(this.focusByKeyboard)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this)}}]),i}();var OV=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),m()(l()(t),"_action",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this,uV),this._action=new mV({pluginOption:this.pluginOption,ui:this._ui}),this._ui.on("encrypt",(function(t){e._action.encryptData({data:t,success:function(t){e.cardData.setCryptoData(t),e.cardData.setOriginData(""),e.cardData.sync(!0)},error:function(){je.b.error(xm("加密失败"))}})})),this._ui.on("autoSave",(function(t){e._action.autoSave({data:t,success:function(t){e.cardData.setCryptoData(t),e.cardData.sync(!0)}})})),this._ui.on("decrypt",(function(t){e._action.decryptData({data:t,success:function(n){e.cardData.setOriginData(""),e.cardData.setCryptoData(t.cryptoData),e.cardData.sync(!0),e._ui.updateOriginData(n)}})}))}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}}]),i}();m()(OV,"$EditableCardUI",EV),m()(OV,"$CardData",Gw),m()(OV,"$ExternalFocus",!0);var DV=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_lockedTexts",new Map),e}return a()(i,[{key:"init",value:function(e,t){var n=this;t.registerBlockCard(this,_b,{factory:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=ut()(OV,[e].concat(r));return n._lockedTexts.set(i.viewNode.attrs.id,i),i}}),e.onPluginEvent("insertCardByUI:".concat(kb),(function(){e.execCommand("insertCard",_b,Gw.getInitCardValue(),!0)})),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(kb,{type:"TextItem",icon:"card-locked-text",label:xm("加密文本"),iconSize:16,name:kb,keywords:"加密文本,jmwb,jiamiwenben,lockedtext"})}}]),i}();function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(DV,"PluginName","lockedText"),m()(DV,"PluginOption",sV),FN('ne-card[data-card-name="vote"] .ne-card-vote {\n  padding: 16px 24px;\n  background: #fafafa;\n  font-size: 14px;\n  color: #595959;\n}\nne-card[data-card-name="vote"] .ne-card-vote-setting {\n  display: flex;\n  margin-bottom: 16px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-setting-type {\n  flex: 0 0 82px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-setting-type .ant-select-selection-item {\n  color: #595959;\n}\nne-card[data-card-name="vote"] .ne-card-vote-setting-title {\n  flex: 1;\n  margin-right: 36px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-setting-title-input {\n  color: #595959;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-list {\n  margin-bottom: 16px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-item {\n  display: flex;\n  margin-bottom: 8px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-item:last-of-type {\n  margin-bottom: 0;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-item-input {\n  flex: 1;\n  color: #595959;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-item-side {\n  flex: 0 0 36px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-item-delete {\n  color: #8c8c8c;\n  cursor: pointer;\n}\nne-card[data-card-name="vote"] .ne-card-vote-vote-item-delete:hover {\n  color: #5c5c5c;\n}\nne-card[data-card-name="vote"] .ne-card-vote-operation {\n  display: flex;\n  margin-bottom: 16px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-operation-wrap {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\nne-card[data-card-name="vote"] .ne-card-vote-operation-wrap-icon {\n  margin-right: 6px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-deadline-wrap {\n  position: relative;\n}\nne-card[data-card-name="vote"] .ne-card-vote-deadline-wrap-label {\n  position: absolute;\n  left: 12px;\n  z-index: 1;\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\nne-card[data-card-name="vote"] .ne-card-vote-deadline-wrap-date-picker {\n  width: 310px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-deadline-wrap-date-picker input {\n  text-align: right;\n  color: #8c8c8c;\n  z-index: 2;\n}\n.ne-card-vote-popconfirm .ant-popover-message,\n.ne-card-vote-popconfirm .ant-popover-buttons {\n  white-space: nowrap;\n}\n');var PV=Zj.Option,FV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"titleRef",Re.a.createRef()),m()(l()(e),"itemRefs",{}),m()(l()(e),"getClassName",zj("ne-card-vote")),m()(l()(e),"handleOverlayClose",(function(t){!1===t&&e.props.onOverlayClose&&e.props.onOverlayClose()})),m()(l()(e),"focusTitle",(function(){var t;!e.props.cardData.getTitle()&&e.titleRef.current&&(null===(t=e.titleRef.current)||void 0===t||t.focus())})),m()(l()(e),"bindItemRef",(function(t){return function(n){var r;null!==(r=l()(e))&&void 0!==r&&r.itemRefs&&n&&(e.itemRefs[t]=n)}})),m()(l()(e),"handleFocusNextItem",(function(t){return function(){var n,r=t+1;r in e.itemRefs?null===(n=e.itemRefs[r])||void 0===n||n.focus():e.handleAddVote(void 0,(function(){var t;null===(t=e.itemRefs[r])||void 0===t||t.focus()}))}})),m()(l()(e),"handleChangeTitle",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n){e.props.onTitleChange(n.target.value,t)}})),m()(l()(e),"handleChangeType",(function(t){e.props.onTypeChange(t)})),m()(l()(e),"handleChangeDeadline",(function(t){e.props.onDeadlineChange(t.toISOString())})),m()(l()(e),"handleAddVote",(function(t,n){null==t||t.stopPropagation(),e.props.onVoteChange({type:cx,sync:!0},n)})),m()(l()(e),"handleUpdateVote",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){e.props.onVoteChange({type:lx,item:BV(BV({},t),{},{value:r.target.value}),sync:n})}})),m()(l()(e),"handleDeleteVote",(function(t){return function(n){null==n||n.stopPropagation(),e.deleteVote(t),e.itemRefs={}}})),m()(l()(e),"deleteVote",(function(t){e.props.onVoteChange({type:sx,item:t,sync:!0})})),m()(l()(e),"renderSetting",(function(){var t=e.props.cardData.getType(),n=e.props.cardData.getTitle();return Re.a.createElement("div",{className:e.getClassName("setting")},Re.a.createElement("div",{className:e.getClassName("setting-type")},Re.a.createElement(Zj,{value:t,size:"large",onChange:e.handleChangeType},fx.map((function(e){return Re.a.createElement(PV,{key:e.value,value:e.value},xm(e.name))})))),Re.a.createElement("div",{className:e.getClassName("setting-title")},Re.a.createElement(Me.a,{className:e.getClassName("setting-title-input"),"data-testid":e.getClassName("title-input"),placeholder:xm("请输入投票标题"),ref:e.titleRef,size:"large",value:n,onPressEnter:e.handleFocusNextItem(-1),onChange:e.handleChangeTitle(!1),onBlur:e.handleChangeTitle(!0)})))})),m()(l()(e),"renderVoteList",(function(){var t=e.props.cardData.getItems(),n=(null==t?void 0:t.length)>2;return Re.a.createElement("div",{className:e.getClassName("vote-list")},t.map((function(t,r){return e.renderVoteItem(t,r,n)})))})),m()(l()(e),"renderVoteItem",(function(t,n,r){return Re.a.createElement("div",{className:e.getClassName("vote-item"),key:t.id,"data-testid":e.getClassName("vote-item")},Re.a.createElement(Me.a,{className:e.getClassName("vote-item-input"),"data-testid":e.getClassName("vote-item-input"),"data-testindex":n,size:"large",ref:e.bindItemRef(n),placeholder:xm("选项 $1").replace("$1",n+1),value:t.value,onPressEnter:e.handleFocusNextItem(n),onChange:e.handleUpdateVote(t,!1),onBlur:e.handleUpdateVote(t,!0)}),Re.a.createElement("div",{className:e.getClassName("vote-item-side")},r?e.renderVoteItemDeleteButton(t):null))})),m()(l()(e),"renderVoteItemDeleteButton",(function(t){var n,r=Re.a.createElement("div",{"data-testid":e.getClassName("vote-item-delete-button")},Re.a.createElement(oE,{type:"delete",size:20,className:e.getClassName("vote-item-delete")})),o=Re.a.createElement("div",{className:e.getClassName("vote-item-delete"),onClick:e.handleDeleteVote(t)},r);return null!=t&&null!==(n=t.value)&&void 0!==n&&n.length&&(o=Re.a.createElement(Wt.a,{"data-testid":e.getClassName("vote-item-confirm"),title:xm("确定删除该选项？"),okText:xm("确认"),cancelText:xm("取消"),overlayClassName:e.getClassName("popconfirm"),getPopupContainer:function(){return e.props.overlayContainer||document.body},destroyTooltipOnHide:!0,onConfirm:e.handleDeleteVote(t),onVisibleChange:e.handleOverlayClose},r)),o})),m()(l()(e),"renderOperation",(function(){return Re.a.createElement("div",{className:e.getClassName("operation")},Re.a.createElement("div",{className:e.getClassName("operation-wrap"),onClick:e.handleAddVote,"data-testid":e.getClassName("add-button")},Re.a.createElement(oE,{className:e.getClassName("operation-wrap-icon"),type:"plus"}),xm("添加选项")))})),m()(l()(e),"renderDeadline",(function(){var t=e.props.cardData.getDeadline(),n=ie()(t);return Re.a.createElement("div",{className:e.getClassName("deadline")},Re.a.createElement("div",{className:e.getClassName("deadline-wrap")},Re.a.createElement("div",{className:e.getClassName("deadline-wrap-label")},xm("截止日期")),Re.a.createElement(Wj,{className:e.getClassName("deadline-wrap-date-picker"),"data-testid":e.getClassName("date-picker"),showTime:!0,allowClear:!1,showToday:!1,getPopupContainer:function(){return e.props.overlayContainer||document.body},value:n,size:"large",onChange:e.handleChangeDeadline,onOpenChange:e.handleOverlayClose,suffixIcon:Re.a.createElement(oE,{type:"clock-circle"})})))})),e}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName()},this.renderSetting(),this.renderVoteList(),this.renderOperation(),this.renderDeadline())}}]),i}();m()(FV,"propTypes",{cardData:De.a.object.isRequired,overlayContainer:De.a.instanceOf(Element),onTitleChange:De.a.func,onTypeChange:De.a.func,onDeadlineChange:De.a.func,onVoteChange:De.a.func,onOverlayClose:De.a.func});var TV=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|","spacing"]}}},{key:"init",value:function(){var e=this;this.uiViewProxy=cO.render(FV,{overlayContainer:this.iEditor.innerOverlayContainer,cardData:this.cardData,focus:!1,onTitleChange:function(t,n){e.cardData.setTitle(t,n),n&&e.cardData.sync(!1)},onTypeChange:function(t){e.cardData.setType(t),e.cardData.sync(!1)},onDeadlineChange:function(t){e.cardData.setDeadline(t),e.cardData.sync(!1)},onVoteChange:function(t,n){e.cardData.setVote(t),t.sync&&e.cardData.sync(!1),n&&setTimeout((function(){n()}),0)},onOverlayClose:function(){e.iEditor.execCommand("focus",{preventScroll:!0})}},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this)}},{key:"focusTitle",value:function(){this.uiViewProxy.getReactRef().focusTitle()}}]),i}();var MV=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}},{key:"focusTitle",value:function(){this._ui.focusTitle()}}]),i}();m()(MV,"$EditableCardUI",TV),m()(MV,"$CardData",yx);var LV=function(e){u()(i,hc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t){"paste"===e.from&&(t.attrs.value=yx.fromPaste(t.attrs.value))}}]),i}();m()(LV,"CardName",pb);var AV=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_votes",new Map),e}return a()(i,[{key:"init",value:function(e,t){var n=this;t.registerBlockCard(this,pb,{factory:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=ut()(MV,[e].concat(r));return n._votes.set(i.viewNode.attrs.id,i),i}}),t.iKernel.hasExtendMethod("registerINodeCardPreReader")&&t.iKernel.registerINodeCardPreReader(LV.CardName,new LV),e.onPluginEvent("insertCardByUI:".concat(vb),(function(){var t=e.execCommand("insertCard",pb,yx.getInitCardValue(),!0);n._votes.has(t)&&n._votes.get(t).focusTitle()})),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(vb,{type:"TextItem",icon:"card-vote",iconSize:16,label:xm("投票"),name:vb,keywords:"toupiao,tp,vote,投票"})}}]),i}();function IV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IV(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(AV,"PluginName","vote");var VV=Fe.MultiPartUploadUtil.getOssClient,zV=Fe.MultiPartUploadUtil.multipartUpload,UV=function(e){u()(s,kj);var t,n,r,i,c=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(r);if(i){var n=p()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)});function s(e){var t,n=e.attachableId,r=e.attachableType,i=e.file,a=e.endpointBeforeUpload,u=e.endpointAfterUpload,d=e.quickUploadUrl;return o()(this,s),t=c.call(this),m()(l()(t),"_id",null),m()(l()(t),"_file",null),m()(l()(t),"_attachableId",null),m()(l()(t),"_attachableType",null),m()(l()(t),"_endpointBeforeUpload",null),m()(l()(t),"_endpointAfterUpload",null),t._id=xr(),t._attachableId=n,t._attachableType=r,t._file=i,t._endpointBeforeUpload=a,t._endpointAfterUpload=u||"/api/attachment/after_upload",t._quickUploadUrl=d,t}return a()(s,[{key:"id",get:function(){return this._id}},{key:"file",get:function(){return this._file}},{key:"upload",value:(n=xe()(ke.a.mark((function e(t){var n,r,o,i,a,c,l,s,u,d,f,h,p,v=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._attachableId,r=this._attachableType,o=this._file,i=this._endpointBeforeUpload,a=this._endpointAfterUpload,e.prev=5,e.next=8,VV(o,n,r,"attachment",i);case 8:return c=e.sent,l=c.ossClient,s=c.filekey,u=c.filekey_digest,this._ossClient=l,d=function(e){v.emit(RP.EVENT_PROGRESS,CP.toPercentage(e,1))},e.next=16,zV(o,l,s,d);case 16:return f=e.sent,e.prev=17,e.next=20,Object(Fe.fileMd5)(o);case 20:h=e.sent,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(17),console.error(e.t0);case 26:p={filename:o.name,attachable_type:r,attachable_id:n,filekey:f.name,filekey_digest:u,filemd5:h},this._afterUploadRequest=_P({method:"POST",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){e.lengthComputable&&v.emit(RP.EVENT_PROGRESS,CP.toPercentage(e.loaded,e.total))}),!1),e},url:a,data:p,dataType:"json",success:function(e){var n=jV({},e.data);v.emit(RP.EVENT_SUCCESS,n),t({result:n})},error:function(e){e=kP(e),v.emit(RP.EVENT_ERROR,e),t({error:e})},processData:!0}),e.next=34;break;case 30:return e.prev=30,e.t1=e.catch(5),this.emit(RP.EVENT_ERROR,e.t1),e.abrupt("return",{error:e.t1});case 34:case"end":return e.stop()}}),e,this,[[5,30],[17,23]])}))),function(e){return n.apply(this,arguments)})},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file,this.emit(RP.EVENT_START),e.abrupt("return",new Promise((function(e){n.tryQuickUpload(t,n._quickUploadUrl).then((function(t){if(t){var r=jV({},t.data);n.emit(RP.EVENT_SUCCESS,r),e({result:r})}else n.upload(e)})).catch((function(t){console.error(t),n.upload(e)}))})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this._ossClient&&this._ossClient.cancel(),this._afterUploadRequest&&this._afterUploadRequest.xhr.abort()}}]),s}();var HV={createUploadTask:null,quickUploadUrl:null,uploadFileURL:null,getPreviewUrl:null,previewFileHandler:null,isCanPreview:null,downloadFileHandler:null,origin:"",from:"",accept:null,useMultipart:!1},qV=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),t._option=T()({},HV,e),t._option.getPreviewUrl&&(t.getPreviewUrl=t._option.getPreviewUrl),t._option.previewFileHandler&&(t.previewFileHandler=t._option.previewFileHandler),t._option.downloadFileHandler&&(t.downloadFileHandler=t._option.downloadFileHandler),t._option.isCanPreview&&(t.isCanPreview=t._option.isCanPreview),t}return a()(i,[{key:"createUploadTask",value:function(e){var t=this._option,n=t.uploadFileURL,r=t.createUploadTask,o=t.quickUploadUrl;if(br(n||r,"F:file-option;L:64"),r)return r(e);if(this._option.useMultipart&&window.appData.settings.enable_attachment_multipart&&e.size>52428800){var i=this._option.attachable_id,a=this._option.attachable_type,c=this._option.endpointBeforeUpload,l=this._option.endpointAfterUpload;return new UV({attachableId:i,attachableType:a,file:e,endpointBeforeUpload:c,endpointAfterUpload:l,quickUploadUrl:o})}return new Nj(n,e,null,o)}},{key:"from",get:function(){return this._option.from}},{key:"origin",get:function(){return this._option.origin}},{key:"accept",get:function(){return this._option.accept}}]),i}();function WV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZV(e,t){e&&(Ie()(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WV(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({format:"text/plain"},t))?je.b.success(xm("复制成功")):je.b.error(xm("复制失败")))}m()(qV,"OptionName",wb),FN(".ne-error-tips {\n  display: inline-block;\n  padding: 6px 8px;\n  background: #f5f5f5;\n  border-radius: 2px;\n}\n.ne-error-tips-wrap {\n  display: flex;\n  flex-direction: row;\n}\n.ne-error-tips-card-icon {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  margin-right: 4px;\n}\n.ne-error-tips-content {\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n.ne-error-tips-operation {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  margin-left: 6px;\n}\n.ne-error-tips-operation-slash {\n  color: #e8e8e8;\n}\n.ne-error-tips-operation-icon {\n  display: flex;\n  width: 16px;\n  height: 16px;\n  margin-left: 6px;\n  cursor: pointer;\n}\n");var KV=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleCopyMessage",(function(){var t=e.props.message;ZV(JSON.stringify(t,null," "))})),m()(l()(e),"renderCardIcon",(function(){var t=e.props.cardIcon;return t?Re.a.createElement("div",{className:"ne-error-tips-card-icon"},t):null})),m()(l()(e),"renderContent",(function(){var t=e.props.children;return Re.a.createElement("div",{className:"ne-error-tips-content"},t)})),m()(l()(e),"renderOperation",(function(){return e.props.message?Re.a.createElement("div",{className:"ne-error-tips-operation"},Re.a.createElement("span",{className:"ne-error-tips-operation-slash"},"|"),Re.a.createElement(Be.a,{title:xm("复制错误信息")},Re.a.createElement("span",{className:"ne-error-tips-operation-icon",onClick:e.handleCopyMessage},Re.a.createElement(oE,{type:"exclamation",size:16})))):null})),e}return a()(i,[{key:"render",value:function(){var e={width:this.props.block?"100%":"auto"};return Re.a.createElement("div",{className:"ne-error-tips",style:e},Re.a.createElement("div",{className:"ne-error-tips-wrap"},this.renderCardIcon(),this.renderContent(),this.renderOperation()))}}]),i}();m()(KV,"propTypes",{block:De.a.bool,cardIcon:De.a.node,children:De.a.oneOfType([De.a.arrayOf(De.a.node),De.a.node]),message:De.a.oneOfType([De.a.string,De.a.object])}),FN('@keyframes neCardFileLoading {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\nne-card[data-card-name="file"][data-card-type="inline"] {\n  vertical-align: middle;\n}\nne-card[data-card-name="file"] .ne-card-file {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  overflow: hidden;\n}\nne-card[data-card-name="file"] .ne-card-file[data-status="done"] {\n  color: #096dd9;\n}\nne-card[data-card-name="file"] .ne-card-file-icon {\n  flex: 0 0 auto;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nne-card[data-card-name="file"] .ne-card-file-name {\n  flex: 1;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-right: 8px;\n}\nne-card[data-card-name="file"] .ne-card-file-size {\n  flex: 0 0 auto;\n}\n');var $V=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"asyncTask",null),m()(l()(t),"getClassName",zj("ne-card-file")),m()(l()(t),"handleUploadStart",(function(){t.setState({percent:0}),t.props.onTaskStart()})),m()(l()(t),"handleUploadError",(function(e){t.props.onTaskError(e)})),m()(l()(t),"handleUploadSuccess",(function(e){t.props.onTaskSuccess(e)})),m()(l()(t),"handleUploadProgress",(function(e){t.setState({percent:e}),t.props.onTaskProgress()})),m()(l()(t),"renderIcon",(function(){var e=t.props.cardData.getStatus(),n=e===Rx.Pending||e===Rx.Uploading||e===Rx.Transfering;return Re.a.createElement("span",{className:t.getClassName("icon")},Re.a.createElement(oE,{type:n?"loading":"attachment"}))})),m()(l()(t),"renderStatusTip",(function(){var e=t.props.cardData.getStatus();if(e===Rx.Uploading){var n=t.state.percent;return Re.a.createElement("span",{className:t.getClassName("percent")},void 0!==n?"".concat(n,"%"):""," ")}return e===Rx.Transfering?Re.a.createElement("span",null," "):null})),m()(l()(t),"renderName",(function(){var e=t.props.cardData.getName();return Re.a.createElement("span",{className:t.getClassName("name"),"data-testid":t.getClassName("name")},e)})),m()(l()(t),"renderFileSize",(function(){var e=t.props.cardData.getSize();if(e){var n=Ic(e);if(n)return Re.a.createElement("span",{className:t.getClassName("size"),"data-testid":t.getClassName("size")},"(",n,")")}return null}));var n=e.cardData.getTaskId(),a=e.cardData.isCompleted();return n&&!a&&(t.asyncTask=e.taskObserver.observe(n)),t.state={percent:0},t}return a()(i,[{key:"componentDidMount",value:function(){this.asyncTask&&($N(this,this.asyncTask,"start",this.handleUploadStart),$N(this,this.asyncTask,"timeout",this.handleUploadError),$N(this,this.asyncTask,"error",this.handleUploadError),$N(this,this.asyncTask,"success",this.handleUploadSuccess),$N(this,this.asyncTask,"progress",this.handleUploadProgress))}},{key:"componentWillUnmount",value:function(){this.asyncTask&&this.asyncTask.abort&&this.asyncTask.abort()}},{key:"renderError",value:function(){var e=this.props.cardData.getName(),t=this.props.cardData.getMessage(),n=this.props.cardData.toJSON();return Re.a.createElement(KV,{block:!1,cardIcon:Re.a.createElement(oE,{type:"upload-error",size:20}),message:n},t||xm("文件上传失败，请重试")," ",e)}},{key:"render",value:function(){var e=this.props.cardData.getStatus();return e===Rx.Error?this.renderError():Re.a.createElement("span",{className:this.getClassName(),"data-status":e,"data-testid":this.getClassName()},this.renderIcon(),this.renderStatusTip(),this.renderName(),this.renderFileSize())}}]),i}();function JV(e){var t=e.cardData,n=e.from;return Cv(t.getSrc(),n)}function YV(e){var t=e.cardData,n=e.pluginOption,r=t.getExt(),o=t.getSize();return n.isCanPreview?n.isCanPreview({fileExt:r,fileSize:o,fileUtils:tl}):el(r,o)}function GV(e){var t=e.cardData,n=e.from,r=e.pluginOption,o=t.getSrc(),i=t.getName(),a=JV({cardData:t,from:n});r.downloadFileHandler?r.downloadFileHandler(o,i):lj(a)}function XV(e){var t,n=e.cardData,r=e.from,o=e.pluginOption,i=n.getSrc();t=o.getPreviewUrl?o.getPreviewUrl(i,o.origin,r):xv(kv(i,o.origin,r)),o.previewFileHandler?o.previewFileHandler(t,i):lj(t)}m()($V,"propTypes",{cardData:De.a.object.isRequired,taskObserver:De.a.object.isRequired,onTaskStart:De.a.func.isRequired,onTaskProgress:De.a.func.isRequired,onTaskSuccess:De.a.func.isRequired,onTaskError:De.a.func.isRequired});var QV=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"_taskObserver",null),m()(l()(e),"setIngStatus",(function(){var t=e.cardData.getTaskType()===Nx?Rx.Transfering:Rx.Uploading;e.cardData.getStatus()!==t&&(e.cardData.setStatus(t),e.cardData.afterChange())})),m()(l()(e),"previewFile",(function(){XV({cardData:e.cardData,from:e.getFrom(),pluginOption:e.pluginOption})})),m()(l()(e),"downloadFile",(function(){GV({cardData:e.cardData,from:e.getFrom(),pluginOption:e.pluginOption})})),e}return a()(i,[{key:"init",value:function(e){var t=this;this._taskObserver=e,this.uiViewProxy=cO.render($V,{cardData:this.cardData,taskObserver:this._taskObserver,onTaskStart:function(){t.setIngStatus()},onTaskProgress:function(){t.setIngStatus()},onTaskSuccess:function(e){t.cardData.setSrc(e.url),t.cardData.setStatus(Rx.Done),e.size&&t.cardData.setSize(e.size),e.filename&&t.cardData.setName(e.filename),e.extname&&t.cardData.setExt(e.extname),t.cardData.sync(!0),t.refreshToolbar()},onTaskError:function(e){null!=e&&e.message&&t.cardData.setMessage(e.message),t.cardData.setStatus(Rx.Error),t.cardData.sync(!0)}},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this)}},{key:"getFrom",value:function(){return this.pluginOption.from||this.iEditor.option.currentURL||"undefined"!=typeof location?location.href:""}},{key:"getCardToolbarConfig",value:function(){if(this.cardData.getStatus()!==Rx.Done)return null;var e=[{name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile},"saveToResource"];return YV({cardData:this.cardData,pluginOption:this.pluginOption})&&e.unshift({name:"preview",text:xm("预览"),icon:"card-tb-preview",onClick:this.previewFile}),e}}]),i}();var ez=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),m()(l()(t),"sync",(function(){return!t._iEditor.iEngine.nodeIsInTree(t.viewNode)||t.cardData.isCompleted()})),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this.cardData.getTaskType()===Nx?this._iEditor.transferObserver:this._iEditor.uploadObserver;this._ui=this._iEditor.createCardUI(this,e)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}}]),i}();m()(ez,"$EditableCardUI",QV),m()(ez,"$CardData",Dx);var tz=function(e){u()(i,Lc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iEditor",null),m()(l()(n),"_plugin",null),n._iEditor=e,n._plugin=t,n}return a()(i,[{key:"preReadFile",value:function(e,t){var n,r=null===(n=t.extName)||void 0===n?void 0:n.toLowerCase();if(!em.getAttachmentFileAccept(this._plugin.option.accept).includes("."+r))return this._iEditor.emitEvent("unSupportFileUpload",t),!1;if(!e.checkFileSize("file",t.file.size))return!1;var o=IB.uploadFile(this._iEditor,[t.file]),i=E()(o,1)[0];t._$neUploadTaskId=i.id}}]),i}();m()(tz,"FileTypes","*");var nz=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e,t){br("file"===e,"F:note-file-toolbar-descriptor;L:12"),this._iEditor.emitPluginEvent("insertCardByUI",{item:{type:"FileItem",name:"file"},args:[[t]]})}},{key:"getInitUIState",value:function(){var e;return{disabled:!1,icon:"note-file",className:"ne-ui-toolbar-file",accept:em.getAttachmentFileAccept(null===(e=this.pluginContext)||void 0===e?void 0:e.option.accept),tooltip:Uk.getTooltip(this.iEditor,xm("附件"))}}},{key:"getUIState",value:function(){var e=this.iEditor.iKernel.queryCommandValue("selection");return{disabled:!e||e.isTableSelection||e.isCardSelection}}}]),i}();m()(nz,"Type","FileButton");var rz=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerInlineCard(this,gb,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(ez,[e].concat(n))}}),e.iKernel.hasExtendMethod("registerPreFileReader")&&e.iKernel.registerPreFileReader(tz.FileTypes,new tz(e,this)),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect(bb,{type:"FileItem",icon:"card-file",iconSize:16,label:xm("附件"),name:bb,multiple:!0,accept:em.getAttachmentFileAccept(this.option.accept),keywords:"附件,fj,fujian,file,attachment",description:xm("最大限制：100MB")}),e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("note-file",{clazz:nz,pluginContext:this})}},{key:"sync",value:function(){return 0===this.cardNodes.filter((function(e){return!1===e.sync()})).length}}]),i}();m()(rz,"PluginName","file"),m()(rz,"PluginOption",qV);var oz=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.extendMethods({updateUserColor:this.updateUserColors,getUserColors:this.getUserColors})}},{key:"updateUserColors",value:function(e){var t=this.getUserColors(),n=t.indexOf(e);-1!==n&&t.splice(n,1),t.push(e),t=t.slice(-10),localStorage.setItem("ne_lakex_user_color_local_store_key",JSON.stringify(t))}},{key:"getUserColors",value:function(){var e=localStorage.getItem("ne_lakex_user_color_local_store_key");return e?JSON.parse(e):[]}}]),i}();m()(oz,"PluginName","colorPickerSupport");var iz={bold:xm("粗体"),italic:xm("斜体"),underline:xm("下划线"),strikethrough:xm("删除线")},az=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("change"===e,"F:basic-text-style-toolbar-descriptor;L:17"),this.iEditor.execCommand(this.name)}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,checked:!1,icon:"t-".concat(this.name),tooltip:Uk.getTooltip(this.iEditor,iz[this.name],this.name)}}},{key:"getUIState",value:function(){var e=this.iEditor,t=this.name;return{disabled:this.disabled||!e.queryCommandEnabled(t),checked:1===e.queryCommandState(t)}}}]),i}();m()(az,"Type","StatusButton");var cz=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&(e.registerToolbarWidget("bold",az),e.registerToolbarWidget("strikethrough",az),e.registerToolbarWidget("italic",az),e.registerToolbarWidget("underline",az))}}]),i}();m()(cz,"PluginName","basicTextStyle");var lz=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){this.kernel.iEditing.on("afterExecCommand",(function(){var n,r,o=document.activeElement;o?(r=(n=o).nodeName,n.contentEditable+""!="true"&&"INPUT"!==r&&"TEXTAREA"!==r&&!t.domRootNode.contains(o)&&e.editorWrapNode.contains(o)&&t.execCommand("focus")):t.execCommand("focus")}));var n=t.domRootNode;t.iEngine.on("focusstatuschange",(function(e){e?n.classList.add("ne-active"):n.classList.remove("ne-active")}))}}]),i}();m()(lz,"PluginName","focus");var sz={createUploadTask:null,uploadFileURL:null,previewFileHandler:null,downloadFileHandler:null,origin:"",from:"",previewDelayTime:2e3},uz=function(e){u()(i,r_);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_option",null),t._option=T()({},sz,e),t._option.previewFileHandler&&(t.previewFileHandler=t._option.previewFileHandler),t._option.downloadFileHandler&&(t.downloadFileHandler=t._option.downloadFileHandler),t}return a()(i,[{key:"createUploadTask",value:function(e){var t=this._option,n=t.uploadFileURL,r=t.createUploadTask;return br(n||r,"F:local-doc-option;L:47"),r?r(e):new Nj(n,e)}},{key:"from",get:function(){return this._option.from}},{key:"origin",get:function(){return this._option.origin}},{key:"previewDelayTime",get:function(){return this._option.previewDelayTime}},{key:"accept",get:function(){return this._option.accept}}]),i}();m()(uz,"OptionName",Ob);var dz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj(e.props.className)),m()(l()(e),"handleDownloadFile",(function(){e.props.downloadFile()})),e}return a()(i,[{key:"render",value:function(){var e=this.props.getPreviewUrl(),t=this.props.allowDownload;return Re.a.createElement("div",{className:this.getClassName("op")},e&&Re.a.createElement(Be.a,{trigger:"hover",title:xm("预览")},Re.a.createElement("a",{href:gv.sanitizeUrl(e),target:"_blank","data-testid":"ne-card-local-doc-btn-preview",className:this.getClassName("op-preview")},Re.a.createElement(oE,{type:"eye-outlined"}))),e&&t&&Re.a.createElement(Be.a,{trigger:"hover",title:xm("下载")},Re.a.createElement("span",{"data-testid":"ne-card-local-doc-btn-download",className:this.getClassName("op-download"),onClick:this.handleDownloadFile},Re.a.createElement(oE,{type:"card-tb-download"}))))}}]),i}();m()(dz,"propTypes",{className:De.a.string,getPreviewUrl:De.a.func.isRequired,downloadFile:De.a.func.isRequired,allowDownload:De.a.bool});var fz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-local-doc")),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getName(),t=this.props.cardData.getSize(),n=Ic(t),r=this.props.getPreviewUrl(),o=this.props.cardData.getPureExt();return Re.a.createElement("div",{className:this.getClassName("collapse"),"data-testid":this.getClassName("status-collapse")},Re.a.createElement("div",{className:this.getClassName("collapse-icon")},Re.a.createElement(oE,{type:"ext-".concat(o),size:24})),Re.a.createElement("div",{className:this.getClassName("collapse-content")},Re.a.createElement("div",{className:this.getClassName("collapse-content-name")},Re.a.createElement("a",{href:gv.sanitizeUrl(r),target:"_blank","data-testid":this.getClassName("title")},e)),Re.a.createElement("div",{className:this.getClassName("collapse-content-size")},"(",n,")")),Re.a.createElement(dz,{className:this.getClassName("collapse"),getPreviewUrl:this.props.getPreviewUrl,downloadFile:this.props.downloadFile,allowDownload:this.props.allowDownload}))}}]),i}();m()(fz,"propTypes",{cardData:De.a.object.isRequired,getPreviewUrl:De.a.func.isRequired,downloadFile:De.a.func.isRequired,allowDownload:De.a.bool});var hz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-local-doc")),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getName(),t=this.props.cardData.getPureExt(),n=this.props.getPreviewUrl(),r="";this.props.renderIFrameUrl&&(r=this.props.getIFrameUrl());var o=!0;return"xls"!==t&&"xlsx"!==t||(o=!1),Re.a.createElement("div",{className:this.getClassName("expand"),"data-testid":this.getClassName("status-expand")},Re.a.createElement("div",{className:this.getClassName("expand-header",o?"expand-header-border":"")},Re.a.createElement("div",{className:this.getClassName("expand-header-icon")},Re.a.createElement(oE,{type:"ext-".concat(t),size:16})),Re.a.createElement("div",{className:this.getClassName("expand-header-title")},Re.a.createElement("a",{href:gv.sanitizeUrl(n),target:"_blank","data-testid":this.getClassName("title")},e),this.props.headerNode),Re.a.createElement(dz,{className:this.getClassName("expand-header"),getPreviewUrl:this.props.getPreviewUrl,downloadFile:this.props.downloadFile,allowDownload:this.props.allowDownload})),Re.a.createElement("div",{className:this.getClassName("expand-content")},Re.a.createElement("iframe",{frameBorder:0,allowFullScreen:!0,src:gv.sanitizeUrl(r)}),this.props.contentNode))}}]),i}();m()(hz,"propTypes",{cardData:De.a.object.isRequired,renderIFrameUrl:De.a.bool.isRequired,getPreviewUrl:De.a.func.isRequired,downloadFile:De.a.func.isRequired,getIFrameUrl:De.a.func.isRequired,headerNode:De.a.oneOfType([De.a.arrayOf(De.a.node),De.a.node]),contentNode:De.a.oneOfType([De.a.arrayOf(De.a.node),De.a.node]),allowDownload:De.a.bool});var pz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getName(),t=this.props.cardData.getMessage()||xm("文件上传失败，请重试"),n=this.props.cardData.getCardValue();return Re.a.createElement(KV,{block:!0,message:n,cardIcon:Re.a.createElement(oE,{type:"upload-error",size:20})},t," ",e)}}]),i}();m()(pz,"propTypes",{cardData:De.a.object.isRequired}),FN('ne-card[data-card-name="localdoc"] {\n  /* stylelint-disable-line */\n  min-width: 0;\n}\nne-card[data-card-name="localdoc"] .ne-card-container[data-alias="expanded"] {\n  height: 450px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc {\n  background: #fafafa;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 4px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc iframe {\n  border-radius: 4px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header {\n  height: 32px;\n  flex: 0 0 32px;\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n  background: #fff;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-border {\n  border-bottom: 1px solid #d9d9d9;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-icon {\n  flex: 0 0 16px;\n  display: flex;\n  width: 16px;\n  height: 16px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-title {\n  flex: 1;\n  margin: 0 6px;\n  min-width: 0;\n  font-size: 12px;\n  color: #595959;\n  display: flex;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-title a {\n  display: block;\n  font-size: 12px;\n  color: #595959;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-title a:hover {\n  color: #1890ff;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-title-loading {\n  margin-left: 6px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op {\n  flex: 0 0 auto;\n  display: flex;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-preview,\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-download {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-preview:hover,\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-download:hover {\n  background-color: #f5f5f5;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-preview .ne-icon,\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-download .ne-icon {\n  color: #515151;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-header-op-download {\n  cursor: pointer;\n  margin-left: 12px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  overflow: hidden;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-content iframe {\n  width: 100%;\n  height: 100%;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-content-loading {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0);\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-expand-content-loading-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 36px;\n  height: 36px;\n  margin: -18px 0 0 -18px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  background: #fff;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-icon {\n  flex: 0 0 24px;\n  width: 24px;\n  height: 24px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-content {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  margin: 0 12px;\n  min-width: 0;\n  color: #262626;\n  font-size: 16px;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-content-name {\n  min-width: 0;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-content-name a {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  color: #262626;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-content-name a:hover {\n  color: #1890ff;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-content-size {\n  flex: 0 0 auto;\n  margin-left: 8px;\n  color: #a6a6a6;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op {\n  flex: 0 0 auto;\n  display: flex;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-preview,\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-download {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border: 1px solid #ebebeb;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-preview .ne-icon,\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-download .ne-icon {\n  color: #515151;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-preview:hover .ne-icon,\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-download:hover .ne-icon {\n  color: #25b864;\n}\nne-card[data-card-name="localdoc"] .ne-card-local-doc-collapse-op-download {\n  cursor: pointer;\n  margin-left: 14px;\n}\n');var vz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"asyncTask",null),m()(l()(t),"getClassName",zj("ne-card-local-doc")),m()(l()(t),"handleUploadStart",(function(){t.setState({percent:0}),t.props.onTaskStart()})),m()(l()(t),"handleUploadError",(function(e){t.props.onTaskError(e)})),m()(l()(t),"handleUploadSuccess",(function(e){setTimeout((function(){t.setState({renderIFrameUrl:!0})}),t.props.previewDelayTime),t.props.onTaskSuccess(e)})),m()(l()(t),"handleUploadProgress",(function(e){t.setState({percent:e}),t.props.onTaskProgress()})),m()(l()(t),"renderCollapse",(function(){return Re.a.createElement(fz,{cardData:t.props.cardData,getPreviewUrl:t.props.getPreviewUrl,downloadFile:t.props.downloadFile,allowDownload:!0})})),m()(l()(t),"renderUploadingTips",(function(){if(t.props.cardData.getStatus()===o_.Uploading){var e=t.state.percent;return Re.a.createElement("span",{className:t.getClassName("expand-header-title-loading")},xm("上传中")," ",e?"".concat(e,"%"):"")}return null})),m()(l()(t),"renderExpand",(function(){var e=null;return t.props.cardData.getStatus()===o_.Uploading&&(e=Re.a.createElement("div",{className:t.getClassName("expand-content-loading")},Re.a.createElement(oE,{type:"loading",size:36,className:t.getClassName("expand-content-loading-icon")}))),Re.a.createElement(hz,{cardData:t.props.cardData,headerNode:t.renderUploadingTips(),contentNode:e,renderIFrameUrl:t.state.renderIFrameUrl,getPreviewUrl:t.props.getPreviewUrl,getIFrameUrl:t.props.getIFrameUrl,downloadFile:t.props.downloadFile,allowDownload:!0})})),m()(l()(t),"renderError",(function(){return Re.a.createElement(pz,{cardData:t.props.cardData})}));var n=e.cardData.getTaskId(),a=e.cardData.isCompleted();n&&!a&&(t.asyncTask=e.taskObserver.observe(n));var c=!1;return e.cardData.getStatus()===o_.Done&&(c=!0),t.state={percent:0,renderIFrameUrl:c},t}return a()(i,[{key:"componentDidMount",value:function(){this.asyncTask&&($N(this,this.asyncTask,"start",this.handleUploadStart),$N(this,this.asyncTask,"timeout",this.handleUploadError),$N(this,this.asyncTask,"error",this.handleUploadError),$N(this,this.asyncTask,"success",this.handleUploadSuccess),$N(this,this.asyncTask,"progress",this.handleUploadProgress))}},{key:"componentWillUnmount",value:function(){this.asyncTask&&this.asyncTask.abort&&this.asyncTask.abort()}},{key:"render",value:function(){var e,t=this.props.cardData.getStatus(),n=this.props.cardData.getCollapsed();return e=t===o_.Error?this.renderError():n?this.renderCollapse():this.renderExpand(),Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName()},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===t.renderIFrameUrl&&e.cardData.getStatus()===o_.Done?{renderIFrameUrl:!0}:null}}]),i}();function mz(e){var t=e.cardData,n=e.from;return Cv(t.getSrc(),n)}function yz(e){var t=e.cardData,n=e.origin,r=e.from;return xv(kv(t.getSrc(),n,r))}function gz(e){var t=e.cardData,n=e.origin;return Rv(yz({cardData:t,origin:n,from:e.from}),{view:"doc_embed"},n)}function bz(e){var t=e.cardData,n=e.pluginOption,r=e.from,o=t.getSrc(),i=t.getName(),a=mz({cardData:t,from:r});n.downloadFileHandler?n.downloadFileHandler(o,i):lj(a)}m()(vz,"propTypes",{cardData:De.a.object.isRequired,defaultHeight:De.a.number,previewDelayTime:De.a.number.isRequired,getPreviewUrl:De.a.func.isRequired,downloadFile:De.a.func.isRequired,getIFrameUrl:De.a.func.isRequired,taskObserver:De.a.object.isRequired,onTaskStart:De.a.func.isRequired,onTaskProgress:De.a.func.isRequired,onTaskSuccess:De.a.func.isRequired,onTaskError:De.a.func.isRequired});var wz=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"_taskObserver",null),m()(l()(e),"setIngStatus",(function(){var t=e.cardData.getTaskType()===i_?o_.Transfering:o_.Uploading;e.cardData.getStatus()!==t&&(e.cardData.setStatus(t),e.cardData.afterChange())})),m()(l()(e),"getFrom",(function(){return e.pluginOption.from||e.iEditor.option.currentURL||("undefined"!=typeof location?location.href:"")})),m()(l()(e),"getOrigin",(function(){return e.pluginOption.origin||("undefined"!=typeof location?location.origin:"")})),m()(l()(e),"getPreviewUrl",(function(){return e.cardData.getStatus()!==o_.Done?"":yz({cardData:e.cardData,origin:e.getOrigin(),from:e.getFrom()})})),m()(l()(e),"previewFile",(function(){var t=e.getPreviewUrl();t&&lj(t)})),m()(l()(e),"getIFrameUrl",(function(){return e.cardData.getStatus()!==o_.Done?"":gz({cardData:e.cardData,origin:e.getOrigin(),from:e.getFrom()})})),m()(l()(e),"downloadFile",(function(){bz({cardData:e.cardData,pluginOption:e.pluginOption,from:e.getFrom()})})),m()(l()(e),"switchView",(function(t){return function(){t!==e.cardData.getCollapsed()&&(e.cardData.setCollapsed(t),e.cardData.sync(!1),e.refreshResizer(),e.refreshToolbar())}})),m()(l()(e),"openSidebar",(function(){e.emit("openSidebar")})),e}return a()(i,[{key:"init",value:function(e){var t=this;this._taskObserver=e,this.uiViewProxy=cO.render(vz,{cardData:this.cardData,taskObserver:this._taskObserver,getPreviewUrl:this.getPreviewUrl,getIFrameUrl:this.getIFrameUrl,downloadFile:this.downloadFile,previewDelayTime:this.pluginOption.previewDelayTime,defaultHeight:i.defaultHeight,onTaskStart:function(){t.setIngStatus()},onTaskProgress:function(){t.setIngStatus()},onTaskSuccess:function(e){t.cardData.setSrc(e.url||""),t.cardData.setStatus(o_.Done),e.size&&t.cardData.setSize(e.size),e.filename&&t.cardData.setName(e.filename),e.extname&&t.cardData.setExt(e.extname),t.cardData.sync(!0),t.refreshToolbar()},onTaskError:function(e){null!=e&&e.message&&t.cardData.setMessage(e.message),t.cardData.setStatus(o_.Error),t.cardData.sync(!0)}},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"getCardMaskConfig",value:function(){return!0}},{key:"getResizerConfig",value:function(){return this.cardData.getCollapsed()?null:{min:300}}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this)}},{key:"getCardToolbarConfig",value:function(){if(this.cardData.getStatus()!==o_.Done)return null;var e=this.cardData.getCollapsed();return[{name:"expand",text:xm("嵌入预览"),icon:"card-tb-embed-view",disabled:!e,onClick:this.switchView(!1)},{name:"collapsed",text:xm("紧凑展示"),icon:"card-tb-card-view",disabled:e,onClick:this.switchView(!0)},"|",{name:"preview",text:xm("预览"),icon:"eye-outlined",onClick:this.previewFile},{name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile},"saveToResource","|",{name:"preferences",text:xm("设置"),icon:"preferences",onClick:this.openSidebar},"widthMode"]}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|","spacing"]}}}]),i}();var xz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleChangeDownload",(function(t){e.props.onChangeDownload(t.target.checked)})),e}return a()(i,[{key:"render",value:function(){var e=this,t=this.props.cardData.getDownload();return Re.a.createElement(bF,{className:"ne-card-local-doc-sidebar","data-testid":"ne-image-sidebar"},Re.a.createElement(bF.Header,{onClose:function(){return e.props.descriptor.close()}},xm("本地文件设置")),Re.a.createElement(bF.Body,null,Re.a.createElement(ht.a,{checked:t,onChange:this.handleChangeDownload},xm("允许在阅读页下载文件"))))}}]),i}();m()(xz,"propTypes",{cardData:De.a.object,descriptor:De.a.instanceOf(fF).isRequired,onChangeDownload:De.a.func});var _z=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_cardNode",null),m()(l()(t),"_uiViewProxy",null),m()(l()(t),"handleChangeDownload",(function(e){t._cardNode.cardData.setDownload(e),t._cardNode.cardData.sync(!0)})),t._cardNode=e,t}return a()(i,[{key:"init",value:function(){this._uiViewProxy=XN.render(xz,{cardData:this._cardNode.cardData,descriptor:this,onChangeDownload:this.handleChangeDownload},this.sidebarRootNode)}},{key:"destroy",value:function(){this._uiViewProxy&&(this._uiViewProxy.destroy(),this._uiViewProxy=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!1}}]),i}();var kz=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),m()(l()(t),"openSidebar",(function(){t._iEditor.hasExtend("sidebar")&&(t._descriptor=new _z(l()(t)),t._iEditor.sidebar.open(t._descriptor))})),m()(l()(t),"closeSidebar",(function(){t._descriptor&&(t._descriptor.close(),t._descriptor=null)})),m()(l()(t),"sync",(function(){return!t._iEditor.iEngine.nodeIsInTree(t.viewNode)||t.cardData.isCompleted()})),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this.cardData.getTaskType()===i_?this._iEditor.transferObserver:this._iEditor.uploadObserver;this._ui=this._iEditor.createCardUI(this,e),this._ui.on("openSidebar",this.openSidebar)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null,this.closeSidebar()}},{key:"$blur",value:function(){this.closeSidebar(),B()(p()(i.prototype),"$blur",this).call(this)}}]),i}();m()(kz,"$EditableCardUI",wz),m()(kz,"$CardData",c_);var Cz=function(e){u()(i,Lc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"preReadFile",value:function(e,t,n){if("ui"===(null==n?void 0:n.from)&&"localDoc"===(null==n?void 0:n.category)){if(!e.checkFileSize("localDoc",t.file.size))return!1;var r=IB.uploadLocalDoc(this._iEditor,[t.file]),o=E()(r,1)[0];return t._$neUploadTask=o,!1}}}]),i}();FN(".ne-ui-local-doc-upload-item {\n  margin-top: -8px;\n  height: 46px;\n  border-radius: 4px 4px 0 0;\n  border-bottom: 1px solid #ebebeb;\n  margin-bottom: 8px;\n}\n");var Rz=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_getCategories",(function(){var t,n,r,o;return[{type:"SubMenu",name:"localDoc",label:xm("本地文件"),iconSize:16,icon:"card-local-doc",recordDisable:!0},{type:"FileItem",name:"uploadForLocalDoc",category:"localDoc",multiple:!0,label:xm("上传文件"),icon:"card-local-doc-plus",iconSize:14,className:"ne-ui-local-doc-upload-item",recordDisable:!0,accept:[].concat(x()(em.getAudioFileAccept(null===(t=e.option.editorOption)||void 0===t||null===(n=t.audio)||void 0===n?void 0:n.accept)),x()(em.getVideoFileAccept(null===(r=e.option.editorOption)||void 0===r||null===(o=r.video)||void 0===o?void 0:o.accept)),x()(em.getLocalDocFileAccept(e.option.accept,"localdoc")))},{type:"FileItem",name:"officeForLocalDoc",category:"localDoc",label:xm("Office 文件"),remark:xm("支持 Word, Excel, PPT"),icon:"card-local-doc-ms-office",achromaticIcon:"card-local-doc-ms-office-a",keywords:"word,excel,ppt,powerpoint,office文件,文件,wj",accept:em.getLocalDocFileAccept(e.option.accept,"ms-office"),recordDisable:!0},{type:"FileItem",name:"macOfficeForLocalDoc",category:"localDoc",multiple:!0,label:xm("Mac 办公套件"),remark:xm("支持 Pages, Numbers, Keynote"),icon:"card-local-doc-mac-office",achromaticIcon:"card-local-doc-mac-office-a",keywords:"keynote,pages,numbers,mac办公套件,文件,office",accept:em.getLocalDocFileAccept(e.option.accept,"mac-office"),recordDisable:!0},{type:"FileItem",name:"mindForLocalDoc",category:"localDoc",multiple:!0,label:xm("思维导图文件"),remark:xm("支持 MindManager, XMind, MindNode"),icon:"card-local-doc-mindmap",achromaticIcon:"card-local-doc-mindmap-a",keywords:"mindnode,mindmanager,mmap,思维导图文件,脑图",accept:em.getLocalDocFileAccept(e.option.accept,"mind"),recordDisable:!0},{type:"FileItem",name:"designForLocalDoc",category:"localDoc",multiple:!0,label:xm("设计文件"),remark:xm("支持 Axure, Photoshop, Sketch"),icon:"card-local-doc-design",achromaticIcon:"card-local-doc-design-a",keywords:["design","axure","photoshop","ps","sketch","设计文件"],accept:em.getLocalDocFileAccept(e.option.accept,"desgin"),recordDisable:!0},{type:"FileItem",name:"pdfForLocalDoc",category:"localDoc",multiple:!0,label:xm("PDF 文件"),icon:"card-local-doc-pdf",achromaticIcon:"card-local-doc-pdf-a",keywords:["pdf","文件"],accept:em.getLocalDocFileAccept(e.option.accept,"pdf"),recordDisable:!0}]})),e}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,Nb,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(kz,[e].concat(n))}}),e.iKernel.hasExtendMethod("registerPreFileReader")&&e.iKernel.registerPreFileReader(em.getLocalDocFileAccept(this.option.accept,"localdoc"),new Cz(e)),e.hasExtendMethod("registerCardSelect")&&this._getCategories().forEach((function(t){e.registerCardSelect(t.name,t)}))}},{key:"sync",value:function(){return 0===this.cardNodes.filter((function(e){return!1===e.sync()})).length}}]),i}();m()(Rz,"PluginName","localDoc"),m()(Rz,"PluginOption",uz);var Nz=function(){function e(t,n){var r,i=this;o()(this,e),m()(this,"_currentPageURLObject",null),m()(this,"_pluginOption",null),m()(this,"_cardData",null),m()(this,"getRecent",xe()(ke.a.mark((function e(){var t,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i._pluginOption.group.login){e.next=3;break}return e.abrupt("return",new Promise((function(e){e([])})));case 3:return n=i._pluginOption.recentAction,e.abrupt("return",new Promise((function(e,r){_P({method:"get",url:n,data:{type:"doc",scope:t},success:function(t){e(i._filterData(i._serializer(t.data||[])).slice(0,10))},error:function(e){r(e)}})})));case 5:case"end":return e.stop()}}),e)})))),m()(this,"getSearch",(r=xe()(ke.a.mark((function e(t){var n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i._pluginOption.group.login,r=i._pluginOption.searchAction,e.abrupt("return",new Promise((function(e,o){_P({method:"get",url:r,data:{q:t,type:"doc",scope:n},success:function(t){e(i._filterData(i._serializer(t.data)))},error:function(e){o(e)}})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})),this._currentPageURLObject=new URL(t.getPageURL()),this._pluginOption=t,this._cardData=n}return a()(e,[{key:"getYuqueDocPreviewURL",value:function(e){return rO.getYuqueDocPreviewURL(e,this._pluginOption.getPageURL(),{allowLarkURL:this._pluginOption.allowLarkURL,allowGroupLink:this._pluginOption.allowGroupLink})}},{key:"loadingDetail",value:function(){var e=this,t=this._cardData.getSrc(),n=this._cardData.isGroup,r={url:t};return n&&Object.assign(r,{isGroup:n}),new Promise((function(t,n){_P({method:"get",url:e._pluginOption.linkDetailAction||"/api/editor/link_detail",data:r,success:function(e){t(e.data)},error:function(e){n(e)}})}))}},{key:"_filterData",value:function(e){var t=this,n=this._currentPageURLObject.pathname;return e.filter((function(e){var r=e.url,o=new URL(r,t._currentPageURLObject.origin).pathname;return o!==n&&o+"/edit"!==n}))}},{key:"_serializer",value:function(e){var t=this;return Array.isArray(e)||(e=[e]),e.forEach((function(e){if(!e.href){var n=new URL(e.url,t._currentPageURLObject.origin).href;e.href=n}})),e}}],[{key:"getPreviewURL",value:function(e,t){return rO.getYuqueDocPreviewURL(t,e.getPageURL(),{allowLarkURL:e.allowLarkURL}).url}},{key:"getGroupPreviewURL",value:function(e,t){return rO.getYuqueDocPreviewURL(t,e.getPageURL(),{allowLarkURL:e.allowLarkURL,allowGroupLink:e.allowGroupLink})}}]),e}();function Ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ez(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dz={group:{login:null,name:null},disableEmbedView:!1,linkDetailAction:"/api/editor/link_detail",searchAction:"/api/editor/search",recentAction:"/api/editor/recent",pageURL:null,allowLarkURL:!1,allowGroupLink:!0,allowToOpenLocal:function(e,t){return!1}},Sz=function(){function e(t){o()(this,e),this._option=Oz(Oz({},Dz),t)}return a()(e,[{key:"linkDetailAction",get:function(){var e=this._option.linkDetailAction;return"function"==typeof e?e():e}},{key:"searchAction",get:function(){return this._option.searchAction}},{key:"recentAction",get:function(){return this._option.recentAction}},{key:"isDisableEmbedView",get:function(){return this._option.disableEmbedView}},{key:"group",get:function(){return this._option.group}},{key:"allowLarkURL",get:function(){return this._option.allowLarkURL}},{key:"allowGroupLink",get:function(){return this._option.allowGroupLink}},{key:"getPageURL",value:function(){return this._option.pageURL||this.kernelOption.currentURL}},{key:"allowToOpenLocal",value:function(e,t){return this._option.allowToOpenLocal(e,t)}}]),e}();function Bz(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=arguments.length>2?arguments[2]:void 0,o=e||{},i=o.type,a=o.targetType,c="";return"group"===i||r&&null!=e&&e.type?Pz(e):(a&&"book"===a.toLowerCase()&&(c="repo-"),t=r?"ne-svg-icon-yuque-group":"ne-svg-icon-yuque-".concat(c,"sheet"===i?"sheet":"design"===i?"design":"thread"===i?"thread":"board"===i?"board":"mind"===i?"mind":"doc"),Re.a.createElement("span",{className:nw("ne-svg-icon",t),style:{width:n+"px",height:n+"px"}}))}function Pz(e){return e.image&&/^https?:\/\//.test(e.image)?Re.a.createElement("span",{className:"lakex-group-avatar"},Re.a.createElement("img",{src:e.image})):Re.a.createElement("span",{className:"lakex-group-avatar lakex-group-text-avatar",style:{"background-color":Mz(e.title)}},Re.a.createElement("span",null,function(e){var t=e.codePointAt(0);if(t=String.fromCodePoint(t),!/[0-9a-zA-Z\u4e00-\u9fa5]/.test(t)){var n=e.match(/[\u4e00-\u9fa5]/);n||(n=e.match(/[0-9a-zA-Z]/)),n&&(t=n[0])}return t}(e.title)))}function Fz(e){return e&&e.title?e.title:xm("无标题")}m()(Sz,"OptionName","yuque");var Tz=["#3988E4","#B97940","#2F9547","#235B9D","#59AF9A"];function Mz(e){if(!e)return Tz[0];var t=e.charCodeAt(0);return Tz[t%Tz.length]||Tz[0]}FN(".ne-yuque-doc-card-view {\n  height: 98px;\n  font-size: 14px;\n  overflow: hidden;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-detail {\n  display: flex;\n  flex-direction: row;\n  padding: 20px;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-detail .ne-yuque-doc-body {\n  width: calc(100% - 50px);\n  margin-left: 12px;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-detail .ne-yuque-doc-body .ne-yuque-doc-title {\n  color: #262626;\n  font-weight: bold;\n  line-height: 14px;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-detail .ne-yuque-doc-body .ne-yuque-doc-desc,\n.ne-yuque-doc-card-view .ne-yuque-doc-detail .ne-yuque-doc-body .ne-doc-card-view-belong {\n  font-size: 12px;\n  line-height: 12px;\n  margin-top: 10px;\n  color: #8c8c8c;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-detail .ne-yuque-doc-body .ne-doc-card-view-belong {\n  color: #595959;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-loading,\n.ne-yuque-doc-card-view .ne-yuque-doc-error {\n  height: 100%;\n  display: flex;\n  text-align: center;\n  flex-direction: column;\n  justify-content: center;\n  align-self: center;\n  background: #f5f5f5;\n  color: #a6a6a6;\n}\n.ne-yuque-doc-card-view .ne-yuque-doc-error .ne-yuque-doc-url {\n  padding: 0 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  user-select: text;\n}\n.ne-yuque-doc-card-view .lakex-group-avatar {\n  transform: none;\n  width: 20px;\n  height: 20px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 2px;\n  color: #fff;\n  border-radius: 100%;\n  overflow: hidden;\n}\n.ne-yuque-doc-card-view .lakex-group-avatar img {\n  width: 100%;\n  height: 100%;\n}\n.ne-yuque-doc-card-view .lakex-group-avatar span {\n  font-size: 10px;\n}\n");var Lz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e,t=this.props.cardData.getDetail();return e=t?this.renderDetail(t):this.props.isLoadingError?this.renderError():this.renderWaiting(),Re.a.createElement("div",{className:"ne-yuque-doc-card-view","data-testid":"ne-yuque-doc-card-view"},e)}},{key:"renderError",value:function(){return Re.a.createElement("div",{className:"ne-yuque-doc-error"},Re.a.createElement("div",{className:"ne-yuque-doc-tip"},xm("获取内容失败")),Re.a.createElement("div",{className:"ne-yuque-doc-url"},this.props.cardData.getSrc()))}},{key:"renderWaiting",value:function(){return Re.a.createElement("div",{className:"ne-yuque-doc-loading"},Re.a.createElement("div",{className:"ne-yuque-doc-tip"},xm("内容加载中 ...")))}},{key:"renderDetail",value:function(e){var t=Bz(e,24),n=Fz(e),r=e.desc?Re.a.createElement("div",{className:"ne-yuque-doc-desc","data-testid":"ne-yuque-doc-card-view-desc"},e.desc):null,o=Re.a.createElement("div",{className:"ne-yuque-doc-detail"},Re.a.createElement("div",{className:"ne-yuque-doc-icon"},t),Re.a.createElement("div",{className:"ne-yuque-doc-body"},Re.a.createElement("div",{className:"ne-yuque-doc-title","data-testid":"ne-yuque-doc-card-view-title"},n),r,Re.a.createElement("div",{className:"ne-doc-card-view-belong","data-testid":"ne-yuque-doc-card-view-belong"},e.belong||e.url||"-")));return this.props.clickable?Re.a.createElement("a",{href:gv.sanitizeUrl(this.props.cardData.getSrc()),target:"_blank"},o):o}}]),i}();m()(Lz,"propTypes",{cardData:De.a.instanceOf(y_).isRequired,isLoadingError:De.a.bool,clickable:De.a.bool}),FN('.ne-card-container[data-alias="embed"] {\n  height: 467px;\n}\n.ne-yuque-doc-embed-view {\n  height: 100%;\n}\n.ne-yuque-doc-embed-view .ne-yuque-doc-iframe-box {\n  height: 100%;\n}\n.ne-yuque-doc-embed-view .ne-yuque-doc-iframe-box iframe {\n  width: 100%;\n  height: 100%;\n}\n.ne-yuque-doc-embed-view .ne-yuque-doc-error {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-self: center;\n  text-align: center;\n  background: #f5f5f5;\n  color: #a6a6a6;\n}\n');var Az=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_iframeRef",Re.a.createRef()),m()(l()(e),"handleObserver",(function(e,t){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.src=n.dataset.src,t.unobserve(n)}}))})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this._iframeRef.current;e&&(window.IntersectionObserver?(this.observer=new IntersectionObserver(this.handleObserver,{threshold:.1}),this.observer.observe(e)):e.src=e.dataset.src)}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"render",value:function(){var e,t=this.props.url;return e=t?this.renderIFrame(t):this.renderError(),Re.a.createElement("div",{className:"ne-yuque-doc-embed-view","data-testid":"ne-yuque-doc-embed-view"},e)}},{key:"renderError",value:function(){return Re.a.createElement("div",{className:"ne-yuque-doc-error"},Re.a.createElement("div",{className:"ne-yuque-doc-tip"},xm("不支持该链接")),Re.a.createElement("div",{className:"ne-yuque-doc-url"},this.props.cardData.getSrc()))}},{key:"renderIFrame",value:function(e){return Re.a.createElement("div",{className:"ne-yuque-doc-iframe-box"},Re.a.createElement("iframe",{ref:this._iframeRef,"data-src":gv.sanitizeUrl(e),"data-testid":"ne-yuque-doc-embed-view-iframe",frameBorder:"0",allowFullScreen:!0}))}}]),i}();m()(Az,"propTypes",{cardData:De.a.instanceOf(y_).isRequired,url:De.a.any}),FN('ne-card[data-card-name="yuqueInline"] {\n  vertical-align: middle;\n  height: auto;\n}\n.ne-yuque-doc-title-view {\n  display: inline-flex;\n  align-items: center;\n  color: #096dd9;\n  cursor: pointer;\n}\n.ne-yuque-doc-title-view .ne-svg-icon {\n  margin-right: 2px;\n  flex-shrink: 0;\n}\n.ne-yuque-doc-title-view .lakex-group-avatar {\n  transform: none;\n  width: 20px;\n  height: 20px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 2px;\n  color: #fff;\n  border-radius: 100%;\n  overflow: hidden;\n}\n.ne-yuque-doc-title-view .lakex-group-avatar img {\n  width: 100%;\n  height: 100%;\n}\n.ne-yuque-doc-title-view .lakex-group-avatar span {\n  font-size: 10px;\n}\n');var Iz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e,t=this.props.cardData.isGroup,n=this.props.cardData.getDetail(),r=Bz(n,20,t);return e=n?this.renderTitle(n,t):this.props.isLoadingError?this.renderError():this.renderWaiting(),Re.a.createElement("div",{className:"ne-yuque-doc-title-view","data-testid":"ne-yuque-doc-title-view"},r,e)}},{key:"renderError",value:function(){return Re.a.createElement("div",{className:"ne-yuque-doc-error"},Re.a.createElement("div",{className:"ne-yuque-doc-tip"},xm("未能获取内容")))}},{key:"renderWaiting",value:function(){return Re.a.createElement("div",{className:"ne-yuque-doc-loading"},Re.a.createElement("div",{className:"ne-yuque-doc-tip"},xm("内容加载中 ...")))}},{key:"renderTitle",value:function(e,t){var n,r,o=t?(n=e)&&n.title?n.title:xm("无法获取团队信息"):Fz(e),i=Re.a.createElement("div",{className:"ne-yuque-doc-title","data-testid":"ne-yuque-doc-title-view-title"},o);return r=this.props.clickable?Re.a.createElement("a",{target:"_blank",href:gv.sanitizeUrl(this.props.cardData.getSrc())},i):i,Re.a.createElement("div",{className:"ne-yuque-doc-title"},r)}}]),i}();m()(Iz,"propTypes",{cardData:De.a.instanceOf(y_).isRequired,isLoadingError:De.a.bool,clickable:De.a.bool});var jz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.isDisableEmbedView,r=e.isLoadingError,o=e.url,i=e.clickable;return t.isTitleMode(n)?Re.a.createElement(Iz,{cardData:t,clickable:i,isLoadingError:r}):t.isEmbedMode(n)?Re.a.createElement(Az,{cardData:t,url:o}):Re.a.createElement(Lz,{cardData:t,clickable:i,isLoadingError:r})}}]),i}();m()(jz,"propTypes",{cardData:De.a.instanceOf(y_).isRequired,url:De.a.any,isDisableEmbedView:De.a.bool,isLoadingError:De.a.bool,clickable:De.a.bool}),m()(jz,"defaultProps",{onLoad:function(){},clickable:!1}),FN(".ne-uilib-avatar-icon {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  vertical-align: -0.15em;\n  text-align: center;\n  text-transform: none;\n  line-height: 1;\n  text-rendering: auto;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n");var Vz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"randomColor",value:function(e){var t=["#3988E4","#B97940","#2F9547","#235B9D","#59AF9A"];return e&&t[e.charCodeAt(0)%t.length]||t[0]}},{key:"getAvatarText",value:function(e){var t=e.codePointAt(0);if(t=String.fromCodePoint(t),!/[0-9a-zA-Z\u4e00-\u9fa5]/.test(t)){var n=e.match(/[\u4e00-\u9fa5]/);n||(n=e.match(/[0-9a-zA-Z]/)),n&&(t=n[0])}return t}},{key:"renderGroupIcon",value:function(){var e=this.props,t=e.image,n=e.title;return t&&/^https?:\/\//.test(t)?Re.a.createElement("span",{className:"ne-uilib-avatar-group"},Re.a.createElement("img",{src:encodeURIComponent(t)})):Re.a.createElement("span",{className:"ne-uilib-avatar-group ne-uilib-avatar-text-group",style:{backgroundColor:this.randomColor(n)}},Re.a.createElement("span",null,Nl.encodeHTML(this.getAvatarText(n))))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.targetType,r="";if("group"===t)return this.renderGroupIcon();n&&"book"===n.toLowerCase()&&(r="repo-");var o="yuque-";return o+="".concat(r,"sheet"===t?"sheet":"design"===t?"design":"thread"===t?"thread":"mind"===t?"mind":"doc"),Re.a.createElement(oE,{className:"ne-uilib-avatar-icon",type:o})}}]),i}();Vz.propTypes={targetType:De.a.string,type:De.a.string,title:De.a.string,image:De.a.string},FN(".ne-ui-embed-input-panelbase-header {\n  height: 32px;\n  padding: 0 16px;\n  color: #8C8C8C;\n  font-size: 12px;\n  line-height: 32px;\n}\n.ne-ui-embed-input-panelbase-body {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ne-ui-embed-input-panelbase-item {\n  padding: 12px 16px;\n  height: 58px;\n  cursor: pointer;\n  display: flex;\n}\n.ne-ui-embed-input-panelbase-item:hover,\n.ne-ui-embed-input-panelbase-item-selected {\n  background-color: #F5F5F5;\n}\n.ne-ui-embed-input-panelbase-item .ne-uilib-avatar-icon {\n  margin-right: 12px;\n}\n.ne-ui-embed-input-panelbase-item-content {\n  width: 234px;\n}\n.ne-ui-embed-input-panelbase-item-content em {\n  color: #25b864;\n  font-style: normal;\n}\n.ne-ui-embed-input-panelbase-item-content dt {\n  color: #262626;\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ne-ui-embed-input-panelbase-item-content dd {\n  color: #8C8C8C;\n  font-size: 12px;\n  line-height: 14px;\n  margin-top: 6px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ne-ui-embed-input-panelbase-loading,\n.ne-ui-embed-input-panelbase-error {\n  height: 100%;\n  color: #8C8C8C;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.ne-ui-embed-input-panelbase-footer {\n  font-size: 12px;\n  height: 36px;\n  line-height: 34px;\n  border-top: 1px solid #e8e8e8;\n  color: #8C8C8C;\n  padding: 0 16px;\n}\n");var zz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{selectedIndex:-1}),m()(l()(e),"selectUp",(function(){var t,n=e.props.data;n&&n.length&&(t=e.state.selectedIndex<=-1?n.length-1:e.state.selectedIndex-1,e.setState({selectedIndex:t},(function(){var t=document.querySelector(".ne-ui-embed-input-panelbase-item-selected");e.scrollToItem(t)})))})),m()(l()(e),"selectDown",(function(){var t,n=e.props.data;n&&n.length&&(t=e.state.selectedIndex>=n.length-1?-1:e.state.selectedIndex+1,e.setState({selectedIndex:t},(function(){var t=document.querySelector(".ne-ui-embed-input-panelbase-item-selected");e.scrollToItem(t)})))})),m()(l()(e),"getSelected",(function(){var t=e.state.selectedIndex;return e.props.data[t]})),e}return a()(i,[{key:"renderHeader",value:function(){return this.props.header?Re.a.createElement("div",{className:"ne-ui-embed-input-panelbase-header"},this.props.header):null}},{key:"renderBody",value:function(){var e,t=this,n=this.props,r=n.data,o=n.body,i=n.empty,a=n.loading,c=n.error;return e=a?Re.a.createElement("div",{className:"ne-ui-embed-input-panelbase-loading"},xm("正在加载中...")):c?Re.a.createElement("div",{className:"ne-ui-embed-input-panelbase-error"},xm("加载失败")):0===r.length?i:r.map((function(e,n){var r=t.state.selectedIndex===n;return Re.a.createElement("div",{key:e.id+"-"+n,className:yt()("ne-ui-embed-input-panelbase-item",{"ne-ui-embed-input-panelbase-item-selected":r}),"data-href":encodeURIComponent(e.href),onClick:function(){return t.props.onSubmit(e.href)}},Re.a.createElement(Vz,{targetType:e.target_type,type:e.type,title:e.title,image:e.image}),Re.a.createElement("dl",{className:"ne-ui-embed-input-panelbase-item-content"},t._renderTitleByItem(e),Re.a.createElement("dd",null,e.belong)))})),Re.a.createElement("div",{className:"ne-ui-embed-input-panelbase-body"},e)}},{key:"renderFooter",value:function(){return this.props.footer?Re.a.createElement("div",{className:"ne-ui-embed-input-panelbase-footer"},this.props.footer):null}},{key:"scrollToItem",value:function(e){if(e){var t=e.parentNode,n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.bottom>n.bottom?t.scrollTop=t.scrollTop+(r.bottom-n.bottom)+50:r.top<n.top&&(t.scrollTop=t.scrollTop-(n.top-r.top)-50)}}},{key:"render",value:function(){var e=this.props.className;return Re.a.createElement("div",{className:yt()("ne-ui-embed-input-panelbase",e)},this.renderHeader(),this.renderBody(),this.renderFooter())}},{key:"_renderTitleByItem",value:function(e){return this.props.allowHTML?Re.a.createElement("dt",{dangerouslySetInnerHTML:{__html:e.title}}):Re.a.createElement("dt",null,e.title)}}]),i}();m()(zz,"propTypes",{header:De.a.any,footer:De.a.any,empty:De.a.any,className:De.a.string,loading:De.a.bool,allowHTML:De.a.bool,error:De.a.bool,onSubmit:De.a.func,body:De.a.any,data:De.a.arrayOf(De.a.shape({icon:De.a.object,title:De.a.string,desc:De.a.string}))}),m()(zz,"defaultProps",{loading:!1,error:!1,allowHTML:!1,data:[],onSubmit:function(){}}),FN(".ne-ui-embed-input-recommendpanel .ne-ui-embed-input-panelbase-body {\n  height: 262px;\n}\n");var Uz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_panelRef",Re.a.createRef()),e}return a()(i,[{key:"panel",get:function(){return this._panelRef.current}},{key:"renderHeader",value:function(){return Re.a.createElement("div",null,xm("最近使用"))}},{key:"renderFooter",value:function(){return Re.a.createElement("div",null,xm("在文档中贴入链接可快速关联内容"))}},{key:"render",value:function(){return Re.a.createElement(zz,{ref:this._panelRef,className:"ne-ui-embed-input-recommendpanel",header:this.renderHeader(),data:this.props.data,allowHTML:!1,loading:this.props.loading,error:this.props.error,footer:this.renderFooter(),onSubmit:this.props.onSubmit})}}]),i}();m()(Uz,"propTypes",{data:De.a.array.isRequired,loading:De.a.bool,error:De.a.bool,onSubmit:De.a.func}),m()(Uz,"defaultProps",{loading:!1,error:!1,onSubmit:function(){}}),FN(".ne-ui-embed-input-searchpanel .ne-ui-embed-input-panelbase-body {\n  height: 294px;\n}\n.ne-ui-embed-input-searchpanel-tip {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.ne-ui-embed-input-searchpanel-tip .ne-icon {\n  width: 28px;\n  height: 28px;\n}\n.ne-ui-embed-input-searchpanel-tip-content {\n  text-align: center;\n  font-size: 14px;\n  line-height: 22px;\n  color: #595959;\n  margin-top: 10px;\n}\n");var Hz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_panelRef",Re.a.createRef()),e}return a()(i,[{key:"panel",get:function(){return this._panelRef.current}},{key:"renderFooter",value:function(){return Re.a.createElement("div",null,xm("搜索范围: "),this.props.scopeName)}},{key:"renderEmpty",value:function(){return Re.a.createElement("div",{className:"ne-ui-embed-input-searchpanel-tip"},Re.a.createElement("img",{src:YP('<?xml version="1.0" encoding="UTF-8"?>\n<svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="关联语雀卡片" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.349999994">\n        <g id="搜索为空" transform="translate(-483.000000, -475.000000)" fill="#000000" fill-rule="nonzero">\n            <g id="搜索结果面板" transform="translate(342.000000, 371.000000)">\n                <g id="file-search" transform="translate(141.000000, 104.000000)">\n                    <rect id="矩形" opacity="0" x="0" y="0" width="28" height="28"></rect>\n                    <path d="M18.8125,8.53125 L18.8125,7.21875 C18.8125,7.0984375 18.7140625,7 18.59375,7 L8.09375,7 C7.9734375,7 7.875,7.0984375 7.875,7.21875 L7.875,8.53125 C7.875,8.6515625 7.9734375,8.75 8.09375,8.75 L18.59375,8.75 C18.7140625,8.75 18.8125,8.6515625 18.8125,8.53125 Z M8.09375,10.9375 C7.9734375,10.9375 7.875,11.0359375 7.875,11.15625 L7.875,12.46875 C7.875,12.5890625 7.9734375,12.6875 8.09375,12.6875 L13.125,12.6875 C13.2453125,12.6875 13.34375,12.5890625 13.34375,12.46875 L13.34375,11.15625 C13.34375,11.0359375 13.2453125,10.9375 13.125,10.9375 L8.09375,10.9375 Z M12.03125,23.296875 L5.6875,23.296875 L5.6875,4.046875 L21,4.046875 L21,13.453125 C21,13.5734375 21.0984375,13.671875 21.21875,13.671875 L22.75,13.671875 C22.8703125,13.671875 22.96875,13.5734375 22.96875,13.453125 L22.96875,2.953125 C22.96875,2.46914063 22.5777344,2.078125 22.09375,2.078125 L4.59375,2.078125 C4.10976563,2.078125 3.71875,2.46914063 3.71875,2.953125 L3.71875,24.390625 C3.71875,24.8746094 4.10976563,25.265625 4.59375,25.265625 L12.03125,25.265625 C12.1515625,25.265625 12.25,25.1671875 12.25,25.046875 L12.25,23.515625 C12.25,23.3953125 12.1515625,23.296875 12.03125,23.296875 Z M24.2183594,24.7050781 L21.6671875,22.1539063 C22.2769531,21.3472656 22.640625,20.3410156 22.640625,19.25 C22.640625,16.5921875 20.4859375,14.4375 17.828125,14.4375 C15.1703125,14.4375 13.015625,16.5921875 13.015625,19.25 C13.015625,21.9078125 15.1703125,24.0625 17.828125,24.0625 C18.8070313,24.0625 19.7148438,23.7699219 20.475,23.2695312 L23.0644531,25.8589844 C23.1082031,25.9027344 23.1628906,25.921875 23.2175781,25.921875 C23.2722656,25.921875 23.3296875,25.9 23.3707031,25.8589844 L24.2183594,25.0113281 C24.303125,24.9265625 24.303125,24.7898438 24.2183594,24.7050781 Z M17.828125,22.3125 C16.1355469,22.3125 14.765625,20.9425781 14.765625,19.25 C14.765625,17.5574219 16.1355469,16.1875 17.828125,16.1875 C19.5207031,16.1875 20.890625,17.5574219 20.890625,19.25 C20.890625,20.9425781 19.5207031,22.3125 17.828125,22.3125 Z" id="形状"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'),width:"28",height:"28",className:"ne-ui-yuque-search-panel-icon"}),Re.a.createElement("div",{className:"ne-ui-embed-input-searchpanel-tip-content"},Re.a.createElement("div",null,"搜索不到结果"),Re.a.createElement("div",null,"可以尝试贴入链接引入")))}},{key:"render",value:function(){return Re.a.createElement(zz,{ref:this._panelRef,className:"ne-ui-embed-input-searchpanel",data:this.props.data,empty:this.renderEmpty(),loading:this.props.loading,allowHTML:!0,error:this.props.error,footer:this.renderFooter(),onSubmit:this.props.onSubmit})}}]),i}();Hz.propTypes={scopeName:De.a.string,onSubmit:De.a.func,loading:De.a.bool,error:De.a.bool,data:De.a.arrayOf(De.a.shape({icon:De.a.object,title:De.a.string,desc:De.a.string}))};var qz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{focus:!1,showRecommend:!0,showSearch:!1,searchData:[],searchLoading:!1,searchError:!1,recommendData:[],recommendLoading:!1,recommendError:!1}),m()(l()(t),"_menuRef",Re.a.createRef()),m()(l()(t),"_searchPanel",Re.a.createRef()),m()(l()(t),"_recommendPanel",Re.a.createRef()),t.state.focus=e.focus,t.state.showRecommend=e.showRecommend,t.state.showSearch=e.showSearch,t.state.searchData=e.searchData,t.state.searchLoading=e.searchLoading,t.state.searchError=e.searchError,t.state.recommendData=e.recommendData,t.state.recommendLoading=e.recommendLoading,t.state.recommendError=e.recommendError,t}return a()(i,[{key:"update",value:function(e){var t=e.focus,n=e.showRecommend,r=e.showSearch,o=e.searchData,i=e.searchLoading,a=e.searchError,c=e.recommendData,l=e.recommendLoading,s=e.recommendError;this.setState({focus:t,showRecommend:n,showSearch:r,searchData:o,searchLoading:i,searchError:a,recommendData:c,recommendLoading:l,recommendError:s})}},{key:"getPanel",value:function(){return this.state.showRecommend?z()(this,"_recommendPanel.current.panel"):this.state.showSearch?z()(this,"_searchPanel.current.panel"):null}},{key:"isShowPanel",get:function(){return this.state.focus&&(this.state.showRecommend||this.state.showSearch)}},{key:"render",value:function(){return Re.a.createElement(hE,{ref:this._menuRef,targetNode:this.props.targetNode,uiEmitter:this.props.uiEmitter,visible:this.isShowPanel,placement:["bottomLeft","topLeft"],onClose:this.props.onClose,onCancel:this.props.onCancel,allowClose:!1},this._renderPanel())}},{key:"_renderPanel",value:function(){return Re.a.createElement("div",{className:"ne-ui-embed-input-pannel"},this.state.showRecommend&&Re.a.createElement(Uz,{ref:this._recommendPanel,data:this.state.recommendData,error:this.state.recommendError,loading:this.state.recommendLoading,onSubmit:this.props.onSubmit}),this.state.showSearch&&Re.a.createElement(Hz,{ref:this._searchPanel,data:this.state.searchData,error:this.state.searchError,scopeName:this.props.scopeName,loading:this.state.searchLoading,onSubmit:this.props.onSubmit}))}}]),i}();m()(qz,"propTypes",{scopeName:De.a.string,focus:De.a.bool,showRecommend:De.a.bool,showSearch:De.a.bool,searchData:De.a.arrayOf(De.a.shape({icon:De.a.object,title:De.a.string,desc:De.a.string})),searchLoading:De.a.bool,searchError:De.a.bool,recommendData:De.a.arrayOf(De.a.shape({icon:De.a.object,title:De.a.string,desc:De.a.string})),recommendLoading:De.a.bool,recommendError:De.a.bool,targetNode:De.a.oneOfType([De.a.object,De.a.func]).isRequired,uiEmitter:De.a.instanceOf(HC),onClose:De.a.func,onCancel:De.a.func,onSubmit:De.a.func}),m()(qz,"defaultProps",{onClose:function(){},onCancel:function(){}}),FN(".ne-ui-embed-input-container {\n  border-radius: 2px;\n}\n.ne-ui-embed-input-form {\n  position: relative;\n  border-radius: 2px;\n}\n.ne-ui-embed-input-endpoint {\n  margin-left: 10px;\n}\n.ne-ui-embed-input-endpoint input {\n  width: calc(100% - 200px);\n  border: 0;\n  height: 40px;\n  line-height: 40px;\n  margin: 4px 0;\n  font-size: 14px;\n  outline: none;\n}\n.ne-ui-embed-input-pannel {\n  position: absolute;\n  top: 100%;\n  left: -1px;\n  z-index: 9999;\n  margin-top: 6px;\n  width: 310px;\n  height: 330px;\n  border-radius: 4px;\n  border: 1px solid #E9E9E9;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.08);\n  background-color: #fff;\n}\n.ne-ui-embed-input-button {\n  position: absolute;\n  top: 9px;\n  right: 12px;\n}\n.ne-ui-embed-input-example-button {\n  border: 0;\n  padding: 0;\n  background: none;\n  cursor: pointer;\n  outline: none;\n  color: #595959;\n  margin-right: 16px;\n}\n");var Wz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootRef",Re.a.createRef()),m()(l()(e),"_inputRef",Re.a.createRef()),m()(l()(e),"_submitRef",Re.a.createRef()),m()(l()(e),"_exampleRef",Re.a.createRef()),m()(l()(e),"_embedInputMenuRef",Re.a.createRef()),m()(l()(e),"_overlay",null),m()(l()(e),"state",{showRecommend:!0,showSearch:!1,searchData:[],searchLoading:!1,searchError:!1,recommendData:[],recommendLoading:!1,recommendError:!1}),m()(l()(e),"handleRecommend",(function(){e.setState({recommendLoading:!0}),e.props.getRecommend().then((function(t){e.setState({recommendData:t,recommendLoading:!1})})).catch((function(t){console.warn(t),e.setState({recommendLoading:!1,recommendError:!0})})).finally((function(){e._updateMenu()}))})),m()(l()(e),"handleSearch",(function(t){e.setState({searchLoading:!0}),e.props.getSearch(t).then((function(t){e.setState({searchData:t,searchLoading:!1})})).catch((function(t){console.warn(t),e.setState({searchLoading:!1,searchError:!0})})).finally((function(){e._updateMenu()}))})),m()(l()(e),"handleSubmit",(function(t){e._cancel(),e.props.onSubmit(t)})),m()(l()(e),"getInputValue",(function(){return e._inputRef.current.value})),m()(l()(e),"setCursorPosition",(function(t){var n=e._inputRef.current;"before"!==t?"after"!==t||n.setSelectionRange(n.value.length,n.value.length):n.setSelectionRange(0,0)})),m()(l()(e),"_cancel",(function(){e._overlay&&(e._overlay.cancel(),e._overlay=null)})),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this;sE(this,this._inputRef.current,"keydown",(function(t){if(jE.isTab(t))return t.preventDefault(),void t.stopPropagation();var n=e._embedInputMenuRef.current&&e._embedInputMenuRef.current.getPanel(),r=e._inputRef.current,o=r.selectionStart;if(jE.isEnter(t)){if(!n)return e.handleSubmit(t.target.value);if(n.getSelected){var i=n.getSelected();if(i)return e.handleSubmit(i.href)}return e.handleSubmit(e.getInputValue())}n&&(jE.isArrowDown(t)?(t.preventDefault(),n.selectDown&&n.selectDown()):jE.isArrowUp(t)?(t.preventDefault(),n.selectUp&&n.selectUp()):jE.isArrowLeft(t)&&0===o?(t.preventDefault(),e.props.onExitCardByKeyboard("before")):jE.isArrowRight(t)&&o===r.value.length&&(t.preventDefault(),e.props.onExitCardByKeyboard("after")))})),sE(this,this._inputRef.current,"input",(function(t){var n=t.target.value;n?/^https?:\/\//.test(n)?e.setState({showRecommend:!1,showSearch:!1}):(e.setState({showRecommend:!1,showSearch:!0}),e.handleSearch(n)):e.setState({showRecommend:!0,showSearch:!1}),e._updateMenu()})),sE(this,this._submitRef.current,"click",(function(){e.handleSubmit(e.getInputValue())})),this._exampleRef.current&&sE(this,this._exampleRef.current,"click",(function(){e.handleSubmit(e.props.exampleUrl)})),this.handleRecommend()}},{key:"componentDidUpdate",value:function(){this.props.focus&&this._inputRef.current.focus()}},{key:"componentWillUnmount",value:function(){this._overlay&&this._overlay.cancel()}},{key:"focus",value:function(){this._updateMenu()}},{key:"blur",value:function(){this._updateMenu()}},{key:"createOverlay",value:function(){this._overlay&&this._overlay.cancel(),this._overlay=tE.open({containerNode:this.props.overlayContainer,targetNode:this._rootRef.current,overlayClassName:"ne-ui-embed-input-overlay",reactComponent:Re.a.createElement(qz,{ref:this._embedInputMenuRef,scopeName:this.props.scopeName,focus:this.props.focus,showRecommend:this.state.showRecommend,showSearch:this.state.showSearch,searchData:this.state.searchData,searchLoading:this.state.searchLoading,searchError:this.state.searchError,recommendData:this.state.recommendData,recommendLoading:this.state.recommendLoading,recommendError:this.state.recommendError,targetNode:this._rootRef.current,onSubmit:this.handleSubmit}),autoClose:!1})}},{key:"_updateMenu",value:function(){this._embedInputMenuRef.current?this._embedInputMenuRef.current.update({focus:this.props.focus,showRecommend:this.state.showRecommend,showSearch:this.state.showSearch,searchData:this.state.searchData,searchLoading:this.state.searchLoading,searchError:this.state.searchError,recommendData:this.state.recommendData,recommendLoading:this.state.recommendLoading,recommendError:this.state.recommendError}):this.createOverlay()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.exampleUrl;return Re.a.createElement("div",{ref:this._rootRef,className:"ne-ui-embed-input-container","data-testid":"ne-ui-embed-input-container"},Re.a.createElement("div",{className:"ne-ui-embed-input-form"},Re.a.createElement("span",{className:"ne-ui-embed-input-endpoint"},Re.a.createElement("input",{placeholder:t,"data-testid":"ne-ui-embed-input-input",spellCheck:"false",autoComplete:"off",ref:this._inputRef})),Re.a.createElement("span",{className:"ne-ui-embed-input-button"},n?Re.a.createElement("button",{type:"button",className:"ne-ui-embed-input-example-button","data-testid":"ne-ui-embed-input-example-button","data-role":"example",ref:this._exampleRef},xm("查看示例")):"",Re.a.createElement("button",{type:"button",className:"ant-btn ant-btn-primary","data-role":"submit","data-testid":"ne-ui-embed-input-submit-button",ref:this._submitRef},Re.a.createElement("span",null,xm("确定"))))))}}]),i}();m()(Wz,"propTypes",{focus:De.a.bool,onSubmit:De.a.func,onExitCardByKeyboard:De.a.func,exampleUrl:De.a.string,scopeName:De.a.string,placeholder:De.a.string,getRecommend:De.a.func.isRequired,getSearch:De.a.func.isRequired,overlayContainer:De.a.object,uiEmitter:De.a.instanceOf(HC),onClose:De.a.func,onCancel:De.a.func}),m()(Wz,"defaultProps",{onSubmit:function(){},onClose:function(){},onCancel:function(){}});var Zz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_embedInputRef",Re.a.createRef()),e}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardService,n=e.focus,r=e.onSubmit,o=e.scopeName;return Re.a.createElement(Wz,{ref:this._embedInputRef,focus:n,placeholder:xm("搜索语雀文档、表格或贴入链接"),exampleUrl:"https://www.yuque.com/yuque/ng1qth/about",scopeName:o,getRecommend:t.getRecent,getSearch:t.getSearch,onSubmit:r,onExitCardByKeyboard:this.props.onExitCardByKeyboard,uiEmitter:this.props.uiEmitter,overlayContainer:this.props.overlayContainer})}},{key:"focus",value:function(){this._embedInputRef.current&&this._embedInputRef.current.focus()}},{key:"blur",value:function(){this._embedInputRef.current&&this._embedInputRef.current.blur()}},{key:"setCursorPosition",value:function(){this._embedInputRef.current&&this._embedInputRef.current.setCursorPosition()}}]),i}();m()(Zz,"propTypes",{cardService:De.a.object.isRequired,focus:De.a.bool,scopeName:De.a.string,onSubmit:De.a.func,onExitCardByKeyboard:De.a.func,uiEmitter:De.a.instanceOf(HC),overlayContainer:De.a.object}),m()(Zz,"defaultProps",{focus:!1});var Kz=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_docInputRef",Re.a.createRef()),e}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.cardService,r=e.focus,o=e.onSubmit,i=e.scopeName,a=e.isDisableEmbedView,c=e.isLoadingError;if(window.location.search.indexOf("view=doc_embed")>0)return Re.a.createElement("div",null,"不允许渲染嵌套视图");var l=t.getSrc();if(!l)return Re.a.createElement(Zz,{ref:this._docInputRef,focus:r,scopeName:i,onSubmit:function(e){var t=n.getYuqueDocPreviewURL(e);t.success?o({src:e,url:t.url}):je.b.error(t.message)},onExitCardByKeyboard:this.props.onExitCardByKeyboard,cardService:n,uiEmitter:this.props.uiEmitter,overlayContainer:this.props.overlayContainer});var s=n.getYuqueDocPreviewURL(l);return Re.a.createElement(jz,{cardData:t,url:s.url,isLoadingError:c,isDisableEmbedView:a})}},{key:"focus",value:function(){this._docInputRef.current&&this._docInputRef.current.focus()}},{key:"blur",value:function(){this._docInputRef.current&&this._docInputRef.current.blur()}},{key:"setCursorPosition",value:function(){this._docInputRef.current&&this._docInputRef.current.setCursorPosition()}}]),i}();m()(Kz,"propTypes",{cardData:De.a.instanceOf(y_).isRequired,cardService:De.a.object.isRequired,scopeName:De.a.string,isDisableEmbedView:De.a.bool,isLoadingError:De.a.bool,focus:De.a.bool,onSubmit:De.a.func,onExitCardByKeyboard:De.a.func,uiEmitter:De.a.instanceOf(HC),overlayContainer:De.a.object}),m()(Kz,"defaultProps",{onSubmit:function(){}});var $z=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"cardService",null),e}return a()(i,[{key:"getResizerConfig",value:function(){return this.cardData.getSrc()&&this.cardData.isEmbedMode(this.pluginOption.isDisableEmbedView)?{min:100}:null}},{key:"getCardMaskConfig",value:function(){return!(!this.cardData.getSrc()||!this.cardData.isEmbedMode(this.pluginOption.isDisableEmbedView))}},{key:"getContainerToolbarConfig",value:function(){var e=["delete","copy"];return this.cardData.getSrc()&&e.push("copyLink"),e.push("|","widthMode","spacing"),{draggable:!0,items:e}}},{key:"getCardToolbarConfig",value:function(){var e=this;if(!this.cardData.getSrc())return null;var t=this.cardData.getRuntimeMode(this.pluginOption.isDisableEmbedView),n=[{name:"yuqueToLink",text:xm("转为链接"),icon:"t-link",onClick:function(){e.emit("yuqueToLink")}},{name:"title-view",text:xm("标题"),icon:"card-tb-title-view",disabled:"title"===t,onClick:function(){e.emit("changeToTitleMode")}},{name:"card-view",text:xm("卡片"),icon:"card-tb-card-view",disabled:"card"===t,onClick:function(){e.emit("changeMode","card"),e.refreshToolbar(),e.refreshMask(),e.refreshResizer()}}];this.pluginOption.isDisableEmbedView||n.push({name:"embed-view",text:xm("嵌入"),icon:"card-tb-embed-view",disabled:"embed"===t,onClick:function(){e.emit("changeMode","embed"),e.refreshToolbar(),e.refreshMask(),e.refreshResizer()}});var r=this.cardData.getHeightMode();return"embed"===t&&n.push("|",{name:"defaultHeight",text:xm("默认高度"),icon:"card-tb-embed-default",disabled:"default"===r,onClick:function(){e.emit("toggleHeightToDefault"),e.refreshToolbar()}},{name:"adaptiveHeight",text:xm("自适应高度"),icon:"card-tb-embed-adaptive",disabled:"adaptive"===r,onClick:function(){e.emit("toggleHeightAdaptive"),e.refreshToolbar();var t=e.cardService.getYuqueDocPreviewURL(e.cardData.getSrc());br(t.success,"F:editable-yuque-ui;L:132");var n=e.plugin.getFrameHeight(t.url);n&&(e.containerNode.style.height=n+"px")}}),n.push("|","widthMode"),this.cardNode.allowToOpenLocal()?n.push({name:"share",text:xm("打开文档"),icon:"o-desktop-open",onClick:function(){e.emit("openLocalLinkBtnClick")}},{name:"share",text:xm("浏览器访问"),icon:"o-visit-link",onClick:function(){e.emit("openLinkBtnClick")}}):n.push({name:"share",text:xm("在新标签页中打开"),icon:"o-visit-link",onClick:function(){e.emit("openLinkBtnClick")}}),n}},{key:"init",value:function(){var e=this,t=new Nz(this.pluginOption,this.cardData);this.cardService=t,this._loadDetail(),this.uiViewProxy=cO.render(Kz,{cardData:this.cardData,cardService:t,scopeName:this.pluginOption.group.name,isLoadingError:!1,isDisableEmbedView:this.pluginOption.isDisableEmbedView,focus:!1,uiEmitter:this.iEditor.uiEmitter,overlayContainer:this.iEditor.innerOverlayContainer,onSubmit:function(t){e.emit("submit",t),e.refreshToolbar(),e.refreshResizer(),e._loadDetail()},onExitCardByKeyboard:function(t){e.focusCardTo(t)}},this.containerNode),this.plugin.on("receiveDocHeight",(function(n){var r=n.url,o=n.height,i=t.getYuqueDocPreviewURL(e.cardData.getSrc());i.success&&i.url===r&&"adaptive"===e.cardData.getHeightMode()&&e.cardData.isEmbedMode(e.pluginOption.isDisableEmbedView)&&(e.containerNode.style.height=o+"px")}))}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_loadDetail",value:function(){var e=this;!this.cardData.hasDetail()&&this.cardData.getSrc()&&this.cardService.loadingDetail().then((function(t){e.cardData.setDetail(t),e.cardData.sync(!0)})).catch((function(){e.uiViewProxy.rerender({isLoadingError:!0})}))}},{key:"heightChanged",value:function(){this.emit("heightChanged"),this.refreshToolbar()}},{key:"focus",value:function(){this.uiViewProxy&&(this.uiViewProxy.rerender({focus:!0}),this.uiViewProxy.getReactRef().focus()),this.focusByKeyboard&&this.uiViewProxy.getReactRef().setCursorPosition(this.focusByKeyboard)}},{key:"blur",value:function(){this.uiViewProxy&&(this.uiViewProxy.rerender({focus:!1}),this.uiViewProxy.getReactRef().blur())}}]),i}();var Jz=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this),this._ui.on("submit",(function(t){var n=t.src,r=t.url;e.pluginOption.isDisableEmbedView?e.cardData.setMode("card"):e.cardData.setMode("embed"),e.cardData.setSrc(n),e.cardData.setURL(r),e.cardData.sync(!1)})).on("changeMode",(function(t){br("title"!==t,"F:yuque-block-card-node;L:49"),e.cardData.setMode(t),e.cardData.sync(!1)})),this._ui.on("changeToTitleMode",(function(){e.plugin.toTitleMode(e)})).on("openLinkBtnClick",(function(){e.plugin.requestOpenLink(e.cardData.getSrc())})).on("yuqueToLink",(function(){var t=e.cardData.getSrc();e.plugin.yuqueToLink(e.id,t)})).on("openLocalLinkBtnClick",(function(){e.plugin.requestOpenLockLink(e.cardData.getSrc())})),this._ui.on("heightChanged",(function(){e.cardData.setHeightMode("custom"),e.cardData.sync(!0)})).on("toggleHeightToDefault",(function(){e.cardData.setHeightMode("default"),e.cardData.recoverCardHeight(),e.cardData.sync(!0)})).on("toggleHeightAdaptive",(function(){e.cardData.setHeightMode("adaptive"),e.cardData.recoverCardHeight(),e.cardData.sync(!0);var t=e.plugin.getFrameHeight(e.id);t&&(e.cardContainer.style.height=t+"px")}))}},{key:"destroy",value:function(){this._ui.destroy()}},{key:"allowToOpenLocal",value:function(){return this.pluginOption.allowToOpenLocal("yuqueDoc",this.cardData.getSrc())}}]),i}();m()(Jz,"$EditableCardUI",$z),m()(Jz,"$CardData",y_);var Yz=["title-view"],Gz=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"cardService",null),e}return a()(i,[{key:"getCardToolbarConfig",value:function(){var e=this,t=[{name:"yuqueToLink",text:xm("转为链接"),icon:"t-link",onClick:function(){e.emit("yuqueToLink")}},{name:"title-view",text:xm("标题"),icon:"card-tb-title-view",disabled:!0},{name:"card-view",text:xm("卡片"),icon:"card-tb-card-view",_mode:"card",onClick:function(){e.emit("changeMode","card")}}];return this.pluginOption.isDisableEmbedView||t.push({name:"embed-view",text:xm("嵌入"),icon:"card-tb-embed-view",_mode:"embed",onClick:function(){e.emit("changeMode","embed")}}),this.cardData.isGroup&&(t=t.filter((function(e){var t=e.name;return Yz.indexOf(t)>-1}))),t.push("|"),this.cardNode.allowToOpenLocal()?t.push({name:"share",text:xm("打开文档"),icon:"o-desktop-open",onClick:function(){e.emit("openLocalLinkBtnClick")}},{name:"share",text:xm("浏览器访问"),icon:"o-visit-link",onClick:function(){e.emit("openLinkBtnClick")}}):t.push({name:"share",text:xm("在新标签页中打开"),icon:"o-visit-link",onClick:function(){e.emit("openLinkBtnClick")}}),t.push("copy","delete"),t}},{key:"init",value:function(){var e=new Nz(this.pluginOption,this.cardData);this.cardService=e,this._loadDetail(),this.uiViewProxy=cO.render(Kz,{cardData:this.cardData,cardService:e,isLoadingError:!1,isDisableEmbedView:this.pluginOption.isDisableEmbedView},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_loadDetail",value:function(){var e=this;this.cardData.hasDetail()||this.cardService.loadingDetail().then((function(t){e.cardData.setDetail(t),e.cardData.sync(!0)})).catch((function(){e.uiViewProxy.rerender({isLoadingError:!0})}))}}]),i}();var Xz=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this),this._ui.on("changeMode",(function(t){br("title"!==t,"F:yuque-inline-card-node;L:27"),"card"===t?e.plugin.toCardMode(e):"embed"===t&&e.plugin.toEmbedMode(e)})).on("openLinkBtnClick",(function(){e.plugin.requestOpenLink(e.cardData.getSrc())})).on("yuqueToLink",(function(){var t=e.cardData.getSrc();e.plugin.yuqueToLink(e.id,t)})).on("openLocalLinkBtnClick",(function(){e.plugin.requestOpenLockLink(e.cardData.getSrc())}))}},{key:"destroy",value:function(){this._ui.destroy()}},{key:"allowToOpenLocal",value:function(){return this.pluginOption.allowToOpenLocal("yuqueDoc",this.cardData.getSrc())}}]),i}();m()(Xz,"$EditableCardUI",Gz),m()(Xz,"$CardData",y_),FN('.ne-editor ne-card[data-card-name="yuque"][data-card-type="block"] .ne-card-container {\n  overflow: visible;\n}\n');var Qz=["card-tb-title-view"],eU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_frameHeights",{}),m()(l()(e),"_extendLinkHandler",(function(t){var n=t.src;if(!n)return null;var r=Nz.getGroupPreviewURL(e.option,n),o=r.url,i=r.isGroup;if(!o)return null;var a=[{type:"button",icon:"card-tb-title-view",tooltip:xm("标题"),onClick:function(t){e._linkToYuqueInlineDoc(t,n,o,"title",i)}},{type:"button",icon:"card-tb-card-view",tooltip:xm("卡片"),onClick:function(t){e._linkToYuqueDoc(t,n,o,"card")}},{type:"button",icon:"card-tb-embed-view",tooltip:xm("嵌入"),onClick:function(t){e._linkToYuqueDoc(t,n,o,"embed")}}];return i?a.filter((function(e){return Qz.includes(e.icon)})):a})),e}return a()(i,[{key:"init",value:function(e,t){var n=this;e.iKernel.on("document.create",(function(){n._frameHeights={}})),t.registerBlockCard(this,"yuque",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(Jz,[e].concat(n))}}),t.registerInlineCard(this,"yuqueInline",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(Xz,[e].concat(n))}}),t.hasExtendMethod("extendLinkToolbar")&&t.extendLinkToolbar(this._extendLinkHandler),e.onPluginEvent("insertCardByUI",(function(t){"yuque"!==t.name&&"yuqueMain"!==t.name||e.execCommand("insertCard","yuque",y_.createStandardCardValue(),!0)})),e.hasExtendMethod("registerCardSelect")&&(e.registerCardSelect("yuque",{type:"TextItem",icon:"card-yuque",label:xm("语雀内容"),name:"yuque",keywords:"语雀,yqwd,yuquewendang,yuquedoc"}),e.registerCardSelect("yuqueMain",{type:"TextItem",icon:"card-yuque-main",iconSize:16,label:xm("语雀内容"),name:"yuqueMain",keywords:"语雀,yqwd,yuquewendang,yuquedoc"})),wR(this,window,"message",(function(e){var t=e.data;if(t&&t.isYuqueEmbed){var r=t.href,o=t.contentHeight;n._frameHeights[r]=o,n.emit("receiveDocHeight",{url:r,height:o})}}),!1)}},{key:"getFrameHeight",value:function(e){return this._frameHeights[e]}},{key:"requestOpenLink",value:function(e){this.iEditor.emitEvent("openYuqueDocLink",e)}},{key:"requestOpenLockLink",value:function(e){this.iEditor.emitEvent("openLocalYuqueDocLink",e)}},{key:"yuqueToLink",value:function(e,t){this.iEditor.execCommand("cardToLink",e,t)}},{key:"toTitleMode",value:function(e){var t=e.id,n=e.cardData;n.setMode("title");var r=n.getCardValue();this.iEditor.execCommand("deleteCard",t),this.iEditor.execCommand("insertCard","yuqueInline",r)}},{key:"toCardMode",value:function(e){this._toBlockViewMode(e,"card")}},{key:"toEmbedMode",value:function(e){this._toBlockViewMode(e,"embed")}},{key:"_linkToYuqueDoc",value:function(e,t,n,r){this.iEditor.execCommand("linkToYuqueDoc",e.attrs.id,y_.createBy(t,n,r))}},{key:"_linkToYuqueInlineDoc",value:function(e,t,n,r,o){this.iEditor.execCommand("linkToYuqueInlineDoc",e.attrs.id,Object.assign(y_.createBy(t,n,r),{isGroup:o}))}},{key:"_toBlockViewMode",value:function(e,t){var n=e.id,r=e.cardData;r.setMode(t);var o=r.getCardValue();this.iEditor.execCommand("deleteCard",n),this.iEditor.execCommand("insertCard","yuque",o)}}]),i}();m()(eU,"PluginName","yuque"),m()(eU,"PluginOption",Sz);var tU=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(e){br("click"===e,"F:save-toolbar-descriptor;L:10"),this.iEditor.emitEvent("save")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,iconfont:"save",tooltip:Uk.getTooltip(this.iEditor,xm("保存文档"),"save")}}},{key:"getUIState",value:function(){return{disabled:this.disabled||!this.iEditor.queryCommandEnabled("save")}}}]),i}();function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nU(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(tU,"Type","Button");var oU={coverDocument:!1},iU=function(){function e(t){o()(this,e),m()(this,"_option",{}),this._option=rU(rU({},oU),t)}return a()(e,[{key:"isCoverDocument",value:function(){return!!this._option.coverDocument}}]),e}();m()(iU,"OptionName","save");var aU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this;if(e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("save",tU),t.onPluginEvent("save",(function(){n.iEditor.emitEvent("save")})),this.option.isCoverDocument()){var r=new AE(["cmd","s"]);wR(this,document,"keydown",(function(e){r.match(e)&&(e.preventDefault(),n.iEditor.emitEvent("save"))}),!1)}}}]),i}();m()(aU,"PluginName","save"),m()(aU,"PluginOption",iU);var cU=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_cancelEvent",null),e}return a()(i,[{key:"init",value:function(){var e=this;br(this.iEditor.iRenderer.hasExtendMethod("recordPaintFormat"),"F:format-painter-toolbar-descriptor;L:12"),this._cancelEvent=this.iEditor.iRenderer.onPluginEvent("clearPaintFormat",(function(){e.refresh()}))}},{key:"destroy",value:function(){this._cancelEvent&&(this._cancelEvent(),this._cancelEvent=null)}},{key:"onEvent",value:function(e,t){if(br("click"===e||"dblclick"===e,"F:format-painter-toolbar-descriptor;L:27"),!t)return this.iEditor.iRenderer.clearPaintFormat();switch(e){case"click":this.iEditor.iRenderer.recordPaintFormat(!0);break;case"dblclick":this.iEditor.iRenderer.recordPaintFormat(!1);break;default:br(!1,"F:format-painter-toolbar-descriptor;L:33")}this.refresh()}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,checked:!1,iconfont:"paintformat",className:"ne-ui-toolbar-format-painter",tooltip:xm("格式刷")}}},{key:"getUIState",value:function(){return{disabled:this.disabled||!this.iEditor.queryCommandEnabled("paintFormat"),checked:this.iEditor.iRenderer.hasPaintFormat()}}}]),i}();m()(cU,"Type","DoubleClickStatusButton");var lU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("formatPainter",cU)}}]),i}();m()(lU,"PluginName","formatPainter"),FN(".ne-paint-formatting {\n  cursor: url(data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20width%3D%2232px%22%20height%3D%2222px%22%20viewBox%3D%220%200%2032%2022%22%20version%3D%221.1%22%3E%3Ctitle%3E%u753B%u677F%3C/title%3E%3Cdefs%3E%3Cpath%20d%3D%22M1.98238696%2C8.93070537%20L1.98238696%2C7.94670537%20L2.98438696%2C7.94670537%20L2.98438696%2C2.82172366%20C2.86526604%2C2.46632579%202.33755453%2C1.73387714%202.07909532%2C1.53244072%20C1.82245859%2C1.33385277%201.51846322%2C1.18356053%201.17974005%2C1.07623055%20C1.09361789%2C1.04867962%200.942233098%2C1.02608568%200.752704803%2C1.01318705%20C0.547546769%2C0.99922471%200.324838037%2C0.997431773%200.122456031%2C1.00289596%20C0.0577095542%2C1.0049281%200.0577095542%2C1.0049281%200.0461739234%2C1.00547208%20L2.66453526e-15%2C0.00653866278%20C0.0201288131%2C0.00561901141%200.0201288131%2C0.00561901141%200.095466479%2C0.00326024734%20C0.326813823%2C-0.00298598914%200.57886869%2C-0.000956798402%200.82060425%2C0.0154948802%20C1.08383002%2C0.0334091071%201.30523442%2C0.0664533548%201.48311677%2C0.123360851%20C1.92613162%2C0.263734745%202.33443502%2C0.465595821%202.69244577%2C0.742631738%20C2.92220036%2C0.921693142%203.22249704%2C1.27542805%203.47419998%2C1.65264521%20C3.73327327%2C1.2768273%204.04523695%2C0.928194595%204.30613304%2C0.748389847%20C4.73300675%2C0.452017529%205.12144633%2C0.241589862%205.49261188%2C0.123985302%20C5.67183876%2C0.0665134984%205.89339455%2C0.0334392002%206.15695686%2C0.0155333346%20C6.39828739%2C-0.00086215042%206.64992391%2C-0.00287712455%206.88091587%2C0.00336029265%20C6.95624626%2C0.00571905714%206.95624626%2C0.00571905714%206.97637392%2C0.00663866278%20L6.9302%2C1.00557208%20C6.91866322%2C1.00502805%206.91866322%2C1.00502805%206.85392296%2C1.00299592%20C6.65186148%2C0.997539703%206.42953662%2C0.999319964%206.2247385%2C1.01323351%20C6.03513065%2C1.02611507%205.88376607%2C1.04871108%205.79631677%2C1.07674989%20C5.53439856%2C1.15974142%205.22808562%2C1.32567897%204.87502342%2C1.5708014%20C4.59703217%2C1.76238997%204.11677653%2C2.41431766%203.97038696%2C2.80892139%20L3.97038696%2C7.94670537%20L4.96838696%2C7.94670537%20L4.96838696%2C8.93070537%20L3.97038696%2C8.93070537%20L3.97038696%2C13.105686%20C4.11670515%2C13.5000221%204.59679626%2C14.1508096%204.87723109%2C14.3433396%20C5.22794492%2C14.5878372%205.53331353%2C14.7530473%205.79898646%2C14.835715%20C5.88455642%2C14.8633576%206.03571032%2C14.8861134%206.22510548%2C14.8991205%20C6.43008749%2C14.9131981%206.65261707%2C14.9150397%206.85467786%2C14.9095877%20C6.91881525%2C14.9075757%206.91881525%2C14.9075757%206.9302%2C14.9070387%20L6.97637392%2C15.9059721%20C6.95638406%2C15.9068853%206.95638406%2C15.9068853%206.88164995%2C15.9092239%20C6.65044146%2C15.9154624%206.39838542%2C15.9133764%206.15658989%2C15.8967706%20C5.89281487%2C15.8786553%205.67104842%2C15.8452689%205.49678181%2C15.7889425%20C5.12245551%2C15.6725096%204.73298559%2C15.4617992%204.30830631%2C15.1657213%20C4.04607558%2C14.9857034%203.73313494%2C14.6366765%203.47358647%2C14.260493%20C3.2222%2C14.6368595%202.92226549%2C14.9900484%202.69181313%2C15.1704712%20C2.33440151%2C15.4481035%201.92492528%2C15.6505444%201.48545655%2C15.7885022%20C1.30602372%2C15.8463289%201.08440926%2C15.8796848%200.82097149%2C15.8978083%20C0.578770634%2C15.9144708%200.326296046%2C15.9165712%200.0947322934%2C15.910324%20C0.0199910052%2C15.9079853%200.0199910052%2C15.9079853%200%2C15.9070721%20L0.0461739234%2C14.9081387%20C0.0575575289%2C14.9086757%200.0575575289%2C14.9086757%200.12170105%2C14.9106877%20C0.324082071%2C14.9161477%200.546995551%2C14.9142932%200.752337563%2C14.9001664%20C0.941653857%2C14.8871422%201.09282859%2C14.8643884%201.18231791%2C14.8355632%20C1.51818058%2C14.7301179%201.82187326%2C14.5799754%202.07685728%2C14.381912%20C2.33817654%2C14.1773204%202.865383%2C13.4458836%202.97005625%2C13.0867107%20L2.98438696%2C8.93070537%20L1.98238696%2C8.93070537%20Z%22%20id%3D%22path-1%22/%3E%3Cfilter%20x%3D%22-21.5%25%22%20y%3D%22-9.4%25%22%20width%3D%22143.0%25%22%20height%3D%22118.9%25%22%20filterUnits%3D%22objectBoundingBox%22%20id%3D%22filter-2%22%3E%3CfeOffset%20dx%3D%220%22%20dy%3D%220%22%20in%3D%22SourceAlpha%22%20result%3D%22shadowOffsetOuter1%22/%3E%3CfeGaussianBlur%20stdDeviation%3D%220.5%22%20in%3D%22shadowOffsetOuter1%22%20result%3D%22shadowBlurOuter1%22/%3E%3CfeColorMatrix%20values%3D%220%200%200%200%201%20%20%200%200%200%200%201%20%20%200%200%200%200%201%20%200%200%200%201%200%22%20type%3D%22matrix%22%20in%3D%22shadowBlurOuter1%22/%3E%3C/filter%3E%3C/defs%3E%3Cg%20id%3D%22%u753B%u677F%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20id%3D%22format-painter%22%20transform%3D%22translate%2813.000000%2C%202.000000%29%22%20fill%3D%22%23000000%22%20fill-rule%3D%22nonzero%22%3E%3Crect%20id%3D%22%u77E9%u5F62%22%20opacity%3D%220%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2218%22%20height%3D%2218%22/%3E%3Cpath%20d%3D%22M13.5%2C3.65625%20L15.3280723%2C3.65625%20C15.7164082%2C3.65625%2016.0311973%2C3.97105664%2016.0311973%2C4.359375%20L16.0311973%2C8.015625%20C16.0311973%2C8.40394336%2015.7164082%2C8.71875%2015.3280723%2C8.71875%20L9.15820312%2C8.71875%20L9.15820312%2C10.265625%20L9.93164062%2C10.265625%20C10.0093057%2C10.265625%2010.0722656%2C10.328585%2010.0722656%2C10.40625%20L10.0722656%2C14.5546875%20C10.0722656%2C15.3701719%209.4111875%2C16.03125%208.59570312%2C16.03125%20C7.78021875%2C16.03125%207.11914062%2C15.3701719%207.11914062%2C14.5546875%20L7.11914062%2C10.40625%20C7.11914062%2C10.328585%207.18210058%2C10.265625%207.25976562%2C10.265625%20L8.03320312%2C10.265625%20L8.03320312%2C8.296875%20C8.03320312%2C7.90855664%208.34800977%2C7.59375%208.73632812%2C7.59375%20L14.9061973%2C7.59375%20L14.9061973%2C4.78125%20L13.5%2C4.78125%20L13.5%2C6.046875%20C13.5%2C6.27987305%2013.311123%2C6.46875%2013.078125%2C6.46875%20L3.234375%2C6.46875%20C3.00137695%2C6.46875%202.8125%2C6.27987305%202.8125%2C6.046875%20L2.8125%2C2.390625%20C2.8125%2C2.15762695%203.00137695%2C1.96875%203.234375%2C1.96875%20L13.078125%2C1.96875%20C13.311123%2C1.96875%2013.5%2C2.15762695%2013.5%2C2.390625%20L13.5%2C3.65625%20Z%22%20id%3D%22%u8DEF%u5F84%22/%3E%3C/g%3E%3Cg%20id%3D%22%u7F16%u7EC4%22%20transform%3D%22translate%28-9.500000%2C%20-5.000000%29%22%3E%3Cg%20id%3D%22Cursor%22%20transform%3D%22translate%2813.000000%2C%208.000000%29%22%3E%3Cuse%20fill%3D%22black%22%20fill-opacity%3D%221%22%20filter%3D%22url%28%23filter-2%29%22%20xlink%3Ahref%3D%22%23path-1%22/%3E%3Cuse%20fill%3D%22%23000000%22%20fill-rule%3D%22evenodd%22%20xlink%3Ahref%3D%22%23path-1%22/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A) 5 10, text;\n}\n");var sU=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_once",!1),m()(l()(e),"_activeFormat",null),m()(l()(e),"recordPaintFormat",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.iRenderer.domRootNode.classList.add("ne-paint-formatting"),e._once=t,e._activeFormat=e.iRenderer.queryCommandValue("paintFormat")})),m()(l()(e),"hasPaintFormat",(function(){return!!e._activeFormat})),m()(l()(e),"clearPaintFormat",(function(){e._activeFormat&&(e._once=!1,e._activeFormat=null,e.iRenderer.domRootNode.classList.remove("ne-paint-formatting"),e.iRenderer.emitPluginEvent("clearPaintFormat"))})),e}return a()(i,[{key:"init",value:function(e){var t=this;e.onRootNode("keydown",(function(e){jE.isEscape(e)&&t.clearPaintFormat()}),!1),this.kernel.iEditing.on("afterExecCommand",(function(n){var r=n.commandName;"undo"!==r&&"redo"!==r?"selection"===r&&t._activeFormat&&(e.execCommand("paintFormat",t._activeFormat),t._once&&t.clearPaintFormat()):t.clearPaintFormat()})),e.extendMethods({recordPaintFormat:this.recordPaintFormat,hasPaintFormat:this.hasPaintFormat,clearPaintFormat:this.clearPaintFormat})}}]),i}();function uU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uU(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(sU,"PluginName","formatPainter");var fU={origin:null,generateMentionInfo:null,externalOpen:!1,mentionURL:"/api/users/complete",mentionURLParams:function(e){return"q=".concat(e)},fetchHandler:null,defaultList:[],tipHTML:null},hU=function(e){u()(c,D_);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e){var t;return o()(this,c),t=i.call(this,e),m()(l()(t),"_prevFetch",null),t._option=dU(dU({},fU),e),t}return a()(c,[{key:"getDefaultList",value:function(){var e=this._option.defaultList;return Array.isArray(e)?x()(e):"function"==typeof e?x()(e()):[]}},{key:"getTipHTML",value:function(){return this._option.tipHTML}},{key:"fetchHandler",value:(t=xe()(ke.a.mark((function e(t){var n,r,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._option.fetchHandler){e.next=2;break}return e.abrupt("return",this._option.fetchHandler(t));case 2:return n=this._defaultFetchHandler(t),r=n.promise,o=n.xhr,this._prevFetch=o,e.abrupt("return",r.then((function(e){return e&&e.data?e.data:Promise.reject(e)})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_defaultFetchHandler",value:function(e){var t=this;this._prevFetch&&this._prevFetch.abort();var n,r=this._option.mentionURLParams;return"object"===R()(r)?n=r:"function"==typeof r&&(n=r(e)),_P({url:this._option.mentionURL,data:n,method:"get",success:function(){t._prevFetch=null},error:function(){t._prevFetch=null}})}}]),c}();m()(hU,"OptionName","mention"),FN(".ne-ui-mention-item {\n  display: flex;\n  padding: 0 8px;\n  cursor: pointer;\n  font-size: 14px;\n  height: auto;\n}\n.ne-ui-mention-avatar {\n  padding: 8px;\n  border-radius: 100%;\n  overflow: hidden;\n}\n.ne-ui-mention-avatar img {\n  width: 32px;\n  min-width: 32px;\n  height: 32px;\n  border-radius: 100%;\n}\n.ne-ui-mention-info {\n  line-height: 20px;\n  word-break: break-all;\n  color: #595959;\n  font-size: 14px;\n}\n.ne-ui-mention-info .ne-ui-mention-desc {\n  color: #8C8C8C;\n  font-size: 12px;\n}\n");var pU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_rootNodeRef",null),m()(l()(t),"_clickHandler",(function(){t.props.onSelect(t.props.data)})),t._rootNodeRef=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){this.props.onReady(this)}},{key:"componentWillUnmount",value:function(){this.props.onDestroy(this)}},{key:"getRootNode",value:function(){return this._rootNodeRef.current}},{key:"render",value:function(){var e=this.props.data,t=e.name,n=e.avatar,r=e.avatar_url,o=e.dep,i=e.login;return Re.a.createElement("div",{ref:this._rootNodeRef,onMouseEnter:this.props.onMouseEnter,onClick:this._clickHandler,className:nw(this.props.className,"ne-ui-mention-item")},Re.a.createElement("div",{className:"ne-ui-mention-avatar"},Re.a.createElement("img",{src:gv.sanitizeUrl(r||n)})),Re.a.createElement("div",{className:"ne-ui-mention-info"},Re.a.createElement("div",{className:"ne-ui-mention-name"},t),Re.a.createElement("div",{className:"ne-ui-mention-desc"},o?"".concat(o.split("-")[0],"-"):"",i)))}},{key:"click",value:function(){this._clickHandler()}}]),i}();m()(pU,"propTypes",{data:De.a.object.isRequired,onSelect:De.a.func,onMouseEnter:De.a.func,className:De.a.string,onReady:De.a.func,onDestroy:De.a.func}),m()(pU,"defaultProps",{onSelect:function(){},onMouseEnter:function(){},onReady:function(){},onDestroy:function(){}}),FN('ne-card[data-card-name="mention"].ne-focused {\n  background: transparent !important;\n}\n.ne-ui-card-select-view {\n  display: inline;\n  position: relative;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input-wrap {\n  display: inline;\n  position: relative;\n  min-width: 50px;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input-wrap .ne-ui-card-select-hidden {\n  color: transparent;\n  padding: 0 5px;\n  min-width: 60px;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  border: none;\n  background: none;\n  outline: none;\n  padding: 0;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input::placeholder {\n  color: #BFBFBF;\n}\n.ne-ui-mention-menu {\n  background: #fff;\n  border: 1px solid #E8E8E8;\n  box-shadow: 0 1px 3px rgba(221, 221, 221, 0.5);\n  border-radius: 4px;\n}\n.ne-ui-mention-menu .ne-ui-card-menu {\n  border: none;\n  box-shadow: none;\n  border-radius: 4px;\n  padding: 0;\n}\n.ne-ui-mention-menu .ne-mention-tip {\n  color: #8c8c8c;\n  line-height: 20px;\n  width: 280px;\n  padding: 12px;\n  font-size: 14px;\n}\n.ne-ui-mention-menu div.ne-ui-card-menu-content {\n  min-width: 215px;\n  max-width: 350px;\n  max-height: 300px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n');var vU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{items:null}),t.state.items=e.initItems,t}return a()(i,[{key:"render",value:function(){var e=this.state.items,t=void 0===e?[]:e;return Re.a.createElement(hE,{targetNode:this.props.targetNode,uiEmitter:this.props.uiEmitter,boundaryNode:this.props.boundaryNode,visible:!0,allowClose:!1,offset:5,placement:["bottomLeft","topLeft"],onClose:this.props.onClose,onCancel:this.props.onCancel},Re.a.createElement("div",{className:"ne-ui-mention-menu"},t.length?this._renderTip():null,this._renderMenu()))}},{key:"update",value:function(e){this.setState({items:e}),this.forceUpdate()}},{key:"_renderTip",value:function(){return this.props.tipHTML?Re.a.createElement("div",{className:"ne-mention-tip",dangerouslySetInnerHTML:{__html:this.props.tipHTML}}):null}},{key:"_renderMenu",value:function(){return Re.a.createElement(zT,{ref:this._menuRef,onSelect:this.props.onSelect,selectEmitter:this.props.selectEmitter,config:{groups:[{items:this.state.items}]},itemElement:pU,emptyTipText:xm("没有匹配的用户")})}}]),i}();m()(vU,"propTypes",{initItems:De.a.array.isRequired,tipHTML:De.a.string,onSelect:De.a.func,selectEmitter:De.a.object,uiEmitter:De.a.instanceOf(HC),onClose:De.a.func,onCancel:De.a.func,targetNode:De.a.oneOfType([De.a.object,De.a.func]).isRequired,boundaryNode:De.a.object}),m()(vU,"defaultProps",{onSelect:function(){},onClose:function(){},onCancel:function(){}}),FN(".ne-ui-card-select-view {\n  display: inline;\n  position: relative;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input-wrap {\n  display: inline;\n  position: relative;\n  min-width: 50px;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input-wrap .ne-ui-card-select-hidden {\n  color: transparent;\n  padding: 0 5px;\n  min-width: 60px;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  border: none;\n  background: none;\n  outline: none;\n  padding: 0;\n}\n.ne-ui-card-select-view .ne-ui-card-select-input::placeholder {\n  color: #BFBFBF;\n}\n");var mU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this,t=this.props.cardData.getUserInfo();if(!t)return this.renderError();var n=this.props.generateMentionInfo(t),r=n.text,o=n.url,i=n.externalOpen;return o?Re.a.createElement("div",{className:"ne-ui-mention-link"},Re.a.createElement("a",{onClick:function(t){e.props.allowOpenLink||t.preventDefault()},href:gv.sanitizeUrl(o),target:i?"_blank":""},"@",r)):Re.a.createElement("div",{className:"ne-ui-mention-link"},"@",r)}},{key:"renderError",value:function(){return Re.a.createElement("div",{className:"ne-ui-mention-link ne-ui-mention-error"},"无效数据")}}]),i}();m()(mU,"propTypes",{cardData:De.a.instanceOf(F_).isRequired,generateMentionInfo:De.a.func.isRequired,allowOpenLink:De.a.bool}),m()(mU,"defaultProps",{allowOpenLink:!1});var yU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{userInput:""}),m()(l()(e),"_selectEmitter",new g.a),m()(l()(e),"_rootRef",Re.a.createRef()),m()(l()(e),"_inputRef",Re.a.createRef()),m()(l()(e),"_cardSelectMenuRef",Re.a.createRef()),m()(l()(e),"_overlay",null),m()(l()(e),"_completed",!1),m()(l()(e),"_keyDownHandler",(function(t){var n=t.key;if(("Backspace"===n||"Delete"===n)&&""===t.target.value)return t.preventDefault(),void e._cancel();if("Escape"!==n){if("ArrowDown"===n)return t.preventDefault(),void e._selectEmitter.emit("moveDown");if("ArrowUp"===n)return t.preventDefault(),void e._selectEmitter.emit("moveUp");if("Enter"===n){if(e.isComposition)return;t.preventDefault(),e._selectEmitter.emit("enter")}}else e._cancel()})),m()(l()(e),"_changeHandler",(function(t){var n=t.target.value;e.setState({userInput:n}),e.props.onInput(n)})),m()(l()(e),"_focus",(function(){e.openOverlay()})),m()(l()(e),"_cancel",(function(){if(!e._completed){e._overlay&&(e._overlay.cancel(),e._overlay=null),e._completed=!0;var t=e._inputRef.current?e._inputRef.current.value:"";e.props.onCancel(t)}})),e}return a()(i,[{key:"componentWillUnmount",value:function(){this._overlay&&this._overlay.cancel()}},{key:"render",value:function(){var e=this,t=this.props.cardData.getUserInfo();return t.name||t.login?Re.a.createElement(mU,{cardData:this.props.cardData,generateMentionInfo:this.props.generateMentionInfo}):(this._cardSelectMenuRef.current&&this._cardSelectMenuRef.current.update(this.props.items),Re.a.createElement("div",{ref:this._rootRef,className:"ne-ui-card-select-view"},Re.a.createElement("span",null,"@"),Re.a.createElement("div",{className:"ne-ui-card-select-input-wrap"},Re.a.createElement("span",{className:"ne-ui-card-select-hidden"},this.state.userInput||"用户名"),Re.a.createElement("input",{placeholder:xm("用户名"),ref:this._inputRef,onFocus:this._focus,onBlur:this._cancel,onCompositionStart:function(){e.isComposition=!0},onCompositionEnd:function(){e.isComposition=!1},onKeyDown:this._keyDownHandler,onChange:this._changeHandler,className:"ne-ui-card-select-input"}))))}},{key:"focus",value:function(){var e=this,t=this.props.cardData.getUserInfo();t.login||t.name||setTimeout((function(){e._inputRef.current&&e._inputRef.current.focus()}))}},{key:"openOverlay",value:function(){var e=this;this._overlay&&this._overlay.cancel(),this._overlay=tE.open({containerNode:this.props.overlayContainer,targetNode:this._rootRef.current,reactComponent:Re.a.createElement(vU,{ref:this._cardSelectMenuRef,boundaryNode:this.props.boundaryNode,tipHTML:this.props.tipHTML,selectEmitter:this._selectEmitter,initItems:this.props.items,onSelect:function(){var t;e._overlay&&(e._overlay.cancel(),e._overlay=null),e._completed=!0,(t=e.props).onSelect.apply(t,arguments)},targetNode:this._rootRef.current}),autoClose:!1})}}]),i}();m()(yU,"propTypes",{cardData:De.a.instanceOf(F_).isRequired,uiEmitter:De.a.instanceOf(HC),generateMentionInfo:De.a.func.isRequired,tipHTML:De.a.string,items:De.a.array.isRequired,overlayContainer:De.a.object,boundaryNode:De.a.object,onInput:De.a.func,onCancel:De.a.func,onSelect:De.a.func}),m()(yU,"defaultProps",{onInput:function(){},onCancel:function(){},onSelect:function(){}});var gU=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"init",value:function(){var e,t=this;this.uiViewProxy=cO.render(yU,{cardData:this.cardData,uiEmitter:this.iEditor.uiEmitter,generateMentionInfo:this.pluginOption.generateMentionInfo,items:this.pluginOption.getDefaultList(),tipHTML:this.pluginOption.getTipHTML(),overlayContainer:this.iEditor.innerOverlayContainer,onInput:(e=xe()(ke.a.mark((function e(n){var r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.trim()){e.next=3;break}return t.uiViewProxy.rerender({items:t.pluginOption.getDefaultList()}),e.abrupt("return");case 3:return r=null,e.prev=4,e.next=7,t.pluginOption.fetchHandler(n);case 7:r=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return");case 13:if(!t.destroyed){e.next=15;break}return e.abrupt("return");case 15:t.uiViewProxy.rerender({items:r});case 16:case"end":return e.stop()}}),e,null,[[4,10]])}))),function(t){return e.apply(this,arguments)}),onCancel:function(e){t.uiViewProxy&&t.emit("cancel",e)},onSelect:function(e){t.cardData.setUserInfo({login:e.login,nickName:e.nickName,name:e.name}),t.cardData.sync(!0),t.emit("completed")}},this.containerNode)}},{key:"destroy",value:function(){this.uiViewProxy=null,B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode)}},{key:"focus",value:function(){var e=this.uiViewProxy.getReactRef();e&&e.focus()}},{key:"openEditor",value:function(){this.uiViewProxy&&this.uiViewProxy.getReactRef().openEditor()}}]),i}();var bU=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this),this._ui.on("completed",(function(){e._iEditor.execCommand("focusCard",e.id,"after")})),this._ui.on("cancel",(function(t){e._iEditor.execCommand("deleteCard",e.id),e._iEditor.execCommand("input","@"+t)}))}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}}]),i}();m()(bU,"$EditableCardUI",gU),m()(bU,"$CardData",F_);var wU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this;t.registerInlineCard(this,"mention",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(bU,[e].concat(n))}}),br(e.iKernel.hasExtendMethod("isValidMentionPosition"),"F:editor/index;L:18"),t.hasExtendMethod("registerQuickInput")&&t.registerQuickInput({trigger:"at",match:function(t){return e.iKernel.isValidMentionPosition(t)}},(function(){n.iEditor.execCommand("mention",null,!0)}))}}]),i}();m()(wU,"PluginName","mention"),m()(wU,"PluginOption",hU);var xU=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){br(e.iKernel.hasExtendMethod("getMarkdownMatchContext"),"F:render/index;L:9"),e.hasExtendMethod("registerQuickInput")&&(e.registerQuickInput({trigger:"whiteSpace",match:function(t){return e.iKernel.getMarkdownMatchContext("whiteSpace",t)}},(function(e){var t=e.matcher,n=e.info;t.exec(n)})),e.registerQuickInput({trigger:"enter",match:function(t){return e.iKernel.getMarkdownMatchContext("enter",t)}},(function(e){var t=e.matcher,n=e.info;t.exec(n)})))}}]),i}();function _U(e,t){var n=t.totalWidth,r=t.space,o=t.targetWidth,i=t.standardContentWidth,a=t.minContentWidth,c=2*r;return"".concat(e,n>=c+2*o+i?"-XXL":n>=c+o+i?"-XL":n>=c+o+a?"-L":"-M")}m()(xU,"PluginName","markdown"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-editor .ne-ui-sidebar {\n  z-index: 3;\n}\n.ne-layout-mode-fixed.ne-editor,\n.ne-layout-mode-adapt.ne-editor {\n  height: 100%;\n}\n.ne-layout-mode-fixed .ne-editor-wrap-content,\n.ne-layout-mode-adapt .ne-editor-wrap-content {\n  flex: 1;\n  min-width: 500px;\n}\n.ne-layout-mode-fixed .ne-editor-body,\n.ne-layout-mode-adapt .ne-editor-body {\n  height: calc(100% - 50px);\n}\n.ne-layout-mode-fixed .ne-editor-wrap,\n.ne-layout-mode-adapt .ne-editor-wrap {\n  display: flex;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ne-layout-mode-fixed .ne-editor-outer-wrap-box,\n.ne-layout-mode-adapt .ne-editor-outer-wrap-box {\n  min-width: 500px;\n  padding-bottom: 1px;\n}\n.ne-layout-mode-fixed .ne-editor-wrap-box,\n.ne-layout-mode-adapt .ne-editor-wrap-box {\n  background-color: #fff;\n}\n.ne-layout-mode-fixed .ne-engine,\n.ne-layout-mode-adapt .ne-engine {\n  min-height: 1024px;\n  padding: 20px 40px 90px 40px;\n}\n.ne-layout-mode-fixed .ne-ui-sidebar,\n.ne-layout-mode-adapt .ne-ui-sidebar {\n  width: 305px;\n  right: 0;\n}\n.ne-layout-mode-fixed ne-hole,\n.ne-layout-mode-adapt ne-hole {\n  display: flex;\n  line-height: 1;\n}\n.ne-layout-mode-fixed ne-hole .ne-i-filler,\n.ne-layout-mode-adapt ne-hole .ne-i-filler {\n  align-self: stretch;\n}\n.ne-layout-mode-fixed ne-hole .ne-i-filler:first-child,\n.ne-layout-mode-adapt ne-hole .ne-i-filler:first-child {\n  align-self: flex-start;\n}\n.ne-layout-mode-fixed ne-hole .ne-i-filler:last-child,\n.ne-layout-mode-adapt ne-hole .ne-i-filler:last-child {\n  align-self: flex-end;\n}\n.ne-layout-mode-fixed ne-table-hole,\n.ne-layout-mode-adapt ne-table-hole {\n  display: flex;\n  align-items: flex-end;\n}\n.ne-layout-mode-fixed ne-table-hole > .ne-i-filler,\n.ne-layout-mode-adapt ne-table-hole > .ne-i-filler {\n  line-height: 1;\n}\n.ne-layout-mode-fixed ne-table-hole > .ne-i-filler:first-child,\n.ne-layout-mode-adapt ne-table-hole > .ne-i-filler:first-child {\n  margin-top: 1em;\n  align-self: flex-start;\n}\n.ne-layout-mode-fixed ne-table-hole > .ne-i-filler:last-child,\n.ne-layout-mode-adapt ne-table-hole > .ne-i-filler:last-child {\n  margin-bottom: 1em;\n  align-self: flex-end;\n}\n.ne-ui-scrollbar-visible .ne-layout-mode-fixed .ne-ui-sidebar,\n.ne-ui-scrollbar-visible .ne-layout-mode-adapt .ne-ui-sidebar {\n  right: 15px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed .ne-editor-extra-box {\n  max-width: 830px;\n  padding: 0 40px;\n  margin: 0 auto;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed .ne-engine > .ne-b-filler {\n  display: block;\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed .ne-ui {\n  padding: 0 40px;\n  margin: 0 auto;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed .ne-ui .ne-ui-toolbar {\n  justify-content: center;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed .ne-ui .ne-ui-toolbar .ne-ui-inner-toolbar:after {\n  content: ' ';\n  height: 1px;\n  background: #F5F5F5;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine ne-hole.ne-full-width {\n  max-width: 100%;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine ne-table-hole.ne-full-width {\n  max-width: 100%;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine ne-table-hole.ne-full-width > .ne-i-filler {\n  flex: 1;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child {\n  margin-right: 2px;\n  text-align: right;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible) .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:last-child {\n  text-align: left;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed:not(.ne-normal-toc ):not(.ne-ui-sidebar-visible).ne-viewport-size-standard ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-hole.ne-full-width {\n  max-width: 100%;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole {\n  max-width: 752px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole.ne-full-width {\n  max-width: 100%;\n  margin-left: auto;\n  margin-right: 280px;\n  justify-content: space-between;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child {\n  flex: 1;\n  max-width: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child:first-child {\n  margin-right: 2px;\n  text-align: right;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child:last-child {\n  text-align: left;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XXL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:last-child {\n  flex: 0;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-hole.ne-full-width {\n  max-width: 100%;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole {\n  max-width: 752px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole.ne-full-width {\n  max-width: 100%;\n  margin-left: auto;\n  margin-right: 280px;\n  justify-content: space-between;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child {\n  flex: 1;\n  max-width: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child:first-child {\n  text-align: right;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child:last-child {\n  text-align: left;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:last-child {\n  flex: 0;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-XL .ne-editor-extra-box {\n  margin-left: auto;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-L .ne-engine > *,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-M .ne-engine > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-L .ne-engine ne-hole.ne-full-width,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-M .ne-engine ne-hole.ne-full-width {\n  max-width: 100%;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-L .ne-engine ne-table-hole.ne-full-width,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-M .ne-engine ne-table-hole.ne-full-width {\n  max-width: 100%;\n  margin-left: auto;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-L .ne-editor-extra-box,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-normal-toc:not(.ne-ui-sidebar-visible).ne-viewport-size-toc-M .ne-editor-extra-box {\n  margin-left: auto;\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible {\n  /* ---------- 表格 ---------- */\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine ne-hole.ne-full-width {\n  max-width: 100%;\n  margin-right: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine > *,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-L .ne-engine > *,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-M .ne-engine > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-hole.ne-full-width,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-L .ne-engine ne-hole.ne-full-width,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-M .ne-engine ne-hole.ne-full-width {\n  max-width: 100%;\n  margin-right: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-editor-extra-box,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-L .ne-editor-extra-box,\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-M .ne-editor-extra-box {\n  margin-left: auto;\n  margin-right: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine ne-table-hole {\n  max-width: 752px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine ne-table-hole.ne-full-width {\n  max-width: 100%;\n  margin-right: 305px;\n  margin-left: auto;\n  justify-content: space-between;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child {\n  flex: 1;\n  max-width: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XXL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:last-child {\n  flex: 0;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole {\n  max-width: 752px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole.ne-full-width {\n  max-width: 100%;\n  margin-left: auto;\n  margin-right: 305px;\n  justify-content: space-between;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child {\n  flex: 1;\n  max-width: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child:first-child {\n  text-align: right;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:first-child:last-child {\n  text-align: left;\n}\n.ne-doc-major-editor .ne-layout-mode-fixed.ne-ui-sidebar-visible.ne-viewport-size-sidebar-XL .ne-engine ne-table-hole.ne-full-width > .ne-i-filler:last-child {\n  flex: 0;\n}\n"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-editor .ne-ui-sidebar {\n  z-index: 3;\n}\n.ne-layout-mode-fixed.ne-editor,\n.ne-layout-mode-adapt.ne-editor {\n  height: 100%;\n}\n.ne-layout-mode-fixed .ne-editor-wrap-content,\n.ne-layout-mode-adapt .ne-editor-wrap-content {\n  flex: 1;\n  min-width: 500px;\n}\n.ne-layout-mode-fixed .ne-editor-body,\n.ne-layout-mode-adapt .ne-editor-body {\n  height: calc(100% - 50px);\n}\n.ne-layout-mode-fixed .ne-editor-wrap,\n.ne-layout-mode-adapt .ne-editor-wrap {\n  display: flex;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ne-layout-mode-fixed .ne-editor-outer-wrap-box,\n.ne-layout-mode-adapt .ne-editor-outer-wrap-box {\n  min-width: 500px;\n  padding-bottom: 1px;\n}\n.ne-layout-mode-fixed .ne-editor-wrap-box,\n.ne-layout-mode-adapt .ne-editor-wrap-box {\n  background-color: #fff;\n}\n.ne-layout-mode-fixed .ne-engine,\n.ne-layout-mode-adapt .ne-engine {\n  min-height: 1024px;\n  padding: 20px 40px 90px 40px;\n}\n.ne-layout-mode-fixed .ne-ui-sidebar,\n.ne-layout-mode-adapt .ne-ui-sidebar {\n  width: 305px;\n  right: 0;\n}\n.ne-layout-mode-fixed ne-hole,\n.ne-layout-mode-adapt ne-hole {\n  display: flex;\n  line-height: 1;\n}\n.ne-layout-mode-fixed ne-hole .ne-i-filler,\n.ne-layout-mode-adapt ne-hole .ne-i-filler {\n  align-self: stretch;\n}\n.ne-layout-mode-fixed ne-hole .ne-i-filler:first-child,\n.ne-layout-mode-adapt ne-hole .ne-i-filler:first-child {\n  align-self: flex-start;\n}\n.ne-layout-mode-fixed ne-hole .ne-i-filler:last-child,\n.ne-layout-mode-adapt ne-hole .ne-i-filler:last-child {\n  align-self: flex-end;\n}\n.ne-layout-mode-fixed ne-table-hole,\n.ne-layout-mode-adapt ne-table-hole {\n  display: flex;\n  align-items: flex-end;\n}\n.ne-layout-mode-fixed ne-table-hole > .ne-i-filler,\n.ne-layout-mode-adapt ne-table-hole > .ne-i-filler {\n  line-height: 1;\n}\n.ne-layout-mode-fixed ne-table-hole > .ne-i-filler:first-child,\n.ne-layout-mode-adapt ne-table-hole > .ne-i-filler:first-child {\n  margin-top: 1em;\n  align-self: flex-start;\n}\n.ne-layout-mode-fixed ne-table-hole > .ne-i-filler:last-child,\n.ne-layout-mode-adapt ne-table-hole > .ne-i-filler:last-child {\n  margin-bottom: 1em;\n  align-self: flex-end;\n}\n.ne-ui-scrollbar-visible .ne-layout-mode-fixed .ne-ui-sidebar,\n.ne-ui-scrollbar-visible .ne-layout-mode-adapt .ne-ui-sidebar {\n  right: 15px;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt .ne-editor-extra-box {\n  padding: 0 40px;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt .ne-ui {\n  padding: 0 27px;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt .ne-ui .ne-ui-toolbar {\n  justify-content: flex-start;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt .ne-ui:after {\n  content: ' ';\n  height: 1px;\n  background: #F5F5F5;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt.ne-normal-toc:not(.ne-ui-sidebar-visible) .ne-engine > * {\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt.ne-normal-toc:not(.ne-ui-sidebar-visible) .ne-editor-extra-box {\n  margin-right: 280px;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt.ne-ui-sidebar-visible .ne-engine > * {\n  margin-right: 305px;\n}\n.ne-doc-major-editor .ne-layout-mode-adapt.ne-ui-sidebar-visible .ne-editor-extra-box {\n  margin-right: 305px;\n}\n");var kU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this,n=e.iKernel;e.editorNode.classList.add("ne-layout-mode-".concat(this.option.layout)),br(n.hasExtendMethod("getLayout"),"F:editor/index;L:33"),n.on("document.create",(function(){var r=n.getLayout();e.editorNode.classList.remove("ne-layout-mode-adapt","ne-layout-mode-fixed"),e.editorNode.classList.add("ne-layout-mode-".concat(n.getLayout())),t._toggleToolbarSetting(r)})),n.onPluginEvent("layoutChange",(function(n){var r=n.current,o=n.prev;t._toggleToolbarSetting(r),e.editorNode.classList.remove("ne-layout-mode-".concat(o)),e.editorNode.classList.add("ne-layout-mode-".concat(r)),e.emit("layoutChange",{current:r,prev:o})})),e.on("maxViewChange",(function(t){var r=n.getLayout();t?e.editorNode.classList.remove("ne-layout-mode-".concat(r)):e.editorNode.classList.add("ne-layout-mode-".concat(r))})),e.on("enterMaxView",(function(){var t=n.getLayout();e.editorNode.classList.remove("ne-layout-mode-".concat(t))})),e.on("leaveMaxView",(function(){var t=n.getLayout();e.editorNode.classList.add("ne-layout-mode-".concat(t))})),e.onPluginEvent("viewSizeChange",(function(e){var n=e.curr;t._update(n.width)})),this._update(e.editorNode.getBoundingClientRect().width)}},{key:"destroy",value:function(){this.iEditor.editorNode.classList.remove("ne-layout-mode-".concat("fixed"),"ne-layout-mode-".concat("adapt")),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_update",value:function(e){var t,n,r=this.iEditor,o=r.editorNode,i=function(e){var t=e.prefix,n=e.totalWidth,r=e.sidebarWidth,o=e.tocWidth,i=e.space,a=e.standardContentWidth,c=e.minContentWidth,l=[_U("".concat(t,"sidebar"),{totalWidth:n,space:i,targetWidth:r,standardContentWidth:a,minContentWidth:c}),_U("".concat(t,"toc"),{totalWidth:n,space:i,targetWidth:o,standardContentWidth:a,minContentWidth:c})];return n>=a+2*i&&l.push("".concat(t,"standard")),l}({prefix:"ne-viewport-size-",totalWidth:r.scrollbarIsVisible?e-15:e,sidebarWidth:305,tocWidth:280,space:40,standardContentWidth:750,minContentWidth:500}),a=Array.from(o.classList).filter((function(e){return e.startsWith("ne-viewport-size-")})).filter((function(e){return!i.includes(e)}));a.length&&(t=o.classList).remove.apply(t,x()(a)),i.length&&(n=o.classList).add.apply(n,x()(i))}},{key:"_toggleToolbarSetting",value:function(e){var t=this.iEditor;t.hasExtendMethod("addDisabledMiniToolbarItems")&&("adapt"===e?t.addDisabledMiniToolbarItems("widthMode"):t.removeDisabledMiniToolbarItems("widthMode"))}}]),i}();m()(kU,"PluginName","layout"),m()(kU,"PluginOption",Us),FN('ne-card[data-card-name="transfer"] {\n  /* stylelint-disable-line */\n}\nne-card[data-card-name="transfer"] .ne-card-transfer {\n  display: flex;\n  align-items: center;\n  height: 52px;\n  border: 1px solid #d8d8d8;\n  border-radius: 2px;\n  background-color: #fff;\n  font-size: 14px;\n  color: #262626;\n  padding: 0 16px;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-icon {\n  flex: 0 0 auto;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-info {\n  flex: 1;\n  display: flex;\n  margin: 0 12px;\n  overflow: hidden;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-info-name {\n  min-width: 0;\n  margin-right: 6px;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-info-name-inside {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-info-size {\n  flex: 0 0 auto;\n  color: #a6a6a6;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-status {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\nne-card[data-card-name="transfer"] .ne-card-transfer-status .ne-icon {\n  margin-left: 4px;\n}\n');var CU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-transfer")),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getFilename(),t=Ic(this.props.cardData.getFilesize()),n="error"===this.props.status;return Re.a.createElement("div",{className:this.getClassName()},Re.a.createElement("div",{className:this.getClassName("icon")},Re.a.createElement(oE,{type:"file-cloud",size:24})),Re.a.createElement("div",{className:this.getClassName("info")},Re.a.createElement("div",{className:this.getClassName("info-name")},Re.a.createElement("div",{className:this.getClassName("info-name-inside")},e)),Re.a.createElement("div",{className:this.getClassName("info-size")},t)),Re.a.createElement("div",{className:this.getClassName("status")},xm(n?"插入失败":"添加中"),Re.a.createElement(oE,{type:n?"warning-outlined":"loading"})))}}]),i}();m()(CU,"propTypes",{cardData:De.a.object.isRequired,status:De.a.string});var RU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(CU,{cardData:this.props.cardData,status:this.props.cardData.getStatus()})}}]),i}();m()(RU,"propTypes",{cardData:De.a.object.isRequired});var NU=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"_transferObserver",null),e}return a()(i,[{key:"init",value:function(){this.uiViewProxy=cO.render(RU,{cardData:this.cardData,focus:!1},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){B()(p()(i.prototype),"focus",this)&&B()(p()(i.prototype),"focus",this).call(this)}},{key:"blur",value:function(){B()(p()(i.prototype),"blur",this)&&B()(p()(i.prototype),"blur",this).call(this)}}]),i}();var EU=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),m()(l()(t),"_transferTask",null),m()(l()(t),"handleTransferStart",(function(){t.cardData.setStatus("transfering"),t.cardData.sync(!0)})),m()(l()(t),"handleTransferSuccess",(function(e){t.cardData.setStatus("done"),t.cardData.sync(!0),t._iEditor.execCommand("replaceTransferFile",t.id,{originFileInfo:t.cardData.getOriginFileInfo,copiedFileInfo:e,extendInfo:{currentURL:t._iEditor.option.currentURL}})})),m()(l()(t),"handleTransferError",(function(){t.cardData.setStatus("error"),t.cardData.sync(!0)})),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this);var e=this.cardData.getTaskId();this._transferTask=this._iEditor.transferObserver.observe(e),this._transferTask&&(Ls(this,this._transferTask,"start",this.handleTransferStart),Ls(this,this._transferTask,"success",this.handleTransferSuccess),Ls(this,this._transferTask,"timeout",this.handleTransferError),Ls(this,this._transferTask,"error",this.handleTransferError))}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}}]),i}();function OU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OU(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(EU,"$EditableCardUI",NU),m()(EU,"$CardData",U_);var SU=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t){var n;return o()(this,c),n=i.call(this),m()(l()(n),"_id",null),m()(l()(n),"_apiURL",null),m()(l()(n),"_fileInfo",null),m()(l()(n),"_uploadRequest",null),n._id=xr(),n._apiURL=e,n._fileInfo=t,n}return a()(c,[{key:"id",get:function(){return this._id}},{key:"fileInfo",get:function(){return this._fileInfo}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={create_video:"true",filename:"".concat(this._fileInfo.filename,".").concat(this._fileInfo.ext),"attachments[]":this._fileInfo.filekey},this.emit(RP.EVENT_START),e.abrupt("return",new Promise((function(e){n._uploadRequest=_P({method:"post",url:n._apiURL,data:t,dataType:"json",success:function(t){var r=DU({},Array.isArray(t.data)?t.data[0]:t.data);n.emit(RP.EVENT_SUCCESS,r),e({result:r})},error:function(t){t=kP(t),n.emit(RP.EVENT_ERROR,t),e({error:t})}})})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),c}(),BU={transferFilesURL:"/api/upload/copy",createTransferTask:null},PU=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},BU,t)}return a()(e,[{key:"copyFileURL",get:function(){return this._option.copyFileURL}},{key:"createTransferTask",value:function(e){var t=this._option,n=t.transferFilesURL,r=t.createTransferTask;return br(n||r,"F:transfer-option;L:27"),r?r(e):new SU(n,e)}}]),e}();m()(PU,"OptionName",Mb);var FU=function(){function e(){o()(this,e)}return a()(e,null,[{key:"transferFiles",value:function(e,t){br(e.hasExtend("transferManager"),"F:transfer-helper/index;L:5");var n=e.option.transfer;return t.map((function(t){var r=n.createTransferTask(t);return e.transferManager.addTask(r),r}))}}]),e}();var TU=function(e){u()(i,hc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iEditor",null),m()(l()(n),"_iKernel",null),n._iEditor=e,n._iKernel=t,n}return a()(i,[{key:"isExistInCurrentDocument",value:function(e){return!!this._iKernel.document.getNodeById(e)}},{key:"read",value:function(e,t){if("paste"===e.from){var n=t.id,r=t.name;if(!this.isExistInCurrentDocument(n)){var o,i=null;if(r===gb)i=Dx.toTransfer(null===(o=t.attrs)||void 0===o?void 0:o.value);else if(r===Nb){var a;i=c_.toTransfer(null===(a=t.attrs)||void 0===a?void 0:a.value)}br(i,"F:transfer-inode-pre-reader;L:46");var c,l=FU.transferFiles(this._iEditor,[i]),s=E()(l,1)[0],u=null;if(r===gb)u=Dx.fromTransfer(null===(c=t.attrs)||void 0===c?void 0:c.value,s);else if(r===Nb){var d;u=c_.fromTransfer(null===(d=t.attrs)||void 0===d?void 0:d.value,s)}br(u,"F:transfer-inode-pre-reader;L:58"),t.attrs.value=u}}}}]),i}();m()(TU,"CardNames",[gb,Nb]);var MU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t,n){var r=this;t.registerBlockCard(this,Fb,{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(EU,[e].concat(n))}}),t.iKernel.hasExtendMethod("registerINodeCardPreReader")&&TU.CardNames.forEach((function(r){t.iKernel.registerINodeCardPreReader(r,new TU(e,n.iKernel))})),this._transferManager=new nT,this._transferObserver=new qP(this._transferManager),this.kernel.model.on("document.create",(function(e){r._transferManager.reset(e.id)})),e.extend("transferManager",this._transferManager),e.extend("transferObserver",this._transferObserver)}}]),i}();function LU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LU(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(MU,"PluginName","transfer"),m()(MU,"PluginOption",PU);var IU=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=AU(AU({},e.DefaultOption),t)}return a()(e,[{key:"translateURL",get:function(){return this._option.translateURL}},{key:"translateRequestHandler",get:function(){return this._option.translateRequestHandler}}]),e}();m()(IU,"OptionName","translate"),m()(IU,"DefaultOption",{translateURL:"https://suppliers.alifanyi.com/supporting/translate.json"});var jU=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){var e=this;Ls(this,this.pluginContext,"translateSidebarClosed",(function(){e.emit("statechange")}))}},{key:"onEvent",value:function(){this.pluginContext.toggleSidebar(),this.emit("statechange")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-translate",className:"ne-ui-toolbar-translate",checked:!1,tooltip:xm("翻译")}}},{key:"getUIState",value:function(){return{disabled:this.disabled||-1===this.iEditor.queryCommandState("translate"),checked:this.pluginContext.isVisible()}}}]),i}();m()(jU,"Type","StatusButton"),FN(".ne-translate-sidebar .ne-sidebar-translate-language-selector {\n  margin: 14px 0;\n}\n.ne-translate-sidebar .ne-sidebar-translate-language-selector .ne-translate-language-selector .ant-select-selector {\n  background: #fff;\n}\n.ne-translate-sidebar .ne-translate-language-selector {\n  width: 100%;\n}\n.ne-translate-sidebar .ne-sidebar-translate-result {\n  height: 361px;\n  border-radius: 4px;\n  white-space: pre-wrap;\n  padding: 8px;\n  border: 1px solid #D9D9D9;\n  overflow: auto;\n  background: #fff;\n}\n.ne-translate-sidebar .ne-sidebar-translate-result.ne-sidebar-tip-message {\n  color: #cfcfcf;\n}\n");var VU=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"componentDidMount",value:function(){this.props.onReady()}},{key:"render",value:function(){var e=this;return Re.a.createElement(bF,{className:"ne-translate-sidebar"},Re.a.createElement(bF.Header,{onClose:function(){return e.props.descriptor.close()}},Re.a.createElement("div",{className:"ne-premium-sidebar-title"},xm("翻译"))),Re.a.createElement(bF.Body,null,this._renderSelector(),this._renderResultBox(),this._renderInsertButton()))}},{key:"_renderSelector",value:function(){return Re.a.createElement("div",{className:"ne-sidebar-translate-item"},Re.a.createElement("div",{className:"ne-sidebar-translate-item-title"},xm("源 & 目标")),Re.a.createElement("div",{className:"ne-sidebar-translate-item-content"},Re.a.createElement("div",{className:"ne-sidebar-translate-language-selector"},Re.a.createElement(Zj,{value:this.props.source,className:"ne-translate-language-selector",onChange:this.props.onSourceChange},Re.a.createElement(Zj.Option,{value:"auto"},xm("自动检测")),Re.a.createElement(Zj.Option,{value:"zh"},xm("中文")),Re.a.createElement(Zj.Option,{value:"en"},xm("英文")))),Re.a.createElement("div",{className:"ne-sidebar-translate-language-selector"},Re.a.createElement(Zj,{value:this.props.target,className:"ne-translate-language-selector",onChange:this.props.onTargetChange},Re.a.createElement(Zj.Option,{value:"zh"},xm("中文")),Re.a.createElement(Zj.Option,{value:"en"},xm("英文"))))))}},{key:"_renderResultBox",value:function(){var e=this.props.tipMessage||this.props.translateResult;return Array.isArray(e)&&(e=e.join("\n")),Re.a.createElement("div",{className:"ne-sidebar-translate-item"},Re.a.createElement("div",{className:"ne-sidebar-translate-item-title"},xm("译文")),Re.a.createElement("div",{className:"ne-sidebar-translate-item-content"},Re.a.createElement("pre",{className:nw("ne-sidebar-translate-result",this.props.tipMessage&&"ne-sidebar-tip-message")},e)))}},{key:"_renderInsertButton",value:function(){return Re.a.createElement("div",{className:"ne-sidebar-translate-item"},Re.a.createElement(gt.a,{onMouseDown:function(e){return e.preventDefault()},onClick:this.props.onInsert,disabled:!this.props.translateResult},xm("插入文档")))}}]),i}();function zU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zU(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(VU,"propTypes",{descriptor:De.a.instanceOf(fF).isRequired,source:De.a.oneOf(["auto","zh","en"]).isRequired,target:De.a.oneOf(["zh","en"]).isRequired,onSourceChange:De.a.func,onTargetChange:De.a.func,onInsert:De.a.func,onReady:De.a.func,translateResult:De.a.array,tipMessage:De.a.any}),m()(VU,"defaultProps",{onTargetChange:function(){},onSourceChange:function(){},onInsert:function(){},onReady:function(){}});var HU=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iEditor",null),m()(l()(n),"_plugin",null),m()(l()(n),"_viewHandle",null),m()(l()(n),"_viewState",{source:"auto",target:"en",translateResult:null,tipMessage:null}),m()(l()(n),"_ignoreNextChange",!1),m()(l()(n),"_translateContext",null),m()(l()(n),"_requestID",1),m()(l()(n),"_timer",null),n._iEditor=e,n._plugin=t,n}return a()(i,[{key:"init",value:function(){var e=this;this._viewHandle=XN.render(VU,UU(UU({descriptor:this},this._viewState),{},{onReady:function(){setTimeout((function(){e._doTranslate()}))},onSourceChange:function(t){e._viewState.source=t,e._doTranslate()},onTargetChange:function(t){e._viewState.target=t,e._doTranslate()},onInsert:function(){e._viewState.translateResult&&(e._ignoreNextChange=!0,e._iEditor.execCommand("translate",e._translateContext,e._viewState.translateResult),e._viewState.tipMessage=null,e._viewState.translateResult=null,e._refreshUI())}}),this.sidebarRootNode),this._iEditor.on("contentchange",(function(){e._reset()})),this._iEditor.on("selectionchange",(function(){document.getSelection().isCollapsed?e._translateContext=null:e._reset()}))}},{key:"_reset",value:function(){var e=this;this._ignoreNextChange?this._ignoreNextChange=!1:((this._viewState.tipMessage||this._viewState.translateResult)&&(this._requestID++,this._viewState.tipMessage=null,this._viewState.translateResult=null,this._translateContext=null,this._refreshUI()),window.clearTimeout(this._timer),this._timer=setTimeout((function(){e._doTranslate()}),1e3))}},{key:"_refreshUI",value:function(){!this.closed&&this._viewHandle&&this._viewHandle.rerender(this._viewState)}},{key:"_doTranslate",value:function(){var e=this,t=this._plugin.getTranslateContext(),n=t.getTextList();if(this._translateContext=null,this._viewState.translateResult=null,0===n.length)return this._viewState.tipMessage=null,void this._refreshUI();this._viewState.tipMessage=xm("翻译中..."),this._refreshUI(),this._doRequest(n,this._viewState.source,this._viewState.target,(function(n){e._viewState.tipMessage=null,e._viewState.translateResult=n,e._translateContext=t,e._refreshUI()}))}},{key:"_doRequest",value:function(e,t,n,r){var o=this;if(this._plugin.option.translateRequestHandler)this._plugin.option.translateRequestHandler({textList:e,source:t,target:n}).then((function(e){r(e.data)}));else{this._requestID++;var i=this._requestID,a=new Request(this._plugin.option.translateURL,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({appName:"skylark",format:"text",srcTextList:e,srcLanguage:t,tgtLanguage:n})});fetch(a).then((function(e){if(e.ok)return e.json()})).then((function(e){200===e.code&&i===o._requestID&&r(e.data)}))}}},{key:"destroy",value:function(){this._viewHandle&&(this._viewHandle.destroy(),this._viewHandle=null,this._translateContext=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!0}}]),i}();var qU=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_sidebarDescriptor",null),e}return a()(i,[{key:"init",value:function(e){br(e.iKernel.hasExtendMethod("getTranslateContext"),"F:editor/index;L:15"),e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("translate",{clazz:jU,pluginContext:this})}},{key:"getTranslateContext",value:function(){return this.iEditor.iKernel.getTranslateContext()}},{key:"openSidebar",value:function(){var e=this;this._sidebarDescriptor&&this._sidebarDescriptor.close(),this.iEditor.hasExtend("sidebar")&&(this._sidebarDescriptor=new HU(this.iEditor,this),this.iEditor.sidebar.open(this._sidebarDescriptor),this._sidebarDescriptor.on("close",(function(){e._sidebarDescriptor=null,e.emit("translateSidebarClosed")})))}},{key:"isVisible",value:function(){return!!this._sidebarDescriptor}},{key:"toggleSidebar",value:function(){this._sidebarDescriptor?this._sidebarDescriptor.close():this.openSidebar()}}]),i}();m()(qU,"PluginName","translate"),m()(qU,"PluginOption",IU);var WU=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;e.hasExtendMethod("registerHotKey")&&e.registerHotKey("clearFormat",["cmd","\\"],(function(e){e.stop(),t.iRenderer.execCommand("clearFormat")}))}}]),i}();m()(WU,"PluginName","clearFormat");var ZU=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=e.domRootNode;e.onRootNode("drop",(function(n){if(t.contains(n.target)){var r=n.dataTransfer.files;if(r&&0!==r.length){n.preventDefault();var o=function(e){if(document.caretRangeFromPoint){var t=document.caretRangeFromPoint(e.clientX,e.clientY);return t?{node:t.startContainer,offset:t.startOffset}:null}if(document.caretPositionFromPoint){var n=document.caretPositionFromPoint(e.clientX,e.clientY);if(n)return{node:n.offsetNode,offset:n.offset}}return null}(n);o&&e.execCommand("selection",o),e.execCommand("dropFile",Array.from(r))}}}))}}]),i}();m()(ZU,"PluginName","dropFile");var KU=["0.0.0.0","255.255.255.255",/^127\./,/^192\.168\./,/^10\./];function $U(e){try{var t=new URL(e,"http://localhost").hostname;return!(!t||"localhost"===t||/^\d+\.\d+.\d+.\d+$/.test(t)&&KU.some((function(e){return"string"==typeof e?e===t:e.test(t)})))}catch(e){return!1}}function JU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JU(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GU(e,t){return new Promise((function(n,r){_P({method:"get",url:e,data:{url:t},success:function(e){n(e.data)},error:function(e){r(e)}})}))}var XU={detailAction:"/api/editor/link_detail",fetchDetailHandler:null},QU=a()((function e(t){var n,r=this;o()(this,e),m()(this,"fetchDetailHandler",(n=xe()(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r._option.fetchDetailHandler){e.next=2;break}return e.abrupt("return",r._option.fetchDetailHandler(t));case 2:return e.abrupt("return",GU(r._option.detailAction,t));case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})),this._option=YU(YU({},XU),t)}));m()(QU,"OptionName","bookmark");var eH=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-bookmark")),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData.getDetail(),t=e.icon?Re.a.createElement("img",{className:"ne-favicon","data-testid":"ne-favicon",src:gv.sanitizeUrl(e.icon)}):null,n=e.image?Re.a.createElement("div",{className:this.getClassName("cover"),"data-testid":this.getClassName("cover"),style:{backgroundImage:"url(".concat(e.image,")")}}):null,r=Re.a.createElement("div",{className:this.getClassName("detail")},Re.a.createElement("div",{className:this.getClassName("body")},Re.a.createElement("div",{className:this.getClassName("title"),"data-testid":this.getClassName("title")},e.title||xm("无标题")),Re.a.createElement("div",{className:this.getClassName("desc")},e.desc),Re.a.createElement("div",{className:this.getClassName("belong")},t,e.belong||e.url||"-")),n);return this.props.clickable&&(r=Re.a.createElement("a",{href:gv.sanitizeUrl(this.props.cardData.getSrc()),target:"_blank"},r)),r}}]),i}();m()(eH,"propTypes",{clickable:De.a.bool,cardData:De.a.instanceOf($_).isRequired});var tH=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-bookmark")),e}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName("error"),"data-testid":this.getClassName("error")},Re.a.createElement("div",{className:this.getClassName("tip")},xm("获取内容失败")),Re.a.createElement("div",{className:this.getClassName("url")},this.props.cardData.getSrc()))}}]),i}();m()(tH,"propTypes",{clickable:De.a.bool,cardData:De.a.instanceOf($_).isRequired}),FN(".ne-card-bookmark {\n  position: relative;\n  height: 98px;\n  overflow: hidden;\n  border-radius: 2px;\n  font-size: 14px;\n}\n.ne-card-bookmark .ne-card-bookmark-detail {\n  background-color: #fff;\n  height: 100%;\n  overflow: hidden;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-body {\n  padding: 20px 186px 20px 20px;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-body:last-child {\n  padding-right: 20px;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-title {\n  color: #262626;\n  font-size: 14px;\n  line-height: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-desc,\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-belong {\n  margin-top: 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-desc {\n  color: #404040;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-belong {\n  color: #595959;\n  display: flex;\n  align-items: center;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-belong img.ne-favicon {\n  width: 12px;\n  height: 12px;\n  margin-right: 5px;\n}\n.ne-card-bookmark .ne-card-bookmark-detail .ne-card-bookmark-cover {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 166px;\n  height: 96px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: right;\n}\n.ne-card-bookmark .ne-card-bookmark-loading,\n.ne-card-bookmark .ne-card-bookmark-error {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  color: #a6a6a6;\n  background-color: #f5f5f5;\n}\n");var nH=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-bookmark")),e}return a()(i,[{key:"render",value:function(){var e,t=this.props.cardData.getDetail();return e=t?this.renderDetail(t):this.props.isLoadingError?this.renderError():this.renderWaiting(),Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName()},e)}},{key:"renderDetail",value:function(){return Re.a.createElement(eH,{cardData:this.props.cardData,clickable:!1})}},{key:"renderError",value:function(){return Re.a.createElement(tH,{cardData:this.props.cardData})}},{key:"renderWaiting",value:function(){return Re.a.createElement("div",{className:this.getClassName("loading"),"data-testid":this.getClassName("loading")},Re.a.createElement("div",{className:this.getClassName("tip")},xm("内容加载中")+" ..."))}}]),i}();m()(nH,"propTypes",{cardData:De.a.instanceOf($_).isRequired,isLoadingError:De.a.bool});var rH=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","|","spacing"]}}},{key:"getCardToolbarConfig",value:function(){var e=this,t=[{name:"share",text:xm("在新标签页中打开"),icon:"o-visit-link",onClick:function(){e.emit("openLinkBtnClick")}}];return this.cardData.getSrc()&&t.unshift({name:"bookmarkToLink",text:xm("转为链接"),icon:"t-link",onClick:function(){e.emit("bookmarkToLink")}},"|"),t}},{key:"init",value:function(){this._loadDetail(),this.uiViewProxy=cO.render(nH,{cardData:this.cardData,isLoadingError:!1},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"_loadDetail",value:function(){var e=this,t=this.cardData.getSrc();t&&!this.cardData.hasDetail()&&this.pluginOption.fetchDetailHandler(t).then((function(t){e.cardData.setDetail(t),e.cardData.sync(!0)})).catch((function(){e.uiViewProxy.rerender({isLoadingError:!0})}))}}]),i}();var oH=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this),this._ui.on("openLinkBtnClick",(function(){e.plugin.requestOpenLink(e.cardData.getSrc())})),this._ui.on("bookmarkToLink",(function(){var t=e.cardData.getSrc();e.plugin.bookmarkToLink(e.id,t)}))}},{key:"destroy",value:function(){this._ui.destroy()}}]),i}();m()(oH,"$EditableCardUI",rH),m()(oH,"$CardData",$_);var iH=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(){this.iEditor.iRenderer.emitPluginEvent("insertBookmark")}},{key:"getInitUIState",value:function(){return{disabled:!1,icon:"note-bookmark",className:"ne-ui-toolbar-bookmark",tooltip:Uk.getTooltip(this.iEditor,xm("书签"))}}},{key:"getUIState",value:function(){var e=this.iEditor.iKernel.queryCommandValue("selection");return{disabled:!e||e.isTableSelection||e.isCardSelection}}}]),i}();m()(iH,"Type","Button");var aH=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_linkToBookmark",(function(t){var n=(t.attrs||{}).src;if(n){var r=(t.children||[]).map((function(e){return e.isTextNode()?e.data:""})).join("");e.iEditor.execCommand("linkToBookmark",t.attrs.id,$_.createBy(n,r))}})),m()(l()(e),"_extendLinkHandler",(function(t){var n=t.src;return n?rO.isYuqueDomainURL(n)||rO.isLarkDomainURL(n)?null:$U(n)?{type:"button",name:"to-bookmark",icon:"card-tb-card-view",tooltip:xm("转为书签"),onClick:function(t){e._linkToBookmark(t)}}:null:null})),e}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"bookmark",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(oH,[e].concat(n))}}),t.hasExtendMethod("extendLinkToolbar")&&t.extendLinkToolbar(this._extendLinkHandler),e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("note-bookmark",iH)}},{key:"requestOpenLink",value:function(e){this.iEditor.emitEvent("openBookmarkLink",e)}},{key:"bookmarkToLink",value:function(e,t){this.iEditor.execCommand("cardToLink",e,t)}}]),i}();m()(aH,"PluginName","bookmark"),m()(aH,"PluginOption",QU);var cH=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerHotKey")&&e.registerHotKey("save",["cmd","s"],(function(t){t.stop(),e.emitPluginEvent("save")}))}}]),i}();m()(cH,"PluginName","save");var lH=function(e){u()(i,qC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"translate",value:function(e,t){return{type:qC.ATTR_NAME,name:"ne-alert-type",value:t}}}]),i}();var sH=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),e}return a()(i,[{key:"init",value:function(e){this._rootNode=eC.createElement("ne-alert"),eC.setAttributeByChange(this._rootNode,e)}},{key:"updateAttribute",value:function(e){eC.syncDOMAttrChange(this._rootNode,e)}},{key:"getMainDOMNode",value:function(){return this._rootNode}}]),i}();FN('ne-alert {\n  display: block;\n  margin: 4px 0;\n  padding: 10px;\n  border-radius: 4px;\n  color: #262626;\n}\nne-alert[ne-alert-type="info"] {\n  border: 1px solid #abd2da;\n  background-color: #e8f7ff;\n}\nne-alert[ne-alert-type="warning"] {\n  border: 1px solid #e0d1b1;\n  background-color: #fffbe6;\n}\nne-alert[ne-alert-type="success"] {\n  border: 1px solid #c2d2b5;\n  background-color: #edf9e8;\n}\nne-alert[ne-alert-type="danger"] {\n  border: 1px solid #deb8be;\n  background-color: #fff3f3;\n}\nne-alert[ne-alert-type="tips"] {\n  border: 1px solid #c3c3c3;\n  background-color: #fff6b6;\n}\n');var uH=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("alert",sH),e.registerAttrTranslator("type",new lH)}}]),i}();m()(uH,"PluginName","alert");var dH={focus:!0,dropFile:!0,undo:!0,redo:!0,rollbackHistory:!0,insertCard:!0,deleteCard:!0,breakLine:!0,bold:!0,italic:!0,underline:!0,strikethrough:!0,color:!0,clearColor:!0,bgColor:!0,clearBgColor:!0,fontsize:!0,delete:!0,deleteByRange:!0,deleteToBlockEnd:!0,table:!0,deleteTable:!0,cut:!0,paste:!0,input:!0,indent:!0,outdent:!0,link:!0,insertLink:!0,linkText:!0,updateLink:!0,lineHeight:!0,paintFormat:!0,clearFormat:!0,translate:!0,label:!0,hr:!0,quote:!0,sub:!0,sup:!0,code:!0,search:!0,replaceText:!0};var fH=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){this.kernel.iEditing.on("afterExecCommand",(function(t){var n=t.commandName;e.isFocus()&&dH[n]&&e.scrollToCurrentSelection(!1)}))}}]),i}();m()(fH,"PluginName","autoScroll");var hH=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t){var n;return o()(this,c),n=i.call(this),m()(l()(n),"_apiURL",null),m()(l()(n),"_request",null),m()(l()(n),"_markdownText",""),br(t,"F:markdown-parse-task;L:15"),n._id=xr(),n._apiURL=e,n._markdownText=t,n}return a()(c,[{key:"id",get:function(){return this._id}},{key:"markdownText",get:function(){return this._markdownText}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit(RP.EVENT_START),e.abrupt("return",new Promise((function(e){t._request=_P({method:"post",url:t._apiURL,data:{from:"markdown",to:"lake",content:t._markdownText},success:function(n){var r,o=(null==n||null===(r=n.data)||void 0===r?void 0:r.content)||"";t.emit(RP.EVENT_SUCCESS,o),e({result:o})},error:function(n){n=kP(n),t.emit(RP.EVENT_ERROR,n),e({error:n})}})})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this._request&&this._request.xhr.abort()}}]),c}();var pH=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_plugin",null),m()(l()(t),"_opening",!1),m()(l()(t),"_onClick",(function(){t.emit("parse"),t.close()})),m()(l()(t),"isOpening",(function(){return t._opening})),m()(l()(t),"_setOpening",(function(e){return function(){t._opening=e}})),m()(l()(t),"close",(function(){Zt.a.close(i.key)})),m()(l()(t),"open",(function(){t._opening=!0,Zt.a.open({key:i.key,message:xm("是否需要做样式转换？"),description:xm("检测到粘贴内容符合 Markdown 语法，是否需要做样式转换？"),duration:t._plugin.option.duration,btn:Re.a.createElement(gt.a,{type:"primary",size:"small",onClick:t._onClick},xm("立即转换")),onClose:t._setOpening(!1)})})),t._plugin=e,t}return a()(i)}();m()(pH,"key","markdown-paste-parse");var vH={convertURL:"",duration:null},mH=function(){function e(t){o()(this,e),this._option=T()({},vH,t)}return a()(e,[{key:"convertURL",get:function(){return this._option.convertURL}},{key:"duration",get:function(){return this._option.duration}}]),e}();m()(mH,"OptionName","markdownPasteParse");var yH=[/^\s*([\*\-\+]|\d+\.)\s+/m,/^\s*#{1,6}\s+/m,/\[(.*?)\]\(([\S]+?)\)/m,/\[(.*?)\]\(([\S]+?)\s+?["'][\S]+?["']\)/m,/^\s*>\s?/m,/(^|\r?\n)(`{3,})[\s\S]*?\1($|\r?\n)/,/^\s*\|(([^\|]+?)\|){2,}\s*$/m];var gH=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_notificationManager",null),m()(l()(e),"_parseTask",null),m()(l()(e),"_markdownText",""),m()(l()(e),"_clearParseTask",(function(){var t,n;null===(t=e._parseTask)||void 0===t||t.abort(),null===(n=e._parseTask)||void 0===n||n.destroy(),e._parseTask=null,e._markdownText=""})),m()(l()(e),"_createParseTask",(function(){br(e._markdownText,"F:render/index;L:58","F:render/index;L:58","F:render/index;L:58"),e._parseTask=new hH(e.option.convertURL,e._markdownText),e._parseTask.on("success",(function(t){e._clearParseTask(),t&&(-1===e.iRenderer.queryCommandState("undo")?je.b.error(xm("内容已变更，无法插入 Markdown 内容")):(e.iRenderer.execCommand("undo"),e.iRenderer.execCommand("markdownPasteParse",t)||je.b.error(xm("未能插入内容"))))})),e._parseTask.on("error",(function(){e._clearParseTask(),je.b.error(xm("markdown语法转换失败"))})),e._parseTask.run()})),m()(l()(e),"_matchedMarkdownText",(function(t){e._clearParseTask(),e._markdownText=t,e._notificationManager.open()})),e}return a()(i,[{key:"init",value:function(e){var t=this;this._notificationManager=new pH(this),this._notificationManager.on("parse",this._createParseTask),this.kernel.iEditing.on("afterExecCommand",(function(e){var n=e.commandName,r=e.args;if("paste"===n){var o=E()(r,1)[0].getData("text/plain");o&&function(e){for(var t=0;t<yH.length;t++)if(yH[t].test(e))return!0;return!1}(o)&&t._matchedMarkdownText(o)}})),e.on("contentchange",(function(){t._clearParseTask(),t._notificationManager.isOpening()&&t._notificationManager.close()}))}}]),i}();function bH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bH(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(gH,"PluginName","markdownPasteParse"),m()(gH,"PluginOption",mH);var xH={tip:""},_H=function(){function e(t){o()(this,e),"string"==typeof t&&(t={tip:t}),this._option=wH(wH({},xH),t)}return a()(e,[{key:"tip",get:function(){return this._option.tip}}]),e}();m()(_H,"OptionName","placeholder"),FN(".ne-engine [data-placeholder]::before {\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #D9D9D9;\n  user-select: none;\n  pointer-events: none;\n  white-space: nowrap;\n}\n");var kH=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_handler",null),m()(l()(e),"_lastTargetNode",null),m()(l()(e),"_handleParaPlaceholder",(function(){var t=l()(e).iRenderer,n=e.option.tip,r=e.iEngine.viewDocument.rootNode;if(CH(r))e._addParaPlaceholder(t.domRootNode.firstChild,n);else{var o=r.firstChild;if(1===r.childCount&&"p"===o.nodeName&&CH(o)){var i,a=null===(i=t.getVirtualNode(o))||void 0===i?void 0:i.getMainDOMNode();e._addParaPlaceholder(null==a?void 0:a.firstChild,n)}else e._clear()}})),m()(l()(e),"_addParaPlaceholder",(function(t,n){e._lastTargetNode&&e._lastTargetNode!==t&&(e._lastTargetNode.removeAttribute("data-placeholder"),e._lastTargetNode=null),t&&t.nodeType===Node.ELEMENT_NODE&&(e._lastTargetNode=t,t.setAttribute("data-placeholder",n))})),m()(l()(e),"_clear",(function(){e._lastTargetNode&&(e._lastTargetNode.removeAttribute("data-placeholder"),e._lastTargetNode=null)})),e}return a()(i,[{key:"init",value:function(e){var t=this;this.option.tip&&(e.on("contentchange",this._handleParaPlaceholder),e.on("selectionchange",this._handleParaPlaceholder),e.onRootNode("compositionstart",(function(){t._clear()})),e.onRootNode("compositionend",this._handleParaPlaceholder))}}]),i}();function CH(e){return!!e.isEmpty()||e.children.every((function(e){return e.isTextNode()&&e.isEmpty()||e.isFillerNode()}))}function RH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RH(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(kH,"PluginName","placeholder"),m()(kH,"PluginOption",_H);var EH={enable:!1},OH=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=NH(NH({},EH),t)}return a()(e,[{key:"enable",get:function(){return this._option.enable}}]),e}();m()(OH,"OptionName","fullscreen"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-exit-fullscreen,\n.ne-ui-enter-fullscreen {\n  display: none;\n  position: fixed;\n  top: 4px;\n  right: 4px;\n  height: 42px;\n  width: 42px;\n  border-radius: 4px;\n  border-right: none;\n  text-align: center;\n  line-height: 50px;\n  outline: none;\n  color: #595959;\n  cursor: pointer;\n  z-index: 5;\n  justify-content: center;\n  align-items: center;\n}\n.ne-ui-exit-fullscreen:hover {\n  background: #f4f4f4;\n}\n.ne-ui-enter-fullscreen {\n  top: 0;\n  right: 0;\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n  position: absolute;\n  display: flex;\n  background: none;\n  border: none;\n  outline: none;\n}\n.ne-ui-fullscreen {\n  position: fixed!important;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1010;\n  height: auto;\n}\n.ne-ui-fullscreen .ne-ui-sidebar-visible .ne-editor-wrap:after {\n  content: ' ';\n  display: block;\n  width: 288px;\n}\n.ne-ui-fullscreen .ne-ui-sidebar-visible .ne-ui-sidebar {\n  right: 0;\n}\n.ne-ui-fullscreen .ne-editor-extra-box {\n  display: none;\n}\n.ne-ui-fullscreen .ne-editor {\n  height: 100%;\n}\n.ne-ui-fullscreen .ne-editor-body {\n  height: calc(100% - 50px - 54px);\n}\n.ne-ui-fullscreen .ne-editor-wrap {\n  padding-top: 16px;\n  height: 100%;\n  display: flex;\n}\n.ne-ui-fullscreen .ne-editor-wrap-content {\n  margin: 0 16px;\n  height: 100%;\n  flex: 1;\n  width: 440px;\n}\n.ne-ui-fullscreen .ne-editor-wrap-box,\n.ne-ui-fullscreen .ne-editor-outer-wrap-box,\n.ne-ui-fullscreen .ne-editor-box,\n.ne-ui-fullscreen .ne-engine-box {\n  height: 100%;\n}\n.ne-ui-fullscreen .ne-engine-box .ne-engine {\n  height: 100%;\n  overflow: hidden;\n}\n.ne-ui-fullscreen .ne-editor-body {\n  height: calc(100% - 50px);\n}\n.ne-ui-fullscreen .ne-editor-wrap .ne-editor-wrap-box {\n  margin-bottom: 20px;\n}\n.ne-ui-fullscreen .ne-ui {\n  padding-left: 40px;\n  padding-right: 50px;\n  border-bottom: 1px solid #f5f5f5;\n}\n.ne-ui-fullscreen .ne-ui-sidebar {\n  top: 0;\n}\n.ne-ui-fullscreen .ne-editor.ne-layout-mode-adapt {\n  background-color: #fff;\n}\n.ne-ui-fullscreen .ne-editor-wrap-box,\n.ne-ui-fullscreen .ne-editor-outer-wrap-box,\n.ne-ui-fullscreen .ne-editor-box,\n.ne-ui-fullscreen .ne-engine-box {\n  height: auto;\n}\n.ne-ui-fullscreen .ne-engine-box .ne-engine {\n  padding-top: 40px;\n  padding-bottom: 40px;\n}\n.ne-ui-fullscreen .ne-ui-sidebar {\n  top: 0;\n}\n.ne-ui-fullscreen .ne-ui-exit-fullscreen {\n  display: flex;\n}\n.ne-ui-fullscreen .ne-ui-enter-fullscreen {\n  display: none;\n}\n.ne-ui-max-view .ne-ui-exit-fullscreen {\n  display: none;\n}\n.ne-ui-max-view .ne-ui-enter-fullscreen {\n  display: none;\n}\n.lakex-note-editor .ne-ui-enter-fullscreen {\n  top: 6px;\n  right: 6px;\n}\n");var DH=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){var n=this;this.option.enable&&(this._exitFullScreenBox=LN('<div class="ne-ui-exit-fullscreen"></div>'),this._enterFullScreenBox=LN('<div class="ne-ui-enter-fullscreen"></div>'),e.editorNode.appendChild(this._exitFullScreenBox),e.editorNode.appendChild(this._enterFullScreenBox),e.editorNode.classList.add("ne-allow-fullscreen"),e.iKernel.once("document.ready",(function(){n.render()})),e.extendMethods({isFullscreen:function(){return n._isFullscreen},enterFullscreen:function(){n._isFullscreen||(e.editorNode.parentNode.classList.add("ne-ui-fullscreen"),n._isFullscreen=!0,e.emit("enterFullscreen"),e.emitEvent("fullscreenStatusChange",!0))},exitFullscreen:function(){n._isFullscreen&&(e.editorNode.parentNode.classList.remove("ne-ui-fullscreen"),n._isFullscreen=!1,e.emit("exitFullscreen"),e.emitEvent("fullscreenStatusChange",!1))}}),wR(this,this._exitFullScreenBox,"mousedown",(function(e){e.preventDefault()})),wR(this,this._exitFullScreenBox,"click",(function(){e.exitFullscreen()})),wR(this,this._enterFullScreenBox,"mousedown",(function(e){e.preventDefault()})),wR(this,this._enterFullScreenBox,"click",(function(){e.enterFullscreen()})),t.hasExtendMethod("registerHotKey")&&t.registerHotKey("fullscreen",["cmd","shift","F"],(function(t){t.stop(),e.isMaxView||(e.isFullscreen()?e.exitFullscreen():e.enterFullscreen())})))}},{key:"render",value:function(){var e=this.iRenderer.getHotKeyByName("fullscreen").text;be.a.render(nE(e,Re.a.createElement(oE,{type:"t-fullscreen"})),this._enterFullScreenBox),be.a.render(nE(e,Re.a.createElement(oE,{type:"t-exit-fullscreen"})),this._exitFullScreenBox)}}]),i}();m()(DH,"PluginName","fullscreen"),m()(DH,"PluginOption",OH),FN(".ne-editor .ne-ui-random-tip {\n  position: absolute;\n  right: 10px;\n  bottom: 6px;\n  height: 20px;\n  line-height: 20px;\n  font-size: 12px;\n  color: #D9D9D9;\n  user-select: none;\n}\n.ne-editor .ne-ui-random-tip-keys {\n  margin-right: 0.5em;\n}\n");var SH=function(e){var t=Object(Ce.useState)(null),n=E()(t,2),r=n[0],o=n[1],i=e.hotkeys,a=function(){var e;do{var t=Math.floor(Math.random()*i.length);e=i[t]}while(r&&e.name===r.name);o(e)};return Object(Ce.useEffect)(a,[]),r?Re.a.createElement("div",{className:"ne-ui-random-tip",onClick:a},Re.a.createElement("span",{className:"ne-ui-random-tip-keys"},r.keys),Re.a.createElement("span",{className:"ne-ui-random-tip-text"},r.text)):null};SH.propTypes={hotkeys:De.a.array.isRequired};var BH=[{name:"bold",text:xm("粗体"),keys:sO(["cmd","B"]," + ")},{name:"orderedlist",text:xm("有序列表"),keys:sO(["cmd","shift","7"]," + ")},{name:"unorderedlist",text:xm("无序列表"),keys:sO(["cmd","shift","8"]," + ")},{name:"link",text:xm("链接"),keys:sO(["cmd","K"]," + ")},{name:"h3",text:xm("标题3"),keys:sO(["###","Space"]," + ")},{name:"h4",text:xm("标题4"),keys:sO(["####","Space"]," + ")},{name:"fullscreen",text:xm("全屏编辑"),keys:sO(["cmd","shift","F"]," + ")},{name:"submit",text:xm("提交"),keys:sO(["cmd","enter"]," + ")}],PH=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(SH,{hotkeys:BH})}},{key:"onEvent",value:function(){}},{key:"getInitUIState",value:function(){return{}}},{key:"getUIState",value:function(){return{}}}]),i}();m()(PH,"Type","Custom");var FH=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("randomTips",PH)}}]),i}();m()(FH,"PluginName","randomTips");var TH=function(){function e(t){o()(this,e),m()(this,"_noPaper",!1),this._noPaper=!1===t}return a()(e,[{key:"isNoPaper",value:function(){return this._noPaper}}]),e}();m()(TH,"OptionName","paper"),FN(".ne-editor.ne-layout-mode-adapt.ne-no-paper {\n  background: #fff;\n}\n.ne-editor.ne-layout-mode-adapt.ne-no-paper .ne-editor-wrap {\n  padding: 0;\n}\n.ne-editor.ne-layout-mode-adapt.ne-no-paper .ne-editor-wrap .ne-editor-wrap-content {\n  margin: 0;\n}\n.ne-editor.ne-layout-mode-adapt.ne-no-paper .ne-editor-wrap .ne-editor-wrap-content .ne-editor-wrap-box {\n  border: none;\n  box-shadow: none;\n}\n");var MH=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){this.option.isNoPaper()&&e.editorNode.classList.add("ne-no-paper")}}]),i}();m()(MH,"PluginName","paper"),m()(MH,"PluginOption",TH),FN("ne-mark {\n  display: inline;\n  text-indent: 0;\n}\nne-mark-content {\n  display: inline;\n  background-color: #fadb14;\n  padding: 0;\n  margin: 0 1px;\n}\nne-mark-content ne-text {\n  color: inherit !important;\n  background: none!important;\n}\n");var LH=function(e){u()(i,Wk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=eC.createElement("ne-mark"),this._contentNode=eC.createElement("ne-mark-content"),this._rootNode.appendChild(this._contentNode)}},{key:"$didUpdate",value:function(){}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_updateFontSize",value:function(){var e=function e(t){return null!=t&&t.length?Math.max.apply(Math,x()(t.map((function(t){return t.isFillerNode()||t.isTextNode()?t.attrs.fontsize||0:t.isElement()?e(t.children):0})))):0}(this.viewNode.children);this._contentNode.style.fontSize=0===e?"":e+"px"}}]),i}();var AH=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("mark",LH)}}]),i}();function IH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IH(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(AH,"PluginName","mark");var VH={disabledItems:[]},zH=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=jH(jH({},VH),t)}return a()(e,[{key:"disabledItems",get:function(){return this._option.disabledItems}}]),e}();m()(zH,"OptionName","miniToolbar");var UH=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_disabledItems",[]),m()(l()(e),"_filters",[]),e}return a()(i,[{key:"init",value:function(e){var t=this;this._disabledItems=x()(this.option.disabledItems),e.extendMethods({setDisabledMiniToolbarItems:function(e){t._setDisabledMiniToolbarItems(e)},addDisabledMiniToolbarItems:function(){t._addDisabledMiniToolbarItems.apply(t,arguments)},removeDisabledMiniToolbarItems:function(){t._removeDisabledMiniToolbarItems.apply(t,arguments)},getDisabledMiniToolbarItems:function(){return t._getDisabledMiniToolbarItems()},registerFilterMiniToolbarItems:function(e){t._registerFilterMiniToolbarItems(e)},getFilterMiniToolbarItems:function(e,n){return t._getFilterMiniToolbarItems(e,n)}})}},{key:"_addDisabledMiniToolbarItems",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r=this._disabledItems;t.forEach((function(e){r.includes(e)||r.push(e)})),this.iEditor.emitPluginEvent("requestRefreshToolbar")}}},{key:"_removeDisabledMiniToolbarItems",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length&&(this._disabledItems=this._disabledItems.filter((function(e){return!t.includes(e)})),this.iEditor.emitPluginEvent("requestRefreshToolbar"))}},{key:"_setDisabledMiniToolbarItems",value:function(e){this._disabledItems=e?x()(e):[],this.iEditor.emitPluginEvent("requestRefreshToolbar")}},{key:"_getDisabledMiniToolbarItems",value:function(){return x()(this._disabledItems)}},{key:"_registerFilterMiniToolbarItems",value:function(e){this._filters.push(e)}},{key:"_getFilterMiniToolbarItems",value:function(e,t){var n=[];return this._filters.some((function(r){var o=r(e,t);return!1===o||(n.push.apply(n,x()(o)),!1)})),n}}]),i}();function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(UH,"PluginName","miniToolbar"),m()(UH,"PluginOption",zH);var WH={mainTipHTML:xm("该卡片暂时无法显示"),subTipHTML:xm("请刷新页面后再试")},ZH=function(){function e(t){o()(this,e),this._option=qH(qH({},WH),t)}return a()(e,[{key:"getMainTip",value:function(){return this._option.mainTipHTML||""}},{key:"getSubTip",value:function(){return this._option.subTipHTML||""}}]),e}();m()(ZH,"OptionName","fallbackCard"),FN('.ne-engine ne-card[data-card-name="block"] .ne-fallback-block-card,\n.ne-viewer ne-card[data-card-name="block"] .ne-fallback-block-card {\n  cursor: default;\n  padding: 32px;\n  background: #fafafa;\n  border: 1px solid #d8d8d8;\n  border-radius: 4px;\n  line-height: 0;\n}\n.ne-engine ne-card[data-card-name="block"] .ne-fallback-block-card .inner-content,\n.ne-viewer ne-card[data-card-name="block"] .ne-fallback-block-card .inner-content {\n  display: flex;\n  align-items: center;\n}\n.ne-engine ne-card[data-card-name="block"] .ne-fallback-block-card .ne-fallback-img,\n.ne-viewer ne-card[data-card-name="block"] .ne-fallback-block-card .ne-fallback-img {\n  width: 32px;\n  height: 32px;\n}\n.ne-engine ne-card[data-card-name="block"] .ne-fallback-block-card .inner-tips,\n.ne-viewer ne-card[data-card-name="block"] .ne-fallback-block-card .inner-tips {\n  margin-left: 20px;\n  color: #8c8c8c;\n}\n.ne-engine ne-card[data-card-name="block"] .ne-fallback-block-card .main-tip,\n.ne-viewer ne-card[data-card-name="block"] .ne-fallback-block-card .main-tip {\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 4px;\n}\n.ne-engine ne-card[data-card-name="block"] .ne-fallback-block-card .sub-tip,\n.ne-viewer ne-card[data-card-name="block"] .ne-fallback-block-card .sub-tip {\n  font-size: 12px;\n  line-height: 17px;\n}\n');var KH=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this.cardRootNode.innerHTML='\n      <div class="ne-fallback-block-card">\n        <div class="inner-content">\n          <img src="https://gw.alipayobjects.com/zos/bmw-prod/dc01c10b-e433-4bb3-bf7e-8b679725b823.svg" class="ne-fallback-img">\n          <div class="inner-tips">\n            <div class="main-tip">'.concat(this.pluginOption.getMainTip(),'</div>\n            <div class="sub-tip">').concat(this.pluginOption.getSubTip(),"</div>\n          </div>\n        </div>\n      </div>\n    ")}}]),i}();FN('.ne-engine ne-card[data-card-name="inline"],\n.ne-viewer ne-card[data-card-name="inline"] {\n  vertical-align: middle;\n  cursor: default;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card {\n  display: inline;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .inner-content,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .inner-content {\n  display: inline;\n  align-items: center;\n  font-size: 14px;\n  line-height: 14px;\n  color: #8c8c8c;\n  padding: 0 8px;\n  position: relative;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .inner-content:HOVER .sub-tip,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .inner-content:HOVER .sub-tip {\n  left: 0;\n  opacity: 1;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .ne-fallback-img,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .ne-fallback-img {\n  width: 16px;\n  height: 16px;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .inner-tips,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .inner-tips {\n  display: inline;\n  margin-left: 6px;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .main-tip,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .main-tip {\n  display: inline;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .sub-tip,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .sub-tip {\n  opacity: 0;\n  font-size: 14px;\n  line-height: 20px;\n  padding-top: 8px;\n  position: absolute;\n  top: 100%;\n  left: -9999999px;\n  margin-left: 50%;\n  transform: translateX(-50%);\n  white-space: nowrap;\n  user-select: none;\n  transition: opacity ease 0.1s;\n}\n.ne-engine ne-card[data-card-name="inline"] .ne-fallback-inline-card .sub-tip-content,\n.ne-viewer ne-card[data-card-name="inline"] .ne-fallback-inline-card .sub-tip-content {\n  padding: 6px 8px;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.0012), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\n}\n');var $H=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this.cardRootNode.innerHTML='\n      <div class="ne-fallback-inline-card">\n        <div class="inner-content">\n          <img src="https://gw.alipayobjects.com/zos/bmw-prod/1a587ec9-10ac-4204-96f4-f259c5f6c2c7.svg" class="ne-fallback-img">\n          <div class="inner-tips">\n            <div class="main-tip">'.concat(this.pluginOption.getMainTip(),'</div>\n            <div class="sub-tip">\n              <div class="sub-tip-content">').concat(this.pluginOption.getSubTip(),"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ").replace(/\s*\n+\s*/g,"")}}]),i}();var JH=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"block",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(KH,[e].concat(n))}}),t.registerInlineCard(this,"inline",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()($H,[e].concat(n))}})}}]),i}();m()(JH,"PluginName","fallbackCard"),m()(JH,"PluginOption",ZH);var YH=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ref",Re.a.createRef()),e}return a()(i,[{key:"render",value:function(){var e=this;return Re.a.createElement("div",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(){e.props.onChange(!e.props.checked)},className:nw("ne-checkbox ant-checkbox",this.props.checked?"ant-checkbox-checked":"")},Re.a.createElement("span",{className:"ant-checkbox-inner"}))}}]),i}();m()(YH,"propTypes",{checked:De.a.bool.isRequired,onChange:De.a.func}),m()(YH,"defaultProps",{onChange:function(){}});var GH=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(YH,{checked:this.props.cardData.isChecked(),onChange:this.props.onChange})}}]),i}();m()(GH,"propTypes",{cardData:De.a.instanceOf(pk).isRequired,onChange:De.a.func}),m()(GH,"defaultProps",{onChange:function(){}});var XH=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"init",value:function(){var e=this;this.uiViewProxy=cO.render(GH,{cardData:this.cardData,onChange:function(t){e.cardData.setChecked(t),e.cardData.sync(!1)}},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}}]),i}();var QH=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),m()(l()(t),"_iEditor",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){var e;null===(e=this._ui)||void 0===e||e.destroy()}}]),i}();m()(QH,"$EditableCardUI",XH),m()(QH,"$CardData",pk),FN('ne-card[data-card-name="checkbox"] {\n  vertical-align: middle;\n  margin-top: -7px;\n}\nne-card[data-card-name="checkbox"] .ne-checkbox {\n  display: inline;\n}\n');var eq=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerInlineCard(this,"checkbox",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(QH,[e].concat(n))}})}}]),i}();function tq(e,t){return!(!rq(e)||!rq(t))&&e[0]===t[0]&&e[1]===t[1]}function nq(e,t){if(!rq(t))return[0,0];var n=e.filter((function(e){return e.length>0})),r=E()(t,2),o=r[0],i=r[1];return o>=n.length&&(o=n.length-1),i>=n[o].length&&(i=n[o].length-1),[o,i]}function rq(e){return Array.isArray(e)&&2===e.length&&e[0]>=0&&e[1]>=0}m()(eq,"PluginName","checkbox");var oq=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this,t=this.props.data,n=t.achromaticIcon,r=t.icon,o=t.iconfont,i=t.label,a=t.remind,c=void 0!==a&&a,l=t.disabled,s=void 0!==l&&l,u=n||r,d=u||o?Re.a.createElement(oE,{type:u,iconfont:o,size:18}):null;return Re.a.createElement("div",{"data-testid":this.props["data-testid"],onMouseMove:this.props.onMouseMove,onClick:function(t){return e.props.onSelect(e.props.data,t)},className:nw(this.props.className,s?"ne-ui-disabled":"")},Re.a.createElement("div",{className:"ne-ui-command-menu-item-icon"},d),Re.a.createElement("div",{className:nw("ne-ui-command-menu-item-content",c?"ne-ui-remind":"")},Re.a.createElement("div",{className:"ne-ui-command-menu-item-label"},i)))}}]),i}();m()(oq,"propTypes",{data:De.a.object.isRequired,onSelect:De.a.func,onMouseMove:De.a.func,className:De.a.string,"data-testid":De.a.string}),m()(oq,"defaultProps",{onSelect:function(){}}),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-ui-command-menu {\n  display: flex;\n  background: #fff;\n  box-shadow: 0 1px 4px -2px rgba(0, 0, 0, 0.13), 0 2px 8px 0px rgba(0, 0, 0, 0.08), 0 8px 16px 4px rgba(0, 0, 0, 0.04);\n  border-radius: 4px;\n  padding: 0;\n  overflow: hidden;\n  flex-direction: column;\n}\n.ne-ui-command-menu.ne-ui-command-menu-column-1 {\n  width: 212px;\n}\n.ne-ui-command-menu.ne-ui-command-menu-column-4 {\n  width: 750px;\n}\n.ne-ui-command-menu input {\n  width: 10px;\n  height: 10px;\n  opacity: 0;\n  position: absolute;\n}\n.ne-ui-command-menu-info {\n  display: flex;\n  align-items: center;\n  height: 36px;\n  padding: 8px 20px;\n  border-top: 1px solid #E8E8E8;\n  font-size: 12px;\n  color: #8C8C8C;\n  cursor: default;\n}\n.ne-ui-command-menu-info .ne-ui-command-menu-hotkey {\n  width: 168px;\n}\n.ne-ui-command-menu-info .ne-ui-command-menu-hotkey + .ne-ui-command-menu-md {\n  padding-left: 216px;\n}\n.ne-ui-command-menu-info .ne-ui-command-menu-hotkey-keys {\n  display: inline-block;\n  text-align: center;\n  height: 20px;\n  line-height: 20px;\n  min-width: 20px;\n  padding: 0px 4px;\n  margin-right: 4px;\n  background-color: #F5F5F5;\n  border-radius: 2px;\n}\n.ne-ui-command-menu-info .ne-ui-command-menu-md-keys {\n  color: #25B864;\n  margin-right: 0.5em;\n}\n.ne-ui-command-menu-info .ne-ui-command-menu-md-trigger {\n  color: #262626;\n}\n.ne-ui-command-menu-scrollable {\n  overflow-y: auto;\n  scroll-behavior: smooth;\n  scrollbar-color: #E8E8E8 transparent;\n}\n.ne-ui-command-menu-column-1 .ne-ui-command-menu-scrollable {\n  max-height: 270px;\n}\n.ne-ui-command-menu-column-4 .ne-ui-command-menu-scrollable {\n  max-height: 202px;\n}\n.ne-ui-command-menu-scrollable::-webkit-scrollbar {\n  background: transparent;\n}\n.ne-ui-command-menu-scrollable::-webkit-scrollbar-thumb {\n  background: #E8E8E8;\n  border-radius: 15px;\n  border: 4.5px solid transparent;\n  background-clip: content-box;\n  width: 4px;\n}\n.ne-ui-command-menu-content {\n  display: flex;\n  padding: 15px 12px;\n  flex: 1;\n  min-height: 1px;\n  flex-direction: row;\n}\n.ne-ui-command-menu-column-4 .ne-ui-command-menu-content {\n  padding-right: 4px;\n}\n.ne-ui-command-menu-column {\n  display: flex;\n  flex: 1;\n  min-height: 1px;\n  flex-direction: column;\n  width: auto;\n  margin-left: 4px;\n}\n.ne-ui-command-menu-column:first-child {\n  margin-left: 0;\n}\n.ne-ui-command-menu-item {\n  display: flex;\n  align-items: center;\n  color: #595959;\n  padding: 0 8px;\n  cursor: pointer;\n  white-space: nowrap;\n  height: 32px;\n  border-radius: 6px;\n  margin-top: 2px;\n  line-height: 1.5;\n}\n.ne-ui-command-menu-item:first-child {\n  margin-top: 0;\n}\n.ne-ui-command-menu-item.ne-ui-selected {\n  background-color: #F5F5F5;\n}\n.ne-ui-command-menu-item.ne-ui-disabled {\n  color: #8c8c8c;\n}\n.ne-ui-command-menu-item.ne-ui-disabled .ne-ui-command-menu-item-icon {\n  opacity: 0.3;\n}\n.ne-ui-command-menu-item .ne-ui-command-menu-item-icon {\n  display: flex;\n  width: 18px;\n  height: 18px;\n  margin-right: 6px;\n}\n.ne-ui-command-menu-item .ne-ui-command-menu-item-icon .ne-icon {\n  width: 18px;\n  height: 18px;\n  background-size: 18px 18px;\n}\n.ne-ui-command-menu-item .ne-ui-command-menu-item-content {\n  font-size: 14px;\n  height: 22px;\n  line-height: 22px;\n  display: flex;\n  align-items: center;\n}\n.ne-ui-command-menu-item .ne-ui-command-menu-item-content.ne-ui-remind::after {\n  margin-left: 5px;\n  content: ' ';\n  display: block;\n  width: 12px;\n  height: 12px;\n  border: 3px solid rgba(24, 144, 255, 0.1);\n  border-radius: 100%;\n  background: #1890FF;\n  background-clip: content-box;\n}\n");var iq=[0,0],aq=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_scrollNodeRef",null),m()(l()(t),"state",{selected:iq,grids:[]}),m()(l()(t),"_fileInputRef",Re.a.createRef()),m()(l()(t),"_fileChangeHandler",(function(e,n){var r=Array.from(e.target.files);e.target.value="",r.length>0&&t.props.onSelect(n,r)})),t.state.selected=e.selectEmitter&&iq,t._scrollNodeRef=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.selectEmitter;t&&($N(this,t,"reset",(function(){e.setState({selected:iq})})),$N(this,t,"moveDown",(function(){e._selectNextPos("down")})),$N(this,t,"moveUp",(function(){e._selectNextPos("up")})),$N(this,t,"moveLeft",(function(){e._selectNextPos("left")})),$N(this,t,"moveRight",(function(){e._selectNextPos("right")})),$N(this,t,"enter",(function(){var t=e.state,n=t.grids,r=t.selected,o=E()(r,2),i=o[0],a=o[1];e._handleSelect(n[i][a])})))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.colNum,r=this.state.grids,o=this._renderColumns(r);return Re.a.createElement("div",{className:nw("ne-ui-command-menu",t,"ne-ui-command-menu-column-".concat(n)),onMouseDown:function(e){return e.preventDefault()}},this._renderFileInput(),Re.a.createElement("div",{ref:this._scrollNodeRef,className:"ne-ui-command-menu-scrollable"},Re.a.createElement("div",{className:"ne-ui-command-menu-content"},o)),Re.a.createElement("div",{className:"ne-ui-command-menu-info"},this._renderInfo()))}},{key:"_renderInfo",value:function(){var e=this.props.colNum,t=this.state,n=t.grids,r=t.selected,o=E()(r,2),i=o[0],a=o[1],c=n[i][a],l=c.hotkey,s=c.markdown,u=c.description,d=c.disabled,f=void 0!==d&&d,h=c.remark;return f&&h?h():l&&l.text?Re.a.createElement(Re.a.Fragment,null,this._renderHotkeyInfo(l.text),e>2&&this._renderMarkdownInfo(s||["-",""])):s?this._renderMarkdownInfo(s):u||void 0}},{key:"_renderHotkeyInfo",value:function(e){var t=e.split("+");return Re.a.createElement("div",{className:"ne-ui-command-menu-hotkey"},xm("快捷键")+"：",t.map((function(e){return Re.a.createElement("span",{key:e,className:"ne-ui-command-menu-hotkey-keys"},e)})))}},{key:"_renderMarkdownInfo",value:function(e){var t=E()(e,2),n=t[0],r=t[1];return Re.a.createElement("div",{className:"ne-ui-command-menu-md"},"Markdown：",Re.a.createElement("span",{className:"ne-ui-command-menu-md-keys"},n),Re.a.createElement("span",{className:"ne-ui-command-menu-md-trigger"},r))}},{key:"_selectNextPos",value:function(e){var t=this.state,n=t.grids,r=t.selected,o=function(e,t,n){var r=t,o=E()(t,2),i=o[0],a=o[1],c=e.filter((function(e){return e.length>0}));switch(n){case"up":a>0?r=[i,a-1]:i>0&&(r=[i-1,c[i-1].length-1]);break;case"down":a<c[i].length-1?r=[i,a+1]:i<c.length-1&&(r=[i+1,0]);break;case"right":i<c.length-1&&(r=[i+1,Math.min(a,c[i+1].length-1)]);break;case"left":i>0&&(r=[i-1,a])}return br(rq(r),"F:helper;L:73"),r}(n,r,e);tq(o,r)||(this._scrollTo(o),this.setState({selected:o}))}},{key:"_renderFileInput",value:function(){var e=this,t=this.state,n=t.grids,r=t.selected,o=E()(r,2),i=o[0],a=o[1],c=n[i][a],l=c.type,s=c.multiple,u=c.accept,d=c.disabled;if("FileItem"===l&&!d)return Re.a.createElement("input",{ref:this._fileInputRef,multiple:s,onChange:function(t){e._fileChangeHandler(t,c)},type:"file",accept:u||"*/*"})}},{key:"_renderColumns",value:function(e){var t=this;return e.map((function(e,n){return Re.a.createElement("div",{className:"ne-ui-command-menu-column",key:"column-".concat(n)},t._renderItems(e,n))}))}},{key:"_renderItems",value:function(e,t){var n=this,r=this.state.selected;return e.map((function(e,o){return Re.a.createElement(oq,{className:nw("ne-ui-command-menu-item",tq(r,[t,o])?"ne-ui-selected":""),"data-testid":"command-item-".concat(e.name),data:e,key:"".concat(e.name,"-").concat(o),onMouseMove:function(){return n._handleMouseMove(t,o)},onFileUploadClick:n._handleUploadClick,onSelect:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n._handleSelect.apply(n,t)}})}))}},{key:"_handleMouseMove",value:function(e,t){var n=this.state.selected;e===n.col&&t===n.row||this.setState({selected:[e,t]})}},{key:"_handleSelect",value:function(e,t){e.disabled||("FileItem"===e.type?(t&&t.stopPropagation(),this._fileInputRef.current&&this._fileInputRef.current.click()):this.props.onSelect(e))}},{key:"_scrollTo",value:function(e){var t=this._scrollNodeRef.current;if(t){var n=e[1];t.scrollTop=Math.max(34*n+15-83,0)}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.commands,r=e.colNum,o=t.selected,i=function(e,t){if(Array.isArray(e[0]))return e;for(var n=Math.floor(e.length/t),r=e.length%t-1,o=[],i=0,a=0;i<t;i++){var c=i<=r?n+1:n;o.push(e.slice(a,a+=c))}return o}(n,r);return{grids:i,selected:nq(i,o)}}}]),i}();m()(aq,"propTypes",{commands:De.a.array.isRequired,className:De.a.string,onSelect:De.a.func,selectEmitter:De.a.object,overlayContainer:De.a.any,colNum:De.a.number}),m()(aq,"defaultProps",{onSelect:function(){},colNum:4});var cq=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{config:null,visible:!1}),t.state.commands=e.commands,t._menuRef=Re.a.createRef(),t}return a()(i,[{key:"updateCommands",value:function(e){this.setState({commands:e})}},{key:"componentDidMount",value:function(){this.setState({visible:!0})}},{key:"render",value:function(){var e=this;return Re.a.createElement(hE,{targetNode:this.props.targetNode,uiEmitter:this.props.uiEmitter,boundaryNode:this.props.boundaryNode,visible:this.state.visible,allowClose:!1,offset:5,placement:["bottomLeft","topLeft"],onClose:this.props.onClose,onCancel:this.props.onCancel,positionHandle:function(t,n,r){t.style.top=void 0!==r.top?r.top+"px":"auto",t.style.right=void 0!==r.right?r.right+"px":"auto",t.style.bottom=void 0!==r.bottom?r.bottom+"px":"auto";var o=e.props.targetNode.closest("ne-p");if(o){var i=o.getBoundingClientRect(),a=e.props.boundaryNode.getBoundingClientRect();t.style.left=i.x-a.x+"px"}else t.style.left=void 0!==r.left?r.left+"px":"auto"}},this._renderMenu())}},{key:"_renderMenu",value:function(){return Re.a.createElement(aq,{ref:this._menuRef,onSelect:this.props.onSelect,selectEmitter:this.props.selectEmitter,commands:this.state.commands,colNum:this.props.colNum,className:"ne-ui-slash-command-menu"})}}]),i}();m()(cq,"propTypes",{commands:De.a.array.isRequired,onSelect:De.a.func,uiEmitter:De.a.instanceOf(HC),selectEmitter:De.a.object,onClose:De.a.func,onCancel:De.a.func,targetNode:De.a.oneOfType([De.a.object,De.a.func]).isRequired,boundaryNode:De.a.object,colNum:De.a.number}),m()(cq,"defaultProps",{onSelect:function(){},onCancel:function(){}}),FN('ne-card[data-card-name="slash"] .ne-card-container {\n  white-space: nowrap;\n}\nne-card[data-card-name="slash"].ne-focused {\n  background: transparent!important;\n}\n.ne-slash-overlay {\n  z-index: 3;\n}\n.ne-ui-slash-command-view {\n  display: inline;\n  position: relative;\n}\n.ne-ui-slash-command-view .ne-ui-slash-command-input-wrap {\n  display: inline;\n  position: relative;\n  min-width: 50px;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.ne-ui-slash-command-view .ne-ui-slash-command-input-wrap .ne-ui-slash-command-hidden {\n  color: transparent;\n  padding: 0 5px;\n  min-width: 60px;\n}\n.ne-ui-slash-command-view .ne-ui-slash-command-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  border: none;\n  background: none;\n  outline: none;\n  padding: 0;\n}\n.ne-ui-slash-command-view .ne-ui-slash-command-input::placeholder {\n  color: #BFBFBF;\n}\n.ne-ui-slash-command-menu .ne-ui-card-menu-content {\n  max-height: 216px;\n  width: 750px;\n}\n');var lq=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{userInput:""}),m()(l()(e),"_rootRef",Re.a.createRef()),m()(l()(e),"_inputRef",Re.a.createRef()),m()(l()(e),"_cardSelectMenuRef",Re.a.createRef()),m()(l()(e),"_selectEmitter",new g.a),m()(l()(e),"_overlay",null),m()(l()(e),"_isCompositing",!1),m()(l()(e),"_handleCompositionStart",(function(){e._isCompositing=!0})),m()(l()(e),"_handleCompositionEnd",(function(t){e._isCompositing=!1,e._updateInput(t.target.value)})),m()(l()(e),"_keyDownHandler",(function(t){var n=t.key,r=t.keyCode;if(!e._isCompositing&&229!==r){var o=t.target.value;if(("Backspace"===n||"Delete"===n)&&""===o)return t.preventDefault(),void e.props.onCancel(null);if("Escape"!==n)return"ArrowDown"===n?(t.preventDefault(),void e._selectEmitter.emit("moveDown")):"ArrowUp"===n?(t.preventDefault(),void e._selectEmitter.emit("moveUp")):"ArrowLeft"===n?(t.preventDefault(),void e._selectEmitter.emit("moveLeft")):"ArrowRight"===n?(t.preventDefault(),void e._selectEmitter.emit("moveRight")):"Enter"===n?(t.preventDefault(),void e._selectEmitter.emit("enter")):void 0;e.props.onCancel(o)}})),m()(l()(e),"_changeHandler",(function(t){var n=t.target.value;e.setState({userInput:n}),e._isCompositing||e._updateInput(n)})),e}return a()(i,[{key:"componentWillUnmount",value:function(){this._overlay&&this._overlay.cancel()}},{key:"render",value:function(){return Re.a.createElement("div",{ref:this._rootRef,className:"ne-ui-slash-command-view"},Re.a.createElement("span",null,"/"),Re.a.createElement("div",{className:"ne-ui-slash-command-input-wrap"},Re.a.createElement("span",{className:"ne-ui-slash-command-hidden"},this.state.userInput||""),Re.a.createElement("input",{placeholder:"",ref:this._inputRef,onCompositionStart:this._handleCompositionStart,onCompositionEnd:this._handleCompositionEnd,onKeyDown:this._keyDownHandler,onChange:this._changeHandler,className:"ne-ui-slash-command-input"})))}},{key:"getUserInput",value:function(){return this._inputRef.current?this._inputRef.current.value:null}},{key:"focus",value:function(){var e=this;this.openOverlay(),this._inputRef.current?this._inputRef.current.focus():setTimeout((function(){e._inputRef.current&&e._inputRef.current.focus()}))}},{key:"openOverlay",value:function(){var e=this;this._overlay&&this._overlay.cancel(),this._overlay=tE.open({containerNode:this.props.overlayContainer,targetNode:this._rootRef.current,reactComponent:Re.a.createElement(cq,{ref:this._cardSelectMenuRef,uiEmitter:this.props.uiEmitter,commands:this.props.initConfig.displayCommands,colNum:this.props.initConfig.colNum,boundaryNode:this.props.boundaryNode,selectEmitter:this._selectEmitter,onSelect:function(){var t;e._overlay&&e._overlay.cancel(),(t=e.props).onSelect.apply(t,arguments)},onCancel:this.props.onCancel,targetNode:this._rootRef.current}),overlayClassName:"ne-slash-overlay",autoClose:!1})}},{key:"_updateInput",value:function(e){var t=this.props.initConfig,n=t.displayCommands,r=t.allCommands,o=e?function(e,t){return t.trim().toLowerCase()?new dr(e,{includeMatches:!0,includeScore:!0,distance:12,keys:["keywords","searchName"]}).search(t).filter((function(e){return e.score<=.25})).map((function(e){return e.item})):e}(r,e):n;o.length>0?this._cardSelectMenuRef.current.updateCommands(o):this.props.onCancel(e)}}]),i}();m()(lq,"propTypes",{initConfig:De.a.object.isRequired,uiEmitter:De.a.instanceOf(HC),overlayContainer:De.a.object.isRequired,boundaryNode:De.a.object,onSelect:De.a.func,onCancel:De.a.func}),m()(lq,"defaultProps",{onSelect:function(){},onCancel:function(){}});var sq=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"init",value:function(e){var t=this,n=e.displayConfig,r=e.allCommandsConfig,o=e.colNum;B()(p()(i.prototype),"init",this).call(this),this.uiViewProxy=cO.render(lq,{initConfig:{colNum:o,displayCommands:n,allCommands:r},onCancel:function(e){t.emit("cancel",e)},onSelect:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit("select",e,r,t.getUserInput())},overlayContainer:this.iEditor.innerOverlayContainer,boundaryNode:this.iEditor.scrollNode},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null,B()(p()(i.prototype),"destroy",this).call(this)}},{key:"focusInput",value:function(){this.uiViewProxy&&this.uiViewProxy.getReactRef().focus()}},{key:"getUserInput",value:function(){return this.uiViewProxy?this.uiViewProxy.getReactRef().getUserInput():null}}]),i}(),uq=function(){function e(){o()(this,e)}return a()(e,null,[{key:"execute",value:function(e,t,n,r){switch(t.type){case"TextItem":dq(e,t,n,r);break;case"TableItem":dq(e,t,{col:3,row:3});break;case"FileItem":dq(e,t,n);break;case"CommandItem":!function(e,t){var n=t.commandName,r=t.value,o=t.execute;o?o():e.queryCommandEnabled(n)&&e.execCommand(n,r)}(e,t);break;case"PageItem":break;default:console.warn("invalid slash command item type: ",t)}}}]),e}();function dq(e,t,n,r){e.emitPluginEvent("insertCardByUI",{item:t,name:t.name,args:n,inputValue:r}),e.emitPluginEvent("insertCardByUI:".concat(t.name),{item:t,name:t.name,args:n,inputValue:r})}var fq=function(e){u()(i,Yk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),m()(l()(t),"_ui",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this._iEditor.createCardUI(this,{colNum:this.pluginContext.getColNum(),displayConfig:this.pluginContext.getDisplayConfig(),allCommandsConfig:this.pluginContext.getAllCommandsConfig()}),this._ui.on("select",(function(t,n,r){e._iEditor.execCommand("deleteCard",e.viewNode.attrs.id),e._iEditor.iRenderer.focus(),uq.execute(e._iEditor,t,n,r)})),this._ui.on("cancel",(function(t){e._iEditor.execCommand("deleteCard",e.viewNode.attrs.id),e._iEditor.iRenderer.focus(),null!==t&&t&&e._iEditor.execCommand("input","/"+t)}))}},{key:"destroy",value:function(){this._ui&&(this._ui.destroy(),this._ui=null)}},{key:"$blur",value:function(){var e=this._ui.getUserInput();this._iEditor.execCommand("deleteCard",this.viewNode.attrs.id),this._iEditor.execCommand("input","/"+(e||""))}},{key:"focusInput",value:function(){this._ui&&this._ui.focusInput()}}]),i}();function hq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hq(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(fq,"$EditableCardUI",sq);var vq={general:{colNum:4,displayCommands:[[],[],[],[]]},table:{colNum:1,displayCommands:[[]]},simple:{colNum:1,displayCommands:[[]]},note:{colNum:1,displayCommands:[[]]}},mq=function(){function e(t){o()(this,e),m()(this,"_commandDefinitions",{}),m()(this,"_cardSelectDefinitions",{}),m()(this,"_option",null),m()(this,"_cardSelectConfig",{}),m()(this,"_displayConfig",{}),m()(this,"_allCommandsConfig",{}),this._option=pq(pq({},vq),t)}return a()(e,[{key:"hasType",value:function(e){return this._option[e]}},{key:"setCardSelectDefinitions",value:function(e){this._cardSelectDefinitions=e}},{key:"setCardSelectConfig",value:function(t){this._cardSelectConfig[e.TYPE_GENERAL]=this._flattenCardSelectConfig(t[e.TYPE_GENERAL]),this._cardSelectConfig[e.TYPE_TABLE]=this._flattenCardSelectConfig(t[e.TYPE_TABLE]),this._cardSelectConfig[e.TYPE_SIMPLE]=this._flattenCardSelectConfig(t[e.TYPE_SIMPLE]),this._cardSelectConfig[e.TYPE_NOTE]=this._flattenCardSelectConfig(t[e.TYPE_NOTE])}},{key:"registerCommand",value:function(e,t){var n=this._commandDefinitions;Array.isArray(t)||(t=[t]),t.forEach((function(t){var r=e;t.value&&(r+="/".concat(t.value)),n[r]=pq(pq({},t),{},{searchName:r,commandName:e,type:"CommandItem"})}))}},{key:"getColNum",value:function(t){return br(t===e.TYPE_GENERAL||t===e.TYPE_TABLE||t===e.TYPE_SIMPLE||t===e.TYPE_NOTE,"F:slash-option;L:84"),this._option[t].colNum}},{key:"getDisplayConfig",value:function(t){return br(t===e.TYPE_GENERAL||t===e.TYPE_TABLE||t===e.TYPE_SIMPLE||t===e.TYPE_NOTE,"F:slash-option;L:93"),this._displayConfig[t]||(this._displayConfig[t]=this._transformDisplayConfig(t)),this._displayConfig[t]}},{key:"getAllCommandsConfig",value:function(t){return br(t===e.TYPE_GENERAL||t===e.TYPE_TABLE||t===e.TYPE_SIMPLE||t===e.TYPE_NOTE,"F:slash-option;L:106"),this._allCommandsConfig[t]||(this._allCommandsConfig[t]=this._transformAllCommandsConfig(t)),this._allCommandsConfig[t]}},{key:"_flattenCardSelectConfig",value:function(e){var t=[];return function e(n){n.groups.forEach((function(n){n.items.forEach((function(n){"string"==typeof n?t.push(n):n.config?t=t.concat(e(n.config)):n.name&&t.push(n.name)}))}))}(e),t}},{key:"_transformDisplayConfig",value:function(e){var t=this._option[e].displayCommands,n=this._cardSelectConfig[e],r=this._commandDefinitions,o=this._cardSelectDefinitions;return t.map((function(e){return e.map((function(e){return r[e]?r[e]:n.includes(e)&&o[e]?pq({name:e},o[e]):null})).filter(Boolean)}))}},{key:"_transformAllCommandsConfig",value:function(e){var t=this._cardSelectConfig[e],n=this._commandDefinitions,r=this._cardSelectDefinitions,o=hr()(n),i=t.map((function(e){return r[e]&&!r[e].disabled?pq({name:e},r[e]):null})).filter(Boolean);return[].concat(x()(o),x()(i))}}]),e}();m()(mq,"OptionName","slash"),m()(mq,"TYPE_GENERAL","general"),m()(mq,"TYPE_TABLE","table"),m()(mq,"TYPE_SIMPLE","simple"),m()(mq,"TYPE_NOTE","note");var yq=function(){function e(t){o()(this,e),m()(this,"_plugin",null),m()(this,"_defaultContextType",mq.TYPE_GENERAL),this._plugin=t}return a()(e,[{key:"setDefaultContextType",value:function(e){this._plugin.option.hasType(e)?this._defaultContextType=e:this._defaultContextType=mq.TYPE_GENERAL}},{key:"getDisplayConfig",value:function(){return this._plugin.option.getDisplayConfig(this._getContextType())}},{key:"getAllCommandsConfig",value:function(){return this._plugin.option.getAllCommandsConfig(this._getContextType())}},{key:"getColNum",value:function(){return this._plugin.option.getColNum(this._getContextType())}},{key:"_getContextType",value:function(){var e=this._plugin.kernel.queryCommandValue("selection").firstRange.commonAncestorContainer;return zr.closest(e,Er.Table)?mq.TYPE_TABLE:this._defaultContextType}}]),e}();var gq=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_selectors",new Map),e}return a()(i,[{key:"init",value:function(e,t){var n=this,r=new yq(this);t.registerInlineCard(this,"slash",{factory:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=ut()(fq,[e].concat(r));return n._selectors.set(i.viewNode.attrs.id,i),i},pluginContext:r}),t.hasExtendMethod("registerQuickInput")&&t.registerQuickInput({trigger:"slash",atStart:!0,mustEmpty:!0},(function(){n._processQuickInput()})),t.onPluginEvent("insertSlash:hotKey",(function(e){var t=n._selectors.get(e);t&&t.focusInput()})),e.extendMethods({registerSlashCommand:function(e,t){n.option.registerCommand(e,t)}}),t.onPluginEvent("uiSwitched",(function(e){var t=e.type;r.setDefaultContextType(t)}))}},{key:"afterInit",value:function(){this.iEditor.hasExtendMethod("getCardSelectConfig")&&this.option.setCardSelectConfig(this.iEditor.getCardSelectConfig()),this.iEditor.hasExtendMethod("getCardSelectDefinitions")&&this.option.setCardSelectDefinitions(this.iEditor.getCardSelectDefinitions())}},{key:"_processQuickInput",value:function(){var e=this.iEditor.execCommand("insertSlash"),t=this._selectors.get(e);t&&setTimeout((function(){t.focusInput()}),16)}}]),i}();m()(gq,"PluginName","slash"),m()(gq,"PluginOption",mq);var bq=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this.kernel;e.hasExtendMethod("registerHotKey")&&e.registerHotKey("slash",["cmd","/"],(function(n){if(-1!==t.queryCommandState("canInsertSlash")){n.stop();var r=t.execCommand("insertSlash");e.emitPluginEvent("insertSlash:hotKey",r)}}))}}]),i}();function wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wq(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(bq,"PluginName","slash");var _q={enable:!1},kq=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=xq(xq({},_q),t)}return a()(e,[{key:"enable",get:function(){return this._option.enable}}]),e}();m()(kq,"OptionName","mobile");var Cq=["width","height","preferences","saveToResource"],Rq=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_iEditor",null),m()(l()(e),"_iKernel",null),m()(l()(e),"_toolbarAgent",null),m()(l()(e),"_editorInited",!1),m()(l()(e),"start",(function(){var t;e.iEditor.hasExtendMethod("addDisabledMiniToolbarItems")&&(t=e.iEditor).addDisabledMiniToolbarItems.apply(t,Cq),e.autoAlignBottomInMobile()})),m()(l()(e),"scrollHandler",(function(){window.scrollTo(0,0)})),e}return a()(i,[{key:"init",value:function(e){if(this.option.enable){var t=e.iKernel;this._iEditor=e,this._iKernel=t,this._initEvents()}}},{key:"_initEvents",value:function(){var e=this;this._iKernel.once("document.ready",(function(){e.start()}))}},{key:"autoAlignBottomInMobile",value:function(){var e=this,t=K()((function(){var t,n=null===(t=window.visualViewport)||void 0===t?void 0:t.height;e._iEditor.iRenderer.emitPluginEvent("mobileViewportChange",n)}),100);window.visualViewport&&(window.visualViewport.addEventListener("resize",t,!1),window.visualViewport.addEventListener("scroll",this.scrollHandler,!1),t())}},{key:"removeAllListeners",value:function(){window.visualViewport&&window.visualViewport.removeEventListener("scroll",this.scrollHandler,!1)}}]),i}();function Nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nq(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Rq,"PluginName","mobile"),m()(Rq,"PluginOption",kq);var Oq={default:null},Dq=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=Eq(Eq({},Oq),t)}return a()(e,[{key:"default",get:function(){return this._option.default}}]),e}();m()(Dq,"OptionName","uiSwitch");var Sq=function(){function e(t){o()(this,e),m()(this,"UI_TYPE",null),m()(this,"EDITOR_CLASSNAME",""),m()(this,"MINI_TOOLBAR_BLACKLIST",[]),m()(this,"OVERLAY_CLASSNAME","");var n=t.iKernel;this._iEditor=t,this._iKernel=n,this.initEvent()}return a()(e,[{key:"initEvent",value:function(){var e=this,t=this._iEditor;this._iKernel.once("document.ready",(function(){t.hasExtendMethod("registerToolbar")&&(e._toolbarAgent=t.registerToolbar(e.UI_TYPE)),e._disableMiniToolbarItems(),e.show(!0)})),t.on("enterFullscreen",(function(){e._enableMiniToolbarItems(),e.hide()})),t.on("exitFullscreen",(function(){e._disableMiniToolbarItems(),e.show()}))}},{key:"show",value:function(e){var t=this._iEditor,n=t.iRenderer;t.editorNode.classList.add(this.EDITOR_CLASSNAME),n.globalOverlayNode.classList.add(this.OVERLAY_CLASSNAME),n.emitPluginEvent("uiSwitched",{type:this.UI_TYPE,isInitSwitch:e}),this._toolbarAgent&&this._toolbarAgent.open()}},{key:"hide",value:function(){var e=this._iEditor,t=e.iRenderer;e.editorNode.classList.remove(this.EDITOR_CLASSNAME),t.globalOverlayNode.classList.remove(this.OVERLAY_CLASSNAME),t.emitPluginEvent("uiSwitched",{type:null}),this._toolbarAgent&&this._toolbarAgent.close()}},{key:"_enableMiniToolbarItems",value:function(){var e;this._iEditor.hasExtendMethod("removeDisabledMiniToolbarItems")&&(e=this._iEditor).removeDisabledMiniToolbarItems.apply(e,x()(this.MINI_TOOLBAR_BLACKLIST))}},{key:"_disableMiniToolbarItems",value:function(){var e;this._iEditor.hasExtendMethod("addDisabledMiniToolbarItems")&&(e=this._iEditor).addDisabledMiniToolbarItems.apply(e,x()(this.MINI_TOOLBAR_BLACKLIST))}}]),e}();FN(".ne-simple-ui.ne-editor {\n  display: flex;\n  flex-direction: column-reverse;\n  height: auto;\n  border-radius: 4px;\n  background-color: #FFF;\n}\n.ne-simple-ui .ne-ui {\n  position: static;\n  z-index: auto;\n}\n.ne-simple-ui .ne-ui-sidebar {\n  display: none !important;\n}\n.ne-simple-ui.ne-ui-sidebar-visible .ne-editor-wrap:after {\n  display: none;\n}\n.ne-simple-ui .ne-editor-wrap {\n  display: flex;\n  height: auto;\n  overflow: visible;\n  padding-top: 0;\n}\n.ne-simple-ui .ne-editor-wrap:before {\n  display: none;\n}\n.ne-simple-ui .ne-editor-wrap:after {\n  display: none;\n}\n.ne-simple-ui .ne-editor-wrap-box {\n  border: none;\n  box-shadow: none;\n  background: none;\n  margin-bottom: 0;\n}\n.ne-simple-ui .ne-editor-wrap-content {\n  flex: 1;\n  width: 100%;\n  min-width: auto;\n  margin: 0;\n}\n.ne-simple-ui .ne-editor-outer-wrap-box {\n  width: auto;\n  min-width: auto;\n  padding-bottom: 0;\n}\n.ne-simple-ui .ne-editor-body {\n  height: auto;\n}\n.ne-simple-ui .ne-engine {\n  padding: 8px;\n  min-height: 84px;\n}\n.ne-simple-ui .ne-engine ne-heading-anchor {\n  display: none !important;\n}\n.ne-simple-ui .ne-editor-extra-box {\n  display: none;\n}\n.ne-simple-ui .ne-ui-toolbar {\n  position: static;\n  border: none;\n  background-color: #fff;\n  justify-content: flex-start;\n  padding-left: 8px;\n  height: 32px;\n  border-radius: 4px;\n}\n.ne-simple-ui .ne-ui-inner-toolbar {\n  position: static;\n}\n.ne-simple-ui .ne-ui-toolbar-button,\n.ne-simple-ui .ne-ui-toolbar-toggle-button,\n.ne-simple-ui .ne-ui-toolbar-file-button {\n  min-width: 24px;\n  height: 24px;\n}\n.ne-simple-ui .ne-ui-toolbar-select-button {\n  height: 24px;\n  padding: 0 0 0 4px;\n  margin-right: 8px;\n}\n.ne-simple-ui .ne-ui-toolbar-fullscreen {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 3;\n  width: 30px;\n  height: 30px;\n}\n.ne-simple-ui .ne-ui-toolbar-fullscreen > .ne-icon {\n  font-size: 10px;\n}\n.ne-simple-ui .ne-ui-toolbar-fullscreen.ne-ui-toolbar-button {\n  min-width: 30px;\n  margin-right: 0;\n}\n.ne-simple-ui .ne-ui-toolbar-fullscreen.ne-ui-toolbar-button:hover {\n  background: none;\n}\n.ne-simple-ui .ne-container-toolbar {\n  display: none !important;\n}\n.ne-simple-ui .ne-engine ne-table-wrap.ne-table-focus {\n  margin-top: 0;\n}\n.ne-simple-ui .ne-engine ne-table-wrap.ne-table-focus ne-table-inner-wrap {\n  padding-top: 14px;\n}\n.ne-simple-ui .ne-engine ne-table-wrap.ne-table-focus .ne-ui-table {\n  margin-top: 0;\n}\n.ne-simple-ui .ne-engine ne-table-wrap.ne-table-focus.ne-ui-table-left-shadow:before,\n.ne-simple-ui .ne-engine ne-table-wrap.ne-table-focus.ne-ui-table-right-shadow:after {\n  margin-top: 14px;\n}\n.ne-simple-ui .ne-table-container-toolbar {\n  display: none !important;\n}\n.ne-simple-ui ne-table-hole:first-child {\n  margin-top: -14px;\n}\n.ne-overlay-with-simple-ui .ne-ui-card-select-menu,\n.ne-simple-ui .ne-ui-card-select-menu {\n  padding: 10px 0;\n}\n.ne-overlay-with-simple-ui .ne-ui-card-select-menu .ne-ui-card-menu-content,\n.ne-simple-ui .ne-ui-card-select-menu .ne-ui-card-menu-content {\n  min-width: 124px;\n}\n.ne-ui-scrollbar-visible .ne-simple-ui .ne-editor-wrap {\n  overflow-y: visible;\n}\n");var Bq=function(e){u()(i,Sq);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"UI_TYPE",WD),m()(l()(e),"EDITOR_CLASSNAME","ne-simple-ui"),m()(l()(e),"MINI_TOOLBAR_BLACKLIST",["preferences"]),m()(l()(e),"OVERLAY_CLASSNAME","ne-overlay-with-simple-ui"),e}return a()(i)}();FN(".ne-doc-note-editor {\n  position: relative;\n  z-index: 10;\n}\n.ne-doc-note-editor .ne-note-ui.ne-editor {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  border-radius: 4px;\n  background-color: #FFF;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui {\n  position: static;\n  z-index: auto;\n  margin-top: 12px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui div.ne-icon {\n  font-size: 20px;\n  margin: 6px 8px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui div.ne-icon-expand {\n  font-size: 10px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body {\n  height: auto;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap {\n  display: flex;\n  height: 100%;\n  overflow: visible;\n  padding-top: 0;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap:before {\n  display: none;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap:after {\n  display: none;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-editor-wrap-content {\n  flex: 1;\n  width: 100%;\n  max-height: calc(100vh - 270px);\n  min-height: 228px;\n  overflow: auto;\n  margin: 0;\n  min-width: auto;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-editor-outer-wrap-box,\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-editor-wrap-box,\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-editor-box,\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-engine-box {\n  height: auto;\n  min-height: 100%;\n  min-width: auto;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-editor-wrap-box {\n  border: none;\n  box-shadow: none;\n  background: none;\n  margin-bottom: 0;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-body .ne-ui-sidebar {\n  display: none !important;\n}\n.ne-doc-note-editor .ne-note-ui.ne-ui-sidebar-visible .ne-editor-wrap:after {\n  display: none;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-outer-wrap-box {\n  width: auto;\n  padding-bottom: 0;\n}\n.ne-doc-note-editor .ne-note-ui .ne-engine {\n  padding-top: 16px;\n  padding-left: 24px;\n  padding-right: 24px;\n  padding-bottom: 8px;\n  min-height: 40vh;\n  width: 100%;\n}\n.ne-doc-note-editor .ne-note-ui .ne-engine ne-heading-anchor {\n  display: none !important;\n}\n.ne-doc-note-editor .ne-note-ui .ne-editor-extra-box {\n  display: none;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar {\n  position: static;\n  border: none;\n  background-color: #fff;\n  justify-content: flex-start;\n  border-radius: 4px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar .ne-ui-inner-toolbar {\n  position: static;\n  margin-left: 8px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar .ne-ui-toolbar-button,\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar .ne-ui-toolbar-toggle-button,\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar .ne-ui-toolbar-file-button {\n  height: 32px;\n  width: 32px;\n  border-radius: 4px;\n  margin: 8px 0 8px 12px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar .ne-ui-toolbar-select-button {\n  height: 24px;\n  padding: 0 0 0 4px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar-fullscreen {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 3;\n  width: 30px;\n  height: 30px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar-fullscreen > .ne-icon {\n  font-size: 10px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar-fullscreen.ne-ui-toolbar-button {\n  min-width: 30px;\n  margin-right: 0;\n}\n.ne-doc-note-editor .ne-note-ui .ne-ui-toolbar-fullscreen.ne-ui-toolbar-button:hover {\n  background: none;\n}\n.ne-doc-note-editor .ne-note-ui .ne-container-toolbar {\n  display: none !important;\n}\n.ne-doc-note-editor .ne-note-ui .ne-engine ne-table-wrap.ne-table-focus {\n  margin-top: 0;\n}\n.ne-doc-note-editor .ne-note-ui .ne-engine ne-table-wrap.ne-table-focus ne-table-inner-wrap {\n  padding-top: 14px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-engine ne-table-wrap.ne-table-focus .ne-ui-table {\n  margin-top: 0;\n}\n.ne-doc-note-editor .ne-note-ui .ne-engine ne-table-wrap.ne-table-focus.ne-ui-table-left-shadow:before,\n.ne-doc-note-editor .ne-note-ui .ne-engine ne-table-wrap.ne-table-focus.ne-ui-table-right-shadow:after {\n  margin-top: 14px;\n}\n.ne-doc-note-editor .ne-note-ui .ne-table-container-toolbar {\n  display: none !important;\n}\n.ne-doc-note-editor .ne-note-ui ne-table-hole:first-child {\n  margin-top: -14px;\n}\n.ne-doc-note-editor.ne-ui-fullscreen {\n  position: fixed;\n  z-index: 1010;\n}\n.ne-doc-note-mobile-editor .ne-note-ui.ne-editor {\n  flex-direction: column-reverse;\n}\n.ne-doc-note-mobile-editor .ne-note-ui .ne-editor-body .ne-editor-wrap .ne-editor-wrap-content {\n  flex: 1;\n  width: 100%;\n  max-height: 100vh;\n  min-height: 100%;\n  overflow: scroll;\n  margin: 0;\n}\n.ne-doc-note-mobile-editor .ne-note-ui .ne-ui {\n  margin-bottom: 0;\n  margin-top: 0;\n  border-top: 1px solid #eee;\n  padding: 8px;\n}\n.ne-overlay-with-note-ui .ne-ui-card-menu,\n.ne-note-ui .ne-ui-card-menu {\n  padding: 10px 0;\n}\n.ne-overlay-with-note-ui .ne-ui-card-menu-content,\n.ne-note-ui .ne-ui-card-menu-content {\n  min-width: 124px;\n}\n");var Pq=function(e){u()(i,Sq);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"UI_TYPE",ZD),m()(l()(e),"EDITOR_CLASSNAME","ne-note-ui"),m()(l()(e),"MINI_TOOLBAR_BLACKLIST",["preferences","saveToResource"]),m()(l()(e),"OVERLAY_CLASSNAME","ne-overlay-with-note-ui"),e}return a()(i)}();var Fq=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e,t;o()(this,i);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_iEditor",null),m()(l()(t),"_iKernel",null),m()(l()(t),"_handlers",(m()(e={},WD,Bq),m()(e,ZD,Pq),e)),t}return a()(i,[{key:"init",value:function(e){var t=this;this.option.default&&this._handlers[this.option.default]&&new this._handlers[this.option.default](e),e.extendMethods({isMiniEditor:function(){return t.option.default===WD||t.option.default===ZD}})}}]),i}();function Tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tq(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(Fq,"PluginName","uiSwitch"),m()(Fq,"PluginOption",Dq),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.ne-bookmark-editor {\n  width: 365px;\n  padding: 16px 12px;\n  font-size: 14px;\n  border: 1px solid #E8E8E8;\n  box-shadow: rgba(221, 221, 221, 0.5) 0 1px 3px;\n  border-radius: 4px;\n  background: #fff;\n}\n.ne-bookmark-editor .ne-bookmark-editor-field,\n.ne-bookmark-editor .ne-bookmark-editor-field-title {\n  margin-bottom: 16px;\n}\n.ne-bookmark-editor .ne-bookmark-error-tip {\n  color: #CF1322;\n  margin-top: 16px;\n}\n");var Lq=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"state",{src:"",visible:!0,valid:!0}),m()(l()(t),"_srcRef",Re.a.createRef()),m()(l()(t),"_handleSrcKeyDown",(function(e){if(jE.isEscape(e))e.preventDefault(),t.props.onClose(),t.props.onCancel();else if(jE.isEnter(e)){if(e.preventDefault(),!t.state.valid)return;if(t._srcRef.current){var n=t._srcRef.current.input.value;n&&(t.props.onClose(),t.props.onConfirm(n))}}})),m()(l()(t),"_handleSrcChange",(function(e){var n=e.target.value;t.setState({src:n,valid:!n||t.props.isValidURL(n)})})),m()(l()(t),"_handleSubmit",(function(){var e;t.setState({visible:!1}),t._srcRef.current&&(e=t._srcRef.current.input.value),t.props.onClose(),e?t.props.onConfirm(e):t.props.onCancel()})),t.state=Mq(Mq({},t.state),{},{visible:e.visible,src:e.src}),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this._srcRef.current;e&&(e.focus(),e.select())}},{key:"render",value:function(){var e=this,t=this._renderEditor();return Re.a.createElement(hE,{placement:["rightBottom"],boundaryNode:this.props.boundaryNode,point:this.props.point,uiEmitter:this.props.uiEmitter,onClose:function(){e.props.onClose(),e.props.onCancel()},className:"ne-ui-overlay-bar-wrap",visible:this.state.visible},t)}},{key:"_renderEditor",value:function(){return Re.a.createElement("div",{className:"ne-link-editor"},Re.a.createElement("div",{className:"ne-link-editor-field"},Re.a.createElement("label",null,Re.a.createElement("div",{className:"ne-link-editor-field-title"},xm("链接")),Re.a.createElement(Me.a,{ref:this._srcRef,placeholder:xm("链接地址"),onKeyDown:this._handleSrcKeyDown,onChange:this._handleSrcChange,value:this._getUserSrc(this.state.src)||""})),this._renderTip()),Re.a.createElement(gt.a,{onClick:this._handleSubmit,disabled:!this.state.src||!this.state.valid},xm("确定")))}},{key:"_renderTip",value:function(){return this.state.valid?null:Re.a.createElement("div",{className:"ne-link-error-tip"},xm("请输入正确的链接"))}},{key:"_getUserSrc",value:function(e){return"about:blank"===e?void 0:e}}]),i}();m()(Lq,"propTypes",{uiEmitter:De.a.instanceOf(HC),visible:De.a.bool,src:De.a.string,allowModifyText:De.a.bool,onClose:De.a.func,onCancel:De.a.func,onConfirm:De.a.func}),m()(Lq,"defaultProps",{visible:!0,allowModifyText:!0,isValidURL:function(){return!1},onClose:function(){},onCancel:function(){},onConfirm:function(){}});var Aq=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_extends",[]),m()(l()(e),"isValidURL",(function(t){return!!e.iRenderer.iKernel.hasExtendMethod("isValidURL")&&e.iRenderer.iKernel.isValidURL(t)})),m()(l()(e),"transformURL",(function(t){return e.iRenderer.iKernel.hasExtendMethod("transformURL")?e.iRenderer.iKernel.transformURL(t):t})),e}return a()(i,[{key:"init",value:function(e){var t=this;e.onPluginEvent("insertBookmark",(function(){t._openEditor()}))}},{key:"getExtendLinkBtn",value:function(e){var t=[];return this._extends.forEach((function(n){var r=n(e);Array.isArray(r)||(r=[r]),t.push.apply(t,x()(r))})),t.filter(Boolean)}},{key:"_openEditor",value:function(){var e,t=this,n=this.iRenderer,r=null===(e=document.getSelection())||void 0===e?void 0:e.getRangeAt(0);if(r&&n.domRootNode.contains(r.startContainer)){var o=n.domRootNode.getBoundingClientRect(),i=r.getBoundingClientRect();n.domRootNode===r.startContainer&&(i=r.startContainer.childNodes[r.startOffset].getBoundingClientRect()),i.x||(i=r.startContainer.parentNode.getBoundingClientRect());var a=o.x+16,c=Math.min(window.visualViewport.height-150,i.y+20);tE.open({containerNode:n.globalOverlayNode,targetNode:n.domRootNode,reactComponent:Re.a.createElement(Lq,{uiEmitter:n.uiEmitter,boundaryNode:n.globalOverlayNode,isValidURL:this.isValidURL,point:{x:a,y:c},onCancel:function(){},onConfirm:function(e){e=t.transformURL(e),n.iKernel.execCommand("insertBookmark",{src:e,text:e})}}),closeCallback:function(){t.iRenderer.execCommand("focus")}})}}}]),i}();m()(Aq,"PluginName","bookmark");var Iq={bottomDistance:0,minFrame:25,triggerCommands:["breakLine","insertCard"]},jq=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Iq,t)}return a()(e,[{key:"bottomDistance",get:function(){return this._option.bottomDistance}},{key:"minFrame",get:function(){return this._option.minFrame}},{key:"triggerCommands",get:function(){return this._option.triggerCommands}}]),e}();m()(jq,"OptionName","typeWriter");var Vq=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_bottomDistance",null),e}return a()(i,[{key:"init",value:function(e,t){var n=this;this._bottomDistance=this.option.bottomDistance,!this._bottomDistance||this._bottomDistance<=0||(this.kernel.iEditing.on("afterExecCommand",(function(e){var t=e.commandName;n.option.triggerCommands.includes(t)&&n._processTypeWriter()})),t.onRootNode("keydown",(function(e){jE.isArrowDown(e)&&n._processTypeWriter()}),!1))}},{key:"_processTypeWriter",value:function(){var e=document.getSelection();if(!(e.rangeCount<1)){var t=e.getRangeAt(0),n=pO.getRangeRect(t);if(n){var r=n.bottom,o=this.iEditor.editorWrapNode,i=o.getBoundingClientRect().bottom-r,a=this._bottomDistance-i;a>=this.option.minFrame&&(o.scrollTop+=a)}}}}]),i}();m()(Vq,"PluginName","typeWriter"),m()(Vq,"PluginOption",jq);var zq=function(){function e(t,n){o()(this,e),m()(this,"_type",null),m()(this,"_content",null),this._type=t,this._content=n}return a()(e,[{key:"getType",value:function(){return this._type}},{key:"getContent",value:function(){return this._content}}]),e}(),Uq={requestBooksURL:"",requestResourceURL:"",searchURL:"",getImagePreviewURL:null,imagePreviewURLPrefix:"",breadsLevel:2,createRepositoryHandler:null},Hq=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},Uq,t)}return a()(e,[{key:"requestBooksURL",get:function(){return this._option.requestBooksURL}},{key:"requestResourceURL",get:function(){return this._option.requestResourceURL}},{key:"searchURL",get:function(){return this._option.searchURL}},{key:"breadsLevel",get:function(){return this._option.breadsLevel}},{key:"createRepositoryHandler",value:function(){this._option.createRepositoryHandler()}},{key:"getImagePreviewUrl",value:function(e){return this._option.getImagePreviewUrl?this._option.getImagePreviewURL(e):"".concat(this._option.imagePreviewURLPrefix,"/").concat(e,"?redirect=true")}}]),e}(),qq={component:null},Wq=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},qq,t,{repository:new Hq(t.repository)})}return a()(e,[{key:"component",get:function(){return this._option.component}},{key:"repository",get:function(){return this._option.repository}}]),e}();m()(Wq,"OptionName","materialLibrary"),FN(".ne-ui-toolbar-material-library {\n  padding: 0 8px;\n}\n");var Zq=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(){this.pluginContext.toggleSidebar(),this.emit("statechange")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"t-material-library",className:"ne-ui-toolbar-material-library",checked:!1,tooltip:xm("素材库")}}},{key:"getUIState",value:function(){return{disabled:this.disabled||!this.iEditor.queryCommandEnabled("replaceTransferFile"),checked:this.pluginContext.isVisible()}}}]),i}();m()(Zq,"Type","StatusButton"),FN(".ne-sidebar-material-library {\n  display: flex;\n  position: relative;\n  height: 100%;\n  padding-top: 16px;\n  margin-left: 16px;\n  margin-right: 16px;\n}\n.ne-sidebar-material-library-close {\n  position: absolute;\n  top: 16px;\n  right: 0;\n  cursor: pointer;\n  z-index: 2;\n  display: flex;\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n}\n.ne-sidebar-material-library-close:hover {\n  background-color: #e8e8e8;\n}\n.ne-sidebar-material-library-main {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n}\n");var Kq=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"handleClose",(function(){e.props.onClose()})),e}return a()(i,[{key:"render",value:function(){var e=this.props.component;return Re.a.createElement("div",{className:"ne-sidebar-material-library"},Re.a.createElement("div",{className:"ne-sidebar-material-library-close",onClick:this.handleClose},Re.a.createElement(oE,{type:"close"})),Re.a.createElement("div",{className:"ne-sidebar-material-library-main"},Re.a.createElement(e.type,Ee()({},e.props,{repository:this.props.repository,note:this.props.note}),e.props.children)))}}]),i}();m()(Kq,"propTypes",{component:De.a.element,onClose:De.a.func,repository:De.a.object,note:De.a.object});var $q=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getInitProps",value:function(){}},{key:"afterInit",value:function(){}},{key:"updateProps",value:function(e){}}]),i}();var Jq=function(e){u()(i,$q);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),m()(l()(t),"getInitProps",(function(){return{loadingStatus:"",loadingAction:"",loadingError:null,breadsLevel:t._option.breadsLevel,books:null,files:null,searchResult:null,getImageUrl:function(e){return t._option.getImagePreviewUrl(e)},getCompressImageUrl:ZP,onQueryBooks:function(){t.queryBooks()},onSelectFolder:function(e){t.queryResource(e)},onSelectFile:function(e){t.emit("insertFile",e)},onSearch:function(e){t.search(e)},onBackToSearchResult:function(){t.updateProps({files:null})},onGotoRoot:function(){t.updateProps({files:null,searchResult:null})},onCreateRepository:function(){t._option.createRepositoryHandler()}}})),m()(l()(t),"updateProps",(function(e){t.emit("updateProps",e)})),m()(l()(t),"afterInit",(function(){t.queryBooks()})),m()(l()(t),"loadingWrapper",function(){var e=xe()(ke.a.mark((function e(n){var r,o,i,a,c;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.loadingAction,o=n.exec,i=n.error,a=n.done,t.updateProps({loadingStatus:"loading",loadingAction:r,loadingError:null}),c=null,e.prev=3,e.next=6,o();case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),i&&i(),c=e.t0,je.b.error(xm("不能获取资源文件"));case 13:return e.prev=13,t.updateProps({loadingStatus:"done",loadingAction:r,loadingError:c}),e.finish(13);case 16:a&&a();case 17:case"end":return e.stop()}}),e,null,[[3,8,13,16]])})));return function(t){return e.apply(this,arguments)}}()),m()(l()(t),"requestBooks",(function(){return new Promise((function(e,n){_P({url:t._option.requestBooksURL,method:"GET",data:{type:"Resource",filterByAbility:"download"},success:function(t){e(t.data)},error:function(e){n(e)}})}))})),m()(l()(t),"queryBooks",(function(){var e;t.loadingWrapper({loadingAction:"books",exec:(e=xe()(ke.a.mark((function e(){var n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestBooks();case 2:n=e.sent,t.updateProps({books:n,files:null,searchResult:null});case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})})),m()(l()(t),"requestResource",(function(e){var n,r=e.folder,o=e.book,i={book_id:null!==(n=null==r?void 0:r.book_id)&&void 0!==n?n:null==o?void 0:o.id};return r&&(i.parent_id=r.id),new Promise((function(e,n){_P({url:t._option.requestResourceURL,method:"GET",data:i,success:function(t){e(t.data)},error:function(e){n(e)}})}))})),m()(l()(t),"queryResource",(function(e){var n;t.loadingWrapper({loadingAction:"resource",exec:(n=xe()(ke.a.mark((function n(){var r;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.requestResource(e);case 2:r=n.sent,t.updateProps({files:r});case 4:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})})})),m()(l()(t),"requestSearch",(function(e){var n=e.searchText,r=e.bookIds;return new Promise((function(e,o){_P({url:t._option.searchURL,method:"GET",data:{book_ids:r,query:n},success:function(t){e(t.data)},error:function(e){o(e)}})}))})),m()(l()(t),"search",(function(e){var n;t.loadingWrapper({loadingAction:"search",exec:(n=xe()(ke.a.mark((function n(){var r;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.requestSearch(e);case 2:r=n.sent,t.updateProps({searchResult:r,files:null});case 4:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})})})),t._option=e,t}return a()(i)}();var Yq=function(e){u()(i,$q);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_option",null),m()(l()(t),"insertDocument",(function(e,n){t.emit("insertDocument",e,n)})),t._option=e,t}return a()(i,[{key:"getInitProps",value:function(){return{onInsertDocument:this.insertDocument}}}]),i}();function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gq(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qq=function(e){u()(i,fF);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_iEditor",null),m()(l()(n),"_plugin",null),m()(l()(n),"_repositoryContext",null),m()(l()(n),"_repositoryProps",null),m()(l()(n),"_noteContext",null),m()(l()(n),"_noteProps",null),m()(l()(n),"updateProps",(function(e){var t;null===(t=n._uiViewProxy)||void 0===t||t.rerender(e)})),m()(l()(n),"updateRepositoryProps",(function(e){n._repositoryProps=Xq(Xq({},n._repositoryProps),e),n.updateProps({repository:n._repositoryProps})})),m()(l()(n),"updateNoteProps",(function(e){n._noteProps=Xq(Xq({},n._noteProps),e),n.updateProps({note:n._noteProps})})),n._iEditor=e,n._plugin=t,n._repositoryContext=new Jq(n._plugin.option.repository),n._repositoryProps=n._repositoryContext.getInitProps(),n._noteContext=new Yq(n._plugin.option.note),n._noteProps=n._noteContext.getInitProps(),n}return a()(i,[{key:"init",value:function(){var e=this;this._uiViewProxy=XN.render(Kq,{component:this._plugin.option.component,onClose:function(){e.close()},repository:this._repositoryProps,note:this._noteProps},this.sidebarRootNode),this._repositoryContext.on("updateProps",this.updateRepositoryProps),this._repositoryContext.on("insertFile",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["insertFile"].concat(n))})),this._repositoryContext.afterInit(),this._noteContext.on("updateProps",this.updateNoteProps),this._noteContext.on("insertDocument",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["insertDocument"].concat(n))})),this._noteContext.afterInit()}},{key:"destroy",value:function(){this._uiViewProxy&&(this._uiViewProxy.destroy(),this._uiViewProxy=null),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isPermanent",value:function(){return!0}}]),i}();var eW=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_insertFile",(function(t){FU.transferFiles(e.iEditor,[t]).forEach((function(n){e.iEditor.execCommand("insertCard",Fb,U_.getInitCardValue(t,n),!1)}))})),m()(l()(e),"_insertDocument",(function(t,n){e.iEditor.execCommand("insertDocument",new zq(t,n))})),e}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("materialLibrary",{clazz:Zq,pluginContext:this}),e.extendMethods({saveToResource:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emitEvent.apply(e,["saveToResource"].concat(n))}})}},{key:"openSidebar",value:function(){var e=this;this.closeSidebar(),this.iEditor.hasExtend("sidebar")&&(this._sidebarDescriptor=new Qq(this.iEditor,this),this.iEditor.sidebar.open(this._sidebarDescriptor),this._sidebarDescriptor.on("close",(function(){e._sidebarDescriptor=null})),this._sidebarDescriptor.on("insertFile",this._insertFile),this._sidebarDescriptor.on("insertDocument",this._insertDocument))}},{key:"closeSidebar",value:function(){this._sidebarDescriptor&&(this._sidebarDescriptor.close(),this._sidebarDescriptor=null)}},{key:"toggleSidebar",value:function(){this.isVisible()?this.closeSidebar():this.openSidebar()}},{key:"isVisible",value:function(){return!!this._sidebarDescriptor}}]),i}();m()(eW,"PluginName","materialLibrary"),m()(eW,"PluginOption",Wq);var tW=function(e){u()(i,Uk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"onEvent",value:function(){this.iEditor.emitEvent("noteTagClick")}},{key:"getInitUIState",value:function(){return{disabled:this.disabled,icon:"note-tag",tooltip:Uk.getTooltip(this.iEditor,xm("标签"),"tag")}}},{key:"getUIState",value:function(){return{disabled:this.disabled}}}]),i}();m()(tW,"Type","Button");var nW=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.hasExtendMethod("registerToolbarWidget")&&e.registerToolbarWidget("note-tag",tW)}}]),i}();m()(nW,"PluginName","note");var rW=function(){function e(t){o()(this,e),this.iEditor=t,this.tasks=[]}return a()(e,[{key:"isCompleted",value:function(){var e=this.tasks;return this.tasks=e.filter((function(e){return!e.isCompleted()})),0===this.tasks.length}},{key:"image",value:function(e){var t=this.iEditor,n=this.tasks,r=IB.uploadImageByFile(t,[e])[0];return n.push(r),new Promise((function(e){r.on("success",(function(t){t&&t.url?e(t.url):e()})),r.on("error",(function(){e()}))}))}}]),e}();FN('/* stylelint-disable */\n.ne-eidtor-card-lake-diagram-editor {\n  height: 100%;\n  overflow: hidden;\n}\n.ne-eidtor-card-lake-diagram-editor .lake-diagram-board-toolbar {\n  display: none;\n}\nne-card[data-card-name="board"].ne-focused .ne-eidtor-card-lake-diagram-editor .lake-diagram-board-toolbar {\n  display: flex;\n}\n');var oW=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.uploader,n=e.onLoad,r=e.isMaxmized,o=e.onMaximize;return Re.a.createElement("div",{className:"ne-eidtor-card-lake-diagram-editor","data-testid":"ne-card-lake-diagram-board"},Re.a.createElement(vr.a,{uploader:t,onLoad:n,mini:!r,onMaximize:o}))}}]),i}();m()(oW,"propTypes",{uploader:De.a.object.isRequired,onLoad:De.a.func,onMaximize:De.a.func,isMaxmized:De.a.bool});var iW={concise:!0},aW=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),e}return a()(i,[{key:"getCardToolbarConfig",value:function(){return["widthMode",{name:"maximize",option:{concise:!0}}]}},{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink",{name:"downloadDiagram",type:"item",icon:"card-tb-download",text:xm("下载"),onClick:function(e,t){t.engine.diagram.exporter.download("jpg")}},"|",{name:"maximize",option:iW},"widthMode","|","spacing"]}}},{key:"getCardMaskConfig",value:function(){return!0}},{key:"getResizerConfig",value:function(){return{min:100}}},{key:"init",value:function(){var e=this,t=this.cardNode.uploader;this.uiViewProxy=cO.render(oW,{uploader:t,onLoad:function(t){e.engine=t,e.emit("onload",t)},isMaxmized:!1,onMaximize:function(){e.enterMaxView(iW)},focus:!1},this.containerNode),this._cacheViewportSetting=K()((function(t){var n=e.engine.diagram;if(n&&!n.destroyed)if(t){var r=e.maximizedViewportSetting;r?n.viewport.set(r):n.viewport.autoFit()}else{var o=e.inDocCardViewportSetting;o&&n.viewport.set(o)}}),32)}},{key:"afterMaximizeChanged",value:function(e){this.uiViewProxy.rerender({isMaxmized:e}),this._cacheViewportSetting(e)}},{key:"beforeMaximizeChanged",value:function(e){var t=this.engine.diagram;e?this.inDocCardViewportSetting=t.viewport.toObject():this.maximizedViewportSetting=t.viewport.toObject()}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"focus",value:function(){this.uiViewProxy.rerender({focus:!0})}},{key:"blur",value:function(){this.uiViewProxy.rerender({focus:!1})}}]),i}();var cW=K()((function(e){if(e){var t=e.diagram;t&&!t.destroyed&&t.selector.select(t.getCells().find((function(e){return e.isStem})))}})),lW=K()((function(e){if(e){var t=e.diagram;t&&!t.destroyed&&t.viewport.focusGraphicCenter()}})),sW=function(e){u()(c,Gk);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t){var n;o()(this,c);for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];return n=i.call.apply(i,[this].concat(a)),m()(l()(n),"ui",null),m()(l()(n),"_iEditor",null),n._iEditor=e,n.uploader=t,n}return a()(c,[{key:"init",value:function(){var e=this._iEditor.createCardUI(this);this.ui=e,this.eventHelper=new pr.o.Event,this._bindEvent()}},{key:"destroy",value:function(){this.saveCardData(),this.ui.destroy(),this.eventHelper.destroy(),this.ui=null,this.eventHelper=null}},{key:"focusGraphicCenter",value:function(){var e=this.engine;lW(e)}},{key:"selectFirstRoot",value:function(){var e=this.engine;cW(e)}},{key:"_bindEvent",value:function(){var e=this,t=this.eventHelper,n=this.cardData,r=this.ui;t.unbind();var o=K()((function(){var t=e.widthModeRootGroupBoxCache,n=e.engine.diagram;if(!n.destroyed){var r=n.rootGroup.getBoundingClientRect();n.viewport.translate(r.x-t.x),n.viewportContainer.style.visibility="visible"}}),16);t.bind(n,"widthModeChange",(function(t){e.engine.diagram.viewportContainer.style.visibility="hidden",o(t)})),t.bind(n,"change",(function(t){var r=e.engine;if(!t&&r){var o=r.diagram;if(o){var i=n.get("diagramData"),a=n.get("viewportSetting");o.clear(),i&&o.import(i),a&&o.viewport.set(a)}}})),t.bind(r,"onload",(function(r){var o=r.diagram;e.engine=r;var i=n.get("diagramData"),a=n.get("viewportSetting");r.setValue({diagramData:i,viewportSetting:a}),t.bind(o,"aftercommandexecute",(function(t){t.isModelChange&&(e.canSync=!0,e.shouldUploadCDNImage=!0,e.saveCardData(),n.sync(!1))})),t.bind(o,"afterviewportchange",(function(){e.canSync=!0})),t.bind(o,"afterviewportchange",K()((function(){e.widthModeRootGroupBoxCache=o.rootGroup.getBoundingClientRect()}),16))}))}},{key:"_uploadCDNImage",value:(t=xe()(ke.a.mark((function e(){var t,n,r,o,i,a,c;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.uploader,n=this.engine,r=this.cardData,o=n.diagram,e.next=4,o.exporter.blob();case 4:return i=e.sent,a=new File([i],"yuque_mind.jpeg"),e.next=8,t.image(a);case 8:(c=e.sent)&&r.set("src",c);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"uploadCDNImage",value:function(){this.shouldUploadCDNImage&&(this.shouldUploadCDNImage=!1,this._uploadCDNImage())}},{key:"saveCardData",value:function(){var e=this.engine,t=this.cardData,n=e.getValue();t.set("viewportSetting",n.viewportSetting),t.set("diagramData",n.diagramData),t.set("search",n.text)}},{key:"sync",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.cardData,n=this.canSync;n&&(this.saveCardData(),t.sync(e),this.canSync=!1)}},{key:"$focus",value:function(){B()(p()(c.prototype),"$focus",this).call(this),this.uploadCDNImage()}}]),c}();function uW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uW(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(sW,"$EditableCardUI",aW),m()(sW,"$CardData",_k),m()(sW,"DiagramPropertyComponent",null);var fW={diagramData:{body:[dW(dW({id:"4a749c6b"},pr.j.MINDMAP_ROOT_TEMPLATE),{},{children:[{id:"8308b1b9",html:xm("新建节点"),treeEdge:{stroke:"#A287E1"}},{id:"06492f3c",html:xm("新建节点"),treeEdge:{stroke:"#6F81DB"}},{id:"fc4c524c",html:xm("新建节点"),treeEdge:{stroke:"#6EC4C4"}}]})]}},hW={diagramData:{head:{version:"2.0.0"},body:[{type:"geometry",html:'<div style="text-align:center;">'.concat(xm("开始"),"</div>"),shape:"start-end",id:"d6d7a548-eb8c-42ec-afff-8bb09fc83da8",x:-973,y:614,width:120,height:60,zIndex:0},{type:"line",shape:"elbow",source:{id:"d6d7a548-eb8c-42ec-afff-8bb09fc83da8",connection:"E"},target:{marker:"arrow",id:"da786205-03a3-4aa6-a296-32b9eca716b3"},id:"1443e91a-0426-477c-be8b-d48aaaeebe4c",zIndex:1},{type:"geometry",shape:"process",x:-798,y:614,html:'<div style="text-align:center;">'.concat(xm("过程"),"</div>"),id:"da786205-03a3-4aa6-a296-32b9eca716b3",width:120,height:60,zIndex:2},{type:"line",shape:"elbow",source:{id:"da786205-03a3-4aa6-a296-32b9eca716b3",connection:"S"},target:{marker:"arrow",id:"f5285045-2d4f-4e4a-a35d-dc4648a04706"},id:"8c531b2d-9ea9-4f3e-8e9d-4e1eaaccb421",zIndex:3},{type:"geometry",shape:"decision",x:-818,y:729,html:'<div style="text-align:center;">'.concat(xm("过程"),"</div>"),id:"f5285045-2d4f-4e4a-a35d-dc4648a04706",width:160,height:80,zIndex:4},{type:"line",shape:"elbow",source:{id:"f5285045-2d4f-4e4a-a35d-dc4648a04706",connection:"E"},target:{marker:"arrow",id:"7a802e06-bd17-46dd-b298-056a37c420b4"},id:"525d7e6e-6bb5-4c3d-bf77-15641b84a5fb",html:'<div style="text-align:center;">'.concat(xm("否"),"</div>"),zIndex:5},{type:"geometry",shape:"process",x:-583,y:739,html:'<div style="text-align:center;">'.concat(xm("过程"),"</div>"),id:"7a802e06-bd17-46dd-b298-056a37c420b4",width:120,height:60,zIndex:6},{type:"line",shape:"elbow",source:{id:"f5285045-2d4f-4e4a-a35d-dc4648a04706",connection:"S"},target:{marker:"arrow",id:"df052952-8ba1-4efd-bb8d-46a40c2dd16f"},id:"658d68c8-7e2e-42f1-b8a6-1d1adcbecafd",html:'<div style="text-align:center;">'.concat(xm("是"),"</div>"),zIndex:7},{type:"geometry",shape:"start-end",x:-798,y:904,html:'<div style="text-align:center;">'.concat(xm("结束"),"</div>"),id:"df052952-8ba1-4efd-bb8d-46a40c2dd16f",width:120,height:60,zIndex:8},{type:"line",shape:"elbow",source:{id:"7a802e06-bd17-46dd-b298-056a37c420b4",connection:"S"},target:{connection:"E",marker:"arrow",id:"df052952-8ba1-4efd-bb8d-46a40c2dd16f"},id:"1d544991-4e4b-47a7-81fe-5b13dc77866f",zIndex:9}]}};FN('.ne-engine .selection-transparent::selection {\n  background-color: transparent !important;\n}\n.ne-engine ne-card.ne-focused .selection-transparent::selection {\n  background-color: transparent !important;\n}\n.ne-engine .selection-transparent ::selection {\n  background-color: transparent !important;\n}\n.ne-engine ne-card.ne-focused .selection-transparent ::selection {\n  background-color: transparent !important;\n}\nne-card[data-card-name="board"] {\n  user-select: text;\n}\nne-card[data-card-name="board"] {\n  border: 1px solid transparent;\n}\nne-card[data-card-name="board"] [contenteditable=true] {\n  display: none;\n}\nne-card[data-card-name="board"].ne-focused [contenteditable=true] {\n  display: block;\n}\nne-card[data-card-name="board"] .ne-card-container {\n  height: 460px;\n}\n');var pW=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_diagramCardNodes",new Map),e}return a()(i,[{key:"init",value:function(e,t){var n=this,r=new rW(e);this.uploader=r,t.registerBlockCard(this,"board",{factory:function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=ut()(sW,[e,r].concat(o));return n._diagramCardNodes.set(a.id,a),a}}),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("boardMenu",{type:"SubMenu",icon:"card-board",iconSize:16,label:xm("画板")}),["blank-board","mindmap","flowchart"].forEach((function(t){if(e.hasExtendMethod("registerCardSelect")){var r={type:"TextItem",icon:"card-".concat(t)};switch(t){case"blank-board":Object.assign(r,{label:xm("空白画板"),iconSize:16,keywords:"kongbaihuaban,kbhb,hb,huaban,board,jichuhuitu,jcht,ht,画板,基础绘图,空白画板"});break;case"mindmap":Object.assign(r,{label:xm("思维导图"),iconSize:16,keywords:"nt,dt,swnt,siweinaotu,siweidaotu,swdt,mindmap,脑图,思维导图"});break;case"flowchart":Object.assign(r,{label:xm("流程图"),iconSize:16,keywords:"lct,liuchengtu,flowchart,流程图"})}e.registerCardSelect(t,r)}e.onPluginEvent("insertCardByUI:".concat(t),(function(){var r;switch(t){case"blank-board":r=null;break;case"mindmap":r=fW;break;case"flowchart":r=hW}var o=e.execCommand("insertCard","board",r,!0),i=n._diagramCardNodes.get(o);i&&(i.focusGraphicCenter(),"mindmap"===t&&i.selectFirstRoot())}))}))}},{key:"sync",value:function(){var e=this.uploader,t=this.cardNodes,n=e.isCompleted();if(n)for(var r=0;r<t.length;r++){var o=t[r];if(o.shouldUploadCDNImage){o.uploadCDNImage(),n=!1;break}o.sync()}return n}}]),i}();function vW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vW(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(pW,"PluginName","board");var yW={title:xm("阅读后请点击打卡"),buttonText:xm("我已读"),enableDeadline:!1,deadline:void 0},gW=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getTitle",value:function(){return this._cardValue.title}},{key:"setTitle",value:function(e){this._cardValue.title=e}},{key:"getButtonText",value:function(){return this._cardValue.buttonText}},{key:"setButtonText",value:function(e){this._cardValue.buttonText=e}},{key:"getEnableDeadline",value:function(){return this._cardValue.enableDeadline}},{key:"setEnableDeadline",value:function(e){this._cardValue.enableDeadline=e}},{key:"getDeadline",value:function(){return this._cardValue.deadline}},{key:"setDeadline",value:function(e){this._cardValue.deadline=e}}],[{key:"getInitCardValue",value:function(){return Dv.setCardSpacingToValue("both",mW({},yW))}},{key:"fromLake",value:function(e){return mW(mW({},yW),e)}},{key:"toLake",value:function(e){return e}}]),i}();m()(gW,"DefaultCardValue",yW);var bW=function(e){u()(i,Ul);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"read",value:function(e,t,n,r){var o=Mo.createCard("checkIn",gW.fromLake(n),r);e.setNode(o)}}]),i}();var wW=function(e){u()(i,xc);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(wW,"CardName","checkIn");var xW=function(e){u()(i,os);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"write",value:function(e,t,n,r){var o=e.createBlockCard("checkIn",gW.toLake(n),r);e.setNode(o)}}]),i}();var _W=function(e){u()(i,vu);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_currentUrl",""),t._currentUrl=e,t}return a()(i,[{key:"write",value:function(e,t){var n=t.id,r=Nv(this._currentUrl,n),o=e.createElement("div",{className:"ne-check-in"}),i=e.createElement("a",{attrs:{href:r}});e.appendChild(i,e.createTextNode(r)),e.appendChild(o,e.createTextNode("此处为语雀打卡卡片，点击链接查看：")),e.appendChild(o,i),e.setNode(o)}}]),i}();var kW=function(e){u()(i,Ua);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(i.cardName),e.hasExtendMethod("registerLakeCardReader")&&e.registerLakeCardReader(i.cardName,new bW),e.hasExtendMethod("registerINodeCardReader")&&e.registerINodeCardReader(wW.CardName,new wW),e.hasExtendMethod("registerLakeCardWriter")&&e.registerLakeCardWriter(i.cardName,new xW),e.hasExtendMethod("registerNodeHTMLWriter")&&e.registerNodeHTMLWriter(i.cardName,new _W(e.option.currentURL))}}]),i}();m()(kW,"PluginName","checkIn"),m()(kW,"cardName","checkIn"),FN('ne-card[data-card-name="checkIn"] .ne-card-container {\n  background: #fafafa;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable {\n  display: flex;\n  align-items: center;\n  padding: 29px 40px 29px 24px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-content {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-content-title {\n  display: flex;\n  align-items: center;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-content-title-icon {\n  display: flex;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-content-title-text {\n  font-size: 16px;\n  color: #262626;\n  padding: 0 12px;\n  font-weight: 500;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-content-deadline {\n  margin-top: 12px;\n  font-size: 14px;\n  color: #595959;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-content-deadline-expired {\n  margin-left: 8px;\n  color: #f5222d;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-readable-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  padding: 0 16px;\n  font-size: 14px;\n  border-radius: 4px;\n  background-color: #096dd9;\n  color: #fff;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable {\n  padding-top: 16px;\n  padding-bottom: 16px;\n  background-color: #fafafa;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-label {\n  padding-left: 20px;\n  margin-bottom: 16px;\n  font-size: 14px;\n  font-weight: 500;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item {\n  display: flex;\n  margin-bottom: 16px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-name {\n  flex: 0 0 150px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  font-size: 14px;\n  padding-right: 12px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content {\n  flex: 1;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content-input-title {\n  width: 440px;\n  height: 40px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content-input-button {\n  width: 220px;\n  height: 40px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content-enable {\n  display: flex;\n  align-items: center;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content-enable-tip {\n  margin-left: 6px;\n  cursor: pointer;\n  color: #8c8c8c;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content-datepicker {\n  margin-top: 12px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-item-content-datepicker-deadline {\n  width: 220px;\n  height: 40px;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-footer {\n  border-top: 1px solid #e8e8e8;\n  padding-right: 16px;\n  padding-top: 16px;\n  text-align: right;\n}\nne-card[data-card-name="checkIn"] .ne-card-check-in-status-editable-footer button {\n  margin-left: 8px;\n}\n');var CW=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"getClassName",zj(i.prefix)),m()(l()(t),"syncCardDataToViewState",(function(){var e=t.props.cardData;t.setState({title:e.getTitle(),buttonText:e.getButtonText(),enableDeadline:e.getEnableDeadline(),deadline:e.getDeadline()})})),m()(l()(t),"isExpired",(function(){var e=t.props.cardData.getDeadline();return+new Date(e)<=+new Date})),m()(l()(t),"onChangeTitle",(function(e){t.setState({title:e.target.value})})),m()(l()(t),"onChangeButtonText",(function(e){t.setState({buttonText:e.target.value})})),m()(l()(t),"toggleEnableDeadline",(function(){t.onChangeEnableDeadline(!t.state.enableDeadline)})),m()(l()(t),"onChangeEnableDeadline",(function(e){var n={enableDeadline:e};e&&!t.state.deadline&&(n.deadline=ie()().add(1,"day").toISOString()),t.setState(n)})),m()(l()(t),"onChangeDeadline",(function(e){t.setState({deadline:e.toISOString()})})),m()(l()(t),"onCancel",(function(){var e,n;null===(e=(n=t.props).onCancel)||void 0===e||e.call(n)})),m()(l()(t),"onSave",(function(){var e,n;null===(e=(n=t.props).onSave)||void 0===e||e.call(n,{title:t.state.title,buttonText:t.state.buttonText,enableDeadline:t.state.enableDeadline,deadline:t.state.deadline})})),m()(l()(t),"onEnterEditStatus",(function(){t.props.onEnterEditStatus()})),m()(l()(t),"renderReadable",(function(){var e,n,r=t.props.cardData,o=r.getTitle(),a=r.getButtonText(),c=r.getEnableDeadline(),l=r.getDeadline(),s=zj("".concat(i.prefix,"-status-readable"));return Re.a.createElement("div",{className:s()},Re.a.createElement("div",{className:s("content")},Re.a.createElement("div",{className:s("content-title")},Re.a.createElement("div",{className:s("content-title-icon")},Re.a.createElement(oE,{type:"iconfont-card-check-in",size:20})),Re.a.createElement("div",{className:s("content-title-text"),onClick:t.onEnterEditStatus},o)),c&&l&&(e=ie()(l),n=t.isExpired(),Re.a.createElement("div",{className:s("content-deadline"),onClick:t.onEnterEditStatus},!n&&Re.a.createElement("span",{className:s("content-deadline-tip")},xm("截止日期")," "),e.format("YYYY-MM-DD HH:mm"),n&&Re.a.createElement("span",{className:s("content-deadline-expired")},xm("已截止"))))),Re.a.createElement("div",{className:s("btn"),onClick:t.onEnterEditStatus},a))})),m()(l()(t),"renderEditable",(function(){var e,n=zj("".concat(i.prefix,"-status-editable"));return Re.a.createElement("div",{className:n()},Re.a.createElement("div",{className:n("label")},xm("编辑打卡")),Re.a.createElement("div",{className:n("content")},Re.a.createElement("div",{className:n("item"),"data-item-type":"title"},Re.a.createElement("div",{className:n("item-name")},xm("标题")),Re.a.createElement("div",{className:n("item-content")},Re.a.createElement(Me.a,{className:n("item-content-input-title"),value:t.state.title,maxLength:40,onChange:t.onChangeTitle}))),Re.a.createElement("div",{className:n("item"),"data-item-type":"button"},Re.a.createElement("div",{className:n("item-name")},xm("按钮")),Re.a.createElement("div",{className:n("item-content")},Re.a.createElement(Me.a,{className:n("item-content-input-button"),value:t.state.buttonText,maxLength:20,onChange:t.onChangeButtonText}))),Re.a.createElement("div",{className:n("item"),"data-item-type":"deadline"},Re.a.createElement("div",{className:n("item-name")}),Re.a.createElement("div",{className:n("item-content")},Re.a.createElement("div",{className:n("item-content-enable")},Re.a.createElement(Te.a,{size:"small",checked:t.state.enableDeadline,onChange:t.onChangeEnableDeadline}),Re.a.createElement("span",{className:n("item-content-enable-tip"),onClick:t.toggleEnableDeadline},xm("设置截止日期"))),t.state.enableDeadline&&(e=t.state.deadline?ie()(t.state.deadline):ie()(),Re.a.createElement("div",{className:n("item-content-datepicker")},Re.a.createElement(Wj,{className:n("item-content-datepicker-deadline"),showTime:!0,showNow:!1,showToday:!1,allowClear:!1,value:e,getPopupContainer:function(){return t.props.overlayContainer||document.body},onChange:t.onChangeDeadline})))))),Re.a.createElement("div",{className:n("footer")},Re.a.createElement(gt.a,{onClick:t.onCancel},xm("取消")),Re.a.createElement(gt.a,{type:"primary",disabled:!t.state.title||!t.state.buttonText,onClick:t.onSave},xm("确定"))))})),t.state={title:e.cardData.getTitle(),buttonText:e.cardData.getButtonText(),enableDeadline:e.cardData.getEnableDeadline(),deadline:e.cardData.getDeadline()},t}return a()(i,[{key:"render",value:function(){var e;return e="readable"===this.props.cardStatus?this.renderReadable():this.renderEditable(),Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName()},e)}}]),i}();m()(CW,"propTypes",{cardData:De.a.object.isRequired,cardStatus:De.a.string.isRequired,onSave:De.a.func,onCancel:De.a.func,onEnterEditStatus:De.a.func,overlayContainer:De.a.object}),m()(CW,"prefix","ne-card-check-in");var RW=function(e){u()(i,cO);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_uiProxy",null),m()(l()(e),"_cardStatus","readable"),m()(l()(e),"setEditableCardStatus",(function(){e._cardStatus="editable",e.refreshToolbar(),e._uiProxy.rerender({cardStatus:e._cardStatus}),e._uiProxy.getReactRef().syncCardDataToViewState()})),m()(l()(e),"setReadableCardStatus",(function(){e._cardStatus="readable",e.refreshToolbar(),e._uiProxy.rerender({cardStatus:e._cardStatus})})),e}return a()(i,[{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["delete","copy","copyLink","|","spacing"]}}},{key:"getCardToolbarConfig",value:function(){return"editable"===this._cardStatus?null:[{name:"checkInCardStatus",title:xm("编辑"),icon:"o-edit",onClick:this.setEditableCardStatus}]}},{key:"init",value:function(){var e=this;this._uiProxy=cO.render(CW,{cardData:this.cardData,cardStatus:this._cardStatus,onCancel:function(){e.setReadableCardStatus()},onSave:function(t){e.cardData.setTitle(t.title),e.cardData.setButtonText(t.buttonText),e.cardData.setEnableDeadline(t.enableDeadline),e.cardData.setDeadline(t.deadline),e.cardData.sync(!1),e.setReadableCardStatus()},onEnterEditStatus:function(){e.setEditableCardStatus()},overlayContainer:this.iEditor.innerOverlayContainer},this.containerNode)}}]),i}();var NW=function(e){u()(i,Gk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i);for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];return t=r.call.apply(r,[this].concat(a)),m()(l()(t),"_ui",null),t._iEditor=e,t}return a()(i,[{key:"init",value:function(){this._ui=this._iEditor.createCardUI(this)}},{key:"destroy",value:function(){this._ui.destroy(),this._ui=null}},{key:"sync",value:function(){return this._iEditor.iEngine.nodeIsInTree(this.viewNode),!0}}]),i}();m()(NW,"$EditableCardUI",RW),m()(NW,"$CardData",gW);var EW=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.registerBlockCard(this,"checkIn",{factory:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut()(NW,[e].concat(n))},pluginContext:{}}),e.hasExtendMethod("registerCardSelect")&&e.registerCardSelect("checkIn",{type:"TextItem",icon:"iconfont-card-check-in",iconSize:16,label:xm("打卡"),keywords:"daka,dk,check,打卡",remind:!0}),e.onPluginEvent("insertCardByUI:checkIn",(function(){e.execCommand("insertCard","checkIn",gW.getInitCardValue(),!0)}))}}]),i}();m()(EW,"PluginName","checkIn");var OW="ne_larkx_recent_selected_item_record",DW=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this;e.onPluginEvent("insertCardByUI",(function(e){var n=e.item;try{t.handleRecordSelectCard(n)}catch(e){}})),e.extendMethods({getSelectCardNames:function(){var e=[];try{e=t.handleGetSelectCardNames()}catch(e){}return e}})}},{key:"handleRecordSelectCard",value:function(e){var t=e.recordDisable,n=void 0!==t&&t,r=e.name;if(!n){var o=localStorage.getItem(OW),i=o?JSON.parse(o):[],a=i.indexOf(r);-1!==a&&i.splice(a,1),i.unshift(r),i.length>10&&i.pop(),localStorage.setItem(OW,JSON.stringify(i))}}},{key:"handleGetSelectCardNames",value:function(){var e=localStorage.getItem(OW);return e?JSON.parse(e):[]}}]),i}();m()(DW,"PluginName","recordSelectCard");var SW=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o()(this,e),m()(this,"_enable",!1),this._enable=t}return a()(e,[{key:"enable",get:function(){return this._enable}}]),e}();m()(SW,"OptionName","viewResizeObserver");var BW=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return o()(this,i),t=r.call(this),m()(l()(t),"_viewNode",null),m()(l()(t),"_resizeObserver",null),m()(l()(t),"_wait",200),m()(l()(t),"_prevRect",null),t._viewNode=e,t._wait=n,t._initResizeObserver(),t}return a()(i,[{key:"_initResizeObserver",value:function(){var e=this;this._resizeObserver=new ResizeObserver(lt()((function(t){requestAnimationFrame((function(){var n;if(e._resizeObserver){br(1===t.length,"F:view-resize-observer;L:33");var r=t[0],o=r.target.getBoundingClientRect();(null===(n=e._prevRect)||void 0===n?void 0:n.width)!==o.width&&(e.emit("viewSizeChange",{prev:e._prevRect,curr:{width:o.width}},r),e._prevRect={width:o.width})}}))}),this._wait)),this._resizeObserver.observe(this._viewNode)}},{key:"destroy",value:function(){var e;this._prevRect=null,this._viewNode=null,null===(e=this._resizeObserver)||void 0===e||e.disconnect(),this._resizeObserver=null}}]),i}();var PW=function(e){u()(i,KN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_viewResizeObserver",null),e}return a()(i,[{key:"init",value:function(e){this._viewResizeObserver=new BW(e.editorNode),this._viewResizeObserver.on("viewSizeChange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emitPluginEvent.apply(e,["viewSizeChange"].concat(n))}))}},{key:"destroy",value:function(){this._viewResizeObserver.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(PW,"PluginName","viewResizeObserver"),m()(PW,"PluginOption",SW);var FW=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iRenderer",null),t._iRenderer=e,t}return a()(i,[{key:"getState",value:function(){return this._iRenderer.isFocus()}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e="string"!=typeof e?e:{pos:e}).pos&&this._iRenderer.iKernel.execCommand("focus",e.pos),this._iRenderer.focus(e)}}]),i}();var TW=function(e){u()(i,Hk);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerCommand("focus",new FW(e))}}]),i}();m()(TW,"PluginName","focus"),ZN.registerKernelPlugin([Cc,Nc,Dc,Mc,il,Cl,Il,ts,us,fs,ps,ms,Cs,Ns,Os,Ts,Ms,zs,Ws,Gs,au,uu,gu,wu,ju,$u,od,wd,Rd,Od,Sd,Pd,Ef,Lh,qh,Qh,up,hp,Dp,Gp,av,uv,hv,mv,dm,Sm,by,Fy,Vy,Qy,ig,fg,gg,xg,Hg,Wg,Kg,Hb,lw,mw,Cw,Tw,Yw,nx,_x,Mx,t_,h_,R_,t_,E_,j_,K_,nk,ok,sk,hk,bk,Vk,xk,Bk,Ak,kW]),ZN.registerRenderPlugin([uD,xL,fO,MS,xD,xU,bD,ZU,_D,CD,bL,ND,OD,SD,PD,qD,SS,WU,AS,US,qS,_B,MB,LB,AB,fL,pL,gL,VL,aA,lA,sU,xU,cH,uH,fH,gH,kH,AH,bq,Aq,QM,OF,TW]),ZN.registerEditorPlugin([gq,MH,GM,lz,rT,sA,cz,PW,KS,YS,QS,aU,nB,iB,uB,pB,yB,wB,CB,FL,TB,qU,NF,HF,GF,rL,sL,cL,dL,mL,kU,$L,YL,CA,AA,oI,NI,JI,DA,Ij,cV,DV,AV,oz,rz,fA,_j,Rz,eU,_j,lU,wU,MU,aH,FH,DH,UH,JH,eq,pW,Rq,Fq,Vq,eW,nW,EW,DW]);var MW=function(e){u()(c,RP);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p()(n);if(r){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)});function c(e,t,n){var r;return o()(this,c),r=i.call(this),m()(l()(r),"_id",null),m()(l()(r),"_apiURL",null),m()(l()(r),"_file",null),m()(l()(r),"_resourceURL",null),m()(l()(r),"_uploadRequest",null),r._id=xr(),r._uploader=e,r._file=n,r}return a()(c,[{key:"id",get:function(){return this._id}},{key:"getFileName",value:function(){return this._file.name}},{key:"getResourceURL",value:function(){return this._file.path}},{key:"destroy",value:function(){}},{key:"run",value:(t=xe()(ke.a.mark((function e(){var t,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._file.path,e.prev=1,e.next=4,this._uploader(t);case 4:n=e.sent,this.emit(RP.EVENT_SUCCESS,{url:n}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),this.emit(RP.EVENT_ERROR,e.t0),je.b.error(xm("上传文件失败"));case 12:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){}}]),c}();function LW(e,t){var n=window.appData;return n&&void 0!==n[e]?n[e]:t}function AW(){return LW("isYuque",!1)}var IW=window.h5||window.yqWebApp,jW=window.yqWebApp&&LW("isAlipayWebApp",!1),VW=window.yqWebApp&&LW("isDingTalkMiniApp",!1),zW={locale:LW("locale","zh-cn"),isYuque:LW("isYuque",!1),isEnterprise:LW("isEnterprise",!1),isPrivateCloud:LW("isPrivateCloud",!1),supportOnlineViewer:LW("supportOnlineViewer",!1),isPublicCloud:LW("isPublicCloud",!1),imageServiceDomains:LW("imageServiceDomains",[]),isWechatMiniApp:LW("isWechatMiniApp",!1),docId:z()(window.appData||{},"doc.id"),group:LW("group",void 0),env:LW("env","prod"),isMobile:IW,isAlipay:jW,isDingTalk:VW,settings:LW("settings",{})};function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var HW=["cdn.nlark.com","intranetproxy.alipay.com",/^[\S]*?\.alipayobjects\.com$/],qW=[/^.*?\.yuque\.com$/i,/^.*?\.aliyuncs\.com$/i,"cdn.nlark.com","yuque.antfin.com","yuque.antfin-inc.com","intranetproxy.alipay.com",window.location.host];function WW(e){e.image=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.image),zW.isWechatMiniApp&&Fe.ua.android&&(e.image.enableAccept=!1),e.image.ratio||(e.image.ratio=VP),zW.isAlipay&&(e.image.createUploadTask||(e.image.createUploadTask=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ut()(MW,[function(){var e=xe()(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.yqWebApp.alipayUploadImage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()].concat(t))}),e.image.customFileSelector||(e.image.customFileSelector=window.yqWebApp.alipayChooseImage)),e.image.isCaptureImageURL||(e.image.isCaptureImageURL=function(e,t,n){if(AW()&&e.startsWith("https://intranetproxy.alipay.com/skylark/"))return!0;for(var r=0;r<zW.imageServiceDomains.length;r++){var o=zW.imageServiceDomains[r];if(e.startsWith("http://".concat(o))||e.startsWith("https://".concat(o)))return!1}return!n.some((function(t){return ZW(e,t)}))&&!function(e){var t=null;try{var n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol)return!1;t=n.host}catch(e){return!1}return HW.some((function(e){return"string"==typeof e?t===e:e.test(t)}))}(e)&&!!t.some((function(t){return ZW(e,t)}))}),e.image.resizeHostWhiteList||(e.image.resizeHostWhiteList=qW)}function ZW(e,t){return"function"==typeof t?t(e):t.test(e)}function KW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KW(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JW(e){e.video=$W($W({},e.video),{},{useYuqueVideoPlayer:zW.settings.enable_custom_video_player,withPip:!zW.isMobile})}function YW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GW(e){e.link=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YW(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.link),e.link.isTargetBlankURL||(e.link.isTargetBlankURL=function(e,t){try{if("necustom:"===new URL(e,"necustom://me.com/").protocol)return!1}catch(e){return!0}try{var n=new URL(e,t),r=new URL(t);if(n.host===r.host&&function(e,t){t.endsWith("/edit")&&(t=t.replace(/\/edit$/,""));var n=e.replace(/\/$/,"").split("/"),r=t.replace(/\/$/,"").split("/");return n.length===r.length&&(n.pop(),r.pop(),n.join("/")===r.join("/"))}(n.pathname,r.pathname))return!1}catch(e){return!0}return!0}),e.link.transformURL||(e.link.transformURL=function(t,n){var r=null,o=null,i=null;try{var a=new URL(n);r=a.origin,i=a.pathname,o=a.protocol}catch(e){return t}if(/^(\w+\.)+\w+(\/|$)/.test(t))return"".concat(e.link.defaultProtocol||o,"//").concat(t);var c,l,s=null;try{s=new URL(t)}catch(e){return t}return s.hash?s.origin!==r?t:(c=i,l=/\\edit#$/,s.pathname.replace(l,"")!==c.replace(l,"")?t:s.hash):t})}function XW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QW(e){e.yuque=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XW(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.yuque),!e.yuque.group&&zW.group&&(e.yuque.group=zW.group),void 0===e.yuque.allowLarkURL&&(e.yuque.allowLarkURL=!zW.isYuque||"local"===zW.env||"test"===zW.env)}function eZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tZ=function(){function e(){o()(this,e)}return a()(e,null,[{key:"check",value:function(t,n){if(!window.__member_message_ref)return!0;var r;switch(t){case"image":r="max_single_image_size";break;case"video":r="max_single_video_size";break;default:r="max_single_file_size"}try{var o=window.__member_message_ref.current.getMessageWithFile({filesize:n},r)||null;if(o)return e._showCheckError(o),!1}catch(t){return console.error(t),!0}return!0}},{key:"getMessageByCode",value:function(e,t){if(!window.__member_message_ref)return null;try{var n=window.__member_message_ref.current.getMessage(e,{},t)||null;if(n)return{level:n.level||"error",msg:n.msg||"unknown error",alwaysOpen:!!n.alwaysOpen,callback:n.callback||function(){}}}catch(e){return console.log(e),null}return null}},{key:"_showCheckError",value:function(e){var t=e.callback||function(){},n=e.level||"error",r=e.msg||"unknown error";t(_t.a[n](r,e.alwaysOpen?0:void 0))}}]),e}();function nZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oZ=function(){function e(){o()(this,e)}return a()(e,null,[{key:"completeEditorOption",value:function(e){var t=rZ({},e);return W.ua.desktop&&(t.isDesktop=!0),WW(t),JW(t),GW(t),QW(t),function(e){e.fileReader=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.fileReader),e.fileReader.checkFileSize||(e.fileReader.checkFileSize=tZ.check),e.fileReader.getMessageByCode||(e.fileReader.getMessageByCode=tZ.getMessageByCode)}(t),t}},{key:"completeViewerOption",value:function(e){var t=rZ({},e);return WW(t),JW(t),GW(t),QW(t),t}}]),e}();function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cZ(e,t){if(e=yr()(e),!t)return e;var n=t;return Object.keys(e).forEach((function(t){var r=e[t],o=n[t];void 0!==o?"disabledPlugins"===t&&r?n[t]=Array.from(new Set([].concat(x()(r),x()(o)))):"envAdapter"===t&&o?n[t]=o:"object"!==R()(o)||Array.isArray(o)||null===o||(n[t]=aZ(aZ({},e[t]),n[t])):n[t]=r})),n}var lZ={getDocumentData:function(){return this.getDocument()},getValue:function(){return this.getDocument("lake")},getContent:function(){return this.getDocument("lake",{includeMeta:!0})},getPureContent:function(){return this.getDocument("lake",{includeMeta:!0})},wordCount:function(){return this.queryCommandValue("wordCount")},getPublicHtml:function(){return this.queryCommandValue("getPremiumPublicPart","text/html")},getPublicContent:function(){return this.queryCommandValue("getPremiumPublicPart","lake",{includeMeta:!0})},getPublicPureContent:function(){return this.queryCommandValue("getPremiumPublicPart","lake",{includeMeta:!0})},getPublicValue:function(){return this.queryCommandValue("getPremiumPublicPart","json")},getPureHtml:function(){return this.getDocument("text/html")},getPublicPureHtml:function(){return this.queryCommandValue("getPremiumPublicPart","text/html")},getFullPureHtml:function(){return this.getDocument("text/html")},getFullPublicPureHtml:function(){return this.queryCommandValue("getPremiumPublicPart","text/html")},getMeta:function(){return null},extractMention:function(){return this.queryCommandValue("mention")},isEmpty:function(){return this.queryCommandValue("isEmpty")},focus:function(e){var t;!0===e?t="start":!1===e&&(t="end"),this.execCommand("focus",t)},isFocus:function(){return this.queryCommandState("focus")}};function sZ(e){Object.keys(lZ).forEach((function(t){e.prototype[t]=lZ[t]}))}function uZ(e){return"lark"==(e+="")||"yuque"===e?e:AW()?"yuque":"lark"}function dZ(){return new URL(location.pathname.replace(/\/edit\/?$/,""),location.href).toString()}function fZ(e){var t="yuque"===e?"https://www.yuque.com/":"https://yuque.antfin.com/";return{mainTipHTML:xm("该卡片在客户端暂时无法显示"),subTipHTML:xm("客户端暂未支持该类型卡片，可打开 $1 查看",'<a href="'.concat(t,'" target="_blank">').concat(xm("语雀网页版"),"</a>"))}}var hZ=function(e){u()(i,jN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"openLink",value:function(e,t){window.open(gv.sanitizeUrl(e))}},{key:"openLocalLink",value:function(e){window.open(gv.sanitizeUrl(e))}},{key:"openYuqueDocLink",value:function(e){window.open(gv.sanitizeUrl(e))}},{key:"openLocalYuqueDocLink",value:function(e){window.open(gv.sanitizeUrl(e))}},{key:"openBookmarkLink",value:function(e){window.open(gv.sanitizeUrl(e))}},{key:"openThirdpartyLink",value:function(e){window.open(gv.sanitizeUrl(e))}}]),i}();var pZ=function(e){u()(i,jN);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"openLink",value:function(e){window.openExternalLink(e,!0)}},{key:"openLocalLink",value:function(e){window.openExternalLink(e,!1)}},{key:"openYuqueDocLink",value:function(e){window.openExternalLink(e,!0)}},{key:"openLocalYuqueDocLink",value:function(e){window.openExternalLink(e,!1)}},{key:"openBookmarkLink",value:function(e){window.openExternalLink(e,!0)}},{key:"openThirdpartyLink",value:function(e){window.openExternalLink(e,!0)}}]),i}();function vZ(e){var t=uZ(null==e?void 0:e.env),n=function(e){return"yuque"===e?{name:"thirdparty",config:{groups:[{title:"媒体",items:["youku","bilibili","taobao","music163"]},{title:"地图",items:["amap"]},{title:"设计",items:["modao","figma","canva","processon"]},{title:"开发",items:["codepen","yida"]},{title:"表单",items:["jinshuju"]}]}}:{name:"thirdparty",config:{groups:[{title:"媒体",items:["youku","bilibili","taobao","music163"]},{title:"地图",items:["amap"]},{title:"开发",items:["ali"]}]}}}(t),r=function(e){return"yuque"===e?[["style/h1","style/h2","style/h3","style/h4","unorderedList","orderedList","quote","hr","calendar","lockedtext","text-diagram"],["image","table","file","codeblock","math","checkIn","vote","youku","bilibili","taobao","music163"],["link","taskList","label","yuqueMain","officeForLocalDoc","macOfficeForLocalDoc","mindForLocalDoc","designForLocalDoc","processon","codepen","amap"],["mindmap","flowchart","blank-board","pdfForLocalDoc","video","audio","figma","jinshuju","modao","canva","yida"]]:[["style/h1","style/h2","style/h3","style/h4","unorderedList","orderedList","quote","hr","lockedtext","text-diagram"],["image","table","file","codeblock","math","calendar","checkIn","vote","youku","bilibili"],["link","taskList","label","yuqueMain","officeForLocalDoc","macOfficeForLocalDoc","mindForLocalDoc","designForLocalDoc","music163"],["mindmap","flowchart","blank-board","pdfForLocalDoc","video","audio","amap","taobao","ali"]]}(t),o=new hZ;return e.isDesktop&&(o=new pZ),{env:t,currentURL:dZ(),envAdapter:o,scrollNode:function(){return document.getElementsByClassName("ne-editor-wrap")[0]},image:{uploadFileURL:"/api/upload/attach",crawlURL:"/api/upload/url",ocr:!Fe.ua.mobile,ratio:VP},mention:{defaultList:[]},audio:{uploadFileURL:"/api/audio",queryURL:"/api/audio",allowAudioPlayer:!0,addsOnParams:{}},file:{uploadFileURL:"/api/upload/attach",from:window.location.href},localdoc:{uploadFileURL:"api/upload/attach"},video:{uploadAction:"/api/video",queryAction:"/api/video"},markdownPasteParse:{convertURL:"/api/docs/convert"},cardSelect:{general:{groups:[{title:xm("通用"),items:["image",{name:"table",allowSelector:!0},"file","calendar","codeblock","math","premium",{name:"boardMenu",config:{groups:[{items:["blank-board","mindmap","flowchart"]}]}},"text-diagram","lockedtext","label"]},{title:xm("小应用"),items:["checkIn","vote"]},{title:xm("引入"),items:["yuqueMain",{name:"localDoc",config:{groups:[{items:["uploadForLocalDoc","officeForLocalDoc","macOfficeForLocalDoc","mindForLocalDoc","designForLocalDoc","pdfForLocalDoc","video","audio"]}]}},n]}],recordSelectedItemConfig:{enable:!0,maxNum:4,title:xm("最近使用"),itemsConfig:{table:{allowSelector:!0}}}},table:{groups:[{items:["image","file","label"]}]}},slash:{general:{colNum:4,displayCommands:r},table:{colNum:1,displayCommands:[["image","label","taskList","unorderedList","orderedList","link","file"]]}},save:{coverDocument:!0},yuque:{group:{login:null,name:null}},fallbackCard:fZ(t),typeWriter:{bottomDistance:185},materialLibrary:{component:Re.a.createElement("div",null),repository:{requestBooksURL:"/api/mine/books",requestResourceURL:"/api/resources",searchURL:"/api/resources/search",createRepositoryHandler:function(){window.open("/new?scene=resource")}}},placeholder:xm("输入正文或 “".concat(Fe.ua.macos?"⌘":"Ctrl"," + /” 唤起更多"))}}FN(".ne-doc-major-editor .ne-editor {\n  background-color: #fff;\n}\n"),FN(".ne-doc-major-editor-mobile {\n  background: #fff;\n  height: 100vh;\n}\n.ne-doc-major-editor-mobile .ne-editor {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  overflow: hidden;\n  background: #fff;\n}\n.ne-doc-major-editor-mobile .ne-editor.ne-layout-mode-adapt .ne-editor-wrap-content {\n  width: 100%;\n  min-width: auto;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-ui {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  top: auto;\n  padding: 0 10px;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-body {\n  height: 100%;\n  overflow: hidden;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-wrap {\n  display: block;\n  padding: 0;\n  overflow: auto;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-wrap::before,\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-wrap::after {\n  display: none;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-wrap .ne-editor-wrap-content {\n  margin: 0;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-wrap .ne-editor-wrap-content .ne-editor-outer-wrap-box {\n  width: 100%;\n  min-width: auto;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-wrap-box {\n  margin-bottom: 0;\n  border: 0;\n  box-shadow: none;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-editor-extra-box {\n  padding: 20px;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-engine {\n  min-height: 100%;\n  padding: 20px;\n  bottom: 0;\n}\n.ne-doc-major-editor-mobile .ne-editor .ne-engine ne-heading-anchor {\n  display: none;\n}\n");var mZ="simple";function yZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bZ(e,t){var n,r=e.nodeType,o=kd(e,"ne-card");if(o)return br(n=o._neRef,"F:transform-dom-range-to-view-range;L:145"),{node:n.modelNode,offset:0};if(r===Node.ELEMENT_NODE){for(;e&&!e._neRef;)t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode;br(n=e._neRef,"F:transform-dom-range-to-view-range;L:160"),n.isFillerNode()?(t=n.offset,n=n.parent):t=0===n.childCount?0:function e(t,n){for(var r=t.childNodes,o=n,i=r.length;o<i;o++){var a=r[o];if(a._neRef)return{continue:!1,offset:a._neRef.offset};if(a.nodeType===Node.ELEMENT_NODE){var c=e(a,0);if(!c.continue)return c}}for(var l=n-1;l>=0;l--){var s=r[l];if(s._neRef)return{continue:!1,offset:s._neRef.offset+1};if(s.nodeType===Node.ELEMENT_NODE){var u=e(s,s.childNodes.length);if(!u.continue)return u}}return{continue:!0,offset:0}}(e,t).offset}if(r===Node.TEXT_NODE)for(var i=e;i.parentNode;){if(i._neRef){n=i._neRef;break}t=wZ(i,t),i=i.parentNode}return br(n,"F:transform-dom-range-to-view-range;L:182"),function(e){var t=e.node,n=e.offset;if(0===n||!t.isElement())return{node:t.modelNode,offset:n};for(var r=t.children,o=n;o>=1;o--)r[o-1].isFillerNode()&&n--;return br(n<=t.modelNode.children.length,"F:transform-dom-range-to-view-range;L:269"),{node:t.modelNode,offset:n}}({node:n,offset:t})}function wZ(e,t){for(var n=e.previousSibling;n;){var r;t+=(n.nodeType===Node.TEXT_NODE?n.length:null===(r=n.innerText)||void 0===r?void 0:r.length)||0,n=n.previousSibling}return t}var xZ=function(e){u()(i,xa);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_viewer",null),m()(l()(t),"_rootNodeObserver",null),m()(l()(t),"_documentObserver",null),t._viewer=e,t._rootNodeObserver=new bN(e.domRootNode,(function(e){if(RN(e))return!1})),t._rootNodeForceObserver=new bN(e.domRootNode),t._documentObserver=new bN(e.domRootNode.ownerDocument),t}return a()(i,[{key:"destroy",value:function(){this._viewer=null,this._documentObserver.destroy(),this._documentObserver=null,this._rootNodeObserver.destroy(),this._rootNodeObserver=null}},{key:"iKernel",get:function(){return this._viewer.iKernel}},{key:"domRootNode",get:function(){return this._viewer.domRootNode}},{key:"option",get:function(){return this._viewer.option}},{key:"viewerBodyNode",get:function(){return this._viewer.viewerBodyNode}},{key:"overlayContainer",get:function(){return this._viewer.overlayContainer}},{key:"innerOverlayContainer",get:function(){return this._viewer.innerOverlayContainer}},{key:"scrollNode",get:function(){return this._viewer.option.getScrollNode()}},{key:"emitEvent",value:function(){var e;(e=this._viewer).emit.apply(e,arguments)}},{key:"createCardUI",value:function(e){var t=e.constructor,n=t.$CardUI,r=t.name;if("function"!=typeof n)throw new Error("未在 CardNode 类上声明静态属性 $CardUI，无法创建卡片UI：".concat(r));for(var o=new n(this,e),i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return o.init.apply(o,a),e._$cardUI=o,o}},{key:"registerAttrTranslator",value:function(e,t){return this._viewer.registerAttrTranslator(e,t)}},{key:"registerInlineCard",value:function(e,t,n){return this._viewer.registerInlineCard(e,t,n)}},{key:"registerBlockCard",value:function(e,t,n){return this._viewer.registerBlockCard(e,t,n)}},{key:"registerBoxNode",value:function(e,t,n){return this._viewer.registerBoxNode(e,t,n)}},{key:"registerCommand",value:function(){var e;return(e=this._viewer).registerCommand.apply(e,arguments)}},{key:"sendMessage",value:function(){var e;(e=this._viewer).sendMessage.apply(e,arguments)}},{key:"onRootNode",value:function(e,t,n){return this._rootNodeObserver.on(e,t,n)}},{key:"onceRootNode",value:function(e,t,n){return this._rootNodeObserver.once(e,t,n)}},{key:"onForceRootNode",value:function(e,t,n){return this._rootNodeForceObserver.on(e,t,n)}},{key:"onDocument",value:function(e,t,n){return this._documentObserver.on(e,t,n)}},{key:"onceDocument",value:function(e,t,n){return this._documentObserver.once(e,t,n)}},{key:"enterMaxView",value:function(){var e;return(e=this._viewer).enterMaxView.apply(e,arguments)}},{key:"exitMaxView",value:function(){var e;return(e=this._viewer).exitMaxView.apply(e,arguments)}},{key:"transformDOMRangeToViewRange",value:function(e){return function(e,t){var n=function(e,t){var n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=t.commonAncestorContainer,c=t.collapsed;return n===e.domRootNode&&0===r&&o===e.domRootNode&&i===e.domRootNode.children.length&&(n=e.viewerBodyNode,r=0,o=e.viewerBodyNode,i=e.viewerBodyNode.children.length,a=e.viewerBodyNode,c=!1),{startContainer:n,startOffset:r,endContainer:o,endOffset:i,commonAncestorContainer:a,collapsed:c}}(e,t),r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset,c=n.commonAncestorContainer,l=n.collapsed;if(null===kd(c,".ne-viewer-body",e.viewerBodyNode))return null;var s=bZ(c,0),u=bZ(r,o);if(!u)return null;if(l||s.node.isCardNode())return{start:u,end:gZ({},u),collapsed:!0,commonAncestorContainer:s.node};var d=bZ(i,a);return d?function(e){var t=function(e){var t=e.node;if(t.hasCategory(Er.BlockCard)){var n=t.closest(Er.Hole);return{node:n.parentNode,offset:n.offset}}return br(t.hasCategory(Er.InlineCard),"F:transform-dom-range-to-view-range;L:68"),{node:t.parentNode,offset:t.offset}};return e.start.node.isCardNode()&&(e.start=t(e.start)),e.end.node.isCardNode()&&(e.end=t(e.end),e.end.offset+=1),e.start.node===e.end.node&&e.start.offset===e.end.offset&&(e.collapsed=!0),e}({start:u,end:d,collapsed:!1,commonAncestorContainer:s.node}):null}(this,e)}},{key:"getViewerDisplayWidth",value:function(e){return this._viewer._vLayerManager.getViewerDisplayWidth(e)}},{key:"login",value:function(){this.emitEvent("login")}}]),i}();_r(xZ,"_viewer");var _Z={scrollNode:document,disabledPlugins:[],disableToolbar:!1,viewerMode:"normal",tileRendering:!1,convertSvgImage:!1,header:null,boundaryTopOffset:0,isLogged:!1},kZ=function(){function e(t,n){o()(this,e),m()(this,"_viewer",null),m()(this,"_option",null),this._viewer=t,this._option=T()({},_Z,n)}return a()(e,[{key:"disabledPlugins",get:function(){return this._option.disabledPlugins||[]}},{key:"disableToolbar",get:function(){return this._option.disableToolbar}},{key:"currentURL",get:function(){return this._viewer.iKernel.option.currentURL}},{key:"viewerMode",get:function(){return this._option.viewerMode}},{key:"convertSvgImage",get:function(){return this._option.convertSvgImage}},{key:"header",get:function(){return this._option.header}},{key:"boundaryTopOffset",get:function(){return this._option.boundaryTopOffset}},{key:"isLogged",get:function(){return this._option.isLogged}},{key:"isTileRendering",value:function(){return!0===this._option.tileRendering}},{key:"getScrollNode",value:function(){return br(this._option.scrollNode,"F:viewer-option;L:102"),"function"==typeof this._option.scrollNode?this._option.scrollNode():this._option.scrollNode}},{key:"getHeader",value:function(){return"function"==typeof this._option.header?this._option.header():this._option.header}}]),e}();function CZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var RZ=function(){function e(t,n){o()(this,e),m()(this,"_parent",null),m()(this,"_document",null),m()(this,"_offset",-1),m()(this,"_nodeName",""),m()(this,"_modelNode",null),m()(this,"_category",{}),m()(this,"_attrs",{}),m()(this,"_domNode",null),m()(this,"_initialized",!1),this._document=t,this._modelNode=n,this._category=n.category||{},this._attrs=n.attrs||{},this._nodeName=n.nodeName}return a()(e,[{key:"document",get:function(){return this._document}},{key:"rootNode",get:function(){return this._document.rootNode}},{key:"registry",get:function(){return this._document.registry}},{key:"attrs",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs)}},{key:"modelNode",get:function(){return this._modelNode}},{key:"isConnected",get:function(){for(var e=this;e;){if(e.isRootNode())return!0;e=e.parent}return!1}},{key:"parent",get:function(){return this._parent}},{key:"parentNode",get:function(){return this._parent}},{key:"nodeName",get:function(){return this._nodeName}},{key:"nodeValue",get:function(){return null}},{key:"offset",get:function(){return this._offset}},{key:"previousSibling",get:function(){return this._parent?this._parent.getChildByOffset(this._offset-1):null}},{key:"nextSibling",get:function(){return this._parent?this._parent.getChildByOffset(this._offset+1):null}},{key:"init",value:function(){this._initialized=!0}},{key:"$afterInit",value:function(){}},{key:"getMainDOMNode",value:function(){return this._domNode}},{key:"getContentDOMNode",value:function(){return this._domNode}},{key:"isInitialized",value:function(){return this._initialized}},{key:"getTagAttrs",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.attrs,r=[];t&&null!==(e=this._modelNode)&&void 0!==e&&e.id&&(r.push('id="'.concat(this._modelNode.id,'"')),r.push('data-lake-id="'.concat(this._modelNode.id,'"'))),Object.keys(n).forEach((function(e){var t=e,o=n[e];o?"object"===("undefined"==typeof value?"undefined":R()(value))?o=JSON.stringify(o):o+="":o="",r.push("".concat(t,'="').concat(o,'"'))}));var o=r.join(" ");return o.length?" "+o:o}},{key:"getPath",value:function(){for(var e=this,t=[e._offset];(e=e._parent)&&!e.isRootNode();)t.push(e._offset);return t.reverse()}},{key:"isEmpty",value:function(){return!0}},{key:"hasCategory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._category;Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++)if(n[e[r]]){if(!t)return!0}else if(t)return!1;return!!t}},{key:"closest",value:function(e){for(var t=this;t;){if(t.hasCategory(e))return t;t=t.parentNode}return null}},{key:"setAttribute",value:function(e,t){var n="update-attr";void 0===this._attrs[e]&&(n="add-attr"),this._attrs[e]=t,this._document.addChange(n,{node:this,attrName:e})}},{key:"hasAttribute",value:function(e){return Bo.call(this._attrs,e)}},{key:"removeAttribute",value:function(e){if(Bo(this._attrs,e)){var t=this._attrs[e];delete this._attrs[e],this._document.addChange("remove-attr",{node:this,attrName:e,attrValue:t})}}},{key:"isRootNode",value:function(){return!1}},{key:"isElement",value:function(){return!1}},{key:"isTextNode",value:function(){return!1}},{key:"isBoxNode",value:function(){return!1}},{key:"isCardNode",value:function(){return!1}},{key:"isInlineCardNode",value:function(){return!1}},{key:"isBlockCardNode",value:function(){return!1}},{key:"isFillerNode",value:function(){return!1}},{key:"isBlockFillerNode",value:function(){return!1}},{key:"remove",value:function(){this.parentNode&&this.parentNode.removeChild(this)}},{key:"toJSON",value:function(){var e={name:this._nodeName};return Object.keys(this._attrs).length&&(e.attrs=xo(this._attrs)),e}},{key:"toString",value:function(){return"[node toString]"}},{key:"toHTML",value:function(){return""}}]),e}();var NZ=function(e){u()(i,RZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),(n=r.call(this,e,t))._data=n.modelNode.data,n}return a()(i,[{key:"data",get:function(){return this._data}},{key:"dataLength",get:function(){return Sr.length(this._data)}},{key:"isEmpty",value:function(){return!this._data}},{key:"init",value:function(){this.isInitialized()||(this._domNode=document.createElement("ne-text"),this._domNode.textContent=this._data||"",this._domNode._neRef=this,KC.syncDOMNodeAttrs(this.registry,this._domNode,this.modelNode.attrs),B()(p()(i.prototype),"init",this).call(this))}},{key:"cloneNode",value:function(){return new i(this._document,this._data)}},{key:"isTextNode",value:function(){return!0}},{key:"toString",value:function(){var e=this.getTagAttrs();return"<#text".concat(e,">").concat(this._data,"</#text>")}},{key:"toHTML",value:function(){var e=this.getTagAttrs();return"<ne-text".concat(e,">").concat(this._data,"</ne-text>")}},{key:"toJSON",value:function(){return{id:this._id,name:this._nodeName,data:this._data}}}]),i}();var EZ=function(e){u()(i,RZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_children",[]),e}return a()(i,[{key:"children",get:function(){return this._children.slice()}},{key:"childCount",get:function(){return this._children.length}},{key:"firstChild",get:function(){return this._children[0]||null}},{key:"lastChild",get:function(){return this._children[this._children.length-1]||null}},{key:"getChildByOffset",value:function(e){return this._children[e]||null}},{key:"isEmpty",value:function(){return 0===this._children.length}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=B()(p()(i.prototype),"toJSON",this).call(this);return e&&(t.children=this._children.map((function(t){return t.toJSON(e)}))),t}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodeName,n=this.getTagAttrs(),r="";return e&&(r=this._children.map((function(t){return t.toString(e)})).join("")),"<".concat(t).concat(n,">").concat(r,"</").concat(t,">")}},{key:"toHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodeName,n="ne-".concat(t),r=this.getTagAttrs(!0),o="";return e&&(o=this._children.map((function(t){return t.toHTML(e)})).join("")),"<".concat(n).concat(r,">").concat(o,"</").concat(n,">")}},{key:"appendChild",value:function(e){if(e._parent===this&&e._offset+1===this.childCount)return e;var t=e._parent;return t&&OZ(t,e),e._offset=this._children.length,e._parent=this,this._children.push(e),e}},{key:"prependChild",value:function(e){return 0===this.childCount?this.appendChild(e):this.insertBefore(e,this._children[0])}},{key:"removeChild",value:function(e){return OZ(this,e),e}},{key:"insertBefore",value:function(e,t){if(br(t.parent===this,"F:viewer-container-node;L:102"),e===t)return e;var n=e.parent;n&&OZ(n,e);for(var r=this._children,o=r.indexOf(t),i=r.length-1;i>=o;i--)r[i]._offset++,r[i+1]=r[i];return e._offset=o,e._parent=this,r[o]=e,e}},{key:"insertAfter",value:function(e,t){br(t.parent===this,"F:viewer-container-node;L:130"),br(e!==t,"F:viewer-container-node;L:131");var n=t.nextSibling;return n?this.insertBefore(e,n):this.appendChild(e)}},{key:"insertByOffset",value:function(e,t){return t.parent===this&&t.offset===e?null:(br(e<=this._children.length,"F:viewer-container-node;L:148"),e===this._children.length?this.appendChild(t):this.insertBefore(t,this._children[e]))}}]),i}();function OZ(e,t){var n=e._children.indexOf(t);br(-1!==n,"F:viewer-container-node;L:161");var r=e._children;r.splice(n,1);for(var o=n,i=e._children.length;o<i;o++)r[o]._offset-=1;return t._parent=null,t._offset=-1,t}var DZ=function(e){u()(i,EZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"isElement",value:function(){return!0}},{key:"init",value:function(){this.isInitialized()||(this._domNode=document.createElement("ne-".concat(DR(this.nodeName))),this._domNode.id=this.modelNode.id,this._domNode.dataset.lakeId=this.modelNode.id,this._domNode._neRef=this,KC.syncDOMNodeAttrs(this.registry,this._domNode,this.modelNode.attrs),B()(p()(i.prototype),"init",this).call(this))}}]),i}();var SZ=function(e){u()(i,EZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_instance",null),e}return a()(i,[{key:"isBoxNode",value:function(){return!0}},{key:"isElement",value:function(){return!0}},{key:"init",value:function(){br(!this._instance,"F:viewer-box-node;L:18"),this._newInstance(),B()(p()(i.prototype),"init",this).call(this)}},{key:"_getBoxDefinition",value:function(){var e=this.registry.getBoxDefinition(this.nodeName);return br(e.clazz||e.factory,"F:viewer-box-node;L:26"),e}},{key:"_newInstance",value:function(){var e=this.modelNode,t=this._getBoxDefinition();t.clazz?this._instance=new t.clazz(this.document.iViewer,e,t.pluginContext):this._instance=t.factory(this.document.iViewer,e),this._instance.init()}},{key:"getMainDOMNode",value:function(){return this._instance?this._instance.getMainDOMNode():null}},{key:"getContentDOMNode",value:function(){return this._instance?this._instance.getContentDOMNode():null}},{key:"$afterInit",value:function(){if(B()(p()(i.prototype),"$afterInit",this).call(this),this._instance){var e=this._instance.getMainDOMNode();e._neRef=this,KC.syncDOMNodeAttrs(this.registry,e,this.modelNode.attrs),this._instance.$afterInit()}}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),this._instance&&this._instance.destroy()}},{key:"toHTML",value:function(e){var t,n=this._getBoxDefinition();return null!=n&&null!==(t=n.clazz)&&void 0!==t&&t.toHTML?n.clazz.toHTML(this,e):B()(p()(i.prototype),"toHTML",this).call(this,e)}},{key:"updateAttribute",value:function(e){var t;null===(t=this._instance)||void 0===t||t.updateAttribute(KC.translateChange(this.document.registry,this.modelNode,e),e)}}]),i}();var BZ=function(e){u()(i,RZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_instance",null),e}return a()(i,[{key:"cardNodeInstance",get:function(){return this._instance}},{key:"isCardNode",value:function(){return!0}},{key:"isInlineCardNode",value:function(){return!0}},{key:"init",value:function(){br(!this._instance,"F:viewer-card-node;L:21"),this._newInstance(),B()(p()(i.prototype),"init",this).call(this)}},{key:"$afterInit",value:function(){B()(p()(i.prototype),"$afterInit",this).call(this),this._instance&&(this._instance.cardRootNode._neRef=this,this._instance.cardRootNode.id=this.modelNode.id,this._instance.$afterInit())}},{key:"_newInstance",value:function(){var e=this.nodeName,t=this.modelNode,n=this.registry.getCardClass(e);br(n,"CardClass for ".concat(e," not registered"),"F:viewer-card-node;L:38");var r=n.definition,o=n.pluginInstance;br(r&&o,"F:viewer-card-node;L:40");var i=this._createCardRootNode(e);i.setAttribute("id",t.id),r.factory?this._instance=r.factory(this.document.iViewer,i,o,t,this):this._instance=new r(this.document.iViewer,i,o,t,this),this._instance.init()}},{key:"getMainDOMNode",value:function(){return this._instance?this._instance.cardRootNode:null}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),this._instance&&this._instance.destroy()}},{key:"print",value:function(){return{nodeName:this._nodeName,attr:this.attrs}}},{key:"toString",value:function(){var e=this.nodeName,t=this.getTagAttrs();return"<".concat(e).concat(t,"></").concat(e,">")}},{key:"toHTML",value:function(){var e=this.nodeName,t=this.getTagAttrs();return"<ne-".concat(e).concat(t,"></ne-").concat(e,">")}},{key:"_createCardRootNode",value:function(e){return null}}]),i}();function PZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var FZ=function(e){u()(i,BZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardValue",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs.value)}},{key:"isCardNode",value:function(){return!0}},{key:"isInlineCardNode",value:function(){return!0}},{key:"isBlockCardNode",value:function(){return!1}},{key:"print",value:function(){return{nodeName:this._nodeName,attr:this.attrs}}},{key:"_createCardRootNode",value:function(e){return Xk("ne-card",{"data-card-name":e,"data-card-type":"inline"})}}]),i}();function TZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var MZ=function(e){u()(i,BZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"cardValue",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TZ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._attrs.value)}},{key:"isCardNode",value:function(){return!0}},{key:"isInlineCardNode",value:function(){return!1}},{key:"isBlockCardNode",value:function(){return!0}},{key:"_createCardRootNode",value:function(e){return Xk("ne-card",{"data-card-name":e,"data-card-type":"block"})}}]),i}();var LZ=function(e){u()(i,RZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){return o()(this,i),r.call(this,e,{nodeName:"#blockFiller"})}return a()(i,[{key:"isFillerNode",value:function(){return!0}},{key:"isBlockFillerNode",value:function(){return!0}},{key:"init",value:function(){this._domNode=document.createElement("span"),this._domNode.classList.add("ne-viewer-b-filler"),this._domNode.setAttribute("ne-filler","block"),this._domNode._neRef=this;var e=document.createElement("br");this._domNode.appendChild(e)}}]),i}();var AZ=function(e){u()(i,DZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_initialized",!0),e}return a()(i,[{key:"isRootNode",value:function(){return!0}},{key:"cloneNode",value:function(){throw new Error("can not clone rootNode")}},{key:"init",value:function(){br(!1,"can't init root node","F:viewer-root-node;L:16")}},{key:"toHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._children.map((function(t){return t.toHTML(e)})).join("")}}]),i}();function IZ(e,t){var n=e.getViewerNode(t);return n||(n=e.viewerDoc.getNodeByModelNode(t)),n}var jZ=function(){function e(){o()(this,e)}return a()(e,null,[{key:"applyAddAttr",value:function(e,t){var n=t.node,r=t.attrName,o=t.attrValue;IZ(e,n).setAttribute(r,o)}},{key:"applyUpdateAttr",value:function(e,t){var n=t.node,r=t.attrName,o=t.attrValue;IZ(e,n).setAttribute(r,o)}},{key:"applyRemoveAttr",value:function(e,t){var n=t.node,r=t.attrName;IZ(e,n).removeAttribute(r)}}]),e}(),VZ=function(){function e(){o()(this,e),m()(this,"_v2m",new WeakMap),m()(this,"_m2v",new WeakMap)}return a()(e,[{key:"add",value:function(e,t){this._v2m.set(e,t),this._m2v.set(t,e),e._modelNode=t,t._viewerNode=e}},{key:"getViewerNode",value:function(e){return this._m2v.get(e)}},{key:"getModelNode",value:function(e){return this._v2m.get(e)}}]),e}(),zZ=function(){function e(t,n,r){o()(this,e),m()(this,"_domRootNode",null),m()(this,"_modelDoc",null),m()(this,"_viewerDoc",null),m()(this,"_rootNode",null),m()(this,"_modelMapper",null),this._domRootNode=t,this._modelDoc=n,this._viewerDoc=r,this._modelMapper=new VZ,this._rootNode=new AZ(this._viewerDoc,this._modelDoc.rootNode),this._rootNode._domNode=this._domRootNode,this._rootNode._domNode._neRef=this._rootNode,this._rootNode._modelNode=this._modelDoc.rootNode,this._modelDoc.rootNode._viewerNode=this._rootNode}return a()(e,[{key:"rootNode",get:function(){return this._rootNode}},{key:"viewerDoc",get:function(){return this._viewerDoc}},{key:"applyOperations",value:function(e){var t=this;e.forEach((function(e){t._applyOperation(e)}))}},{key:"_applyOperation",value:function(e){switch(e.type){case"add_attr":return jZ.applyAddAttr(this,e);case"update_attr":return jZ.applyUpdateAttr(this,e);case"remove_attr":return jZ.applyRemoveAttr(this,e);default:return}}},{key:"generate",value:function(){!function(e,t){var n=e.rootNode;t.children.forEach((function(t){!function e(t,n,r){var o,i,a=t.getNodeByModelNode(r);n.appendChild(a),r.isElement()&&r.children.forEach((function(n){e(t,a,n)})),o=t,(i=a).hasCategory(Er.Block)&&i.appendChild(o.createBlockFillerNode())}(e,n,t)}))}(this._viewerDoc,this._modelDoc.rootNode)}},{key:"connectViewerModelNode",value:function(e,t){this._modelMapper.add(e,t)}},{key:"getViewerNode",value:function(e){return this._modelMapper.getViewerNode(e)}},{key:"getModelNode",value:function(e){return this._modelMapper.getModelNode(e)}}]),e}(),UZ=function(){function e(){o()(this,e),m()(this,"_changed",!1),m()(this,"_attrChanges",new Map)}return a()(e,[{key:"hasChange",value:function(){return this._changed}},{key:"addChange",value:function(e,t){switch(e){case"add-attr":this._parseAddAttr(t);break;case"update-attr":this._parseUpdateAttr(t);break;case"remove-attr":this._parseRemoveAttr(t)}}},{key:"_parseAddAttr",value:function(e){var t=e.node,n=e.attrName,r=this._attrChanges;br(n,"F:viewer-change-observer;L:30"),r.has(t)?r.get(t)[n]={type:"add"}:r.set(t,m()({},n,{type:"add"}))}},{key:"_parseUpdateAttr",value:function(e){var t=e.node,n=e.attrName,r=this._attrChanges;if(br(n,"F:viewer-change-observer;L:49"),r.has(t)){if("add"===r.get(t)[n])return;r.get(t)[n]={type:"update"}}else r.set(t,m()({},n,{type:"update"}))}},{key:"_parseRemoveAttr",value:function(e){var t=e.node,n=e.attrName,r=e.attrValue,o=this._attrChanges;br(n,"F:viewer-change-observer;L:74"),o.has(t)?o.get(t)[n]={type:"remove",value:r}:o.set(t,m()({},n,{type:"remove",value:r}))}},{key:"getChanges",value:function(){var e=[];return this._attrChanges.forEach((function(t,n){e.push({node:n,attrs:t})})),{attrChanges:e}}},{key:"clear",value:function(){this._changed=!1,this._attrChanges.clear()}}]),e}();var HZ=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n,a){var c;return o()(this,i),c=r.call(this),m()(l()(c),"_iViewer",null),m()(l()(c),"_registry",null),m()(l()(c),"_modelDoc",null),m()(l()(c),"_domRootNode",null),m()(l()(c),"_viewerTree",null),m()(l()(c),"_viewerChangeObserver",null),c._iViewer=e,c._modelDoc=n,c._domRootNode=a,c._registry=t,c._viewerTree=new zZ(a,n,l()(c)),c._viewerChangeObserver=new UZ,c._modelDoc.on("contentchange",(function(e){var t,n=e.operations;try{c._viewerTree.applyOperations(n),t=c._viewerChangeObserver.getChanges()}finally{c._viewerChangeObserver.clear()}c.emit("contentchange",{changes:t})})),c._initEvent(),c}return a()(i,[{key:"destroy",value:function(){this._iViewer=null,this._registry=null,this._modelDoc=null,this._domRootNode=null}},{key:"rootNode",get:function(){return this._viewerTree._rootNode}},{key:"registry",get:function(){return this._registry}},{key:"iViewer",get:function(){return this._iViewer}},{key:"registerAttrTranslator",value:function(e,t){return this._registry.registerAttrTranslator(e,t)}},{key:"registerInlineCard",value:function(e,t,n){return this._registry.registerInlineCard(e,t,n)}},{key:"registerBlockCard",value:function(e,t,n){return this._registry.registerBlockCard(e,t,n)}},{key:"registerBoxNode",value:function(e,t){return this._registry.registerBoxNode(e,t)}},{key:"addChange",value:function(e,t){this._viewerChangeObserver.addChange(e,t)}},{key:"getNodeByModelNode",value:function(e){var t=this._viewerTree.getViewerNode(e);return t||(t=function(e,t){return t.isTextNode()?e.createTextNode(t):t.isElement()?e.registry.isBoxNode(t.nodeName)?e.createBoxNode(t):e.createElement(t):t.isCardNode()?t.hasCategory(Er.InlineCard)?e.createInlineCardNode(t):e.createBlockCardNode(t):void br(!1,"F:create-viewer-node;L:30")}(this,e),this._viewerTree.connectViewerModelNode(t,e)),t}},{key:"createTextNode",value:function(e){return new NZ(this,e)}},{key:"createElement",value:function(e){return new DZ(this,e)}},{key:"createBoxNode",value:function(e){return new SZ(this,e)}},{key:"createInlineCardNode",value:function(e){return new FZ(this,e)}},{key:"createBlockCardNode",value:function(e){return new MZ(this,e)}},{key:"createBlockFillerNode",value:function(){return new LZ(this)}},{key:"_initEvent",value:function(){var e=this;this._modelDoc.once("ready",(function(){e._initDoc(),e.emit("ready")}))}},{key:"_initDoc",value:function(){this._viewerTree.generate()}}]),i}();function qZ(e){!function e(t){var n=t.parentNode;if(n&&!n.isInitialized()&&e(n),!t.isInitialized()&&(t.init(),n)){var r=t.getMainDOMNode();n.getContentDOMNode().appendChild(r),t.$afterInit()}}(e),e.isElement()&&e.children.forEach((function(e){qZ(e)}))}var WZ=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_viewerDoc",null),t._viewerDoc=e,t}return a()(i,[{key:"destroy",value:function(){this._viewerDoc=null,this.removeAllListeners()}},{key:"applyContentChange",value:function(e){null!=e&&e.attrChanges&&e.attrChanges.forEach((function(e){var t,n=e.node,r=e.attrs;null==n||null===(t=n.updateAttribute)||void 0===t||t.call(n,r)}))}},{key:"render",value:function(){}}]),i}();var ZZ=function(e){u()(i,WZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this;this._viewerDoc.rootNode.children.forEach((function(e){qZ(e)})),setTimeout((function(){return e.emit("ready")}))}}]),i}();var KZ=function(e){u()(i,WZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"_total",-1),m()(l()(t),"_tileSize",30),m()(l()(t),"_tileCount",0),m()(l()(t),"_currentTileIndex",0),t._total=e.rootNode.childCount,br(t._total>=0,"F:viewer-tile-render-controller/index;L:16"),t._tileCount=Math.ceil(t._total/t._tileSize),t}return a()(i,[{key:"getTileRenderNodes",value:function(){var e=this._currentTileIndex*this._tileSize,t=e+this._tileSize;t>this._total&&(t=this._total),br(t>=e,"F:viewer-tile-render-controller/index;L:28");var n=this._viewerDoc.rootNode.children.slice(e,t);return this._currentTileIndex+=1,n}},{key:"render",value:function(){this.tileRender()}},{key:"tileRender",value:function(){var e=this;this.getTileRenderNodes().forEach((function(e){qZ(e)})),this.isComplete()?setTimeout((function(){return e.emit("ready")})):requestAnimationFrame((function(){return e.tileRender()}))}},{key:"isComplete",value:function(){return this._currentTileIndex>=this._tileCount}}]),i}();var $Z=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_viewer",null),m()(l()(n),"_viewerDoc",null),m()(l()(n),"_renderController",null),n._viewer=e,n._viewerDoc=t,n._viewer.option.isTileRendering()?n._renderController=new KZ(n._viewerDoc):n._renderController=new ZZ(n._viewerDoc),n._viewerDoc.on("contentchange",(function(e){var t=e.changes;n._viewer.iViewer.emit("contentchange"),n._renderController.applyContentChange(t),n._viewer.iViewer.emit("afterContentChange")})),n._renderController.on("ready",(function(){n.emit("ready")})),n}return a()(i,[{key:"destroy",value:function(){this._renderController.destroy(),this._renderController=null,this._viewer=null,this._viewerDoc=null}},{key:"render",value:function(){this._renderController.render()}}]),i}();var JZ=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"iViewer",null),m()(l()(a),"iKernel",null),m()(l()(a),"option",null),m()(l()(a),"_cardNodes",[]),a.iViewer=e,a.iKernel=t,a.option=n,a}return a()(i,[{key:"cardNodes",get:function(){return this._cardNodes}},{key:"init",value:function(e,t){}},{key:"loaded",value:function(){return Promise.all(this._cardNodes.map((function(e){return e.loaded()})))}},{key:"destroy",value:function(){this._cardNodes.forEach((function(e){e.destroy()})),this._cardNodes=null,this.removeAllListeners()}}]),i}();var YZ=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;o()(this,i),n=r.call(this),m()(l()(n),"resizeTarget",null),m()(l()(n),"_cardId",null),m()(l()(n),"_cardNode",null),m()(l()(n),"_modelNode",null),m()(l()(n),"_iViewer",null),m()(l()(n),"_plugin",null),m()(l()(n),"_pluginOption",null),m()(l()(n),"_cardData",null),m()(l()(n),"_cardRootNode",null),m()(l()(n),"_containerNode",null),m()(l()(n),"_vToolbar",null),m()(l()(n),"_isFocused",!1),m()(l()(n),"_isAsyncUI",!1),m()(l()(n),"_loaded",!1);var a=t.id,c=t.cardRootNode,s=t.cardData,u=t.plugin,d=t.pluginOption;return n._iViewer=e,n._cardNode=t,n._modelNode=t.modelNode,n._plugin=u,n._pluginOption=d,n._cardRootNode=c,n._cardData=s,n._cardId=a,n._containerNode=document.createElement("div"),n._containerNode.className="ne-card-container",n._cardRootNode.appendChild(n._containerNode),n._iViewer.option.disableToolbar||(n._vToolbar=new iK(n._iViewer,l()(n),n._cardRootNode,n._cardData,n.getCardToolbarConfig.bind(l()(n)),n.getContainerToolbarConfig.bind(l()(n)))),n._cardData&&(n._cardData.on("heightChange",(function(e){var t=e.newHeight,r=e.oldHeight;n.heightChanged(t,r),n.refreshResizer()})),n._cardData.on("widthModeChange",(function(){n._refreshCardWidthMode(),n._refreshToolbar()}))),n}return a()(i,[{key:"id",get:function(){return this._cardId}},{key:"iViewer",get:function(){return this._iViewer}},{key:"cardNode",get:function(){return this._cardNode}},{key:"modelNode",get:function(){return this._modelNode}},{key:"cardData",get:function(){return this._cardData}},{key:"plugin",get:function(){return this._plugin}},{key:"pluginOption",get:function(){return this._pluginOption}},{key:"cardRootNode",get:function(){return this._cardRootNode}},{key:"containerNode",get:function(){return this._containerNode}},{key:"isAsyncUI",value:function(){return this._isAsyncUI}},{key:"init",value:function(){}},{key:"isLoaded",value:function(){return this._loaded}},{key:"loaded",value:function(){this._loaded=!0,this.emit("loaded")}},{key:"focus",value:function(){}},{key:"_afterFocus",value:function(){this._isFocused=!0,this._destroyMask(),this._refreshResizer()}},{key:"_beforeBlur",value:function(){this._isFocused=!1,this._refreshMask(),this._destroyResizer()}},{key:"blur",value:function(){}},{key:"beforeMaximizeChanged",value:function(e){}},{key:"afterMaximizeChanged",value:function(e){}},{key:"$afterInit",value:function(){var e=this;this._refreshMask(!0),this._resizeCardHeight(),this._initCardSpacing(),this._initToolbar(),this._refreshCardWidthMode(),this._cardData&&Ls(this,this._cardData,"cardHeightReset",(function(){e.containerNode.style.height=""})),this.isAsyncUI()||this.loaded()}},{key:"destroy",value:function(){this._cardData&&this._cardData.destroy(),this._destroyMask(),this._destroyResizer(),this.removeAllListeners()}},{key:"heightChanged",value:function(e,t){}},{key:"getCardToolbarConfig",value:function(){return null}},{key:"getContainerToolbarConfig",value:function(){return null}},{key:"getResizerConfig",value:function(){return!0}},{key:"getCardMaskConfig",value:function(){return!1}},{key:"refreshResizer",value:function(){return this._refreshResizer()}},{key:"resizeCardHeight",value:function(){return this._resizeCardHeight()}},{key:"refreshMask",value:function(){return this._refreshMask()}},{key:"_refreshMask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this._isFocused){var t=this.getCardMaskConfig();DE.update(this,t)}}},{key:"_destroyMask",value:function(){DE.destroyMask(this)}},{key:"refreshToolbar",value:function(){this._refreshToolbar()}},{key:"showAllToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.showToolbar()}},{key:"hideAllToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.hideToolbar()}},{key:"_initCardSpacing",value:function(){if(this._cardData){var e=this.cardNode.modelNode;if("image"!==e.nodeName&&!e.hasCategory(Er.BlockCard))return;var t=this._cardData.getCardSpacing(),n=this._cardRootNode,r=n;"NE-HOLE"===n.parentNode.nodeName&&(r=n.parentNode),"both"===t?r.classList.add("ne-spacing-all"):"top"===t?r.classList.add("ne-spacing-top"):"bottom"===t&&r.classList.add("ne-spacing-bottom")}}},{key:"_refreshToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.refresh()}},{key:"_initToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.init()}},{key:"_destroyToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.destroyToolbar()}},{key:"enterMaxView",value:function(e){var t=this;this.beforeMaximizeChanged(!0),this.hideAllToolbar(),this._destroyToolbar(),this.iViewer.enterMaxView(this.cardRootNode,e,this.cardNode,(function(){t.beforeMaximizeChanged(!1)}),(function(){Promise.resolve().then((function(){t.showAllToolbar()})),t.afterMaximizeChanged(!1)})),this.afterMaximizeChanged(!0)}},{key:"_refreshCardWidthMode",value:function(){var e=this._cardData.getWidthMode(),t=this._cardRootNode.parentNode,n=t;"NE-HOLE"===t.parentNode.nodeName&&(n=t.parentNode),"contain"===e?n.classList.add("ne-full-width"):n.classList.remove("ne-full-width")}},{key:"_resizeCardHeight",value:function(){if(this._cardData){var e=this._cardData.getCardHeight();if(this.getResizerConfig()&&e){var t=this.containerNode;this.resizeTarget&&(t=this.resizeTarget,"function"==typeof this.resizeTarget&&(t=this.resizeTarget())),t&&(t.style.height=e+"px")}}}},{key:"_refreshResizer",value:function(){var e=this,t=this.getResizerConfig();"boolean"!=typeof t&&(this._resizeCardHeight(),FE.update(this,this.iViewer.viewerBodyNode,this.cardRootNode,this.resizeTarget||this.containerNode,t,(function(t){e._cardData&&(e._cardData._resetCardValue(e._cardData.__getCardValueWithNewHeight(t)),e._cardData.sync(!1))})))}},{key:"_destroyResizer",value:function(){FE.destroyResizer(this)}}],[{key:"render",value:function(e,t,n){var r=null;return be.a.render(Re.a.createElement(GN,{props:t,cardContainerNode:n,component:e,ref:function(e){r=e}}),n),{getReactRef:function(){return r.getRef()},rerender:function(e){r&&r.update(e)}}}}]),i}(),GZ=function(){function e(t,n,r){o()(this,e),m()(this,"iViewer",null),m()(this,"modelNode",null),m()(this,"pluginContext",null),this.iViewer=t,this.modelNode=n,this.pluginContext=r}return a()(e,[{key:"init",value:function(e){}},{key:"$afterInit",value:function(){}},{key:"destroy",value:function(){}},{key:"getMainDOMNode",value:function(){br(!1,"F:v-box-node;L:25")}},{key:"getContentDOMNode",value:function(){return this.getMainDOMNode()}},{key:"updateAttribute",value:function(e){}}]),e}();function XZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var QZ=function(){function e(t,n,r,i,a){var c=this;o()(this,e),m()(this,"iViewer",null),m()(this,"cardRootNode",null),m()(this,"plugin",null),m()(this,"modelNode",null),m()(this,"viewerNode",null),m()(this,"cardData",null),m()(this,"pluginOption",null),m()(this,"_$cardUI",null),this.iViewer=t,this.cardRootNode=n,this.plugin=r,this.pluginOption=r.option,this.modelNode=i,this.viewerNode=a,this._domNode=n,n._neRef=a,n._neCardInstance=this,r._cardNodes.push(this);var l=this.constructor.$CardData;l&&(this.cardData=new l((i.attrs||{}).value,this.pluginOption),this.cardData.sync=function(e){var t=c.iViewer.execCommand("setCardValue",e,i.id,c.cardData.getCardValue());return c.cardData.afterChange(),t})}return a()(e,[{key:"nodeName",get:function(){return this.modelNode.nodeName}},{key:"id",get:function(){return this.modelNode.id}},{key:"init",value:function(){}},{key:"loaded",value:function(){var e=this;return new Promise((function(t){e._$cardUI||t(!0),e._$cardUI.isLoaded()?t(!0):e._$cardUI.on("loaded",(function(){t(!0)}))}))}},{key:"$afterInit",value:function(){this.constructor.$NonBoundary||this.cardRootNode.setAttribute("data-event-boundary","card"),this._$cardUI&&this._$cardUI.$afterInit()}},{key:"_$beforeFocus",value:function(){this.cardRootNode.classList.add("ne-focused")}},{key:"$focus",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e.focus()}},{key:"_$afterFocus",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e._afterFocus()}},{key:"_$beforeBlur",value:function(){var e;this.cardRootNode.classList.remove("ne-focused"),null===(e=this._$cardUI)||void 0===e||e._beforeBlur()}},{key:"$blur",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e.blur()}},{key:"destroy",value:function(){var e;null===(e=this._$cardUI)||void 0===e||e.destroy(),this._$cardUI=null}}]),e}(),eK=function(e){u()(n,QZ);var t=XZ(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n)}(),tK=function(e){u()(n,QZ);var t=XZ(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n)}(),nK={copyLink:function(e,t){var n=e.option.currentURL;if(n){var r=rO.generateCardLink(n,t.id);r?(Ie()(r,{format:"text/plain"}),je.b.success(xm("复制成功"))):je.b.error(xm("复制失败"))}},maximize:function(e,t,n){t.enterMaxView(n.option)},widthMode:function(e,t){var n,r;null==t||null===(n=t.cardData)||void 0===n||n.toggleWidthMode(),null==t||null===(r=t.cardData)||void 0===r||r.sync(!1)}};function rK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rK(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iK=function(){function e(t,n,r,i,a,c){var l=this;o()(this,e),m()(this,"_iViewer",null),m()(this,"_rootNode",null),m()(this,"_getCardToolbarConfig",null),m()(this,"_getContainerToolbarConfig",null),m()(this,"_isHover",!1),m()(this,"_cardToolbar",null),m()(this,"_containerToolbar",null),m()(this,"_toolbarHideTimer",null),m()(this,"_cardData",null),m()(this,"_isShowToolbar",!0),m()(this,"_sidePlaceholderNode",null),m()(this,"_containerToolbarMenuVisible",!1),m()(this,"_showToolbar",(function(){l._isShowToolbar&&(l._rootNode.classList.add("ne-card-hovered"),l._isHover=!0,l.getCardToolbarConfig()&&l._initCardToolbar(),l.getContainerToolbarConfig()&&l._initContainerToolbar())})),m()(this,"_hideToolbar",(function(){l._rootNode.classList.remove("ne-card-hovered"),l._isHover=!1})),m()(this,"_destroyToolbar",(function(){OE.destroyContainerToolbar(l.getContainerToolbarRootNode()),OE.destroyCardToolbar(l.getCardToolbarRootNode())})),m()(this,"_initCardToolbar",(function(){var e=l._iViewer,t=e.scrollNode,n=e.innerOverlayContainer;l._cardToolbar=OE.updateCardToolbar(l.getCardToolbarRootNode(),n,t,l._transformToolbarItem(l.getCardToolbarConfig()),{topOffset:l._iViewer.option.boundaryTopOffset})})),m()(this,"_initContainerToolbar",(function(){var e=l._iViewer,t=e.viewerBodyNode,n=e.innerOverlayContainer;l._sidePlaceholderNode||(l._sidePlaceholderNode=Xk("div",{className:"ne-card-side-placeholder"}),l._rootNode.appendChild(l._sidePlaceholderNode));var r=l.getContainerToolbarConfig();l._containerToolbar=OE.updateContainerToolbar(l.getContainerToolbarRootNode(),t,n,oK(oK({},r),{},{items:l._transformToolbarItem(r.items)}))})),this._iViewer=t,this._rootNode=r,this._cardData=i,this._getCardToolbarConfig=a,this._getContainerToolbarConfig=c,this._instance=n}return a()(e,[{key:"init",value:function(){this._initToolbar()}},{key:"refresh",value:function(){this._refreshToolbar()}},{key:"destroy",value:function(){this._iViewer=null,this._rootNode=null,this._cardData=null,this._getCardToolbarConfig=null,this._getContainerToolbarConfig=null}},{key:"getCardToolbarConfig",value:function(){return"function"==typeof this._getCardToolbarConfig?this._getCardToolbarConfig():null}},{key:"getContainerToolbarConfig",value:function(){return"function"==typeof this._getContainerToolbarConfig?this._getContainerToolbarConfig():null}},{key:"showToolbar",value:function(){this._isShowToolbar=!0}},{key:"hideToolbar",value:function(){this._isShowToolbar=!1,this._hideToolbar()}},{key:"destroyToolbar",value:function(){this._destroyToolbar()}},{key:"getCardToolbarRootNode",value:function(){return this._rootNode}},{key:"getContainerToolbarRootNode",value:function(){return"NE-TABLE-WRAP"===this._rootNode.nodeName?this._rootNode.querySelector(".ne-table"):this._rootNode}},{key:"_transformToolbarItem",value:function(e){var t=this;return e?(e=e.map((function(e){if("|"===e)return e;var n=e;return"string"!=typeof e?(n=e.name,e=oK({onClick:nK[n]},e)):e={name:n,onClick:nK[n]},oK(oK({name:n},e),{},{cardData:t._cardData,onClick:function(){e.onClick&&e.onClick(t._iViewer,t._instance,e)}})})),this._iViewer.hasExtendMethod("getDisabledMiniToolbarItems")&&(e=OE.filter(e,this._iViewer.getDisabledMiniToolbarItems())),this._iViewer.hasExtendMethod("getFilterMiniToolbarItems")&&(e=OE.filter(e,this._iViewer.getFilterMiniToolbarItems(this._instance.modelNode,e))),OE.generateToolbarItems(e)):e}},{key:"_initToolbar",value:function(){wR(this,this._rootNode,"mouseenter",this._showToolbar),wR(this,this._rootNode,"mouseleave",this._hideToolbar)}},{key:"_refreshToolbar",value:function(){this._isHover&&this._showToolbar()}}]),e}(),aK=function(){function e(){o()(this,e)}return a()(e,null,[{key:"syncDOMAttrChange",value:function(t,n){var r=n.updated,o=n.removed;e.setAttributeByChange(t,r),e.removeAttributeByChange(t,o)}},{key:"setAttributeByChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){var n=t.type,r=t.name,o=t.value;"style"===n?e.style[r]=o:(br("attr"===n,"F:v-box-node-helper;L:17"),e.setAttribute(r,o))}))}},{key:"removeAttributeByChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){var n=t.type,r=t.name;"style"===n?e.style[r]="":(br("attr"===n,"F:v-box-node-helper;L:31"),e.removeAttribute(r))}))}}]),e}();var cK=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;o()(this,i),n=r.call(this),m()(l()(n),"_viewer",null),m()(l()(n),"_domRootNode",null),m()(l()(n),"_viewerBodyNode",null),m()(l()(n),"_viewerBodyWidth",null),m()(l()(n),"_overlayContainer",null),m()(l()(n),"_innerOverlayContainer",null),m()(l()(n),"_headerNode",null),m()(l()(n),"_isMaxView",!1),m()(l()(n),"_maxViewNode",null),m()(l()(n),"_exitMaxBeforeCallback",null),m()(l()(n),"_exitMaxAfterCallback",null),m()(l()(n),"_scrollNodeOverflow",null),m()(l()(n),"_mountDOMNode",null),m()(l()(n),"_lastPos",-1),n._viewer=e,n._mountDOMNode=t,n._domRootNode=document.createElement("div"),n._domRootNode.className="ne-viewer",n._domRootNode.setAttribute("data-viewer-mode",n._viewer.option.viewerMode),n._domRootNode.setAttribute("id",xr(5)),n._headerNode=LN('<div class="ne-viewer-header"><button class="ne-ui-exit-max-view-btn">'.concat(xm("返回文档"),"</button></div>")),n._viewerBodyNode=LN('<div class="ne-viewer-body"></div>'),n._overlayContainer=LN('<div class="ne-overlay-container" data-event-boundary="overlay"></div>'),n._innerOverlayContainer=LN('<div class="ne-inner-overlay-container"></div>'),n._domRootNode.appendChild(n._headerNode),n._domRootNode.appendChild(n._viewerBodyNode),n._domRootNode.appendChild(n._innerOverlayContainer),n._domRootNode._viewer=e,n._mountDOMNode.innerHTML="",n._mountDOMNode.appendChild(n._domRootNode);var a=Xk("div",{style:{height:0,overflow:"hidden"}});return a.innerHTML="​",n._mountDOMNode.appendChild(a),document.body.appendChild(n._overlayContainer),n.bindEvent(),n}return a()(i,[{key:"domRootNode",get:function(){return this._domRootNode}},{key:"viewerBodyNode",get:function(){return this._viewerBodyNode}},{key:"overlayContainer",get:function(){return this._overlayContainer}},{key:"innerOverlayContainer",get:function(){return this._innerOverlayContainer}},{key:"headerNode",get:function(){return this._headerNode}},{key:"getViewerDisplayWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null===this._viewerBodyWidth||e)&&(this._viewerBodyWidth=this._viewerBodyNode.offsetWidth),this._viewerBodyWidth}},{key:"destroy",value:function(){this._headerNode=null,this._innerOverlayContainer=null,this._viewerBodyNode=null,this._domRootNode=null,this._scrollNodeOverflow=null,this._maxViewNode=null,this._isMaxView=!1,this._exitMaxBeforeCallback=null,this._exitMaxAfterCallback=null,this._mountDOMNode.innerHTML="",this.removeAllListeners()}},{key:"bindEvent",value:function(){var e=this;wR(this,this._headerNode,"click",(function(t){t.target.closest(".ne-ui-exit-max-view-btn")&&e._viewer.exitMaxView()}))}},{key:"togglePreventScroll",value:function(e){var t=this._viewer.option.getScrollNode(),n=t;n===document.scrollingElement&&(n=document.body),n&&(null===this._scrollNodeOverflow&&(this._scrollNodeOverflow=n.style.overflow),e?(this._lastPos=t.scrollTop,n.style.overflow="hidden"):(n.style.overflow=this._scrollNodeOverflow,t.scrollTop=this._lastPos))}},{key:"enterMaxView",value:function(e,t,n){return this.togglePreventScroll(!0),this._isMaxView=!0,this._maxViewNode=e,this._exitMaxBeforeCallback=t,this._exitMaxAfterCallback=n,this._domRootNode.classList.add("ne-ui-max-view"),this._maxViewNode.classList.add("ne-ui-max-view-node","ne-max"),!0}},{key:"exitMaxView",value:function(){var e,t;return!!this._isMaxView&&(null===(e=this._exitMaxBeforeCallback)||void 0===e||e.call(this),this._exitMaxBeforeCallback=null,this._isMaxView=!1,this._domRootNode.classList.remove("ne-ui-max-view"),this._maxViewNode.classList.remove("ne-ui-max-view-node","ne-max"),this.togglePreventScroll(!1),null===(t=this._exitMaxAfterCallback)||void 0===t||t.call(this),this._exitMaxAfterCallback=null,!0)}}]),i}();FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.viewer-card {\n  position: relative;\n}\n.viewer-card:hover .ne-card-side-placeholder,\n.viewer-card.ne-card-hovered .ne-card-side-placeholder {\n  display: flex;\n}\n.viewer-card .ne-card-side-placeholder {\n  position: absolute;\n  left: -30px;\n  display: none;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n}\n.ne-viewer {\n  position: relative;\n  overflow-anchor: none;\n}\n.ne-viewer .ne-viewer-body {\n  position: relative;\n  z-index: 1;\n  outline: none;\n  white-space: break-spaces;\n  word-break: break-word;\n  word-wrap: break-word;\n  font-family: 'Chinese Quote', 'Segoe UI', Roboto, RobotoNum, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  --link-color: #096DD9;\n}\n.ne-viewer .ne-viewer-body ::selection {\n  background: rgba(180, 213, 254, 0.5) !important;\n  color: inherit!important;\n}\n.ne-viewer .ne-viewer-body .ne-table {\n  white-space: pre-wrap;\n}\n.ne-viewer .ne-viewer-body .ne-spacing-all {\n  margin-top: 16px;\n  margin-bottom: 16px;\n}\n.ne-viewer .ne-viewer-body .ne-spacing-top {\n  margin-top: 16px;\n}\n.ne-viewer .ne-viewer-body .ne-spacing-bottom {\n  margin-bottom: 16px;\n}\n.ne-viewer .ant-radio-inner:after {\n  display: block;\n}\n.ne-viewer ne-hole {\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n}\n.ne-viewer ne-hole.ne-spacing-all:first-child {\n  margin-top: 0;\n}\n.ne-viewer ne-hole.ne-spacing-top:first-child {\n  margin-top: 0;\n}\n.ne-viewer ne-card {\n  position: relative;\n  text-indent: 0;\n}\n.ne-viewer ne-card:hover .ne-card-side-placeholder,\n.ne-viewer ne-card.ne-card-hovered .ne-card-side-placeholder {\n  display: flex;\n}\n.ne-viewer ne-card .ne-card-side-placeholder {\n  position: absolute;\n  left: -30px;\n  display: none;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n}\n.ne-viewer ne-card.ne-card-mask:after {\n  content: \" \";\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 2;\n  cursor: not-allowed;\n}\n.ne-viewer ne-card[data-card-type=\"inline\"] {\n  display: inline-flex;\n  vertical-align: baseline;\n  max-width: 100%;\n  white-space: initial;\n}\n.ne-viewer ne-card[data-card-type=\"block\"] {\n  display: block;\n  width: calc(100% - 2px);\n  max-width: 100%;\n  border-radius: 4px;\n  border: 1px solid #eee;\n}\n.ne-viewer ne-card[data-card-type=\"block\"][data-card-name=\"yuque\"],\n.ne-viewer ne-card[data-card-type=\"block\"][data-card-name=\"localdoc\"] {\n  border: 1px solid #d9d9d9;\n}\n.ne-viewer ne-card[data-card-type=\"block\"][data-card-name=\"hr\"] {\n  border: 1px solid transparent;\n}\n.ne-viewer ne-card[data-card-type=\"block\"].ne-card-hovered {\n  border: 1px solid #ccc;\n}\n.ne-viewer ne-card[data-card-type=\"block\"].ne-max.ne-focused {\n  border: 0;\n}\n.ne-viewer ne-card[data-card-type=\"block\"] .ne-card-container {\n  overflow: hidden;\n  border-radius: 4px;\n  width: 100%;\n  background-color: #fff;\n}\n.ne-viewer .ne-viewer-b-filler {\n  display: inline;\n  text-indent: 0;\n  min-width: 1px;\n  vertical-align: baseline;\n  font-size: 1em;\n  height: 1em;\n  user-select: none;\n}\n.ne-viewer .ne-ui-container-toolbar-trigger {\n  cursor: pointer;\n}\n.ne-viewer .ne-inner-overlay-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 411;\n}\n@media print {\n  .ne-viewer ne-hole {\n    break-inside: avoid-page;\n  }\n}\n"),FN('.ne-viewer .ne-viewer-header {\n  background-color: #fff;\n  display: none;\n  border-bottom: 1px solid #E9E9E9;\n  height: 55px;\n}\n.ne-viewer .ne-viewer-header .ne-ui-exit-max-view-btn {\n  background: url("https://gw.alipayobjects.com/zos/bmw-prod/09ca6e30-fd03-49ff-b2fb-15a2fbd8042a.svg") no-repeat left center;\n  border: none;\n  outline: none;\n  color: #595959;\n  cursor: pointer;\n  height: 54px;\n  line-height: 54px;\n  margin-left: 36px;\n  padding: 0 30px 0 24px;\n}\n.ne-viewer .ne-viewer-header .ne-ui-exit-max-view-btn:hover {\n  color: #8C8C8C;\n}\n.ne-viewer.ne-ui-max-view .ne-viewer-header {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 1032;\n}\n.ne-viewer.ne-ui-max-view .ne-viewer-body {\n  height: calc(100% - 54px);\n  position: relative;\n  padding-top: 1px;\n  background: #fff;\n}\n.ne-viewer.ne-ui-max-view .ne-ui-max-view-node {\n  position: fixed;\n  top: 54px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1032;\n  width: auto;\n  height: auto!important;\n  overflow: auto;\n}\n.ne-viewer.ne-ui-max-view .ne-ui-max-view-node ne-card-root,\n.ne-viewer.ne-ui-max-view .ne-ui-max-view-node .ne-card-container {\n  height: 100%!important;\n}\n.ne-viewer.ne-ui-max-view ne-hole.ne-spacing-all {\n  margin: 0!important;\n}\n.ne-viewer.ne-ui-max-view .ne-container-toolbar {\n  display: none;\n}\n'),FN('.ne-viewer[data-viewer-mode="present"] {\n  font-size: 1.8rem;\n  line-height: 2.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-text {\n  font-size: inherit;\n}\n.ne-viewer[data-viewer-mode="present"] .ne-viewer-body .ne-spacing-all {\n  margin-top: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n.ne-viewer[data-viewer-mode="present"] .ne-viewer-body .ne-spacing-top {\n  margin-top: 1.5rem;\n}\n.ne-viewer[data-viewer-mode="present"] .ne-viewer-body .ne-spacing-bottom {\n  margin-bottom: 1.5rem;\n}\n'),FN('@media print {\n  .ne-viewer ne-card[data-card-name="math"],\n  .ne-viewer ne-card[data-card-name="image"],\n  .ne-viewer ne-card[data-card-name="file"],\n  .ne-viewer ne-hole,\n  .ne-viewer table tr {\n    page-break-inside: avoid;\n  }\n  .ne-viewer .CodeMirror pre {\n    /* 保证导出、打印时超长内容不被隐藏 */\n    white-space: pre-wrap;\n    word-wrap: break-word;\n  }\n}\n');var lK=function(e){u()(i,aC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_mountDOMNode",null),m()(l()(n),"_option",null),m()(l()(n),"_kernel",null),m()(l()(n),"_registry",null),m()(l()(n),"_iViewer",null),m()(l()(n),"_viewerDoc",null),m()(l()(n),"_renderer",null),m()(l()(n),"_plugins",{}),m()(l()(n),"_vLayerManager",null),n._mountDOMNode=e,n._option=new kZ(l()(n),t),n._kernel=new fc(t),n._registry=new WC,n._vLayerManager=new cK(l()(n),e),n._iViewer=new xZ(l()(n),n._vLayerManager.domRootNode),n._$commandUnderlay=n._kernel,n._init(t),n}return a()(i,[{key:"_init",value:function(e){var t=this,n=this._iViewer,r=this._kernel,o=this._option.disabledPlugins,a=r.iKernel;Object.keys(i.PLUGINS).forEach((function(c){if(!o.includes(c)){var l=i.PLUGINS[c],s=l.PluginOption,u=null;s&&(br(s.OptionName,"F:viewer/index;L:114"),(u=new s(e[s.OptionName])).kernelOption=r.option);var d=new l(n,a,u);br(d instanceof JZ,"F:viewer/index;L:121"),d.init(n,a),t._plugins[c]=d}})),this._kernel.model.on("document.create",(function(e){t._viewerDoc=new HZ(t._iViewer,t._registry,e,t._vLayerManager.viewerBodyNode),t._viewerDoc.once("ready",(function(){t._renderer=new $Z(t,t._viewerDoc),t._renderer.on("ready",(function(){t._iViewer.emit("ready"),t.emit("ready"),t.loaded()})),t._renderer.render()}))})),this._kernel.model.on("document.destroy",(function(){t._viewerDoc.destroy()})),this._kernel.iKernel.onPluginEvent("dynamicDataRecordChange",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.emit.apply(t,["dynamicDataChange"].concat(n))}))}},{key:"destroy",value:function(){var e=this;this.emit("beforedestroy"),Object.keys(this._plugins).forEach((function(t){e._plugins[t].destroy()})),this._plugins=null,this._option=null,this._iViewer.destroy(),this._iViewer=null,this._registry.destroy(),this._registry=null,this._viewerDoc.destroy(),this._viewerDoc=null,this._renderer.destroy(),this._renderer=null,this._vLayerManager.destroy(),this._vLayerManager=null,this._mountDOMNode=null,this._domRootNode=null}},{key:"option",get:function(){return this._option}},{key:"iViewer",get:function(){return this._iViewer}},{key:"iKernel",get:function(){return this._kernel.iKernel}},{key:"domRootNode",get:function(){return this._vLayerManager.domRootNode}},{key:"viewerBodyNode",get:function(){return this._vLayerManager.viewerBodyNode}},{key:"overlayContainer",get:function(){return this._vLayerManager.overlayContainer}},{key:"innerOverlayContainer",get:function(){return this._vLayerManager.innerOverlayContainer}},{key:"getRenderDOMNode",value:function(){return this._vLayerManager.viewerBodyNode}},{key:"setDocument",value:function(){var e;(e=this._kernel).setDocument.apply(e,arguments)}},{key:"getDocument",value:function(e,t){return this._kernel.getDocument(e,t)}},{key:"registerAttrTranslator",value:function(e,t){return this._registry.registerAttrTranslator(e,t)}},{key:"registerInlineCard",value:function(e,t,n){return this._registry.registerInlineCard(e,t,n)}},{key:"registerBlockCard",value:function(e,t,n){return this._registry.registerBlockCard(e,t,n)}},{key:"registerBoxNode",value:function(e,t,n){return this._registry.registerBoxNode(e,t,n)}},{key:"sendMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.emit.apply(this,["message"].concat(t))}},{key:"onMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.on.apply(this,["message"].concat(t))}},{key:"getViewerContext",value:function(){var e=[];return this.iKernel.hasExtendMethod("getToc")&&(e=this.iKernel.getToc()),{outline:e}}},{key:"enterMaxViewById",value:function(e){var t=this.iKernel.document.getNodeById(e);if(t){var n=t._viewerNode;br(n,"F:viewer/index;L:285");var r=n.getMainDOMNode();n.hasCategory(Er.Table)&&(r=r.parentNode),this.enterMaxView(r)}}},{key:"enterMaxView",value:function(e,t,n,r,o){this.emit("beforeEnterMaxView",e,{id:null==n?void 0:n.id}),this._vLayerManager.enterMaxView(e,r,o)&&(this._iViewer.emit("enterMaxView"),this.emit("enterMaxView"))}},{key:"exitMaxView",value:function(){var e;this.emit("beforeLeaveMaxView"),(e=this._vLayerManager).exitMaxView.apply(e,arguments)&&(this._iViewer.emit("leaveMaxView"),this.emit("leaveMaxView"))}},{key:"loaded",value:function(){var e=this;Promise.all(Object.keys(this._plugins).map((function(t){return e._plugins[t].loaded()}))).then((function(){e._iViewer.emit("loaded"),e.emit("loaded")})).catch((function(t){console.error("viewer loaded error",t),e.emit("loaded")}))}}],[{key:"registerViewPlugin",value:function(e){Array.from(e).forEach((function(e){if(!e.PluginName)throw new Error("missing PluginName");i.PLUGINS[e.PluginName]=e}))}},{key:"registerKernelPlugin",value:function(e){return fc.registerPlugin(e)}}]),i}();m()(lK,"PLUGINS",{});var sK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_disabledItems",[]),m()(l()(e),"_filters",[]),e}return a()(i,[{key:"init",value:function(e){var t=this;this._disabledItems=x()(this.option.disabledItems),e.extendMethods({setDisabledMiniToolbarItems:function(e){t._setDisabledMiniToolbarItems(e)},addDisabledMiniToolbarItems:function(){t._addDisabledMiniToolbarItems.apply(t,arguments)},removeDisabledMiniToolbarItems:function(){t._removeDisabledMiniToolbarItems.apply(t,arguments)},getDisabledMiniToolbarItems:function(){return t._getDisabledMiniToolbarItems()},registerFilterMiniToolbarItems:function(e){t._registerFilterMiniToolbarItems(e)},getFilterMiniToolbarItems:function(e,n){return t._getFilterMiniToolbarItems(e,n)}})}},{key:"_addDisabledMiniToolbarItems",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r=this._disabledItems;t.forEach((function(e){r.includes(e)||r.push(e)})),this.iViewer.emitPluginEvent("requestRefreshToolbar")}}},{key:"_removeDisabledMiniToolbarItems",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length&&(this._disabledItems=this._disabledItems.filter((function(e){return!t.includes(e)})),this.iViewer.emitPluginEvent("requestRefreshToolbar"))}},{key:"_setDisabledMiniToolbarItems",value:function(e){this._disabledItems=e?x()(e):[],this.iViewer.emitPluginEvent("requestRefreshToolbar")}},{key:"_getDisabledMiniToolbarItems",value:function(){return x()(this._disabledItems)}},{key:"_registerFilterMiniToolbarItems",value:function(e){this._filters.push(e)}},{key:"_getFilterMiniToolbarItems",value:function(e,t){var n=[];return this._filters.some((function(r){var o=r(e,t);return!1===o||(n.push.apply(n,x()(o)),!1)})),n}}]),i}();m()(sK,"PluginName","miniToolbar"),m()(sK,"PluginOption",zH),FN(".ne-viewer a.ne-link {\n  cursor: pointer;\n}\n.ne-viewer a.ne-link ne-text {\n  color: var(--link-color);\n}\n");var uK=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){var e=this.modelNode.attrs||{},t=e.external,n=e.src,r={className:["ne-link"],href:gv.sanitizeUrl(n)||""};t&&(r.target="_blank"),this._rootNode=Xk("a",r)}},{key:"getMainDOMNode",value:function(){return this._rootNode}}]),i}();var dK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("link",uK)}}]),i}();m()(dK,"PluginName","link"),FN('.ne-viewer[data-viewer-mode="present"] ne-p {\n  line-height: unset;\n}\n');var fK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(fK,"PluginName","paragraph");var hK={anchor:!0,folding:!1},pK=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},hK,t)}return a()(e,[{key:"anchor",get:function(){return this._option.anchor}},{key:"folding",get:function(){return this._option.folding}}]),e}();m()(pK,"OptionName","heading");var vK={h1:1,h2:2,h3:3,h4:4,h5:5,h6:6,"ne-h1":1,"ne-h2":2,"ne-h3":3,"ne-h4":4,"ne-h5":5,"ne-h6":6};function mK(e){return e&&vK[e.toLowerCase()]||0}FN(".ne-viewer ne-h1:hover ne-heading-fold,\n.ne-viewer ne-h2:hover ne-heading-fold,\n.ne-viewer ne-h3:hover ne-heading-fold,\n.ne-viewer ne-h4:hover ne-heading-fold,\n.ne-viewer ne-h5:hover ne-heading-fold,\n.ne-viewer ne-h6:hover ne-heading-fold {\n  opacity: 1;\n}\n.ne-viewer ne-heading-fold {\n  display: block;\n  opacity: 0;\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.ne-viewer ne-heading-fold.ne-force-visible {\n  opacity: 1;\n}\n.ne-viewer ne-heading-fold:hover {\n  background: #F5F5F5;\n}\n.ne-viewer ne-heading-fold .ne-heading-folding-inner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ne-viewer .ne-force-fold {\n  display: none !important;\n}\n");var yK=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;return o()(this,i),n=r.call(this),m()(l()(n),"_headingNode",null),m()(l()(n),"_mountNode",null),m()(l()(n),"_foldNode",null),m()(l()(n),"_isOpen",!0),n._headingNode=e,n._mountNode=t,n._foldNode=Xk("ne-heading-fold"),t.appendChild(n._foldNode),n._render(),n}return a()(i,[{key:"destroy",value:function(){this._foldNode.remove(),this.removeAllListeners()}},{key:"open",value:function(){this._isOpen||this._toggle()}},{key:"_render",value:function(){var e=this;be.a.render(Re.a.createElement(Be.a,{trigger:"hover",mouseEnterDelay:1,mouseLeaveDelay:0,title:xm(this._isOpen?"收起":"展开")},Re.a.createElement("div",{className:nw("ne-heading-folding-inner",this._isOpen?"":"ne-heading-fold"),onMouseDown:function(e){return e.preventDefault()},onClick:function(){e._toggle()}},Re.a.createElement(oE,{iconfont:this._isOpen?"arrow-down":"arrow-right"}))),this._foldNode)}},{key:"_toggle",value:function(){this._isOpen=!this._isOpen,this._render();var e=this._headingNode.id,t=this._getFollowNodes();this._isOpen?(this._foldNode.classList.remove("ne-force-visible"),t.forEach((function(t){var n=t.getAttribute("data-fold-owner");n&&n!==e||(t.classList.remove("ne-force-fold"),t.removeAttribute("data-fold-owner"))}))):(this._foldNode.classList.add("ne-force-visible"),t.forEach((function(t){var n=t.getAttribute("data-fold-owner");n&&n!==e||(t.classList.add("ne-force-fold"),t.setAttribute("data-fold-owner",e))}))),this.emit("foldingStatusChange")}},{key:"_getFollowNodes",value:function(){var e=mK(this._headingNode.nodeName),t=[];if(!e)return t;for(var n=this._headingNode;n=n.nextElementSibling;){var r=mK(n.nodeName);if(!(0===r||r>e))break;t.push(n)}return t}}],[{key:"unfold",value:function(e){if(e){var t=document.querySelector('[id="'.concat(e,'"]'));t&&function(e){var t=mK(e.nodeName),n=[];if(!t)return n;n.push(e);for(var r=e;t>1&&(r=r.previousElementSibling);){var o=mK(r.nodeName);o&&o<t&&(t=o,n.push(r))}return n.reverse(),n}(t).forEach((function(e){var t,n,r;null===(t=e._neRef)||void 0===t||null===(n=t._instance)||void 0===n||null===(r=n.unfold)||void 0===r||r.call(n)}))}}}]),i}();var gK=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_extNode",null),m()(l()(e),"_anchorController",null),m()(l()(e),"_foldingController",null),e}return a()(i,[{key:"init",value:function(){var e=this,t=this.modelNode.nodeName;this._rootNode=Xk("ne-".concat(t)),this._rootNode.setAttribute("id",this.modelNode.id),this._rootNode.setAttribute("data-lake-id",this.modelNode.id),this._contentNode=Xk("ne-heading-content"),this._extNode=Xk("ne-heading-ext"),this._rootNode.appendChild(this._extNode),this._rootNode.appendChild(this._contentNode),this._allowShowAnchor()&&(this._anchorController=new VS(this._extNode,this.iViewer.option.currentURL,this.modelNode.id)),this._allowFolding()&&(this._foldingController=new yK(this._rootNode,this._extNode),this._foldingController.on("foldingStatusChange",(function(){var t;null===(t=e.pluginContext)||void 0===t||t.onFoldingStatusChange()})))}},{key:"destroy",value:function(){var e,t;null===(e=this._foldingController)||void 0===e||e.destroy(),null===(t=this._anchorController)||void 0===t||t.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"unfold",value:function(){var e;null===(e=this._foldingController)||void 0===e||e.open()}},{key:"_allowFolding",value:function(){var e,t;return!(null===(e=this.pluginContext)||void 0===e||null===(t=e.option)||void 0===t||!t.folding||!this.modelNode.parentNode.isRootNode())}},{key:"_allowShowAnchor",value:function(){var e,t;return!(null===(e=this.pluginContext)||void 0===e||null===(t=e.option)||void 0===t||!t.anchor||!this.modelNode.parentNode.isRootNode())}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}}]),i}();var bK=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this),m()(l()(t),"_iViewer",null),t._iViewer=e,t}return a()(i,[{key:"getState",value:function(){return 0}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e){if(!e)return!1;var t=this._iViewer.domRootNode.querySelector('[id="'.concat(e,'"]'));if(!t)return!1;var n=function(e){for(var t=null;e;){if(e._neRef){t=e._neRef;break}e=e.parentNode}if(!t||t.isRootNode())return null;for(;t;){var n=t.parentNode;if(!n||n.isRootNode())break;t=n}for(;t;){if(t.hasCategory(Er.Heading))return t;t=t.previousSibling}return null}(t);return!!n&&(yK.unfold(n.modelNode.id),!0)}}]),i}();FN('.ne-viewer[data-viewer-mode="present"] ne-h1,\n.ne-viewer[data-viewer-mode="present"] ne-h2,\n.ne-viewer[data-viewer-mode="present"] ne-h3,\n.ne-viewer[data-viewer-mode="present"] ne-h4,\n.ne-viewer[data-viewer-mode="present"] ne-h5,\n.ne-viewer[data-viewer-mode="present"] ne-h6 {\n  margin: 1.5rem 0;\n  font-weight: 500;\n}\n.ne-viewer[data-viewer-mode="present"] ne-h1 ne-text,\n.ne-viewer[data-viewer-mode="present"] ne-h2 ne-text,\n.ne-viewer[data-viewer-mode="present"] ne-h3 ne-text,\n.ne-viewer[data-viewer-mode="present"] ne-h4 ne-text,\n.ne-viewer[data-viewer-mode="present"] ne-h5 ne-text,\n.ne-viewer[data-viewer-mode="present"] ne-h6 ne-text {\n  font-size: inherit!important;\n  line-height: inherit!important;\n  font-weight: inherit!important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-h1 {\n  font-size: 3.2rem !important;\n  line-height: 4rem !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-h2 {\n  font-size: 2.8rem !important;\n  line-height: 3.6rem !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-h3 {\n  font-size: 2.4rem !important;\n  line-height: 3rem !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-h4 {\n  font-size: 2.2rem !important;\n  line-height: 2.6rem !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-h5,\n.ne-viewer[data-viewer-mode="present"] ne-h6 {\n  font-size: 2rem !important;\n  line-height: 2.6rem !important;\n}\n');var wK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode({h1:gK,h2:gK,h3:gK,h4:gK,h5:gK,h6:gK},this),e.registerCommand("tryUnfold",new bK(this.iViewer)),e.onPluginEvent("tocPositionChange",(function(e){yK.unfold(e)}))}},{key:"onFoldingStatusChange",value:function(){this.iViewer.emitPluginEvent("foldingStatusChange"),this.iViewer.emit("foldingStatusChange"),this.iViewer.emitEvent("foldingStatusChange")}}]),i}();m()(wK,"PluginName","heading"),m()(wK,"PluginOption",pK);var xK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e,t){t.on("document.create",(function(){var t=e.queryCommandValue("typography");e.domRootNode.classList.add("ne-typography-".concat(t))}))}}]),i}();m()(xK,"PluginName","typography"),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-card[data-card-name=\"label\"] .ne-card-container {\n  max-width: 200px;\n  display: flex;\n  align-items: center;\n}\nne-card[data-card-name=\"label\"] .ne-card-label {\n  width: 100%;\n}\nne-card[data-card-name=\"label\"] .ne-card-label-text {\n  white-space: nowrap;\n  border-radius: 4px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 12px;\n  line-height: 14px;\n  padding: 0 3px;\n  border: 2px solid transparent;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="label"] {\n  font-size: inherit;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="label"] .ne-card-label-text {\n  font-size: 85%;\n  line-height: 2.4rem;\n}\n');var _K=xy.getColors(),kK=[[_K[2][0],_K[6][0]],[_K[2][3],_K[6][3]],[_K[2][4],_K[6][4]],[_K[0][6],_K[0][2]],[_K[2][6],_K[6][6]],[_K[2][7],_K[6][7]]],CK=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this._calcStyle();return Re.a.createElement("div",{className:"ne-card-label"},Re.a.createElement("div",{className:"ne-card-label-text",style:e},this._getText()))}},{key:"_getText",value:function(){return this.props.cardData.getLabel()||xm("设置状态")}},{key:"_calcStyle",value:function(){var e=this.props.cardData,t=e.getColorIndex(),n=e.getLabel();return{background:kK[t][0],color:kK[t][1],opacity:n?1:.45}}}]),i}();m()(CK,"propTypes",{cardData:De.a.instanceOf(Ny).isRequired});var RK=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){YZ.render(CK,{cardData:this.cardData},this.containerNode)}}]),i}();var NK=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(NK,"$CardData",Ny),m()(NK,"$CardUI",RK);var EK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,"label",NK)}}]),i}();m()(EK,"PluginName","label"),FN('.ne-viewer ne-card[data-card-name="hr"] {\n  padding: 18px 0;\n}\n.ne-viewer ne-card[data-card-name="hr"] .ne-hr {\n  width: 100%;\n  height: 2px;\n  background: #e8e8e8;\n  border-top: 1px solid transparent;\n}\n');var OK=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("div",{className:"ne-hr"}),this.cardRootNode.appendChild(this._rootNode)}},{key:"getMainDOMNode",value:function(){return this._rootNode}}]),i}();FN('.ne-viewer[data-viewer-mode="present"] .ne-hr {\n  border: 0;\n  height: 4px;\n  background-color: #e8e8e8;\n  margin: 1em 0;\n}\n');var DK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"hr",OK)}}]),i}();function SK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SK(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(DK,"PluginName","hr"),FN('.ne-viewer ne-card[data-card-type="inline"][data-card-name="image"] {\n  display: inline-block;\n}\n'),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="image"] .ne-ui-image-maximize {\n  width: 3.2rem;\n  height: 3.2rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="image"] .ne-ui-image-maximize .ne-icon {\n  font-size: 1.8rem;\n}\n');var PK=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.ocr,r=e.lazyLoad,o=e.allowClickToMaximize;if(t.isValid()){var i=!t.getLink(),a=Re.a.createElement(cF,{lazyLoad:r,allowMaximize:!0,clickToMaximize:i&&o,cardData:t,ocr:n,onPreviewImage:this.props.onPreviewImage,onImageSizeResolved:this.props.onImageSizeResolved,resizeHostWhiteList:this.props.resizeHostWhiteList,resizeThreshold:this.props.resizeThreshold,onLoaded:this.props.onLoaded});if(t.getLink()){var c=t.isOpenLinkInSelf()?{}:{target:"_blank",rel:"noopener noreferrer"};return Re.a.cloneElement(a,BK(BK({},a.props),{},{linkProps:BK({href:gv.sanitizeUrl(t.getLink())},c)}))}return a}return Re.a.createElement(XP,{width:t.getDisplayWidth(),height:t.getDisplayHeight(),onLoaded:this.props.onLoaded})}}]),i}();m()(PK,"propTypes",{cardData:De.a.instanceOf(Fv).isRequired,ocr:De.a.bool,onPreviewImage:De.a.func,onImageSizeResolved:De.a.func,resizeHostWhiteList:De.a.array,resizeThreshold:De.a.number,onLoaded:De.a.func,lazyLoad:De.a.bool,allowClickToMaximize:De.a.bool});var FK=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"previewAllImage",(function(){var t=e.cardNode.getAllImages();if(t){var n=Object(Fe.getImageBrowser)(),r=0,o=t.map((function(t,n){return t.id===e.id&&(r=n),{src:t.src,msrc:t.src,w:t.width,h:t.height,layoutSelf:t.layoutSelf}}));n.open(o,r)}})),e}return a()(i,[{key:"isAsyncUI",value:function(){return!0}},{key:"init",value:function(){var e=this;this.uiViewProxy=YZ.render(PK,{cardData:this.cardData,ocr:this.pluginOption.isShowOcr(),resizeHostWhiteList:this.pluginOption.resizeHostWhiteList,resizeThreshold:this.pluginOption.resizeThreshold,lazyLoad:this.pluginOption.lazyLoad,allowClickToMaximize:this.pluginOption.allowClickToMaximize,onPreviewImage:this.previewAllImage,onImageSizeResolved:function(t){var n=t.width,r=t.height;e.cardData.setImageOriginSize(n,r)},onLoaded:function(){e.loaded()}},this.containerNode),this.cardData.showTitle()&&this.cardRootNode.classList.add("ne-image-card-show-title")}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();var TK=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_iEditor",null),m()(l()(e),"_descriptor",null),m()(l()(e),"_cardUI",null),e}return a()(i,[{key:"init",value:function(){this._cardUI=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){var e;null===(e=this._cardUI)||void 0===e||e.destroy(),this._cardUI=null}},{key:"getAllImages",value:function(){var e=this.plugin.cardNodes;return e?e.map((function(e){var t=e.cardData,n=t.getPreviewSrc();if(!n)return null;var r={id:e.id,src:n,width:t.getRotationCropWidth(),height:t.getRotationCropHeight()};return t.isAfterEdit()&&t.isAfterEdit()&&(r.layoutSelf=function(){var e=document.createElement("div");return null!=n&&n.startsWith("javascript:")||(e.innerHTML='<div style="'.concat(zP.toDivInlineStyle(t),'"></div>')),e}),r})).filter(Boolean):null}}]),i}();m()(TK,"$CardUI",FK),m()(TK,"$CardData",Fv),FN("");var MK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,"image",TK)}}]),i}();m()(MK,"PluginName","image"),m()(MK,"PluginOption",TP);var LK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator({bold:new kD("bold"),italic:new kD("italic"),underline:new kD("underline"),strikethrough:new kD("strikethrough")})}}]),i}();m()(LK,"PluginName","basicTextStyle");var AK=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_indexNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("ne-uli"),this._indexNode=Xk("ne-uli-i"),this._contentNode=Xk("ne-uli-c",{className:"ne-uli-content"}),this._contentNode.setAttribute("id",this.modelNode.id),this._contentNode.setAttribute("data-lake-id",this.modelNode.id),this._resetIndexSymbol(),this._rootNode.appendChild(this._indexNode),this._rootNode.appendChild(this._contentNode)}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_resetIndexSymbol",value:function(){this._indexNode.innerHTML='<span class="ne-list-symbol"><span>'.concat(this._getIndexText(),"</span></span>"),MD(this._indexNode,this.modelNode.attrs.indexStyle)}},{key:"_getIndexText",value:function(){var e=this.modelNode.attrs.level;return ff(void 0===e?0:e)}}]),i}();var IK=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_indexNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("ne-oli"),this._indexNode=Xk("ne-oli-i"),this._contentNode=Xk("ne-oli-c",{className:"ne-oli-content"}),this._resetIndexSymbol(),this._contentNode.setAttribute("id",this.modelNode.id),this._contentNode.setAttribute("data-lake-id",this.modelNode.id),this._rootNode.appendChild(this._indexNode),this._rootNode.appendChild(this._contentNode)}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_resetIndexSymbol",value:function(){this._indexNode.innerHTML='<span class="ne-list-symbol"><span>'.concat(this._getIndexText(),"</span></span>"),MD(this._indexNode,this.modelNode.attrs.indexStyle)}},{key:"_getIndexText",value:function(){var e=this.modelNode.attrs,t=e.index,n=e.level;return pf(t,void 0===n?0:n)}}]),i}();function jK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jK(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zK=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_checkbox",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_checkedClassName","ant-checkbox-checked"),m()(l()(e),"_taskListModel",null),m()(l()(e),"_enableDynamic",!1),e}return a()(i,[{key:"init",value:function(e){this._enableDynamic=this.pluginContext.option.enableDynamic,this._rootNode=Xk("ne-tli"),this._checkbox=Xk("ne-tli-i",{className:["ant-checkbox",this.modelNode.attrs.checked?this._checkedClassName:"",this._enableDynamic?"":"ne-checkbox-cursor-default"]}),this._checkbox.appendChild(Xk("span",{className:"ant-checkbox-inner"})),this._contentNode=Xk("ne-tli-c",{className:"ne-oli-content"}),this._contentNode.setAttribute("id",this.modelNode.id),this._contentNode.setAttribute("data-lake-id",this.modelNode.id),this._rootNode.appendChild(this._checkbox),this._rootNode.appendChild(this._contentNode),aK.setAttributeByChange(this._rootNode,e),this._enableDynamic&&this._initDynamic()}},{key:"_getSheetId",value:function(){return ef(this.modelNode.id)}},{key:"_initDynamic",value:function(){var e=this;if(this.iViewer.iKernel.hasExtendMethod("getDynamicDataRecordByCardId")){var t=this.iViewer.iKernel.getDynamicDataRecordByCardId(this._getSheetId());t&&this._initTaskListModel(t)}wR(this,this._checkbox,"click",(function(){e.iViewer.execCommand("taskStatus",e.modelNode.id)}),!1)}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"updateAttribute",value:function(e){this.syncAttr(),this._enableDynamic&&this.syncDataModel(),aK.syncDOMAttrChange(this._rootNode,e)}},{key:"syncAttr",value:function(){this.modelNode.attrs.checked?this._checkbox.classList.add(this._checkedClassName):this._checkbox.classList.remove(this._checkedClassName)}},{key:"syncDataModel",value:function(){this._taskListModel||this._initTaskListModel(),this._taskListModel.setChecked(!!this.modelNode.attrs.checked),this._taskListModel.setVersion(this.modelNode.attrs.version),this._taskListModel.sync()}},{key:"_initTaskListModel",value:function(e){var t=this.iViewer.iKernel;this._taskListModel=new jD(t,VK(VK({},t.getDynamicDataBaseParams()),{},{sheetId:this._getSheetId(),viewType:"TASK_LIST"}),e)}}]),i}();FN(".ne-viewer ne-tli .ne-checkbox-cursor-default {\n  cursor: default;\n}\n.ne-viewer ne-tli ne-tli-i:hover .ant-checkbox-inner {\n  border-color: #d9d9d9;\n}\n.ne-viewer ne-tli ne-tli-i.ant-checkbox-checked:hover .ant-checkbox-inner {\n  border-color: #1890ff;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] ne-tli .ant-checkbox-inner {\n  width: 32px;\n  height: 32px;\n}\n.ne-viewer[data-viewer-mode="present"] ne-tli .ant-checkbox-checked .ant-checkbox-inner::after {\n  width: 12px;\n  height: 20px;\n}\n.ne-viewer[data-viewer-mode="present"] ne-uli,\n.ne-viewer[data-viewer-mode="present"] ne-oli,\n.ne-viewer[data-viewer-mode="present"] ne-tli {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-uli ne-oli-i,\n.ne-viewer[data-viewer-mode="present"] ne-oli ne-oli-i,\n.ne-viewer[data-viewer-mode="present"] ne-tli ne-oli-i,\n.ne-viewer[data-viewer-mode="present"] ne-uli ne-uli-i,\n.ne-viewer[data-viewer-mode="present"] ne-oli ne-uli-i,\n.ne-viewer[data-viewer-mode="present"] ne-tli ne-uli-i,\n.ne-viewer[data-viewer-mode="present"] ne-uli ne-tli-i,\n.ne-viewer[data-viewer-mode="present"] ne-oli ne-tli-i,\n.ne-viewer[data-viewer-mode="present"] ne-tli ne-tli-i {\n  text-align: left;\n  min-width: auto;\n}\n');var UK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("oli",IK),e.registerBoxNode("uli",AK),e.registerBoxNode("tli",zK,this),e.registerAttrTranslator({level:new FD})}}]),i}();m()(UK,"PluginName","list"),m()(UK,"PluginOption",Md);var HK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("alignment",new LS)}}]),i}();m()(HK,"PluginName","alignment");var qK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("bgColor",new ED)}}]),i}();m()(qK,"PluginName","bgColor");var WK=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("ne-code"),this._contentNode=Xk("ne-code-content"),this._rootNode.appendChild(this._contentNode),this._updateFontSize()}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_updateFontSize",value:function(){var e=Math.max.apply(Math,x()(this.modelNode.children.map((function(e){return e.attrs.fontsize||0}))));this._contentNode.style.fontSize=0===e?"":e+"px"}}]),i}();var ZK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("code",WK)}}]),i}();m()(ZK,"PluginName","code");var KK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("color",new RD)}}]),i}();m()(KK,"PluginName","color"),FN('.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="12"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="13"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="13"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="14"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="15"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="16"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="19"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="22"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="24"],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="29"] {\n  font-size: 1.8rem;\n  line-height: 2.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="32"] {\n  font-size: 32px;\n  line-height: 2.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="40"] {\n  font-size: 40px;\n}\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-fontsize="48"] {\n  font-size: 48px;\n}\n');var $K=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("fontsize",new DD)}}]),i}();m()($K,"PluginName","fontsize");var JK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator({indent:new HS("indent"),textIndent:new HS("text-indent")})}}]),i}();m()(JK,"PluginName","indent");var YK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("lineHeight",new xB)}}]),i}();m()(YK,"PluginName","lineHeight"),FN('.ne-viewer[data-viewer-mode="present"] ne-quote ne-p,\n.ne-viewer[data-viewer-mode="present"] ne-quote ne-uli,\n.ne-viewer[data-viewer-mode="present"] ne-quote ne-oli,\n.ne-viewer[data-viewer-mode="present"] ne-quote ne-tli,\n.ne-viewer[data-viewer-mode="present"] ne-quote ne-quote {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n');var GK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();m()(GK,"PluginName","quote");var XK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){var t=this,n=e.domRootNode;wR(this,document,"keydown",(function(e){if(jE.isChar(e,"A")&&(e.metaKey||e.ctrlKey)){var r=document.getSelection();if(0===r.rangeCount)return e.preventDefault(),void t._selectAll(e);var o=r.getRangeAt(0).commonAncestorContainer;n.contains(o)&&!kd(o,"ne-card",n)&&(e.preventDefault(),t._selectAll())}}))}},{key:"_selectAll",value:function(){var e=document.createRange();e.selectNodeContents(this.iViewer.domRootNode),document.getSelection().removeAllRanges(),document.getSelection().addRange(e)}}]),i}();m()(XK,"PluginName","selectAll"),FN(".ne-viewer [ne-sup],\n.ne-viewer [ne-sub] {\n  z-index: initial;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] ne-text[ne-sup],\n.ne-viewer[data-viewer-mode="present"] ne-text[ne-sub] {\n  font-size: 75%;\n}\n');var QK=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator({sub:new hL("sub"),sup:new hL("sup")})}}]),i}();m()(QK,"PluginName","subscript");var e$=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_contentNode",null),m()(l()(e),"_breakNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("td",{className:"ne-td"}),this._contentNode=Xk("div",{className:"ne-td-content"}),this._breakNode=Xk("div",{className:"ne-td-break",contentEditable:!1}),this._rootNode.appendChild(this._contentNode),this._rootNode.appendChild(this._breakNode)}},{key:"destroy",value:function(){}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}}]),i}();var t$=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("tr",{className:"ne-tr"})}},{key:"getMainDOMNode",value:function(){return this._rootNode}}]),i}();var n$=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_innerWrapNode",null),m()(l()(e),"_tableNode",null),m()(l()(e),"_contentNode",null),m()(l()(e),"_vToolbar",null),m()(l()(e),"getToolbarConfig",(function(){var t=e.id,n=[{name:"widthMode",onClick:function(){e._toggleWidthMode(t)}},"maximize"];return e._filterWidthMode(n)})),e}return a()(i,[{key:"id",get:function(){return this.modelNode.id}},{key:"init",value:function(){var e,t,n,r=this,o=[];!1===(null===(e=this.modelNode)||void 0===e||null===(t=e.attrs)||void 0===t?void 0:t.borderVisible)&&o.push("ne-table-hide-border"),this._rootNode=Xk("ne-table-wrap",{className:o}),this._rootNode.setAttribute("id",this.modelNode.id),this._rootNode.setAttribute("data-lake-id",this.modelNode.id),this._innerWrapNode=Xk("ne-table-inner-wrap"),this._tableNode=Xk("table",{className:"ne-table"}),this._contentNode=Xk("tbody",{className:"ne-table-inner"});var i=(null===(n=this.modelNode.attrs)||void 0===n?void 0:n.colWidths)||[],a=i.reduce((function(e,t){return e+t}),0),c=[];i.forEach((function(e,t){c[t]="".concat((e/a*100).toFixed(2),"%")}));var l=this.iViewer.option.viewerMode===mZ;if(this._tableNode.innerHTML=function(e){var t=e.length-1,n=e.map((function(e,n){return n===t&&(e-=1),'<col width="'.concat(e,'">')}));return"<colgroup>".concat(n.join(""),"</colgroup>")}(l?c:i),l){var s=this.iViewer.getViewerDisplayWidth();a<s&&(this._tableNode.style.width=a+"px")}else this._tableNode.style.width=a+"px";var u=Xk("ne-table-box");u.appendChild(this._tableNode),this._tableNode.appendChild(this._contentNode),this._innerWrapNode.appendChild(u),this._rootNode.appendChild(this._innerWrapNode),this.iViewer.option.disableToolbar||(this._vToolbar=new iK(this.iViewer,this,this._rootNode,{getWidthMode:function(){return r.iViewer.queryCommandValue("tableToggleWidthMode",r.id)}},this.getToolbarConfig,this.getContainerToolbarConfig)),this.iViewer.onPluginEvent("viewSizeChange",(function(){r._resetShadow()}))}},{key:"$afterInit",value:function(){var e,t,n=this;null===(e=this._vToolbar)||void 0===e||e.init(),!1===(null===(t=this.modelNode.attrs)||void 0===t?void 0:t.spacing)&&this._rootNode.parentNode.setAttribute("data-no-spacing",!0);var r=null;wR(this,this._innerWrapNode,"scroll",(function(){r&&clearTimeout(r),r=setTimeout((function(){n._resetShadow()}),32)}),{passive:!0}),setTimeout((function(){n._resetShadow()}),32),this._refreshWidthMode()}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"updateAttribute",value:function(){this._refreshWidthMode(),this._resetShadow(),this._vToolbar.refresh()}},{key:"getContainerToolbarConfig",value:function(){return{items:["copyLink","|","maximize"]}}},{key:"_filterWidthMode",value:function(e){var t=this.iViewer.queryCommandValue("tableToggleWidthMode",this.id);return this._innerWrapNode.offsetWidth>=this._tableNode.offsetWidth&&"contain"!==t&&(e=e.filter((function(e){return"widthMode"!==e.name}))),e}},{key:"enterMaxView",value:function(e){var t=this;this.beforeMaximizeChanged(!0),this.hideAllToolbar(),this.destroyToolbar(),this.iViewer.enterMaxView(this._rootNode.parentNode,e,this,(function(){t.beforeMaximizeChanged(!1)}),(function(){Promise.resolve().then((function(){t.showAllToolbar()})),t.afterMaximizeChanged(!1)})),this.afterMaximizeChanged(!0)}},{key:"showAllToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.showToolbar()}},{key:"hideAllToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.hideToolbar()}},{key:"destroyToolbar",value:function(){var e;null===(e=this._vToolbar)||void 0===e||e.destroyToolbar()}},{key:"beforeMaximizeChanged",value:function(){}},{key:"afterMaximizeChanged",value:function(){this._resetShadow()}},{key:"_resetShadow",value:function(){var e=this._rootNode,t=this._innerWrapNode,n=t.scrollLeft,r=t.scrollWidth,o=e.classList,i=n>0,a=!1;t.clientWidth+n<r&&(a=!0),i?o.add("ne-ui-table-left-shadow"):o.remove("ne-ui-table-left-shadow"),a?o.add("ne-ui-table-right-shadow"):o.remove("ne-ui-table-right-shadow")}},{key:"_refreshWidthMode",value:function(){var e,t,n=this._rootNode.parentNode;n&&("contain"===(null===(e=this.modelNode)||void 0===e||null===(t=e.attrs)||void 0===t?void 0:t.widthMode)?n.classList.add("ne-full-width"):n.classList.remove("ne-full-width"))}},{key:"_toggleWidthMode",value:function(e){this.iViewer.execCommand("tableToggleWidthMode",e)}}]),i}();FN(".viewer-card {\n  position: relative;\n}\n.viewer-card:hover .ne-card-side-placeholder,\n.viewer-card.ne-card-hovered .ne-card-side-placeholder {\n  display: flex;\n}\n.viewer-card .ne-card-side-placeholder {\n  position: absolute;\n  left: -30px;\n  display: none;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n}\n.ne-viewer ne-table-hole.ne-max {\n  background-color: #FAFAFA;\n  overflow: auto;\n  margin: 0!important;\n  padding: 20px;\n}\n.ne-viewer ne-table-hole {\n  display: block;\n}\n.ne-viewer ne-table-wrap {\n  position: relative;\n}\n.ne-viewer ne-table-wrap:hover .ne-card-side-placeholder,\n.ne-viewer ne-table-wrap.ne-card-hovered .ne-card-side-placeholder {\n  display: flex;\n}\n.ne-viewer ne-table-wrap .ne-card-side-placeholder {\n  position: absolute;\n  left: -30px;\n  display: none;\n  top: 0;\n  bottom: 0;\n  width: 30px;\n}\n.ne-viewer ne-table-wrap.ne-ui-table-left-shadow::before {\n  margin-top: 0;\n  top: 14px;\n}\n.ne-viewer ne-table-wrap.ne-ui-table-right-shadow::after {\n  margin-top: 0;\n  top: 14px;\n}\n.ne-viewer ne-table-inner-wrap {\n  line-height: 0;\n  padding-top: 14px;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] .ne-table {\n  width: 100% !important;\n}\n.ne-viewer[data-viewer-mode="present"] .ne-table .ne-tr {\n  height: 3.5rem;\n}\n.ne-viewer[data-viewer-mode="present"] .ne-table .ne-tr .ne-th,\n.ne-viewer[data-viewer-mode="present"] .ne-table .ne-tr .ne-td {\n  font-size: 1.8rem;\n  line-height: 2.8rem;\n}\n'),FN('.ne-viewer[data-viewer-mode="simple"] .ne-table {\n  width: 100%;\n}\n');var r$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode({table:n$,tr:t$,td:e$}),e.registerAttrTranslator({width:new KD,height:new KD,rowSpan:new $D,colSpan:new $D,col:new JD,cellBgColor:new YD,verticalAlign:new GD}),e.hasExtendMethod("registerFilterMiniToolbarItems")&&e.registerFilterMiniToolbarItems(NB)}}]),i}();m()(r$,"PluginName","table");var o$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){YZ.render(SA,{cardData:this.cardData},this.containerNode)}}]),i}();var i$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(i$,"$CardData",Vb),m()(i$,"$CardUI",o$);var a$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,ab,i$)}}]),i}();m()(a$,"PluginName",ib),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="math"] .ne-math-viewer img {\n  width: 150% !important;\n  height: 150% !important;\n}\n');var c$=function(e){u()(i,Ce.PureComponent);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.url,r=e.error;return n?Re.a.createElement("span",{className:"ne-math-viewer"},Re.a.createElement(gI,{url:n,onReady:this.props.onLoaded})):r?Re.a.createElement("span",{className:"ne-math-code"},t.code):t.isEmpty()?Re.a.createElement("span",{className:"ne-math-placeholder"},xm("添加 Tex 公式")):null}}]),i}();m()(c$,"propTypes",{cardData:De.a.instanceOf(dw),preview:De.a.func.isRequired,url:De.a.string,error:De.a.string,onLoaded:De.a.func}),m()(c$,"defaultProps",{onLoaded:function(){}});var l$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_option",null),m()(l()(e),"_previewer",null),m()(l()(e),"_ui",null),m()(l()(e),"updateProps",(function(t){e._ui.rerender(t)})),m()(l()(e),"_syncUrl",(function(t){e.cardData.update({url:t}),e.cardData.sync(!0)})),m()(l()(e),"_checkMathImage",(function(e,t){var n=new Image;n.addEventListener("error",(function(){null==t||t()})),n.src=e})),m()(l()(e),"_setMathImage",xe()(ke.a.mark((function t(){var n;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cardData.isEmpty()){t.next=2;break}return t.abrupt("return");case 2:if(!(n=e.cardData.url)){t.next=7;break}return e.updateProps({url:n}),e._checkMathImage(n,e._genPreviewUrl),t.abrupt("return");case 7:return t.next=9,e._genPreviewUrl();case 9:case"end":return t.stop()}}),t)})))),m()(l()(e),"_genPreviewUrl",xe()(ke.a.mark((function t(){var n,r,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cardData.code,t.next=3,e._previewer.preview({type:"latex",code:n});case 3:if((r=t.sent).success){t.next=7;break}return e.updateProps({error:r.message}),t.abrupt("return");case 7:o=YP(r.svg),e.updateProps({url:o});case 9:case"end":return t.stop()}}),t)})))),e}return a()(i,[{key:"getResizerConfig",value:function(){return!1}},{key:"isAsyncUI",value:function(){return!0}},{key:"init",value:function(){var e=this,t=this.cardData.toGraph();this._option=this.pluginOption,this._previewer=new lI({host:this._option.host,graph:t}),this._ui=YZ.render(c$,{cardData:this.cardData,error:null,preview:this._previewer.preview,onLoaded:function(){e.loaded()}},this.containerNode),setTimeout((function(){e._setMathImage().catch((function(){e.updateProps({error:new Error("math:image-load-error")})}))}))}}]),i}();var s$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(s$,"$CardData",dw),m()(s$,"$CardUI",l$);var u$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,Jg,s$)}}]),i}();function d$(e){var t=e.mode;return Re.a.createElement("span",{className:"ne-codeblock-mode-name"},function(e){return(qb.find((function(t){return t.value===e}))||qb[0]).name}(t))}function f$(e){var t=e.code;return Re.a.createElement("span",{className:"ne-codeblock-copy",onClick:function(){ZV(t)}},Re.a.createElement(oE,{type:"copy",size:14}),xm("复制代码"))}m()(u$,"PluginName",$g),m()(u$,"PluginOption",aI),d$.propTypes={mode:De.a.string},f$.propTypes={code:De.a.string},FN("/* stylelint-disable */\n/*!\n 本文件源码来源于老编辑器\n 定制了一些 codemirror 中内容的配色等基础样式，非特殊情况无需修改\n */\n/* BASICS */\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  color: black;\n  direction: ltr;\n}\n/* PADDING */\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px;\n  /* Horizontal padding of content */\n}\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */\n}\n/* GUTTER */\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n.CodeMirror-guttermarker {\n  color: black;\n}\n.CodeMirror-guttermarker-subtle {\n  color: #999;\n}\n/* CURSOR */\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor .CodeMirror-line::selection,\n.cm-fat-cursor .CodeMirror-line > span::selection,\n.cm-fat-cursor .CodeMirror-line > span > span::selection {\n  background: transparent;\n}\n.cm-fat-cursor .CodeMirror-line::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span > span::-moz-selection {\n  background: transparent;\n}\n.cm-fat-cursor {\n  caret-color: transparent;\n}\n@-moz-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@-webkit-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n/* Can style cursor different in overwrite (non-insert) mode */\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit;\n}\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n/* DEFAULT THEME */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n.cm-s-default .cm-keyword {\n  color: #708;\n}\n.cm-s-default .cm-atom {\n  color: #219;\n}\n.cm-s-default .cm-number {\n  color: #164;\n}\n.cm-s-default .cm-def {\n  color: #00f;\n}\n.cm-s-default .cm-variable-2 {\n  color: #05a;\n}\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #085;\n}\n.cm-s-default .cm-comment {\n  color: #a50;\n}\n.cm-s-default .cm-string {\n  color: #a11;\n}\n.cm-s-default .cm-string-2 {\n  color: #f50;\n}\n.cm-s-default .cm-meta {\n  color: #555;\n}\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #30a;\n}\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #170;\n}\n.cm-s-default .cm-attribute {\n  color: #00c;\n}\n.cm-s-default .cm-hr {\n  color: #999;\n}\n.cm-s-default .cm-link {\n  color: #00c;\n}\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n/* STOP */\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n.CodeMirror-scroll {\n  overflow: scroll !important;\n  /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px;\n  margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0;\n}\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent;\n}\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent;\n}\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n}\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px;\n  /* Force widget margins to stay inside of the container */\n}\n.CodeMirror-rtl pre {\n  direction: rtl;\n}\n.CodeMirror-code {\n  outline: none;\n}\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre {\n  position: static;\n}\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n.CodeMirror-selected {\n  background: #d9d9d9;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0;\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: #d7d4f0;\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0;\n}\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, 0.4);\n}\n/* Used to force a border model for a node */\n.cm-force-border {\n  padding-right: 0.1px;\n}\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n/* See issue #2901 */\n.cm-tab-wrap-hack:after {\n  content: '';\n}\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext {\n  background: none;\n}\n/*!\n 本文件源码来源于老编辑器\n 定制了一些 codemirror 中内容的配色等基础样式，非特殊情况无需修改\n */\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n.CodeMirror {\n  background: none;\n  /* 字体参照 github，考虑和 14px 文字在一起排版，字号用 13px */\n  font-family: SFMono-Regular, Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n  font-size: 13.6px;\n  line-height: 1.45;\n  color: #595959;\n  direction: ltr;\n}\n.CodeMirror * {\n  box-sizing: unset;\n}\n.CodeMirror:hover .CodeMirror-scroll::-webkit-scrollbar-thumb,\n.CodeMirror.CodeMirror-focused .CodeMirror-scroll::-webkit-scrollbar-thumb,\n.CodeMirror:hover .CodeMirror-vscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror.CodeMirror-focused .CodeMirror-vscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror:hover .CodeMirror-hscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror.CodeMirror-focused .CodeMirror-hscrollbar::-webkit-scrollbar-thumb {\n  visibility: visible;\n}\n.CodeMirror .CodeMirror-scrollbar-filler,\n.CodeMirror .CodeMirror-gutter-filler {\n  background: transparent;\n}\n.CodeMirror .CodeMirror-lines {\n  padding-bottom: 24px;\n}\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box !important;\n  box-sizing: content-box !important;\n}\n.CodeMirror-gutters {\n  background: #fafafa;\n  border-color: #fafafa;\n  padding: 0 20px 0 6px;\n}\n.CodeMirror-scroll,\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar {\n  scrollbar-color: #bfbfbf transparent;\n}\n.CodeMirror-scroll::-webkit-scrollbar,\n.CodeMirror-vscrollbar::-webkit-scrollbar,\n.CodeMirror-hscrollbar::-webkit-scrollbar {\n  background-color: transparent;\n}\n.CodeMirror-scroll::-webkit-scrollbar-corner,\n.CodeMirror-vscrollbar::-webkit-scrollbar-corner,\n.CodeMirror-hscrollbar::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\n.CodeMirror-scroll::-webkit-scrollbar-thumb,\n.CodeMirror-vscrollbar::-webkit-scrollbar-thumb,\n.CodeMirror-hscrollbar::-webkit-scrollbar-thumb {\n  background-color: #bfbfbf;\n  border-radius: 16px;\n  border: 3.5px solid transparent;\n  background-clip: content-box;\n  visibility: hidden;\n}\n.CodeMirror-selected {\n  background: transparent;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: rgba(180, 213, 254, 0.5);\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: rgba(180, 213, 254, 0.5);\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: rgba(180, 213, 254, 0.5);\n}\n/* DEFAULT THEME (来源于老编辑器，定制了一套代码配色) */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n/* 以 codemirror 默认为蓝本，部分颜色用 github 及 prism.js */\n.cm-s-default .cm-keyword {\n  color: #d73a49;\n}\n/* use github */\n.cm-s-default .cm-atom {\n  color: #905;\n}\n/* false null 等常量，use prism.js */\n.cm-s-default .cm-number {\n  color: #005cc5;\n}\n/* use github */\n.cm-s-default .cm-def {\n  color: #005cc5;\n}\n/* use github */\n.cm-s-default .cm-variable-2 {\n  color: #005cc5;\n}\n/* use github 蓝色 */\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #22863a;\n}\n/* use github 绿色 */\n.cm-s-default .cm-comment {\n  color: #6a737d;\n}\n/* use github */\n.cm-s-default .cm-string {\n  color: #690;\n}\n/* 单行字符串，用 prism 颜色 origin #a11; */\n.cm-s-default .cm-string-2 {\n  color: #690;\n}\n/* 多行字符串，用 prism 颜色 origin #a11; */\n.cm-s-default .cm-meta {\n  color: #1f7f9a;\n}\n/* c #include、java annotation 等，采用 vscode default light+ 颜色 */\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #6f42c1;\n}\n/* use github */\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #22863a;\n}\n/* html tag 名，use github */\n.cm-s-default .cm-attribute {\n  color: #6f42c1;\n}\n/* html tag 属性名，use github */\n.cm-s-default .cm-hr {\n  color: #999;\n}\n/* md 语法 */\n.cm-s-default .cm-link {\n  color: #00c;\n}\n/* md 语法 */\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.cm-s-default .cm-operator {\n  color: #d73a49;\n}\n/* 用 github 颜色 */\n.cm-s-default .cm-property {\n  color: #005cc5;\n}\n/* 用 github 蓝色，和 cm-def 一致 */\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: transparent;\n}\n/* STOP */\n[data-card-name=\"codeblock\"] {\n  height: auto !important;\n}\n.ne-codeblock {\n  position: relative;\n  padding-top: 31px;\n  overflow: visible;\n  text-indent: 0;\n  background: #fafafa;\n  min-height: 81px;\n}\n.ne-codeblock .ne-embed-nav {\n  padding: 0 11px;\n}\n.ne-codeblock-content {\n  position: relative;\n  z-index: 2;\n  background: #fafafa;\n}\n.ne-codeblock-overlay {\n  /* Popover 最小高度以及默认边距都太大了，不符合当前场景 */\n}\n.ne-codeblock-overlay.ant-popover .ant-popover-content {\n  min-width: 125px;\n}\n.ne-codeblock-overlay .ant-popover-inner-content {\n  padding: 8px 16px;\n}\n.ne-codeblock-overlay .ne-codeblock-more-item {\n  padding: 0;\n  height: 28px;\n  color: #595959;\n  font-size: 14px;\n  line-height: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: default !important;\n}\n.ne-codeblock-overlay .ne-codeblock-more-item:hover {\n  background: none !important;\n}\n.ne-codeblock-height-limit .CodeMirror-scroll {\n  max-height: 12600px;\n}\n.CodeMirror-scroll {\n  min-height: 50px;\n}\n.ne-codeblock-more-button {\n  height: 24px;\n  width: 24px;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s;\n  cursor: pointer;\n}\n.ne-codeblock-more-button:hover,\n.ne-codeblock-more-button.ne-codeblock-more-active {\n  background-color: #e8e8e8;\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  word-break: normal;\n}\n.ne-codeblock-loading {\n  width: 50px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  margin-left: -25px;\n}\n.ne-code-viewer {\n  width: 100%;\n  height: auto!important;\n  padding-left: 6px;\n  background: #fafafa;\n}\n.ne-code-viewer .ne-codeblock-inner {\n  position: relative;\n  z-index: 2;\n  background: #fafafa;\n}\n.ne-code-viewer .ne-codeblock-height-limit .CodeMirror-scroll {\n  max-height: 12600px;\n}\n.ne-code-viewer .CodeMirror-scroll {\n  min-height: 50px;\n}\n.ne-code-viewer .CodeMirror-linenumber {\n  user-select: none;\n}\n.ne-code-viewer .ne-codeblock-mode-name {\n  padding-right: 6px;\n  font-size: 14px;\n  color: #8c8c8c;\n}\n.ne-code-viewer .CodeMirror-cursors {\n  display: none!important;\n}\n.ne-code-viewer .ne-codeblock-copy {\n  width: 76px;\n  padding: 0 6px;\n  font-size: 14px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n}\n.ne-code-viewer .ne-codeblock-copy:hover {\n  background: #e8e8e8;\n  border-radius: 4px;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] .ne-embed-nav {\n  padding-right: 1.5rem;\n  line-height: 1.3rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] .ne-codeblock-mode-name {\n  font-size: 1rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] .ne-codeblock-copy {\n  font-size: 1rem;\n  width: 5.2rem;\n  padding: 0 0.2em;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] .ne-codeblock-copy:hover {\n  border-radius: 0.2rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] .ne-codeblock-copy .ne-icon {\n  font-size: 1rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] pre {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="codeblock"] .CodeMirror-linenumber {\n  font-size: 1.2rem;\n  line-height: 2rem;\n}\n');var h$=function(e){u()(i,Ce.PureComponent);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),(t=r.call(this,e)).cmRootRef=Re.a.createRef(),t}return a()(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props.cardData,n=t.mode,r=t.code;setTimeout((function(){YA(e.cmRootRef.current,n,"",!0,e._getOptions()).then((function(t){r&&setTimeout((function(){t.setOption("value",r)}),100),e.props.onReady(e.cmRootRef.current.querySelector(".CodeMirror-scroll"))})).catch((function(e){console.warn(e)}))}),100)}},{key:"render",value:function(){var e=this.props.cardData,t=this._getOptions();return Re.a.createElement("div",{"data-codeblock-mode":e.mode,className:yt()("ne-code ne-codeblock ne-code-viewer",{"ne-codeblock-height-limit":e.isHeightLimit(),"ne-codeblock-auto-wrap":t.autoWrap}),theme:t.theme},Re.a.createElement(IA,{actions:[Re.a.createElement(d$,{key:"lang-name",mode:e.mode}),Re.a.createElement(f$,{key:"copy-button",code:e.code})]}),Re.a.createElement("div",{ref:this.cmRootRef,className:"ne-codeblock-inner"}),Re.a.createElement("div",{className:"ne-codeblock-loading"},Re.a.createElement(dt.a,{style:{fontSize:"24px"}})))}},{key:"_getOptions",value:function(){var e=this.props.cardData,t=e.theme,n=e.autoWrap;return this.props.viewerMode===mZ&&(n=!0),{theme:t,autoWrap:n}}}]),i}();m()(h$,"propTypes",{onReady:De.a.func,cardData:De.a.instanceOf(Kb),viewerMode:De.a.string}),m()(h$,"defaultProps",{onReady:function(){}}),FN(".ne-v-codeblock-hold {\n  position: absolute;\n  z-index: -1;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n}\n");var p$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_codeMirrorScrollNode",null),m()(l()(e),"resizeTarget",(function(){return e._codeMirrorScrollNode})),e}return a()(i,[{key:"getCardToolbarConfig",value:function(){return["widthMode"]}},{key:"init",value:function(){var e=this;YZ.render(h$,{cardData:this.cardData,viewerMode:this.iViewer.option.viewerMode,onReady:function(t){e._codeMirrorScrollNode=t,e.resizeCardHeight()}},this.containerNode);var t=Xk("span",{className:"ne-v-codeblock-hold"});t.innerText="​",this.cardRootNode.prepend(t)}}]),i}();var v$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(v$,"$CardData",Kb),m()(v$,"$CardUI",p$);var m$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,Qg,v$)}}]),i}();function y$(e){return new Promise((function(t,n){var r=new Image;r.src=e,r.crossOrigin="Anonymous",r.onload=function(){return t(r)},r.onerror=n}))}function g$(e){return e&&e.startsWith("data:image/svg+xml;")}function b$(e){return w$.apply(this,arguments)}function w$(){return(w$=xe()(ke.a.mark((function e(t){var n,r,o,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("canvas"),r=n.getContext("2d"),"",o=g$(t)?t:"data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(t))),e.next=6,y$(o);case 6:return i=e.sent,n.width=2*i.width,n.height=2*i.height,n.style.width=i.width+"px",n.style.height=i.height+"px",r.drawImage(i,0,0,2*i.width,2*i.height),e.abrupt("return",{width:i.width,height:i.height,url:n.toDataURL()});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x$(e){return _$.apply(this,arguments)}function _$(){return(_$=xe()(ke.a.mark((function e(t){var n,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}if(n="",g$(t)&&(n=t),!t.endsWith(".svg")){e.next=10;break}return e.next=6,fetch(t);case 6:return r=e.sent,e.next=9,r.text();case 9:n=e.sent;case 10:if(!n){e.next=14;break}return e.next=13,b$(n);case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",{url:t});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m()(m$,"PluginName",Xg),FN('.ne-viewer ne-card[data-card-name="textDiagram"] .ne-card-container {\n  overflow: auto;\n}\n.ne-viewer ne-card[data-card-name="textDiagram"] img {\n  max-width: 100%;\n}\n');var k$=function(e){u()(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"onDiagramLoad",(function(){e.props.onLoad(),e.props.onLoaded()})),e}return a()(i,[{key:"render",value:function(){var e,t=this.props,n=t.cardData,r=t.className,o=void 0===r?"":r,i=t.url,a=t.error,c=t.height,l=t.width,s=n.type;if(null!==a)e=Re.a.createElement("pre",{ref:this.props.onLoaded},a);else if(i){var u={};l&&(u.width=l),c&&(u.height=c),e=Re.a.createElement("img",{src:gv.sanitizeUrl(i),onLoad:this.onDiagramLoad,onError:this.props.onLoaded,"data-testid":"ne-text-diagram-img",style:u,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}})}else e=Re.a.createElement("div",{className:"ne-text-diagram-loading"},Re.a.createElement(dt.a,null));return Re.a.createElement("div",{"data-diagram":s,className:"ne-text-diagram-viewer ".concat(o)},e)}}]),i}(Re.a.PureComponent);m()(k$,"propTypes",{className:De.a.string,cardData:De.a.object,error:De.a.any,width:De.a.number,height:De.a.number,url:De.a.string,preview:De.a.func.isRequired,onBeforeRenderImage:De.a.func,onLoad:De.a.func,onLoaded:De.a.func}),m()(k$,"defaultProps",{onLoad:function(){},onLoaded:function(){},onBeforeRenderImage:function(e){return e}});var C$=Ft()("ne:text-diagram:vui"),R$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_option",null),m()(l()(e),"_previewer",null),m()(l()(e),"_convertSvgImage",!1),m()(l()(e),"_ui",null),m()(l()(e),"updateProps",(function(t){e._ui.rerender(t)})),m()(l()(e),"_syncUrl",(function(t){e.cardData.update({url:t}),e.cardData.sync(!0)})),m()(l()(e),"_checkTextDiagramImage",(function(e,t){var n=new Image;n.addEventListener("error",(function(){null==t||t()})),n.src=e})),m()(l()(e),"_setTextDiagramImage",xe()(ke.a.mark((function t(){var n,r,o,i,a,c;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cardData.code,r=e.cardData.url,n||r){t.next=4;break}return t.abrupt("return");case 4:if(!r){t.next=18;break}if(!e._convertSvgImage){t.next=15;break}return t.next=8,x$(r);case 8:return o=t.sent,i=o.url,a=o.height,c=o.width,e.updateProps({url:i,width:c,height:a}),e._syncUrl(i),t.abrupt("return");case 15:return e.updateProps({url:r}),e._checkTextDiagramImage(r,e._genTextDiagramImage),t.abrupt("return");case 18:return t.next=20,e._genTextDiagramImage();case 20:case"end":return t.stop()}}),t)})))),m()(l()(e),"_genTextDiagramImage",xe()(ke.a.mark((function t(){var n,r,o,i,a,c,l,s;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cardData.type,r=e.cardData.code,t.next=4,e._previewer.preview({type:n,code:r});case 4:if((o=t.sent).success){t.next=8;break}return e.updateProps({error:o.message}),t.abrupt("return");case 8:if(!e._convertSvgImage){t.next=18;break}return t.next=11,b$(o.svg);case 11:return i=t.sent,a=i.url,c=i.width,l=i.height,e.updateProps({url:a,width:c,height:l}),e._syncUrl(a),t.abrupt("return");case 18:s=YP(o.svg),e.updateProps({url:s});case 20:case"end":return t.stop()}}),t)})))),e}return a()(i,[{key:"isAsyncUI",value:function(){return!0}},{key:"getContainerToolbarConfig",value:function(){return{items:["copyLink","|","maximize"]}}},{key:"getCardToolbarConfig",value:function(){return["maximize"]}},{key:"init",value:function(){var e=this,t=this.cardData.toGraph();this._option=this.pluginOption,this._convertSvgImage=this.iViewer.option.convertSvgImage,C$("init use",t),this._previewer=new lI({host:this._option.host,graph:t}),this._ui=YZ.render(k$,{cardData:this.cardData,error:null,preview:this._previewer.preview,onLoaded:function(){e.loaded()}},this.containerNode),setTimeout((function(){e._setTextDiagramImage().catch((function(t){console.error("convert text-diagram image error:",t),e.updateProps({error:e.cardData.code})}))}))}}]),i}();var N$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(N$,"$CardData",bw),m()(N$,"$CardUI",R$);var E$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,nb,N$)}}]),i}();m()(E$,"PluginName",tb),m()(E$,"PluginOption",DI);var O$=function(e){u()(i,Dv);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i)}();var D$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:"my-card"},Re.a.createElement("textarea",null))}}]),i}();var S$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.uiViewProxy=YZ.render(D$,{cardData:this.cardData},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();var B$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_cardUI",null),e}return a()(i,[{key:"init",value:function(){this._cardUI=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){this._cardUI&&this._cardUI.destroy()}}]),i}();m()(B$,"$CardUI",S$),m()(B$,"$CardData",O$);var P$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"myCard",B$)}}]),i}();function F$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F$(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(P$,"PluginName","myCard");var M$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"ref",Re.a.createRef()),m()(l()(e),"getClassName",zj("ne-card-calendar-schedule-line")),m()(l()(e),"handleOpenSchedule",(function(t){t.stopPropagation(),t.preventDefault();var n=Gj(e.props),r=e.ref.current.getBoundingClientRect(),o={x:0===n.indexOf("left")?r.left:r.right,y:r.top};e.props.onOpen(e.props.schedule,T$(T$({},o),{},{placement:n}))})),e}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.schedule,n=e.date,r=e.activeScheduleId,o=t.isStartDate(n),i=t.id===r,a=Yj(this.props),c=a.lineStyle,l=a.labelStyle,s=a.leftArrowStyle,u=a.rightArrowStyle,d=a.isShowControl;return Re.a.createElement("div",{className:this.getClassName(),ref:this.ref,style:c,"data-id":t.id,"data-active":i,"data-is-start":o,onClick:this.handleOpenSchedule},o?Re.a.createElement("div",{className:this.getClassName("label"),style:l}):Re.a.createElement("div",{className:this.getClassName("right-arrow"),style:u}),Re.a.createElement("div",{className:this.getClassName("title"),"data-not-title":!t.title,onMouseDown:this.handleBeforeDrag,onMouseUp:this.handleClearDrag},t.title||xm("添加日程标题")),d?null:Re.a.createElement("div",{className:this.getClassName("left-arrow"),style:s}))}}]),i}();m()(M$,"propTypes",{schedule:De.a.object.isRequired,activeScheduleId:De.a.string,colIndex:De.a.number,rowIndex:De.a.number,date:De.a.object,onOpen:De.a.func});var L$=/(?:[\u0100-\uffff\s]|^)https?:\/\/(?:[^/.]+?\.)+?[^/.]+?(?:\/\S*?)?(?:(?=[\u0100-\uffff\s])|$)/g;function A$(e){if(!e)return e;var t=/\s/;return(e=Nl.encodeHTML(e)).replace(L$,(function(e){var n="",r="";return"h"!==e[0]&&(n=e[0],e=e.substring(1)),t.test(e[e.length-1])&&(r=e[e.length-1],e=e.substring(0,e.length-1)),"".concat(n,'<a href="').concat(gv.sanitizeUrl(encodeURI(e)),'" target="_blank">').concat(e,"</a>").concat(r)}))}FN(".ne-card-calendar-schedule-panel-title {\n  font-size: 18px;\n  color: #595959;\n  max-height: 86px;\n  overflow-y: auto;\n}\n.ne-card-calendar-schedule-panel-date,\n.ne-card-calendar-schedule-panel-desc {\n  font-size: 12px;\n  color: #595959;\n}\n.ne-card-calendar-schedule-panel-date {\n  height: 20px;\n  display: flex;\n  align-items: center;\n}\n.ne-card-calendar-schedule-panel-date-split {\n  padding: 0 7px;\n}\n.ne-card-calendar-schedule-panel-desc {\n  max-height: 74px;\n  overflow-y: auto;\n}\n.ne-card-calendar-schedule-panel-icon-calendar-v {\n  margin-top: 1px;\n}\n.ne-card-calendar-schedule-panel-icon-desc-v {\n  margin-top: 1px;\n}\n.ne-card-calendar-schedule-panel-margin-top {\n  margin-top: 6px;\n}\n.ne-card-calendar-schedule-panel-color {\n  width: 8px;\n  height: 8px;\n  margin-top: 9px;\n}\n");var I$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-calendar-schedule-panel")),m()(l()(e),"renderItem",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Re.a.createElement("div",{className:e.getClassName("item",r)},Re.a.createElement("div",{className:e.getClassName("item-side")},t),Re.a.createElement("div",{className:e.getClassName("item-content")},n))})),m()(l()(e),"renderTitle",(function(){var t=e.props.schedule,n=t.title,r=t.colorIndex,o=Uw[r];return o||(o=Uw[0]),e.renderItem(Re.a.createElement("div",{className:e.getClassName("color"),style:{background:o.line}}),Re.a.createElement("div",{className:e.getClassName("title")},n))})),m()(l()(e),"renderDivider",(function(){return e.renderItem(null,Re.a.createElement(Tt.a,{className:e.getClassName("divider")}))})),m()(l()(e),"renderDate",(function(){var t=e.props.schedule,n=t.startDate,r=t.endDate;return e.renderItem(Re.a.createElement("div",{className:e.getClassName("icon","icon-calendar","icon-calendar-v")}),Re.a.createElement("div",{className:e.getClassName("date")},Re.a.createElement("span",null,n.format("YYYY-MM-DD")),Re.a.createElement("span",{className:e.getClassName("date-split")},"~"),Re.a.createElement("span",null,r.format("YYYY-MM-DD"))))})),m()(l()(e),"renderDesc",(function(){var t=e.props.schedule.desc;return e.renderItem(Re.a.createElement("div",{className:e.getClassName("icon","icon-desc","icon-desc-v")}),Re.a.createElement("div",{className:e.getClassName("desc"),dangerouslySetInnerHTML:{__html:A$(t)}}),"margin-top")})),e}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName()},this.renderTitle(),this.renderDivider(),this.renderDate(),this.renderDesc())}}]),i}();m()(I$,"propTypes",{schedule:De.a.object});var j$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;return o()(this,i),t=r.call(this,e),m()(l()(t),"getClassName",zj("ne-card-calendar-popover")),m()(l()(t),"handleVisibleChange",(function(e){t.setState({isShowPopover:e}),!1===e&&t.props.onClose()})),t.state={isShowPopover:!0},t}return a()(i,[{key:"render",value:function(){return Re.a.createElement(Se.a,{className:this.getClassName(),visible:this.state.isShowPopover,placement:this.props.pos.placement,trigger:"click",onVisibleChange:this.handleVisibleChange,content:Re.a.createElement(I$,{schedule:this.props.schedule})},Re.a.createElement("div",{className:this.getClassName("fake-line"),style:{left:this.props.pos.x,top:this.props.pos.y}}))}}]),i}();function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V$(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(j$,"propTypes",{schedule:De.a.object.isRequired,pos:De.a.object,onClose:De.a.func}),FN('.ne-viewer ne-card[data-card-name="calendar"] {\n  user-select: none;\n}\n'),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell {\n  min-height: 10rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-content-box-row-cell-date-text {\n  font-size: 1.6rem;\n  width: 2.2rem;\n  height: 2.2rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-content-week-names-item {\n  font-size: 1.6rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-date,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-prev .ne-icon,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-header-month-selector-next .ne-icon {\n  font-size: 2.2rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-schedule-panel-title {\n  font-size: 2.2rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-schedule-panel-date,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-schedule-panel-desc {\n  font-size: 1.6rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-schedule-panel-color {\n  height: 0.7rem;\n  width: 0.7rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="calendar"] .ne-card-calendar-schedule-panel-icon {\n  height: 1.4rem;\n  width: 1.4rem;\n}\n');var U$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"containerRef",Re.a.createRef()),m()(l()(t),"getClassName",zj("ne-card-calendar")),m()(l()(t),"handleOpenSchedule",(function(e,n){var r=t.containerRef.current.getBoundingClientRect();t.setState({isShowPopover:!0,activeScheduleId:e.id,popoverInfo:{pos:z$(z$({},n),{},{x:n.x-r.left,y:n.y-r.top}),schedule:e}})})),m()(l()(t),"handleCloseSchedule",(function(e){null==e||e.stopPropagation(),t.setState({isShowPopover:!1,popoverInfo:{},activeScheduleId:""})})),m()(l()(t),"renderHeader",(function(){return Re.a.createElement(Uj,{cardData:t.props.cardData,onClick:t.handleCloseSchedule,onCurrentDateChange:t.props.onCurrentDateChange})})),m()(l()(t),"renderWeekNames",(function(){return Re.a.createElement(Hj,{cardData:t.props.cardData})})),m()(l()(t),"renderCalendarCellSchedule",(function(e,n,r){var o=t.props.cardData.getScheduleList(),i=t.props.cardData.getDateScheduleMap(),a=t.state.activeScheduleId,c=Lw(e);return o.filter((function(e){return e.include(c)})).sort((function(e,t){var n=i[c];return(n[e.id]||0)-(n[t.id]||0)})).map((function(o){return o.isStartDate(c)||0===n?Re.a.createElement(M$,{key:o.id,date:e,colIndex:n,rowIndex:r,schedule:o,activeScheduleId:a,onOpen:t.handleOpenSchedule}):Re.a.createElement("div",{key:e.unix()+o.id,className:t.getClassName("content-box-row-cell-schedule-holder")})}))})),m()(l()(t),"renderCalendarCell",(function(e,n,r){var o=t.state.date;return Re.a.createElement("div",{className:t.getClassName("content-box-row-cell"),key:e.unix()},Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-date"),"data-today":e.isToday(),"data-fade":e.month()!==o.month()},Re.a.createElement("div",{className:t.getClassName("content-box-row-cell-date-text")},e.format("D"))),t.renderCalendarCellSchedule(e,n,r))})),m()(l()(t),"renderCalendarBox",(function(){var e=t.props.cardData.getDateRows(),n=t.state.date;return Re.a.createElement("div",{className:t.getClassName("content-box"),ref:t.boxRef},e.map((function(r,o){return Re.a.createElement("div",{className:t.getClassName("content-box-row"),key:"".concat(n.month(),"-").concat(o),"data-last":o===e.length-1},r.map((function(e,n){return t.renderCalendarCell(e,n,o)})))})))})),m()(l()(t),"renderContent",(function(){return Re.a.createElement("div",{className:t.getClassName("content")},t.renderWeekNames(),t.renderCalendarBox())})),m()(l()(t),"renderPopover",(function(){return t.state.isShowPopover?Re.a.createElement(j$,{schedule:t.state.popoverInfo.schedule,pos:t.state.popoverInfo.pos,onClose:t.handleCloseSchedule}):null})),m()(l()(t),"renderMask",(function(){return t.state.isShowPopover?Re.a.createElement("div",{className:t.getClassName("mask"),onClick:t.handleCloseSchedule}):null}));var n=e.cardData.getCurrentDate();return t.state={currentDate:n,date:Aw(n),isShowPopover:!1,popoverInfo:{}},t}return a()(i,[{key:"render",value:function(){return Re.a.createElement("div",{className:this.getClassName(),ref:this.containerRef},this.renderHeader(),this.renderContent(),this.renderPopover(),this.renderMask())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.cardData.getCurrentDate();return n!==t.currentDate?{currentDate:n,activeScheduleId:"",date:Aw(n)}:null}}]),i}();m()(U$,"propTypes",{cardData:De.a.object.isRequired,startWeekDay:De.a.number,onCurrentDateChange:De.a.func.isRequired});var H$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getResizerConfig",value:function(){return!1}},{key:"getCardToolbarConfig",value:function(){return["widthMode"]}},{key:"init",value:function(){var e=this;this.uiViewProxy=YZ.render(U$,{cardData:this.cardData,onCurrentDateChange:function(t){e.cardData.setCurrentDate(t),e.cardData.setExtendInfo(),e.cardData.afterChange()}},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();var q$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){this._ui&&this._ui.destroy()}}]),i}();m()(q$,"$CardUI",H$),m()(q$,"$CardData",Ww);var W$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,ub,q$)}}]),i}();m()(W$,"PluginName","calendar"),m()(W$,"PluginOption",Vj),FN('.ne-viewer ne-card[data-card-name="file"]:hover .ne-card-file,\n.ne-viewer ne-card[data-card-name="file"].ne-card-hovered .ne-card-file {\n  background: rgba(27, 162, 227, 0.2);\n}\n.ne-viewer ne-card[data-card-name="file"] .ne-card-container {\n  width: 100%;\n}\n'),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="file"] .ne-card-file {\n  height: auto;\n  line-height: 1.8rem;\n  font-size: 1.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="file"] .ne-card-file .ne-card-file-name {\n  font-size: 1.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="file"] .ne-card-file .ne-card-file-size {\n  font-size: 85%;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="file"] .ne-card-file .ne-icon {\n  font-size: 1em;\n}\n');var Z$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-file")),m()(l()(e),"handleClick",(function(){var t;null===(t=e.props)||void 0===t||t.onClick()})),m()(l()(e),"renderIcon",(function(){return e.props.cardData.getStatus()===Rx.Done?Re.a.createElement("span",{className:e.getClassName("icon")},Re.a.createElement(oE,{type:"attachment"})):null})),m()(l()(e),"renderName",(function(){var t=e.props.cardData.getName();return Re.a.createElement("span",{className:e.getClassName("name"),"data-testid":e.getClassName("viewer-name")},t)})),m()(l()(e),"renderFileSize",(function(){var t=e.props.cardData.getSize();if(t){var n=Ic(t);if(n)return Re.a.createElement("span",{className:e.getClassName("size"),"data-testid":e.getClassName("viewer-size")},"(",n,")")}return null})),m()(l()(e),"renderSimpleMode",(function(){var t=e.props.getDownloadUrl(),n=e.props.cardData.getName();return Re.a.createElement("a",{href:gv.sanitizeUrl(t),target:"_blank"},"📎",n)})),e}return a()(i,[{key:"renderError",value:function(){var e=this.props.cardData.getName(),t=this.props.cardData.getMessage(),n=this.props.cardData.toJSON();return Re.a.createElement(KV,{block:!1,cardIcon:Re.a.createElement(oE,{type:"upload-error",size:20}),message:n},xm(t||"文件上传失败，请重试")," ",e)}},{key:"render",value:function(){var e=this.props.cardData.getStatus();return e!==Rx.Done?this.renderError():this.props.viewerMode===mZ?this.renderSimpleMode():Re.a.createElement("span",{className:this.getClassName(),"data-status":e,"data-testid":this.getClassName("viewer"),onClick:this.handleClick},this.renderIcon(),this.renderName(),this.renderFileSize())}}]),i}();m()(Z$,"propTypes",{cardData:De.a.object.isRequired,onClick:De.a.func,viewerMode:De.a.string,getDownloadUrl:De.a.func});var K$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"getDownloadUrl",(function(){return JV({cardData:e.cardData,from:e.getFrom()})})),m()(l()(e),"previewFile",(function(){XV({cardData:e.cardData,from:e.getFrom(),pluginOption:e.pluginOption})})),m()(l()(e),"downloadFile",(function(){GV({cardData:e.cardData,from:e.getFrom(),pluginOption:e.pluginOption})})),e}return a()(i,[{key:"init",value:function(){this.uiViewProxy=YZ.render(Z$,{viewerMode:this.iViewer.option.viewerMode,cardData:this.cardData,onClick:this.downloadFile,getDownloadUrl:this.getDownloadUrl},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"getFrom",value:function(){return this.pluginOption.from||this.iViewer.option.currentURL||"undefined"!=typeof location?location.href:""}},{key:"getCardToolbarConfig",value:function(){if(this.cardData.getStatus()!==Rx.Done)return null;var e=[{name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile}];return YV({cardData:this.cardData,pluginOption:this.pluginOption})&&e.unshift({name:"preview",text:xm("预览"),icon:"card-tb-preview",onClick:this.previewFile}),e}}]),i}();var $$=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){var e;null===(e=this._ui)||void 0===e||e.destroy(),this._ui=null}}]),i}();m()($$,"$CardUI",K$),m()($$,"$CardData",Dx);var J$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,gb,$$)}}]),i}();m()(J$,"PluginName","file"),m()(J$,"PluginOption",qV);var Y$=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"renderSimpleMode",(function(){var t=e.props,n=t.audioUrl,r=t.cardData;if(n){var o=r.getAudioInfo().fileName;return Re.a.createElement("a",{href:gv.sanitizeUrl(n),target:"_blank"},o)}return null})),e}return a()(i,[{key:"renderCopyrightDeniedErrorView",value:function(){return Re.a.createElement(Fe.AudioErrorView,{status:"copyright",audio:this.props.cardData.getAudioInfo(),audioURL:this.props.audioUrl,message:this.props.message})}},{key:"renderErrorView",value:function(){return Re.a.createElement(Fe.AudioErrorView,{status:"error",audio:this.props.cardData.getAudioInfo(),audioURL:this.props.audioUrl,message:this.props.message,errorMessage:this.props.cardData.getErrorMessage()})}},{key:"render",value:function(){var e=this.props,t=e.allowAudioPlayer,n=e.audioUrl,r=e.message,o=this.props.cardData.getStatus(),i=this.props.cardData.getErrorMessage(),a=this.props.cardData.getAudioInfo();return a.url=n,t?this.props.viewerMode===mZ?this.renderSimpleMode():Re.a.createElement(Fe.AudioPlayer,{audioInfo:a,status:o,message:r,errorMessage:i}):"error"===o?this.renderErrorView():this.renderCopyrightDeniedErrorView()}}]),i}();m()(Y$,"propTypes",{cardData:De.a.instanceOf(Ow).isRequired,allowAudioPlayer:De.a.bool.isRequired,audioUrl:De.a.string,message:De.a.object,viewerMode:De.a.string});var G$=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_audioUrl",null),m()(l()(e),"onQueryUrlSuccess",(function(t){e._audioUrl=t.data.audio,e.cardData.setStatus("uploaded"),e.uiViewProxy.rerender({audioUrl:t.data.audio,uiStatus:"transcoded"}),e.cardData.sync(!0),e.refreshToolbar(),e.loaded()})),m()(l()(e),"onQueryUrlError",(function(t){t.message&&e.cardData.setErrorMessage(t.message),e.cardData.setStatus("error"),e.cardData.sync(!0),e.loaded()})),m()(l()(e),"queryAudioUrl",(function(){Bj(e.cardData.getId(),e.pluginOption.queryUrl).then((function(t){t&&t.success?e.onQueryUrlSuccess(t):(t.message=Sj.failedToQuery,e.onQueryUrlError(t))}))})),m()(l()(e),"downloadFile",(function(){lj(e._audioUrl)})),e}return a()(i,[{key:"isAsyncUI",value:function(){return!0}},{key:"init",value:function(){var e=this.cardData.getStatus();this._audioUrl||"uploaded"!==e||this.queryAudioUrl(),this.uiViewProxy=YZ.render(Y$,{cardData:this.cardData,audioUrl:this._audioUrl,message:Sj,allowAudioPlayer:this.pluginOption.allowAudioPlayer,viewerMode:this.iViewer.option.viewerMode},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"getCardToolbarConfig",value:function(){if(!this._audioUrl)return null;var e=["widthMode"];return this.cardData.getAllowDownloadInViewer()?(e.push({name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile}),e):e}}]),i}();var X$=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_iEditor",null),m()(l()(e),"_descriptor",null),m()(l()(e),"_cardUI",null),e}return a()(i,[{key:"init",value:function(){this._cardUI=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){this._cardUI&&this._cardUI.destroy()}}]),i}();m()(X$,"$CardUI",G$),m()(X$,"$CardData",Ow);var Q$=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"audio",X$)}}]),i}();m()(Q$,"PluginName","audio"),m()(Q$,"PluginOption",Oj);var eJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"renderTranscoding",(function(){return Re.a.createElement(fj,{cardData:e.props.cardData})})),m()(l()(e),"renderError",(function(){return Re.a.createElement(dj,{cardData:e.props.cardData,loadingError:e.props.loadingError})})),m()(l()(e),"renderSuccess",(function(){return Re.a.createElement(uj,{allowDownload:!1,getVideoUrl:e.props.getVideoUrl,getVideoCover:e.props.getVideoCover,getVideoState:e.props.getVideoState,useYuqueVideoPlayer:e.props.useYuqueVideoPlayer,withPip:e.props.withPip})})),m()(l()(e),"renderSimpleMode",(function(){var t=e.props.getVideoUrl();if(t){var n=e.props.cardData.getName();return Re.a.createElement("a",{href:gv.sanitizeUrl(t),target:"_blank"},n)}return null})),m()(l()(e),"renderContent",(function(){var t=e.props.cardData.getStatus();if(t===Ix.Error||e.props.loadingStatus===Hx)return e.renderError();if(t===Ix.Uploaded||t===Ix.Done){if(e.props.loadingStatus===zx)return e.renderTranscoding();if(e.props.getVideoUrl())return e.renderSuccess()}return null})),e}return a()(i,[{key:"render",value:function(){if(this.props.viewerMode===mZ)return this.renderSimpleMode();var e=this.renderContent();return Re.a.createElement("div",{className:"ne-card-video","data-testid":"ne-card-video-viewer"},e)}}]),i}();function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(eJ,"propTypes",{cardData:De.a.object.isRequired,getVideoUrl:De.a.func,getVideoCover:De.a.func,getVideoState:De.a.func,loadingStatus:De.a.string,loadingError:De.a.object,viewerMode:De.a.string,useYuqueVideoPlayer:De.a.bool,withPip:De.a.bool});var rJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_uiViewProxy",null),m()(l()(e),"_videoUrl",null),m()(l()(e),"onTranscodingSuccess",(function(){e.updateData({loadingStatus:Ux}),e.refreshToolbar()})),m()(l()(e),"onTranscodingError",(function(t){var n=t.code;e.updateData({loadingStatus:Hx,loadingError:{code:n,message:""}})})),m()(l()(e),"getVideoUrl",(function(){return e._videoAction.getVideoUrl()})),m()(l()(e),"getVideoCover",(function(){return e._videoAction.getVideoCover()})),m()(l()(e),"getVideoState",(function(){return e._videoAction.getVideoState()})),m()(l()(e),"downloadFile",(function(){var t=e.getVideoUrl();e.pluginOption.downloadVideoHandler?e.pluginOption.downloadVideoHandler(t):lj(t)})),e}return a()(i,[{key:"init",value:function(){var e,t;this._videoAction=new vj(this.cardData,this.pluginOption);var n=this._videoAction.init();this._uiViewProxy=YZ.render(eJ,nJ(nJ({cardData:this.cardData},n),{},{getVideoUrl:this.getVideoUrl,getVideoCover:this.getVideoCover,getVideoState:this.getVideoState,viewerMode:this.iViewer.option.viewerMode,useYuqueVideoPlayer:null===(e=this.pluginOption._option)||void 0===e?void 0:e.useYuqueVideoPlayer,withPip:null===(t=this.pluginOption._option)||void 0===t?void 0:t.withPip}),this.containerNode),this._videoAction.on("transcoding-success",this.onTranscodingSuccess),this._videoAction.on("transcoding-error",this.onTranscodingError)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this),this._uiViewProxy=null}},{key:"updateData",value:function(e){this._uiViewProxy.rerender(e)}},{key:"getCardToolbarConfig",value:function(){var e=[];return this.cardData.getDownload()&&this.getVideoUrl()&&e.push({name:"download",text:xm("下载"),icon:"card-tb-download",onClick:this.downloadFile}),e}}]),i}();var oJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_cardUI",null),e}return a()(i,[{key:"init",value:function(){this._cardUI=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){var e;null===(e=this._cardUI)||void 0===e||e.destroy(),this._cardUI=null}}]),i}();m()(oJ,"$CardUI",rJ),m()(oJ,"$CardData",Jx);var iJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,Pb,oJ)}}]),i}();m()(iJ,"PluginName","video"),m()(iJ,"PluginOption",aj),FN("@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/182d6a2d-cbc8-4bef-aac9-6441ea0f5811.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/251f75be-6134-46bd-8f66-8be14800f6d6.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/615128b5-97c3-4587-a280-2497fe134245.ttf') format('truetype');\n  font-weight: bold;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/f8276cdb-a280-41ac-9d60-578504b979b6.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/15f731e0-6538-4e18-ae62-5e1ee04f33f7.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/92a855e6-56ce-4b50-8516-8f40639820e0.ttf') format('truetype');\n  font-weight: normal;\n  font-style: italic;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/89702d77-67dc-456a-9cbe-71a72d7aee73.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/7236c217-f25d-4875-990b-8914b4f52d05.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/79652a09-35a8-49e2-8014-43e13a9d4b26.ttf') format('truetype');\n  font-weight: bold;\n  font-style: normal;\n  font-display: swap;\n}\n@font-face {\n  font-family: 'RobotoNum';\n  src: url('https://gw.alipayobjects.com/os/bmw-prod/9c1c337a-a085-49ae-8eff-76de9f5fb1bc.woff2') format('woff2'), url('https://gw.alipayobjects.com/os/bmw-prod/2cb2ffe6-88dd-4ab1-a99e-366f48b1f0c9.woff') format('woff'), url('https://gw.alipayobjects.com/os/bmw-prod/29c56bff-aae5-4e8e-bf2e-58904fac6bd8.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\nne-card[data-card-name=\"lockedtext\"] {\n  /* stylelint-disable-line */\n}\nne-card[data-card-name=\"lockedtext\"] .ne-card-locked-text .ne-card-locked-text-read-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 8px;\n  overflow-y: auto;\n  line-height: 1.74;\n}\n.ne-viewer[data-viewer-mode=\"simple\"] ne-card[data-card-name=\"lockedtext\"] .ne-card-container {\n  height: auto!important;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="lockedtext"] .ne-card-locked-text-unlock-submit-button {\n  width: initial !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="lockedtext"] .ne-card-locked-text-read-container {\n  font-size: 1.6rem;\n}\n');var aJ="read",cJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"maxPasswordErrorCount",5),m()(l()(t),"resetPasswordCountInterval",6e4),m()(l()(t),"getClassName",zj("ne-card-locked-text")),m()(l()(t),"isPasswordErrorMax",(function(){return t.state.errorCount>=t.maxPasswordErrorCount})),m()(l()(t),"resetPasswordErrorCount",(function(){t.isPasswordErrorMax()&&setTimeout((function(){t.setState({errorCount:0})}),t.resetPasswordCountInterval)})),m()(l()(t),"handleDecrypt",(function(e){t.props.onDecrypt({password:e.unlockPassword,cryptoData:t.state.cryptoData})})),m()(l()(t),"renderUnlock",(function(){return Re.a.createElement(wV,{cardData:t.props.cardData,errorCount:t.state.errorCount,isPasswordErrorMax:t.isPasswordErrorMax,onDecrypt:t.handleDecrypt})})),m()(l()(t),"renderRead",(function(){var e=t.state.originData;return Re.a.createElement("div",{className:t.getClassName("read-container"),"data-testid":t.getClassName("viewer-content")},e)})),m()(l()(t),"renderSimpleMode",(function(){var e=t.props.getCardReadUrl();return Re.a.createElement("div",null,xm("此处为语雀加密文本卡片，点击链接查看："),Re.a.createElement("a",{href:gv.sanitizeUrl(e),target:"_blank"},e))}));var n=e.cryptoData?"unlock":aJ;return t.state={showStatus:n,originData:e.originData,cryptoData:e.cryptoData,errorCount:0},t}return a()(i,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props;gV({prevProps:e,props:n,action:fV})&&this.state.showStatus!==aJ&&this.setState({showStatus:aJ}),bV({prevProps:e,props:n,action:fV})&&this.setState({errorCount:this.state.errorCount+1},(function(){t.resetPasswordErrorCount()}))}},{key:"render",value:function(){if(this.props.viewerMode===mZ)return this.renderSimpleMode();var e=this.state.showStatus===aJ?this.renderRead():this.renderUnlock();return Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName("viewer")},e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.cryptoData!==t.cryptoData&&(n.cryptoData=e.cryptoData),e.originData!==t.originData&&(n.originData=e.originData),Object.keys(n).length?n:null}}]),i}();function lJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lJ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(cJ,"propTypes",{cardData:De.a.object.isRequired,originData:De.a.string.isRequired,cryptoData:De.a.string.isRequired,onDecrypt:De.a.func.isRequired,loadingStatus:De.a.string,loadingAction:De.a.string,loadingError:De.a.any,viewerMode:De.a.string,getCardReadUrl:De.a.func});var uJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"getCardReadUrl",(function(){return rO.generateHashLink(e.iViewer.option.currentURL,e.id)})),e}return a()(i,[{key:"init",value:function(e){var t=this;this.uiViewProxy=YZ.render(cJ,sJ(sJ({},e),{},{cardData:this.cardData,originData:this.cardData.getOriginData(),cryptoData:this.cardData.getCryptoData(),onDecrypt:function(e){t.emit("decrypt",e)},viewerMode:this.iViewer.option.viewerMode,getCardReadUrl:this.getCardReadUrl}),this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"updateLoadingStatus",value:function(e){this.uiViewProxy.rerender(e)}},{key:"updateData",value:function(e){this.uiViewProxy.rerender(e)}}]),i}();var dJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this.iViewer.createCardUI(this,uV),this._action=new mV({pluginOption:this.pluginOption,ui:this._ui}),this._ui.on("decrypt",(function(t){e._action.decryptData({data:t,success:function(n){e._ui.updateData({originData:n,cryptoData:t.cryptoData})}})}))}},{key:"destroy",value:function(){this._ui&&this._ui.destroy()}}]),i}();m()(dJ,"$CardUI",uJ),m()(dJ,"$CardData",Gw);var fJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,_b,dJ)}}]),i}();m()(fJ,"PluginName","lockedText"),m()(fJ,"PluginOption",sV),FN('.ne-viewer[data-viewer-mode="simple"] ne-card[data-card-name="localdoc"] .ne-card-container[data-alias="expanded"] {\n  height: auto !important;\n}\n');var hJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e){var t;o()(this,i),t=r.call(this,e),m()(l()(t),"getClassName",zj("ne-card-local-doc")),m()(l()(t),"renderCollapse",(function(){return Re.a.createElement(fz,{cardData:t.props.cardData,getPreviewUrl:t.props.getPreviewUrl,downloadFile:t.props.downloadFile,allowDownload:t.props.cardData.getDownload()})})),m()(l()(t),"renderExpand",(function(){return Re.a.createElement(hz,{cardData:t.props.cardData,focus:t.props.focus,renderIFrameUrl:t.state.renderIFrameUrl,getPreviewUrl:t.props.getPreviewUrl,getIFrameUrl:t.props.getIFrameUrl,downloadFile:t.props.downloadFile,allowDownload:t.props.cardData.getDownload()})})),m()(l()(t),"renderError",(function(){return Re.a.createElement(pz,{cardData:t.props.cardData})})),m()(l()(t),"renderSimpleMode",(function(){var e=t.props.getDownloadUrl();if(e){var n=t.props.cardData.getName();return Re.a.createElement("a",{href:gv.sanitizeUrl(e),target:"_blank"},n)}return null}));var n=!1;return e.cardData.getStatus()===o_.Done&&(n=!0),t.state={renderIFrameUrl:n},t}return a()(i,[{key:"render",value:function(){if(this.props.viewerMode===mZ)return this.renderSimpleMode();var e,t=this.props.cardData.getStatus(),n=this.props.cardData.getCollapsed();return e=t===o_.Error?this.renderError():n?this.renderCollapse():this.renderExpand(),Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName("viewer")},e)}}]),i}();m()(hJ,"propTypes",{cardData:De.a.object.isRequired,focus:De.a.bool,getPreviewUrl:De.a.func.isRequired,getDownloadUrl:De.a.func,getIFrameUrl:De.a.func.isRequired,downloadFile:De.a.func.isRequired,viewerMode:De.a.string});var pJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"getFrom",(function(){return e.pluginOption.from||e.iViewer.option.currentURL||("undefined"!=typeof location?location.href:"")})),m()(l()(e),"getOrigin",(function(){return e.pluginOption.origin||("undefined"!=typeof location?location.origin:"")})),m()(l()(e),"getPreviewUrl",(function(){return yz({cardData:e.cardData,origin:e.getOrigin(),from:e.getFrom()})})),m()(l()(e),"getDownloadUrl",(function(){return mz({cardData:e.cardData,from:e.getFrom()})})),m()(l()(e),"getIFrameUrl",(function(){return gz({cardData:e.cardData,origin:e.getOrigin(),from:e.getFrom()})})),m()(l()(e),"downloadFile",(function(){bz({cardData:e.cardData,pluginOption:e.pluginOption,from:e.getFrom()})})),e}return a()(i,[{key:"init",value:function(){this.uiViewProxy=YZ.render(hJ,{cardData:this.cardData,getPreviewUrl:this.getPreviewUrl,getDownloadUrl:this.getDownloadUrl,getIFrameUrl:this.getIFrameUrl,downloadFile:this.downloadFile,viewerMode:this.iViewer.option.viewerMode},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}},{key:"getResizerConfig",value:function(){return!this.cardData.getCollapsed()}}]),i}();var vJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){this._ui&&this._ui.destroy()}}]),i}();m()(vJ,"$CardUI",pJ),m()(vJ,"$CardData",c_);var mJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,Nb,vJ)}}]),i}();m()(mJ,"PluginName","localDoc"),m()(mJ,"PluginOption",uz),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="mention"] {\n  font-size: 1.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="mention"] .ne-ui-mention-link {\n  font-size: inherit;\n}\n');var yJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(mU,{allowOpenLink:!0,cardData:this.props.cardData,generateMentionInfo:this.props.generateMentionInfo})}}]),i}();m()(yJ,"propTypes",{cardData:De.a.instanceOf(F_).isRequired,generateMentionInfo:De.a.func.isRequired});var gJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){YZ.render(yJ,{cardData:this.cardData,generateMentionInfo:this.pluginOption.generateMentionInfo},this.containerNode)}}]),i}();var bJ=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(bJ,"$CardData",F_),m()(bJ,"$CardUI",gJ);var wJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,"mention",bJ)}}]),i}();m()(wJ,"PluginName","mention"),m()(wJ,"PluginOption",hU);var xJ={queryDetailUrl:"/api/votes",voteUrl:"/api/votes",allowVote:!1},_J=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},xJ,t)}return a()(e,[{key:"queryDetailUrl",get:function(){return this._option.queryDetailUrl}},{key:"voteUrl",get:function(){return this._option.voteUrl}},{key:"allowVote",get:function(){return this._option.allowVote}}]),e}();m()(_J,"OptionName",mb);var kJ={loadingAction:"",loadingStatus:"",loadingError:null};function CJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CJ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}FN('ne-card[data-card-name="vote"] .ne-card-vote-viewer {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  min-height: 200px;\n  padding: 24px;\n  background-color: #fafafa;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-error-tip {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content {\n  flex: 1;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-header {\n  display: flex;\n  margin-bottom: 24px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-header-type {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 10px;\n  height: 24px;\n  background-color: #d9e9fa;\n  color: #262626;\n  border-radius: 4px;\n  margin-right: 12px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-header-title {\n  flex: 1;\n  font-size: 16px;\n  color: #262626;\n  line-height: 24px;\n  font-weight: bold;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-footer {\n  display: flex;\n  margin-top: 16px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-footer-member-count,\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-footer-deadline {\n  font-size: 14px;\n  color: #8c8c8c;\n  margin-right: 12px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-content-footer-re-vote {\n  cursor: pointer;\n  font-size: 14px;\n  color: #595959;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-vote-item {\n  display: flex;\n  align-items: center;\n  padding: 9px 16px;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  background-color: #fff;\n  margin-bottom: 8px;\n  cursor: pointer;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-vote-item-op {\n  margin-right: 16px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-vote-item-text {\n  font-size: 14px;\n  color: #595959;\n  line-height: 22px;\n  word-break: break-word;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-voting-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #888;\n  background: rgba(255, 255, 255, 0.4);\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-voting-mask .ne-icon {\n  margin-right: 8px;\n  color: #888;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-query-detail-loading {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-query-detail-loading .ne-icon {\n  margin-right: 8px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item {\n  display: flex;\n  flex-direction: column;\n  padding: 8px 16px;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  background-color: #fff;\n  margin-bottom: 8px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item[data-voted="true"] {\n  color: #096dd9;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item[data-voted="true"] .ne-card-vote-viewer-result-item-line-length {\n  background-color: #096dd9;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-info {\n  display: flex;\n  flex-direction: row;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-info-name {\n  flex: 1;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-info-data {\n  flex: 0 0 auto;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-info-data-detail span + span {\n  margin-left: 12px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-info-data-members {\n  color: #595959;\n  max-width: 400px;\n  max-height: 300px;\n  overflow-y: auto;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-line {\n  margin-top: 8px;\n  height: 8px;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-item-line-length {\n  height: 8px;\n  border-radius: 4px;\n  background-color: #bad6f5;\n}\nne-card[data-card-name="vote"] .ne-card-vote-viewer-result-popover-overlay .ant-popover-content {\n  min-width: auto;\n}\n');var NJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;return o()(this,i),e=r.call(this),m()(l()(e),"containerRef",Re.a.createRef()),m()(l()(e),"getClassName",zj("ne-card-vote-viewer")),m()(l()(e),"isInvalid",(function(){var t=e.props.cardData.getVoteId(),n=e.props.cardData.getItems();return!t||!n})),m()(l()(e),"isError",(function(){return e.props.loadingStatus===ox&&e.props.loadingAction===ix&&e.props.loadingError})),m()(l()(e),"isQueryDetail",(function(){return e.props.loadingStatus===rx&&e.props.loadingAction===ix})),m()(l()(e),"isVoted",(function(){var t=e.state.voteData;return Object.keys(t).filter((function(e){return t[e]})).length>0})),m()(l()(e),"isAllowVote",(function(){var t,n=ie()(),r=e.props.cardData.getDeadline();return e.props.allowVote&&(e.state.reVote||!(null!==(t=e.props.detail)&&void 0!==t&&t.voted.length)&&n.isBefore(ie()(r)))})),m()(l()(e),"handleSelectVoteId",(function(t){return function(n){e.props.cardData.getType()===ux?e.setState({voteData:m()({},t,n.target.checked)}):e.setState({voteData:RJ(RJ({},e.state.voteData),{},m()({},t,n.target.checked))})}})),m()(l()(e),"handleVote",(function(){var t=e.state.voteData,n=[];Object.keys(t).forEach((function(e){e&&t[e]&&-1===n.indexOf(e)&&n.push(e)})),e.setState({reVote:!1},(function(){var t,n=0;null!==(t=e.containerRef)&&void 0!==t&&t.current&&(n=e.containerRef.current.getBoundingClientRect().height),e.setState({lastContainerHeight:n})})),e.props.onVote({items:n.join(",")})})),m()(l()(e),"handleReVote",(function(){e.setState({reVote:!0,voteData:{}})})),m()(l()(e),"renderVoteItems",(function(){var t=e.props.cardData.getType(),n=e.props.cardData.getItems(),r=t===ux;return Re.a.createElement("div",{className:e.getClassName("vote-items"),"data-testid":e.getClassName("vote-items")},n.map((function(t,n){return Re.a.createElement("label",{className:e.getClassName("vote-item"),key:t.id},Re.a.createElement("div",{className:e.getClassName("vote-item-op")},r?Re.a.createElement(ft.a,{onChange:e.handleSelectVoteId(t.id),checked:e.state.voteData[t.id],"data-testid":e.getClassName("vote-item-op"),"data-testindex":n}):Re.a.createElement(ht.a,{onChange:e.handleSelectVoteId(t.id),checked:e.state.voteData[t.id],"data-testid":e.getClassName("vote-item-op"),"data-testindex":n})),Re.a.createElement("div",{className:e.getClassName("vote-item-text"),"data-testid":e.getClassName("vote-item-text"),"data-testindex":n},t.value))})))})),m()(l()(e),"renderVoteFooter",(function(){var t=!e.isVoted();return Re.a.createElement("div",{className:e.getClassName("content-footer")},Re.a.createElement(gt.a,{className:e.getClassName("content-footer-vote-button"),onClick:e.handleVote,disabled:t,"data-testid":e.getClassName("vote-button")},xm("投票")))})),m()(l()(e),"renderResultVoteDetail",(function(t){var n=Re.a.createElement("div",{className:e.getClassName("result-item-info-data-detail")},Re.a.createElement("span",null,xm("$1 票").replace("$1",t.count)),Re.a.createElement("span",null,"".concat(t.percent,"%")));if(t.members.length){var r=Re.a.createElement("div",{className:e.getClassName("result-item-info-data-members")},t.members.join(" "));return Re.a.createElement(Se.a,{overlayClassName:e.getClassName("result-popover-overlay"),trigger:"hover",content:r,getPopupContainer:function(){return e.containerRef.current}},n)}return n})),m()(l()(e),"renderResultItems",(function(){var t=e.props.detail;return t?Re.a.createElement("div",{className:e.getClassName("result-items"),"data-testid":e.getClassName("result-items")},t.items.map((function(t,n){return Re.a.createElement("div",{className:e.getClassName("result-item"),key:t.id,"data-voted":t.isVoted},Re.a.createElement("div",{className:e.getClassName("result-item-info")},Re.a.createElement("div",{className:e.getClassName("result-item-info-name"),"data-testid":e.getClassName("result-item-name"),"data-testindex":n},t.value),Re.a.createElement("div",{className:e.getClassName("result-item-info-data")},e.renderResultVoteDetail(t))),Re.a.createElement("div",{className:e.getClassName("result-item-line")},Re.a.createElement("div",{className:e.getClassName("result-item-line-length"),style:{width:"".concat(t.percent,"%")}})))}))):null})),m()(l()(e),"renderResultFooter",(function(){var t=e.props,n=t.detail,r=t.allowVote;if(!n)return null;var o=ie()(e.props.cardData.getDeadline()),i=ie()().isAfter(o);return Re.a.createElement("div",{className:e.getClassName("content-footer")},Re.a.createElement("div",{className:e.getClassName("content-footer-member-count")},xm("%1 人已投票").replace("%1",n.memberCount)),Re.a.createElement("div",{className:e.getClassName("content-footer-deadline")},i?xm("已截止"):"".concat(o.format("YYYY-MM-DD HH:mm:ss")," ").concat(xm("截止"))),i||!r?null:Re.a.createElement("div",{className:e.getClassName("content-footer-re-vote"),onClick:e.handleReVote,"data-testid":e.getClassName("re-vote-button")},xm("重新投票")))})),m()(l()(e),"renderContent",(function(){var t=e.props.cardData.getType(),n=e.props.cardData.getTitle(),r=dx[t],o=e.isAllowVote();return Re.a.createElement("div",{className:e.getClassName("content"),ref:e.contentRef},Re.a.createElement("div",{className:e.getClassName("content-header")},Re.a.createElement("div",{className:e.getClassName("content-header-type"),"data-testid":e.getClassName("type")},xm(r)),Re.a.createElement("div",{className:e.getClassName("content-header-title"),"data-testid":e.getClassName("title")},n)),o?e.renderVoteItems():e.renderResultItems(),o?e.renderVoteFooter():e.renderResultFooter())})),m()(l()(e),"renderVotingMask",(function(){return e.props.loadingStatus===rx&&e.props.loadingAction===ax?Re.a.createElement("div",{className:e.getClassName("voting-mask")},Re.a.createElement(oE,{type:"loading"}),xm("投票中...")):null})),m()(l()(e),"renderQueryDetailLoading",(function(){var t={};return 0!==e.state.lastContainerHeight&&(t.height=e.state.lastContainerHeight),Re.a.createElement("div",{className:e.getClassName(),style:t},Re.a.createElement("div",{className:e.getClassName("query-detail-loading")},Re.a.createElement(oE,{type:"loading"}),Re.a.createElement("span",null,xm("正在获取投票数据..."))))})),m()(l()(e),"renderError",(function(t){return Re.a.createElement("div",{className:e.getClassName()},Re.a.createElement("div",{className:e.getClassName("error-tip")},xm(t)))})),m()(l()(e),"renderSimpleMode",(function(){var t=e.props.getCardReadUrl();return Re.a.createElement("div",null,xm("此处为语雀投票卡片，点击链接查看："),Re.a.createElement("a",{href:gv.sanitizeUrl(t),target:"_blank"},t))})),e.state={reVote:!1,voteData:{},lastContainerHeight:0},e}return a()(i,[{key:"render",value:function(){return this.props.viewerMode===mZ?this.renderSimpleMode():this.isInvalid()?this.renderError("投票数据异常"):this.isError()?this.renderError("获取投票数据失败"):this.isQueryDetail()?this.renderQueryDetailLoading():Re.a.createElement("div",{className:this.getClassName(),ref:this.containerRef},this.renderContent(),this.renderVotingMask())}}]),i}();function EJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EJ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(NJ,"propTypes",{cardData:De.a.object.isRequired,detail:De.a.object,allowVote:De.a.bool,onVote:De.a.func,loadingStatus:De.a.string,loadingAction:De.a.string,loadingError:De.a.any,viewerMode:De.a.string,getCardReadUrl:De.a.func});var DJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"uiViewProxy",null),m()(l()(e),"updateProps",(function(t){e.uiViewProxy.rerender(t)})),m()(l()(e),"getCardReadUrl",(function(){return rO.generateHashLink(e.iViewer.option.currentURL,e.id)})),e}return a()(i,[{key:"init",value:function(e){var t=this;this.uiViewProxy=YZ.render(NJ,OJ(OJ({},e),{},{viewerMode:this.iViewer.option.viewerMode,cardData:this.cardData,allowVote:this.pluginOption.allowVote,onVote:function(e){t.emit("vote",e)},getCardReadUrl:this.getCardReadUrl}),this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}}]),i}();function SJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SJ(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),m()(l()(e),"parseDetail",(function(t){if(!t)return null;var n=e.cardData.getItems(),r=0,o={},i=new Set;t.items.forEach((function(e){r+=e.count,o[e.id]=e})),t.items.forEach((function(e){o[e.id].percent=Math.floor((e.count||0)/r*1e4)/100}));var a=n.map((function(e){var n,r,a,c=o[e.id]||null;return c&&c.members.forEach((function(e){i.add(e)})),BJ(BJ({},e),{},{id:e.id,value:e.value,count:null!==(n=null==c?void 0:c.count)&&void 0!==n?n:0,members:null!==(r=null==c?void 0:c.members)&&void 0!==r?r:[],percent:null!==(a=null==c?void 0:c.percent)&&void 0!==a?a:0,isVoted:-1!==t.voted.indexOf(e.id)})}));return BJ(BJ({},t),{},{totalCount:r,items:a,memberCount:i.size})})),m()(l()(e),"filterDetail",(function(t){if(e.cardData.getType()!==ux)return t;var n={},r=(t.items||[]).map((function(e){var t=e.count;if(0===t)return e;var r=(e.members||[]).filter((function(r){return n[r]?(t-=1,!1):(n[r]=e.id,!0)}));return BJ(BJ({},e),{},{count:t,members:r})})),o=t.voted[0]||[];return BJ(BJ({},t),{},{items:r,voted:o})})),m()(l()(e),"loadingWrapper",function(){var t=xe()(ke.a.mark((function t(n){var r,o,i,a,c;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.loadingAction,o=n.exec,i=n.error,a=n.done,e._ui.updateProps({loadingStatus:rx,loadingAction:r,loadingError:null}),c=null,t.prev=3,t.next=6,o();case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),i&&i(),c=t.t0;case 12:return t.prev=12,e._ui.updateProps({loadingStatus:ox,loadingAction:r,loadingError:c}),t.finish(12);case 15:a&&a();case 16:case"end":return t.stop()}}),t,null,[[3,8,12,15]])})));return function(e){return t.apply(this,arguments)}}()),m()(l()(e),"requestVoteDetail",(function(){var t=e.cardData.getVoteId(),n=e.cardData.getDeadline(),r=e.cardData.getItems();return new Promise((function(o,i){_P({url:e.pluginOption.queryDetailUrl,method:"get",data:{vote_id:t,deadline:ie()(n).toISOString(),items:r.map((function(e){return e.id})).join(",")},success:function(e){o(e.data)},error:function(e){i(e)}})}))})),m()(l()(e),"queryVoteDetail",(function(){var t;e.loadingWrapper({loadingAction:ix,exec:(t=xe()(ke.a.mark((function t(){var n,r;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestVoteDetail();case 2:n=t.sent,r=e.filterDetail(n),e._ui.updateProps({detail:e.parseDetail(r)});case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})})),m()(l()(e),"requestVote",(function(t){var n=t.items,r=e.cardData.getVoteId();return new Promise((function(t,o){_P({url:e.pluginOption.voteUrl,method:"post",data:{vote_id:r,items:n},success:function(e){t(e.data)},error:function(e){o(e)}})}))})),m()(l()(e),"vote",(function(t){var n;e.loadingWrapper({loadingAction:ax,exec:(n=xe()(ke.a.mark((function n(){return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.requestVote(t);case 2:je.b.success(xm("投票成功"));case 3:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),done:function(){e.queryVoteDetail()}})})),e}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this,kJ),this._ui.on("vote",this.vote),this.queryVoteDetail()}},{key:"destroy",value:function(){this._ui&&this._ui.destroy()}}]),i}();m()(PJ,"$CardUI",DJ),m()(PJ,"$CardData",yx);var FJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,pb,PJ)}}]),i}();m()(FJ,"PluginName","vote"),m()(FJ,"PluginOption",_J),FN('.ne-viewer[data-viewer-mode="simple"] ne-card[data-card-name="thirdparty"] .ne-card-container[data-alias] {\n  height: auto;\n}\n');var TJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"renderSimpleMode",(function(){var t=e.props.cardData.getSrc();return Re.a.createElement("a",{href:gv.sanitizeUrl(t),target:"_blank"},t)})),e}return a()(i,[{key:"render",value:function(){return this.props.viewerMode===mZ?this.renderSimpleMode():Re.a.createElement(ZF,{cardData:this.props.cardData,available:this.props.available})}}]),i}();m()(TJ,"propTypes",{cardData:De.a.instanceOf(py).isRequired,available:De.a.bool,viewerMode:De.a.string});var MJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getCardToolbarConfig",value:function(){var e=["widthMode"];return this.cardData.isAllowMaximize()&&e.unshift({name:"maximize",option:{concise:!0}}),e}},{key:"init",value:function(){YZ.render(TJ,{cardData:this.cardData,viewerMode:this.iViewer.option.viewerMode},this.containerNode),this.cardData.getSrc()||(this.cardRootNode.style.display="none")}}]),i}();var LJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(LJ,"$CardData",py),m()(LJ,"$CardUI",MJ);var AJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"thirdparty",LJ)}}]),i}();m()(AJ,"PluginName","thirdparty"),FN('.ne-viewer[data-viewer-mode="simple"] ne-card[data-card-name="yuque"] .ne-card-container {\n  height: auto !important;\n}\n.ne-viewer[data-viewer-mode="simple"] ne-card[data-card-name="yuque"] .ne-card-container[data-alias="embed"] {\n  border: none;\n}\n.ne-viewer ne-card[data-card-name="yuqueInline"] {\n  vertical-align: middle;\n  height: auto;\n}\n.ne-viewer ne-card[data-card-name="yuque"] .ne-yuque-card-page-embed {\n  height: auto !important;\n}\n.ne-viewer ne-card[data-card-name="yuque"] .ne-yuque-doc-embed-warning {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #fafafa;\n  height: 80px;\n  color: rgba(0, 0, 0, 0.45);\n}\n'),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuqueInline"] .ne-yuque-doc-title-view .ne-svg-icon {\n  width: 1.8rem !important;\n  height: 1.8rem !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuqueInline"] .ne-yuque-doc-title-view .ne-svg-icon-yuque-doc {\n  background-size: cover;\n  background-position: center;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuqueInline"] .ne-yuque-doc-title-view .ne-yuque-doc-title {\n  font-size: 1.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view {\n  height: auto;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view .ne-yuque-doc-icon {\n  padding-top: 0.4rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view .ne-yuque-doc-icon .ne-svg-icon {\n  width: 1.8rem !important;\n  height: 1.8rem !important;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view .ne-yuque-doc-icon .ne-svg-icon-yuque-doc {\n  background-size: cover;\n  background-position: center;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view .ne-yuque-doc-title,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view .ne-yuque-doc-desc,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="yuque"] .ne-yuque-doc-card-view .ne-doc-card-view-belong {\n  font-size: 1.8rem;\n  line-height: 2.8rem;\n}\n');var IJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"renderSimpleMode",(function(e){return Re.a.createElement("div",null,xm("此处为语雀内容卡片，点击链接查看："),Re.a.createElement("a",{href:gv.sanitizeUrl(e),target:"_blank"},e))})),e}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.cardService,r=e.isDisableEmbedView,o=e.isEmbedModePage,i=n.getYuqueDocPreviewURL(t.getSrc());return o?Re.a.createElement("div",{className:"ne-yuque-doc-embed-warning"},"嵌入卡片中暂不支持展示在线文档。",Re.a.createElement("a",{href:gv.sanitizeUrl(i.url),target:"_blank"},"原文链接")):this.props.viewerMode===mZ?this.renderSimpleMode(i.url):Re.a.createElement(jz,{cardData:t,url:i.url,clickable:!0,isLoadingError:!0,isDisableEmbedView:r})}}]),i}();m()(IJ,"propTypes",{cardData:De.a.instanceOf(y_).isRequired,cardService:De.a.object.isRequired,isDisableEmbedView:De.a.bool,isEmbedModePage:De.a.bool,viewerMode:De.a.string});var jJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"isEmbedMode",(function(){return e.cardData.isEmbedMode(e.pluginOption.isDisableEmbedView)})),m()(l()(e),"isEmbedPage",(function(){return window.location.search.indexOf("view=doc_embed")>0})),e}return a()(i,[{key:"getResizerConfig",value:function(){return!(!this.cardData.getSrc()||!this.isEmbedMode())&&{min:100}}},{key:"getCardMaskConfig",value:function(){return!0}},{key:"getCardToolbarConfig",value:function(){var e=this;if("embed"===this.cardData.getRuntimeMode(this.pluginOption.isDisableEmbedView)){var t=this.cardData.getHeightMode();return[{name:"defaultHeight",text:xm("默认高度"),icon:"card-tb-embed-default",disabled:"default"===t,onClick:function(){e.emit("toggleHeightToDefault"),e.refreshToolbar()}},{name:"adaptiveHeight",text:xm("自适应高度"),icon:"card-tb-embed-adaptive",disabled:"adaptive"===t,onClick:function(){e.emit("toggleHeightAdaptive"),e.refreshToolbar();var t=e.cardService.getYuqueDocPreviewURL(e.cardData.getSrc());br(t.success,"F:v-yuque-card-ui;L:55");var n=e.plugin.getFrameHeight(t.url);n&&(e.containerNode.style.height=n+"px")}},"|","widthMode"]}return null}},{key:"init",value:function(){var e=this,t=this.isEmbedPage()&&this.isEmbedMode();t&&this.containerNode.classList.add("ne-yuque-card-page-embed");var n=new Nz(this.pluginOption,this.cardData);YZ.render(IJ,{cardData:this.cardData,isDisableEmbedView:this.pluginOption.isDisableEmbedView,isEmbedModePage:t,cardService:n,viewerMode:this.iViewer.option.viewerMode},this.containerNode),this.cardService=n,this.plugin.on("receiveDocHeight",(function(t){var r=t.url,o=t.height,i=n.getYuqueDocPreviewURL(e.cardData.getSrc());i.success&&i.url===r&&"adaptive"===e.cardData.getHeightMode()&&e.cardData.isEmbedMode(e.pluginOption.isDisableEmbedView)&&(e.containerNode.style.height=o+"px")}))}},{key:"heightChanged",value:function(){this.emit("heightChanged"),this.refreshToolbar()}}]),i}();var VJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){var e=this;this._ui=this.iViewer.createCardUI(this),this._ui.on("heightChanged",(function(){e.cardData.setHeightMode("custom"),e.cardData.sync(!0)})).on("toggleHeightToDefault",(function(){e.cardData.setHeightMode("default"),e.cardData.recoverCardHeight(),e.cardData.sync(!0)})).on("toggleHeightAdaptive",(function(){e.cardData.setHeightMode("adaptive"),e.cardData.recoverCardHeight(),e.cardData.sync(!0);var t=e.plugin.getFrameHeight(e.id);t&&(e.cardContainer.style.height=t+"px")}))}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),this._ui.destroy()}}]),i}();m()(VJ,"$CardData",y_),m()(VJ,"$CardUI",jJ);var zJ=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(zJ,"$CardData",y_),m()(zJ,"$CardUI",jJ);var UJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_frameHeights",{}),e}return a()(i,[{key:"init",value:function(e){var t=this;e.registerBlockCard(this,"yuque",VJ),e.registerInlineCard(this,"yuqueInline",zJ),wR(this,window,"message",(function(e){var n=e.data;if(n&&n.isYuqueEmbed){var r=n.href,o=n.contentHeight;t._frameHeights[r]=o,t.emit("receiveDocHeight",{url:r,height:o})}}),!1)}},{key:"getFrameHeight",value:function(e){return this._frameHeights[e]}}]),i}();m()(UJ,"PluginName","yuque"),m()(UJ,"PluginOption",Sz);var HJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.cardData,n=e.disabled;return Re.a.createElement(jF,{cardData:t,disabled:n})}}]),i}();m()(HJ,"propTypes",{cardData:De.a.instanceOf(km).isRequired,disabled:De.a.bool});var qJ=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.uiViewProxy=YZ.render(HJ,{cardData:this.cardData,disabled:Boolean(this.pluginOption&&this.pluginOption.disabled)},this.containerNode)}},{key:"destroy",value:function(){be.a.unmountComponentAtNode(this.containerNode),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();var WJ=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_cardUI",null),e}return a()(i,[{key:"init",value:function(){this._cardUI=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){this._cardUI&&this._cardUI.destroy()}}]),i}();m()(WJ,"$CardUI",qJ),m()(WJ,"$CardData",km),FN('.ne-viewer ne-card[data-card-name="premium"] {\n  vertical-align: bottom;\n}\n');var ZJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"premium",WJ)}}]),i}();m()(ZJ,"PluginName","premium"),m()(ZJ,"PluginOption",vm);var KJ=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("ne-alert")}},{key:"getMainDOMNode",value:function(){return this._rootNode}}]),i}();var $J=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerAttrTranslator("type",new lH),e.registerBoxNode("alert",KJ)}}]),i}();m()($J,"PluginName","alert");var JJ={isExport:!1,exportType:"",preventCopy:!1,preventCopyContainer:null,preventCopyMessage:null,optimizeGlobalViewerCopy:!1,optimizeViewerCopy:!0,docMaxWidth:void 0},YJ=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},JJ,t)}return a()(e,[{key:"isExport",get:function(){return this._option.isExport}},{key:"exportType",get:function(){return this._option.exportType}},{key:"preventCopy",get:function(){return this._option.preventCopy}},{key:"preventCopyContainer",get:function(){return this._option.preventCopyContainer}},{key:"preventCopyMessage",get:function(){return this._option.preventCopyMessage}},{key:"optimizeGlobalViewerCopy",get:function(){return"function"==typeof this._option.optimizeGlobalViewerCopy?this._option.optimizeGlobalViewerCopy():this._option.optimizeGlobalViewerCopy}},{key:"optimizeViewerCopy",get:function(){return"function"==typeof this._option.optimizeViewerCopy?this._option.optimizeViewerCopy():this._option.optimizeViewerCopy}},{key:"docMaxWidth",get:function(){return this._option.docMaxWidth}}]),e}();m()(YJ,"OptionName","clipboard");var GJ=function(e){u()(i,iC);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t,n){var a;return o()(this,i),a=r.call(this),m()(l()(a),"_iViewer",null),m()(l()(a),"_commandName",null),m()(l()(a),"_plugin",null),m()(l()(a),"_copyNode",document.createElement("span")),br("copy"===t,"F:copy;L:16"),a._iViewer=e,a._commandName=t,a._plugin=n,a._copyNode.className="ne-viewer-hidden-copy-node",a._copyNode.innerText="",document.body.appendChild(a._copyNode),a}return a()(i,[{key:"getState",value:function(){return 0}},{key:"getValue",value:function(){return!1}},{key:"execute",value:function(e){var t=document.getSelection(),n=t.focusNode,r=t.focusOffset,o=t.anchorNode,i=t.anchorOffset,a=document.createRange();a.selectNodeContents(this._copyNode),t.removeAllRanges(),t.addRange(a);var c=null;e&&(c=this._iViewer.transformDOMRangeToViewRange(e)),this._plugin.setNextEventData({range:c});try{return document.execCommand(this._commandName)}catch(e){return console.error(e),!1}finally{this._plugin.clearNextEventData(),t.setBaseAndExtent(o,i,n,r)}}}]),i}();FN(".ne-viewer-hidden-copy-node {\n  opacity: 0;\n  width: 0;\n  height: 0;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n}\n");var XJ=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_nextEventData",null),m()(l()(e),"_handlePreventCopy",(function(t){var n=vO.currentRange(),r=e.option,o=r.preventCopyContainer,i=r.preventCopyMessage;if(n&&o){var a=n.startContainer,c=n.endContainer,l=n.commonAncestorContainer;(o.contains(a)||o.contains(c)||l.contains(o))&&(null==i||i(),t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}})),m()(l()(e),"_handleGlobalCopy",(function(t){e.option.optimizeViewerCopy&&e._nextEventData&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),e._doCopy(t))})),m()(l()(e),"_handleCopy",(function(t){if(e.option.optimizeViewerCopy){var n=document.getSelection().getRangeAt(0);n&&(kN(n.commonAncestorContainer)||CN(n.startContainer,"block")||CN(n.endContainer,"block")||e._isInSameViewer(n)&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),e._doCopy(t)))}})),m()(l()(e),"_isInSameViewer",(function(t){var n=e._getViewerNode(t.startContainer),r=e._getViewerNode(t.endContainer);return n&&r&&n===r})),m()(l()(e),"_getViewerNode",(function(e){return kd(e,".ne-viewer")})),m()(l()(e),"_isViewerSelection",(function(t){return null!==e._getViewerNode(t)})),m()(l()(e),"_handleCrossCopy",(function(t){var n=t.clipboardData,r=vO.currentRange();if(r&&!e._isInSameViewer(r)){var o=e._isViewerSelection(r.startContainer),i="";o&&(i=kd(r.startContainer,".ne-viewer").getAttribute("id"));var a=e._isViewerSelection(r.endContainer),c="";a&&(c=kd(r.endContainer,".ne-viewer").getAttribute("id"));var l=r.cloneContents(),s=x()(l.querySelectorAll(".ne-viewer"));if((null==s?void 0:s.length)>0){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),s.forEach((function(e){var t=e.getAttribute("id"),n=document.querySelector('[id="'.concat(t,'"]')),o=n.querySelector(".ne-viewer-body"),a=n._viewer,l=document.createElement("div");if(t===i||t===c){var s,u,d=document.createRange();t===i?(d.setStart(r.startContainer,r.startOffset),d.setEnd(o.lastChild,(null===(s=o.lastChild)||void 0===s||null===(u=s.childNodes)||void 0===u?void 0:u.length)||0)):(d.setStart(o.firstChild,0),d.setEnd(r.endContainer,r.endOffset));var f=vO.transformRange(d,n).ranges[0],h=a.iViewer.transformDOMRangeToViewRange(f);if(h){var p=a._kernel.execCommand("copy",h);l.innerHTML=p["text/html"]||""}else l.innerHTML=""}else l.innerHTML=a.getDocument("text/html",{mode:"inline"});e.parentNode.replaceChild(l,e)}));var u=document.createElement("div");u.appendChild(l),n.setData("text/html",u.innerHTML),n.setData("text/plain",u.innerText)}}})),e}return a()(i,[{key:"init",value:function(e){this.option.preventCopy&&(e.onDocument("copy",this._handlePreventCopy),e.onForceRootNode("copy",this._handlePreventCopy)),e.registerCommand("copy",new GJ(this.iViewer,"copy",this)),e.onForceRootNode("copy",this._handleCopy),wR(this,document,"copy",this._handleGlobalCopy,!1),this.option.optimizeGlobalViewerCopy&&e.onDocument("copy",this._handleCrossCopy)}},{key:"setNextEventData",value:function(e){this._nextEventData=e}},{key:"clearNextEventData",value:function(){this._nextEventData=null}},{key:"_doCopy",value:function(e){var t,n=e.clipboardData,r=this.iKernel.execCommand("copy",null===(t=this._nextEventData)||void 0===t?void 0:t.range,{isExport:this.option.isExport,exportType:this.option.exportType,docMaxWidth:this.option.docMaxWidth});if(!r)return!1;Object.keys(r).forEach((function(e){n.setData(e,r[e])}))}}]),i}();m()(XJ,"PluginName","clipboard"),m()(XJ,"PluginOption",YJ),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="bookmark"] .ne-card-bookmark {\n  height: auto;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="bookmark"] .ne-card-bookmark-title,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="bookmark"] .ne-card-bookmark-desc,\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="bookmark"] .ne-card-bookmark-belong {\n  font-size: 1.8rem;\n  line-height: 2.8rem;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="bookmark"] .ne-card-bookmark-belong .ne-favicon {\n  width: 1.8rem;\n  height: 1.8rem;\n}\n');var QJ=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"getClassName",zj("ne-card-bookmark")),e}return a()(i,[{key:"render",value:function(){var e;return e=this.props.cardData.getDetail()?this.renderDetail():this.renderError(),Re.a.createElement("div",{className:this.getClassName(),"data-testid":this.getClassName()},e)}},{key:"renderDetail",value:function(){return Re.a.createElement(eH,{cardData:this.props.cardData,clickable:!0})}},{key:"renderError",value:function(){return Re.a.createElement(tH,{cardData:this.props.cardData})}}]),i}();m()(QJ,"propTypes",{cardData:De.a.instanceOf($_).isRequired});var eY=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_uiViewProxy",null),e}return a()(i,[{key:"init",value:function(){this._uiViewProxy=YZ.render(QJ,{cardData:this.cardData},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),this._uiViewProxy=null}}]),i}();var tY=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){var e;B()(p()(i.prototype),"destroy",this).call(this),null===(e=this._ui)||void 0===e||e.destroy(),this._ui=null}}]),i}();m()(tY,"$CardUI",eY),m()(tY,"$CardData",$_);var nY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"bookmark",tY)}}]),i}();m()(nY,"PluginName","bookmark");var rY=function(e){u()(i,GZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_rootNode",null),m()(l()(e),"_contentNode",null),e}return a()(i,[{key:"init",value:function(){this._rootNode=Xk("ne-mark"),this._contentNode=Xk("ne-mark-content"),this._rootNode.appendChild(this._contentNode),this._updateFontSize()}},{key:"getMainDOMNode",value:function(){return this._rootNode}},{key:"getContentDOMNode",value:function(){return this._contentNode}},{key:"_updateFontSize",value:function(){var e=Math.max.apply(Math,x()(this.modelNode.children.map((function(e){return e.attrs.fontsize||0}))));this._contentNode.style.fontSize=0===e?"":e+"px"}}]),i}();var oY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBoxNode("mark",rY)}}]),i}();m()(oY,"PluginName","mark");var iY={selectionMapping:!0,cardFocusStatus:!0},aY=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},iY,t)}return a()(e,[{key:"selectionMapping",get:function(){return"function"==typeof this._option.selectionMapping?this._option.selectionMapping():this._option.selectionMapping}},{key:"cardFocusStatus",get:function(){return this._option.cardFocusStatus}}]),e}();function cY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cY(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}m()(aY,"OptionName","selection");var sY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_focusedCard",null),m()(l()(e),"_cardFocus",(function(t){var n=kd(t.target,"ne-card");if(n){var r,o,i,a,c,l=null==n?void 0:n._neCardInstance;e._focusedCard!==l&&(null===(r=e._focusedCard)||void 0===r||r._$beforeBlur(),null===(o=e._focusedCard)||void 0===o||o.$blur(),e._focusedCard=l,null===(i=e._focusedCard)||void 0===i||i._$beforeFocus(),null===(a=e._focusedCard)||void 0===a||a.$focus(),null===(c=e._focusedCard)||void 0===c||c._$afterFocus())}})),m()(l()(e),"_cardBlur",(function(t){if(e._focusedCard){var n,r,o=kd(t.target,"ne-card");if(o&&(null==o?void 0:o._neCardInstance)===e._focusedCard)return;null===(n=e._focusedCard)||void 0===n||n._$beforeBlur(),null===(r=e._focusedCard)||void 0===r||r.$blur(),e._focusedCard=null}})),m()(l()(e),"_selectionChange",(function(){if(e.option.selectionMapping)try{var t=vO.currentRange();if(!t)return;if(!e._isInSameViewer(t))return;var n=e.iViewer.domRootNode,r=vO.transformRange(t,n),o=!1,i=r.ranges.map((function(t){return o?null:e.iViewer.transformDOMRangeToViewRange(t)||(o=!0,null)}));if(o)return;e.iKernel.execCommand("selection",lY(lY({},r),{},{ranges:i}))}catch(t){console.error("viewer selection error",t)}})),m()(l()(e),"_isInSameViewer",(function(t){var n=e._getViewerNode(t.startContainer),r=e._getViewerNode(t.endContainer);return n&&r&&n===r})),m()(l()(e),"_getViewerNode",(function(t){return kd(t,".ne-viewer",e.iViewer.domRootNode)})),e}return a()(i,[{key:"init",value:function(e){e.onDocument("selectionchange",this._selectionChange),this.option.cardFocusStatus&&(e.onForceRootNode("mousedown",this._cardFocus),wR(this,document,"mouseup",this._cardBlur))}}]),i}();m()(sY,"PluginName","selection"),m()(sY,"PluginOption",aY);var uY=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.cardRootNode.innerHTML='\n      <div class="ne-fallback-inline-card">\n        <div class="inner-content">\n          <img src="https://gw.alipayobjects.com/zos/bmw-prod/1a587ec9-10ac-4204-96f4-f259c5f6c2c7.svg" class="ne-fallback-img">\n          <div class="inner-tips">\n            <div class="main-tip">'.concat(this.pluginOption.getMainTip(),'</div>\n            <div class="sub-tip">\n              <div class="sub-tip-content">').concat(this.pluginOption.getSubTip(),"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ").replace(/\s*\n+\s*/g,"")}}]),i}();var dY=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.cardRootNode.innerHTML='\n      <div class="ne-fallback-block-card">\n        <div class="inner-content">\n          <img src="https://gw.alipayobjects.com/zos/bmw-prod/dc01c10b-e433-4bb3-bf7e-8b679725b823.svg" class="ne-fallback-img">\n          <div class="inner-tips">\n            <div class="main-tip">'.concat(this.pluginOption.getMainTip(),'</div>\n            <div class="sub-tip">').concat(this.pluginOption.getSubTip(),"</div>\n          </div>\n        </div>\n      </div>\n    ")}}]),i}();var fY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"block",dY),e.registerInlineCard(this,"inline",uY)}}]),i}();m()(fY,"PluginName","fallbackCard"),m()(fY,"PluginOption",ZH);var hY=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(YH,{checked:this.props.cardData.isChecked()})}}]),i}();m()(hY,"propTypes",{cardData:De.a.instanceOf(pk).isRequired});var pY=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){YZ.render(hY,{cardData:this.cardData},this.containerNode)}}]),i}();var vY=function(e){u()(i,eK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.iViewer.createCardUI(this)}}]),i}();m()(vY,"$CardData",pk),m()(vY,"$CardUI",pY),FN(".ne-viewer .ne-checkbox .ant-checkbox-inner {\n  cursor: default;\n}\n.ne-viewer .ne-checkbox:hover .ant-checkbox-inner {\n  border-color: #d9d9d9;\n}\n.ne-viewer .ne-checkbox.ant-checkbox-checked:hover .ant-checkbox-inner {\n  border-color: #1890ff;\n}\n"),FN('.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="checkbox"] .ne-checkbox .ant-checkbox-inner {\n  width: 32px;\n  height: 32px;\n}\n.ne-viewer[data-viewer-mode="present"] ne-card[data-card-name="checkbox"] .ne-checkbox.ant-checkbox-checked .ant-checkbox-inner::after {\n  width: 12px;\n  height: 20px;\n}\n');var mY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerInlineCard(this,"checkbox",vY)}}]),i}();m()(mY,"PluginName","checkbox"),FN(".ne-simple-ui .viewer-card:hover .ne-card-side-placeholder,\n.ne-simple-ui .viewer-card.ne-card-hovered .ne-card-side-placeholder {\n  display: none;\n}\n.ne-simple-ui ne-heading-anchor {\n  display: none !important;\n}\n");var yY=a()((function e(t){o()(this,e),m()(this,"UI_TYPE",WD),m()(this,"EDITOR_CLASSNAME","ne-simple-ui"),t.domRootNode.classList.add(this.EDITOR_CLASSNAME)}));var gY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_handlers",m()({},WD,yY)),e}return a()(i,[{key:"init",value:function(e){this.option.default&&this._handlers[this.option.default]&&new this._handlers[this.option.default](e)}}]),i}();m()(gY,"PluginName","uiSwitch"),m()(gY,"PluginOption",Dq),FN('/* stylelint-disable */\n.ne-viewer ne-card[data-card-name="board"] {\n  border: 1px solid transparent;\n}\n.ne-viewer ne-card[data-card-name="board"].ne-focused .ne-eidtor-card-lake-diagram-viewer .lake-board-toolbar {\n  display: block;\n}\n.ne-viewer ne-card[data-card-name="board"] .ne-eidtor-card-lake-diagram-viewer {\n  height: 100%;\n  overflow: hidden;\n}\n.ne-viewer ne-card[data-card-name="board"] .ne-eidtor-card-lake-diagram-viewer .lake-board-toolbar {\n  display: none;\n}\n');var bY=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.onLoad,r=e.isMaxmized,o=e.onMaximize,i=e.viewerMode,a=e.imgSrc;return i===mZ?Re.a.createElement("img",{src:a,style:{maxWidth:"100%"}}):Re.a.createElement("div",{className:"ne-eidtor-card-lake-diagram-viewer","data-testid":"ne-card-lake-diagram-board"},Re.a.createElement(vr.b,{data:t,onLoad:n,mini:!r,onMaximize:o}))}}]),i}();m()(bY,"propTypes",{data:De.a.object,onLoad:De.a.func,onMaximize:De.a.func,isMaxmized:De.a.bool,viewerMode:De.a.string,imgSrc:De.a.string});var wY={concise:!0},xY=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"getContainerToolbarConfig",value:function(){return{draggable:!0,items:["copyLink",{name:"downloadDiagram",type:"item",icon:"card-tb-download",text:xm("下载"),onClick:function(e,t){t.engine.diagram.exporter.download("jpg")}},"|",{name:"maximize",option:wY}]}}},{key:"getCardToolbarConfig",value:function(){return["widthMode",{name:"maximize",option:{concise:!0}}]}},{key:"getCardMaskConfig",value:function(){return!0}},{key:"init",value:function(){var e=this,t=this.cardData,n=t.get("diagramData"),r=t.get("viewportSetting");this.uiViewProxy=YZ.render(bY,{data:{diagramData:n,viewportSetting:r},onLoad:function(t){e.engine=t},onMaximize:function(){e.enterMaxView(wY)},isMaxmized:!1,viewerMode:this.iViewer.option.viewerMode,imgSrc:t.get("src")},this.containerNode),this._afterMaximizeChanged=K()((function(t){var n=e.engine.diagram;if(n&&!n.destroyed)if(t){var r=e.maximizedViewportSetting;r?n.viewport.set(r):n.viewport.autoFit()}else{var o=e.inDocCardViewportSetting;o&&n.viewport.set(o)}}),32)}},{key:"beforeMaximizeChanged",value:function(e){var t=this.engine.diagram;e?this.inDocCardViewportSetting=t.viewport.toObject():this.maximizedViewportSetting=t.viewport.toObject()}},{key:"afterMaximizeChanged",value:function(e){this.uiViewProxy.rerender({isMaxmized:e}),this._afterMaximizeChanged(e)}}]),i}();m()(xY,"diagramPlugins",[]),m()(xY,"CustomComponents",null);var _Y=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){var e=this.iViewer.createCardUI(this);this.diagram=e.diagram}}]),i}();m()(_Y,"$CardData",_k),m()(_Y,"$CardUI",xY),FN('.ne-viewer[data-viewer-mode="simple"] ne-card[data-card-name="board"] .ne-card-container {\n  height: auto !important;\n}\n.ne-viewer[data-viewer-mode="simple"] ne-card[data-card-name="board"] .ne-card-container img {\n  width: auto;\n}\n');var kY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"board",_Y)}}]),i}();m()(kY,"PluginName","board");var CY=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"render",value:function(){return Re.a.createElement(CU,{cardData:this.props.cardData,status:"error"})}}]),i}();m()(CY,"propTypes",{cardData:De.a.object.isRequired});var RY=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this.uiViewProxy=cO.render(CY,{cardData:this.cardData},this.containerNode)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this.uiViewProxy=null}}]),i}();var NY=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this)}}]),i}();m()(NY,"$CardData",U_),m()(NY,"$CardUI",RY);var EY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,Fb,NY)}}]),i}();m()(EY,"PluginName","transfer"),FN('.ne-viewer-toc-sidebar {\n  position: fixed;\n  top: 60px;\n  bottom: 0;\n  right: 0;\n  width: fit-content;\n  background: rgba(255, 255, 255, 0.8);\n  backdrop-filter: blur(30px);\n  display: none;\n  z-index: 201;\n}\n.ne-viewer-toc-sidebar .ne-toc-view .ne-toc-pin .ne-toc-pin-text {\n  display: none;\n}\n.ne-viewer-toc-sidebar .ne-toc-view .ne-toc-pin .ne-toc-pin-wrap {\n  opacity: 0;\n}\n.ne-viewer-toc-sidebar .ne-toc-view:hover .ne-toc-pin-wrap {\n  opacity: 1;\n}\n.ne-viewer-toc-sidebar .ne-toc-view .ne-toc-placeholder {\n  display: none;\n}\n@-moz-document url-prefix() {\n  .ne-viewer-toc-sidebar {\n    background: #fff;\n  }\n}\n.ne-viewer-toc-visible[ne-viewer-toc-outside="true"] .ne-viewer-toc-sidebar {\n  display: none;\n}\n.ne-viewer-toc-visible .ne-viewer-toc-sidebar {\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n');var OY=function(e){u()(i,g.a);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(e,t){var n;o()(this,i),n=r.call(this),m()(l()(n),"_iViewer",null),m()(l()(n),"_mountNode",null),m()(l()(n),"_view",null),m()(l()(n),"_option",null),m()(l()(n),"_prevOutside",null),m()(l()(n),"_eventEmitter",null),m()(l()(n),"_pinStatus",null),m()(l()(n),"_hoverTimeout",null),n._iViewer=e,n._option=t,n._mountNode=Xk("div",{className:"ne-viewer-toc-sidebar"}),n._mountNode.addEventListener("mouseenter",(function(){n._hoverTimeout=setTimeout((function(){n._mountNode.classList.add("ne-viewer-toc-sidebar-hover"),n._hoverTimeout=null}),350)})),n._mountNode.addEventListener("mouseleave",(function(){n._hoverTimeout&&(clearTimeout(n._hoverTimeout),n._hoverTimeout=null),n._mountNode.classList.remove("ne-viewer-toc-sidebar-hover")})),n._eventEmitter=new g.a,n._eventEmitter.on("tocStatusChange",(function(e){var t=e.outside;n._prevOutside!==t&&(n.setOutsideStatus(t),n._prevOutside=t)})),n._eventEmitter.on("pinStatusChange",(function(e){n._pinStatus=e,n.setPinStatus(e),n.refresh(),n._iViewer.emitPluginEvent("tocPinStatusChange",e)}));var a=t.getContainer();return a||(a=n._iViewer.domRootNode),a.appendChild(n._mountNode),n._view=XN.render(xA,{toc:[],eventEmitter:n._eventEmitter,scrollNode:n._iViewer.scrollNode,contentNode:n._iViewer.viewerBodyNode,offsetTop:n._iViewer.option.boundaryTopOffset,checkOutside:!0,allowShowHash:!0,onClick:function(e){n.emit("tocPositionChange",e),n._scrollTo(e)}},n._mountNode),n}return a()(i,[{key:"destroy",value:function(){this.removeAllListeners()}},{key:"update",value:function(e){var t;null===(t=this._view)||void 0===t||t.rerender({toc:e})}},{key:"refresh",value:function(){this._eventEmitter.emit("change")}},{key:"getPinStatus",value:function(){return this._pinStatus}},{key:"open",value:function(){var e;null===(e=this._mountNode.parentNode)||void 0===e||e.classList.add("ne-viewer-toc-visible")}},{key:"close",value:function(){var e;null===(e=this._mountNode.parentNode)||void 0===e||e.classList.remove("ne-viewer-toc-visible")}},{key:"toggle",value:function(){var e;null===(e=this._mountNode.parentNode)||void 0===e||e.classList.toggle("ne-viewer-toc-visible")}},{key:"setPinStatus",value:function(e){var t;null===(t=this._mountNode.parentNode)||void 0===t||t.setAttribute("ne-viewer-toc-pin",e)}},{key:"setOutsideStatus",value:function(e){var t;null===(t=this._mountNode.parentNode)||void 0===t||t.setAttribute("ne-viewer-toc-outside",e)}},{key:"setPinVisible",value:function(e){this._view.rerender({hidePin:!e})}},{key:"setNormalViewStatus",value:function(e){this._view.getReactRef().setNormalViewStatus(e)}},{key:"_scrollTo",value:function(e){this._option.isAllowModifyHash()&&(location.hash=e);var t=this._iViewer.domRootNode.querySelector('[id="'.concat(e,'"]'));if(t){var n=t.getBoundingClientRect(),r=this._iViewer.scrollNode.getBoundingClientRect();this._iViewer.scrollNode===document.scrollingElement?this._iViewer.scrollNode.scrollTop=Math.abs(r.top-n.top+this._iViewer.option.boundaryTopOffset):this._iViewer.scrollNode.scrollTop+=n.top-r.top}}}]),i}(),DY={enable:!1,allowModifyHash:!0,getContainer:null},SY=function(){function e(t){o()(this,e),m()(this,"_option",null),this._option=T()({},DY,t)}return a()(e,[{key:"enable",get:function(){return this._option.enable}},{key:"isAllowModifyHash",value:function(){return!0===this._option.allowModifyHash}},{key:"getContainer",value:function(){return"function"==typeof this._option.getContainer?this._option.getContainer():null}}]),e}();m()(SY,"OptionName","toc");var BY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_tocSidebar",null),m()(l()(e),"_tocData",null),m()(l()(e),"_tocCollapse",null),e}return a()(i,[{key:"init",value:function(e){var t=this;this.option.enable&&(this._tocCollapse=new hA,e.on("afterContentChange",(function(){var e;null===(e=t._tocSidebar)||void 0===e||e.refresh()})),e.on("ready",(function(){var e,n,r;null===(e=t._tocSidebar)||void 0===e||e.update(t._tocData),null===(n=t._tocSidebar)||void 0===n||n.open(),null===(r=t._tocSidebar)||void 0===r||r.refresh()})),e.iKernel.onPluginEvent("tocChange",(function(n){var r,o;t._tocData=n,e.emitPluginEvent("tocPinStatusChange",(null===(r=t._tocData)||void 0===r?void 0:r.length)>0),(null===(o=t._tocData)||void 0===o?void 0:o.length)>0&&(t._tocSidebar=new OY(e,t.option),t._tocSidebar.on("tocPositionChange",(function(t){e.emitPluginEvent("tocPositionChange",t)})),t._tocCollapse.setTOCSidebar(t._tocSidebar),t._tocSidebar.open(),e.emitPluginEvent("tocOpenStatusChange",!0))})),e.on("enterMaxView",(function(){var e;null===(e=t._tocSidebar)||void 0===e||e.close()})),e.on("leaveMaxView",(function(){var e;null===(e=t._tocSidebar)||void 0===e||e.open()})),e.onPluginEvent("viewSizeChange",(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(e=t._tocCollapse)||void 0===e||e.check.apply(e,r)})))}},{key:"destroy",value:function(){var e;null===(e=this._tocSidebar)||void 0===e||e.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();function PY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}m()(BY,"PluginName","toc"),m()(BY,"PluginOption",SY),FN(".ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body {\n  padding: 0 50px;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body > * {\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body > .ne-viewer-b-filler {\n  display: block;\n  max-width: 750px;\n  margin-left: auto;\n  margin-right: auto;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body ne-hole.ne-full-width {\n  max-width: 100%;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body ne-table-hole.ne-full-width {\n  max-width: 100%;\n  width: fit-content;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body ne-table-hole.ne-full-width ne-table-wrap {\n  min-width: 750px;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body ne-table-hole.ne-full-width > .ne-i-filler {\n  flex: 1;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body ne-table-hole.ne-full-width > .ne-i-filler:first-child {\n  text-align: right;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-fixed .ne-viewer-body ne-table-hole.ne-full-width > .ne-i-filler:last-child {\n  text-align: left;\n}\n"),FN(".ne-doc-major-viewer .ne-viewer-layout-mode-adapt {\n  padding: 0 50px;\n}\n.ne-doc-major-viewer .ne-viewer-layout-mode-adapt ne-table-hole {\n  display: flex;\n}\n");var FY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_isScrollbarVisible",!1),m()(l()(e),"_layout",null),m()(l()(e),"_isTOCOpened",null),m()(l()(e),"_isTOCPinned",null),m()(l()(e),"_prevLayoutStatus",{}),e}return a()(i,[{key:"init",value:function(e){var t=e.iKernel;this._isScrollbarVisible=AN(),this.addLayoutClassName(this.option.layout),this._layout=this.option.layout,br(t.hasExtendMethod("getLayout"),"F:viewer/index;L:30"),this._bindDocEvent(),this._bindMaxViewEvent(),this._bindTOCEvent(),this._emitLayoutChange()}},{key:"destroy",value:function(){this.removeLayoutClassName("*"),B()(p()(i.prototype),"destroy",this).call(this)}},{key:"isScrollbarVisible",value:function(){return this._isScrollbarVisible}},{key:"getLayout",value:function(){return this._layout}},{key:"_bindDocEvent",value:function(){var e=this,t=this.iViewer.iKernel;t.on("document.create",(function(){var n=t.getLayout();e._layout=n,e._toggleToolbarSetting(n),e.removeLayoutClassName("*"),e.addLayoutClassName(n),e._emitLayoutChange()})),t.onPluginEvent("layoutChange",(function(t){var n=t.current,r=t.prev;e._layout=n,e.removeLayoutClassName(r),e.addLayoutClassName(n),e._toggleToolbarSetting(n),e.iViewer.emit("layoutChange",{current:n,prev:r}),e._emitLayoutChange()}))}},{key:"_bindMaxViewEvent",value:function(){var e=this;this.iViewer.on("maxViewChange",(function(t){var n=e.iViewer.iKernel.getLayout();t?e.removeLayoutClassName(n):e.addLayoutClassName(n)})),this.iViewer.on("enterMaxView",(function(){var t=e.iViewer.iKernel.getLayout();e.removeLayoutClassName(t)})),this.iViewer.on("leaveMaxView",(function(){var t=e.iViewer.iKernel.getLayout();e.addLayoutClassName(t)}))}},{key:"_bindTOCEvent",value:function(){var e=this;this.iViewer.onPluginEvent("tocOpenStatusChange",(function(t){e._isTOCOpened=t,e._emitLayoutChange()})),this.iViewer.onPluginEvent("tocPinStatusChange",(function(t){e._isTOCPinned=t,e._emitLayoutChange()}))}},{key:"_emitLayoutChange",value:function(){var e=this,t={layout:this._layout,isTOCOpened:this._isTOCOpened,isTOCPinned:this._isTOCPinned};t.layout===e._prevLayoutStatus.layout&&t.isTOCOpened===e._prevLayoutStatus.isTOCOpened&&t.isTOCPinned===e._prevLayoutStatus.isTOCPinned||(this.iViewer.emit("viewportLayoutChange",t,this._prevLayoutStatus),this.iViewer.emitEvent("viewportLayoutChange",t,this._prevLayoutStatus)),this._prevLayoutStatus=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PY(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)}},{key:"_getLayoutClassName",value:function(e){return"*"===e&&(e=["fixed","adapt"]),"string"==typeof e&&(e=[e]),e.map((function(e){return"ne-viewer-layout-mode-".concat(e)}))}},{key:"addLayoutClassName",value:function(e){var t;(t=this.iViewer.domRootNode.classList).add.apply(t,x()(this._getLayoutClassName(e)))}},{key:"removeLayoutClassName",value:function(e){var t;(t=this.iViewer.domRootNode.classList).remove.apply(t,x()(this._getLayoutClassName(e)))}},{key:"_toggleToolbarSetting",value:function(e){this.iViewer.hasExtendMethod("addDisabledMiniToolbarItems")&&("adapt"===e?this.iViewer.addDisabledMiniToolbarItems("widthMode"):this.iViewer.removeDisabledMiniToolbarItems("widthMode"))}}]),i}();m()(FY,"PluginName","layout"),m()(FY,"PluginOption",Us);var TY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_viewResizeObserver",null),e}return a()(i,[{key:"init",value:function(e){this.option.enable&&(this._viewResizeObserver=new BW(e.domRootNode),this._viewResizeObserver.on("viewSizeChange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emitPluginEvent.apply(e,["viewSizeChange"].concat(n))})))}},{key:"destroy",value:function(){var e;null===(e=this._viewResizeObserver)||void 0===e||e.destroy(),B()(p()(i.prototype),"destroy",this).call(this)}}]),i}();m()(TY,"PluginName","viewResizeObserver"),m()(TY,"PluginOption",SW),FN('.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-container {\n  background: #fafafa;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in {\n  padding: 24px 32px 20px 24px;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content {\n  display: flex;\n  align-items: center;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-main-title {\n  display: flex;\n  align-items: center;\n  padding-left: 2px;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-main-title-icon {\n  display: flex;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-main-title-text {\n  flex: 1;\n  margin-left: 5px;\n  font-size: 16px;\n  color: #262626;\n  font-weight: 500;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-main-deadline {\n  margin-top: 12px;\n  color: #595959;\n  font-size: 14px;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-main-deadline-expired {\n  margin-left: 8px;\n  color: #f5222d;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  cursor: pointer;\n  border: 1px solid #096dd9;\n  font-size: 14px;\n  background-color: #096dd9;\n  background-image: none;\n  color: #fff;\n  border-radius: 4px;\n  padding: 0 16px;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn[disabled] {\n  cursor: default;\n  background-color: rgba(9, 109, 217, 0.3);\n  border: 1px solid rgba(9, 109, 217, 0.3);\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn:hover {\n  background-color: #2e8de6;\n  border-color: #2e8de6;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn:focus {\n  background-color: #0050b3;\n  border-color: #0050b3;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn:hover,\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn:focus {\n  background-image: none;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn[ant-click-animating-without-extra-node=\'true\']::after {\n  animation: none;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn[data-checked="true"] {\n  border-color: #d9d9d9;\n  background-color: #fff;\n  color: #595959;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-content-btn[data-checked="true"][disabled] {\n  cursor: default;\n  background-color: #fafafa;\n  border: 1px solid #d9d9d9;\n  color: #bfbfbf;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer {\n  margin-top: 16px;\n  border-top: 1px solid #e8e8e8;\n  padding-top: 12px;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer-list-item {\n  height: 28px;\n  width: 28px;\n  margin-top: 4px;\n  margin-right: 7px;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer-list-item img {\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer-more {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 0 0 28px;\n  height: 28px;\n  width: 28px;\n  margin-top: 4px;\n  color: #8C8C8C;\n  background-color: #fff;\n  border: 1px solid #ededed;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer-more:hover {\n  border-color: #47c479;\n  color: #47c479;\n}\n.ne-viewer ne-card[data-card-name="checkIn"] .ne-card-check-in-v-footer-tip {\n  color: #bfbfbf;\n  font-size: 14px;\n}\n.ne-card-check-in-v-modal-wrapper .ant-modal-body {\n  padding: 12px 24px 26px 24px;\n}\n.ne-card-check-in-v-list-modal-title {\n  display: flex;\n  font-size: 14px;\n  color: #595959;\n}\n.ne-card-check-in-v-list-modal-title-text {\n  flex: 1;\n}\n.ne-card-check-in-v-list-modal-title-export {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 2px 4px;\n}\n.ne-card-check-in-v-list-modal-title-export:hover {\n  background-color: #f5f5f5;\n  border-radius: 4px;\n}\n.ne-card-check-in-v-list-modal-title-export .ne-icon {\n  margin-right: 4px;\n}\n.ne-card-check-in-v-list-modal-content {\n  margin-top: 12px;\n  max-height: 55vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ne-card-check-in-v-list-modal-content-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 24px;\n}\n.ne-card-check-in-v-list-modal-content-item:last-of-type {\n  margin-bottom: 0;\n}\n.ne-card-check-in-v-list-modal-content-item-side {\n  flex: 0 0 40px;\n  width: 40px;\n  height: 40px;\n}\n.ne-card-check-in-v-list-modal-content-item-side img {\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n}\n.ne-card-check-in-v-list-modal-content-item-content {\n  flex: 1;\n  padding-left: 14px;\n}\n.ne-card-check-in-v-list-modal-content-item-content-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: #262626;\n}\n.ne-card-check-in-v-list-modal-content-item-content-desc {\n  margin-top: 6px;\n  font-size: 14px;\n  color: #595959;\n}\n');var MY=function(e){u()(i,Ce.Component);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"state",{isExportModalShow:!1}),m()(l()(e),"getClassName",zj(i.prefix)),m()(l()(e),"isExpired",(function(){if(e.props.cardData.getEnableDeadline()){var t=e.props.cardData.getDeadline();return+new Date(t)<=+new Date}return!1})),m()(l()(e),"toggleChecked",(function(){e.props.isChecked?e.props.onCancelCheckIn():e.props.onCheckIn()})),m()(l()(e),"openExportModal",(function(){e.setState({isExportModalShow:!0})})),m()(l()(e),"closeExportModal",(function(){e.setState({isExportModalShow:!1})})),m()(l()(e),"onExport",(function(){e.props.onExport()})),m()(l()(e),"renderDeadline",(function(){var t=e.props.cardData.getDeadline(),n=ie()(t),r=e.isExpired();return Re.a.createElement("div",{className:e.getClassName("v-content-main-deadline")},!r&&Re.a.createElement("span",{className:e.getClassName("v-content-main-deadline-tip")},xm("截止日期")," "),n.format("YYYY-MM-DD HH:mm"),r&&Re.a.createElement("span",{className:e.getClassName("v-content-main-deadline-expired")},xm("已截止")))})),m()(l()(e),"renderCheckInList",(function(){var t;if(null!==(t=e.props.checkInList)&&void 0!==t&&t.length)return Re.a.createElement("div",{className:e.getClassName("v-footer")},Re.a.createElement("div",{className:e.getClassName("v-footer-list")},e.props.checkInList.slice(0,18).map((function(t){return Re.a.createElement(Be.a,{title:t.getName(),key:t.getId()},Re.a.createElement("div",{className:e.getClassName("v-footer-list-item")},Re.a.createElement("img",{src:t.getAvatarUrl(),alt:t.getName()})))})),Re.a.createElement(Be.a,{title:xm("打卡列表")},Re.a.createElement("div",{className:e.getClassName("v-footer-more"),onClick:e.openExportModal},Re.a.createElement(oE,{type:"iconfont-more-actions"})))))})),m()(l()(e),"renderCheckInModal",(function(){var t;if(null!==(t=e.props.checkInList)&&void 0!==t&&t.length)return Re.a.createElement(gr.a,{wrapClassName:e.getClassName("v-modal-wrapper"),title:xm("打卡列表"),visible:e.state.isExportModalShow,onCancel:e.closeExportModal,footer:null,getContainer:function(){return e.props.overlayContainer||document.body}},Re.a.createElement("div",{className:e.getClassName("v-list-modal")},Re.a.createElement("div",{className:e.getClassName("v-list-modal-title")},Re.a.createElement("div",{className:e.getClassName("v-list-modal-title-text")},xm("共 $1 位打卡",e.props.checkInList.length)),e.props.allowExport&&e.props.supportExport&&Re.a.createElement("div",{className:e.getClassName("v-list-modal-title-export"),onClick:e.onExport},Re.a.createElement(oE,{type:"iconfont-export"}),xm("导出数据"))),Re.a.createElement("div",{className:e.getClassName("v-list-modal-content")},e.props.checkInList.map((function(t){return Re.a.createElement("div",{className:e.getClassName("v-list-modal-content-item"),key:t.getId()},Re.a.createElement("div",{className:e.getClassName("v-list-modal-content-item-side")},Re.a.createElement("img",{src:t.getAvatarUrl(),alt:t.getName(),title:t.getName()})),Re.a.createElement("div",{className:e.getClassName("v-list-modal-content-item-content")},Re.a.createElement("div",{className:e.getClassName("v-list-modal-content-item-content-name")},t.getName()),Re.a.createElement("div",{className:e.getClassName("v-list-modal-content-item-content-desc")},t.getDescription())))})))))})),m()(l()(e),"renderDisableTip",(function(){return Re.a.createElement("div",{className:e.getClassName("v-footer")},Re.a.createElement("div",{className:e.getClassName("v-footer-tip")},xm("人员列表无法获取历史")))})),e}return a()(i,[{key:"render",value:function(){var e=this.props.cardData,t=e.getTitle(),n=e.getButtonText(),r=e.getEnableDeadline(),o=e.getDeadline();return Re.a.createElement("div",{className:this.getClassName()},Re.a.createElement("div",{className:this.getClassName("v-content")},Re.a.createElement("div",{className:this.getClassName("v-content-main")},Re.a.createElement("div",{className:this.getClassName("v-content-main-title")},Re.a.createElement("div",{className:this.getClassName("v-content-main-title-icon")},Re.a.createElement(oE,{type:"iconfont-card-check-in",size:18})),Re.a.createElement("div",{className:this.getClassName("v-content-main-title-text")},t)),r&&o&&this.renderDeadline()),this.props.enable&&Re.a.createElement(gt.a,{loading:this.props.loading,disabled:this.isExpired(),className:this.getClassName("v-content-btn"),"data-checked":this.props.isChecked,onClick:this.toggleChecked},this.props.isChecked?xm("取消操作"):n)),this.props.enable?Re.a.createElement(Re.a.Fragment,null,this.renderCheckInList(),this.renderCheckInModal()):this.renderDisableTip())}}]),i}();function LY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LY(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}m()(MY,"propTypes",{enable:De.a.bool,cardData:De.a.object.isRequired,checkInList:De.a.array,isChecked:De.a.bool,onCheckIn:De.a.func,onCancelCheckIn:De.a.func,overlayContainer:De.a.object,allowExport:De.a.bool,supportExport:De.a.bool,onExport:De.a.func,loading:De.a.bool}),m()(MY,"prefix","ne-card-check-in");var jY=function(e){u()(n,Qe);var t=IY(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"setUser",value:function(e){this.setValue("user",{value:[AY({},e)]})}},{key:"getId",value:function(){var e,t,n;return null===(e=this.getValue("user"))||void 0===e||null===(t=e.value)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id}},{key:"getWorkId",value:function(){var e,t,n;return null===(e=this.getValue("user"))||void 0===e||null===(t=e.value)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.work_id}},{key:"getName",value:function(){var e,t,n;return null===(e=this.getValue("user"))||void 0===e||null===(t=e.value)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name}},{key:"getDescription",value:function(){var e,t;return null===(e=this.getValue("user"))||void 0===e||null===(t=e.value)||void 0===t?void 0:t[0].description}},{key:"getLogin",value:function(){var e,t,n;return null===(e=this.getValue("user"))||void 0===e||null===(t=e.value)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.login}},{key:"getAvatarUrl",value:function(){var e,t,n;return null===(e=this.getValue("user"))||void 0===e||null===(t=e.value)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.avatar_url}},{key:"setDatetime",value:function(e){this.setValue("datetime",e)}},{key:"getDatetime",value:function(){return this.getValue("datetime")}}]),n}();m()(jY,"scheme",{user:{type:"object",allowNull:!1,defaultValue:function(){}},datetime:{type:"number",allowNull:!1}});var VY=function(e){u()(n,at);var t=IY(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"query",value:function(){return B()(p()(n.prototype),"query",this).call(this,{mentionColumns:"user",order:"updated_at desc"})}}]),n}();m()(VY,"recordModel",jY);var zY={mime:"text/csv,charset=UTF-8",fileName:"data.csv",columns:[],data:[],el:null,auto:!0,utf8:!0,warning:!0},UY=function(e){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)e[n]=t[n]})),e}({},zY,e),n=t.utf8?"\ufeff":"";t.columns.forEach((function(e){n+=e.title+","})),n=n.substr(0,n.length-1);var r="";t.data.forEach((function(e){if("object"===R()(e)){var n="";t.columns.forEach((function(r){n+=function(e){return null!=e&&void 0!==e||(e=""),(e=String(e)).replace(/"/g,'""'),e.search(/("|,|\n)/g)>0&&(e='"'.concat(e,'"')),e}(e[r.key])+",",!(r.key in e)&&t.warning&&console.warn("property ".concat(r.key," didn't in "),e)})),n=n.substr(0,n.length-1),r+=n+"\n"}}));var o=new Blob([n+"\n"+r],{type:t.mime}),i=URL.createObjectURL(o);if(t.el&&(t.el.setAttribute("href",i),t.el.setAttribute("download",t.fileName)),t.auto){var a=document.createElement("a");a.setAttribute("href",i),a.setAttribute("download",t.fileName),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),a=null}return setTimeout((function(){"revokeObjectURL"in URL&&URL.revokeObjectURL(i),r=null,o=null}),4e4),o};function HY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HY(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var WY=function(e){u()(i,YZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_uiProxy",null),m()(l()(e),"_cardDataModel",null),m()(l()(e),"_currentUserCheckInDataModel",null),m()(l()(e),"_checkInRecords",null),m()(l()(e),"_refreshCheckInList",xe()(ke.a.mark((function t(){var n,r,o,i=arguments;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=i.length>0&&void 0!==i[0]&&i[0])&&e._uiProxy.rerender({loading:!0}),t.prev=2,t.next=5,e._cardDataModel.query();case 5:r=t.sent,o=new Map,e._checkInRecords=(r||[]).filter((function(e){return!o.has(e.getId())&&(o.set(e.getId(),e),!0)})),e._currentUserCheckInDataModel=e._checkInRecords.filter((function(t){return t.getId()===e.pluginOption.user.id}))[0],e._uiProxy.rerender({checkInList:e._checkInRecords,isChecked:!!e._currentUserCheckInDataModel});case 10:return t.prev=10,n&&e._uiProxy.rerender({loading:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[2,,10,13]])})))),m()(l()(e),"_onCheckIn",xe()(ke.a.mark((function t(){var n;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.iViewer.option.isLogged){t.next=3;break}return e.iViewer.login(),t.abrupt("return");case 3:return e._uiProxy.rerender({loading:!0}),t.prev=4,(n=e._cardDataModel.createRecord()).setUser(e.pluginOption.user),n.setDatetime(+new Date),t.next=10,n.sync();case 10:return t.next=12,e._refreshCheckInList();case 12:return t.prev=12,e._uiProxy.rerender({loading:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[4,,12,15]])})))),m()(l()(e),"_onCancelCheckIn",xe()(ke.a.mark((function t(){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._uiProxy.rerender({loading:!0}),t.prev=1,!e._currentUserCheckInDataModel){t.next=5;break}return t.next=5,e._currentUserCheckInDataModel.remove();case 5:return t.next=7,e._refreshCheckInList();case 7:return t.prev=7,e._uiProxy.rerender({loading:!1}),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[1,,7,10]])})))),m()(l()(e),"_onExport",xe()(ke.a.mark((function t(){var n;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==(n=e._checkInRecords)&&void 0!==n&&n.length&&UY({fileName:"".concat(xm("打卡记录"),".csv"),columns:[{title:xm("序号"),key:"index"},{title:xm("名称"),key:"name"},{title:xm("打卡时间"),key:"datetime"}],data:e._checkInRecords.map((function(e,t){return{index:t+1,name:e.getName(),datetime:e.getDatetime()?ie()(e.getDatetime()).format("YYYY-MM-DD HH:mm"):""}}))});case 1:case"end":return t.stop()}}),t)})))),e}return a()(i,[{key:"init",value:function(){this.pluginOption.enable&&(br(this.iViewer.iKernel.getDynamicDataBaseParams,"F:v-check-in-card-ui;L:18"),this._cardDataModel=new VY(qY(qY({},this.iViewer.iKernel.getDynamicDataBaseParams()),{},{sheetId:this.id,viewType:"CHECK_IN"}))),this._uiProxy=YZ.render(MY,{enable:this.pluginOption.enable,allowExport:this.pluginOption.allowExport,cardData:this.cardData,onCheckIn:this._onCheckIn,onCancelCheckIn:this._onCancelCheckIn,overlayContainer:this.iViewer.overlayContainer,supportExport:"undefined"!=typeof Blob&&"undefined"!=typeof URL&&"createObjectURL"in URL&&"download"in document.createElement("a"),onExport:this._onExport},this.containerNode),this.pluginOption.enable&&this._refreshCheckInList(!0)}},{key:"destroy",value:function(){B()(p()(i.prototype),"destroy",this).call(this),be.a.unmountComponentAtNode(this.containerNode),this._uiProxy=null}}]),i}();var ZY=function(e){u()(i,tK);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),m()(l()(e),"_ui",null),e}return a()(i,[{key:"init",value:function(){this._ui=this.iViewer.createCardUI(this)}},{key:"destroy",value:function(){var e;null===(e=this._ui)||void 0===e||e.destroy()}}]),i}();m()(ZY,"$CardUI",WY),m()(ZY,"$CardData",gW);var KY={enable:!0,user:{},allowExport:!1,allowCheckIn:!0},$Y=function(){function e(t){o()(this,e),this._option=T()({},KY,t)}return a()(e,[{key:"enable",get:function(){return this._option.enable}},{key:"user",get:function(){return this._option.user}},{key:"allowExport",get:function(){return this._option.allowExport}},{key:"allowCheckIn",get:function(){return this._option.allowCheckIn}}]),e}();m()($Y,"OptionName","checkIn");var JY=function(e){u()(i,JZ);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p()(t);if(n){var o=p()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f()(this,e)});function i(){return o()(this,i),r.apply(this,arguments)}return a()(i,[{key:"init",value:function(e){e.registerBlockCard(this,"checkIn",ZY)}}]),i}();m()(JY,"PluginName","checkIn"),m()(JY,"PluginOption",$Y),lK.registerKernelPlugin([Cc,Nc,Mc,fs,Il,Cs,ms,ts,Gs,Ws,au,gu,ju,$u,od,wd,Sd,Pd,Ef,Lh,Od,qh,Qh,up,Dp,Gp,av,dm,by,Fy,Vy,Qy,ig,fg,gg,Wg,Kg,Hb,mw,Cw,lw,Yw,nx,_x,Mx,Tw,t_,h_,by,R_,Sm,nk,sk,j_,hk,bk,Bk,K_,Ak,Vk,kW]),lK.registerViewPlugin([sK,Q$,iJ,xK,fK,LK,UK,HK,qK,ZK,KK,$K,JK,YK,FY,TY,GK,wK,dK,r$,XK,QK,EK,DK,MK,a$,u$,m$,E$,P$,W$,J$,fJ,mJ,wJ,FJ,AJ,UJ,ZJ,$J,sY,XJ,nY,oY,fY,mY,gY,kY,EY,BY,JY]);var YY,GY={findElementById:function(e){return this.domRootNode.querySelector('[data-lake-id="'.concat(e,'"]'))},extractMention:function(){return this.queryCommandValue("mention")}};function XY(e,t){var n,r={env:n=uZ(void 0),currentURL:dZ(),scrollNode:function(){return document.scrollingElement},image:{ocr:!W.ua.mobile},fallbackCard:fZ(n)};return t=oZ.completeViewerOption(t),new lK(e,cZ(r,t))}function QY(e,t){e.classList.add("ne-doc-major-editor"),zW.isMobile&&e.classList.add("ne-doc-major-editor-mobile"),t=oZ.completeEditorOption(t);var n=new ZN(e,cZ(zW.isMobile?cZ(vZ(t),{disabledPlugins:["toc","collaboration","sidebar"],typography:"classic",layout:"adapt",toolbar:{default:{items:ZM},table:{items:ZM}},mobile:{enable:!0},cardSelect:{general:{groups:[{items:["image","table","label"]}]}}}):function(e){return cZ(vZ(e),{typography:"classic",layout:"fixed"})}(t),t));return n.on("beforedestroy",(function(){e.classList.remove("ne-doc-major-editor"),e.classList.remove("ne-doc-major-editor-mobile")})),n.on("hashChange",(function(e){W.ua.desktop||(window.location.hash=e)})),n}function eG(e,t){e.classList.add("ne-doc-minor-editor"),t=oZ.completeEditorOption(t);var n=new ZN(e,cZ(cZ(vZ(t),{disabledPlugins:["toc","collaboration"],typography:"traditional",layout:"adapt",uiSwitch:{default:WD},fullscreen:{enable:!0},toolbar:m()({},WD,{fixed:!0,items:["cardSelect","style","bold","orderedList","unorderedList","link","emoji","randomTips"]}),cardSelect:m()({},WD,{groups:[{items:["image","label","yuqueMain"]}]}),slash:m()({},WD,{colNum:1,displayCommands:[["image","label","taskList","unorderedList","orderedList","link","yuqueMain","style/h1","style/h2","style/h3","style/h4"]]})}),t));return n.on("beforedestroy",(function(){e.classList.remove("ne-doc-minor-editor")})),n}function tG(e,t){e.classList.add("ne-doc-micro-editor"),t=oZ.completeEditorOption(t);var n=new ZN(e,cZ(cZ(vZ(t),{disabledPlugins:["toc","collaboration"],typography:"traditional",layout:"adapt",uiSwitch:{default:WD},fullscreen:{enable:!0},toolbar:m()({},WD,{fixed:!0,items:["image","bold","orderedList","unorderedList","link","emoji"]}),cardSelect:m()({},WD,{groups:[{items:["image","label","yuqueMain"]}]}),slash:m()({},WD,{colNum:1,displayCommands:[["image","label","taskList","unorderedList","orderedList","link","yuqueMain","style/h1","style/h2","style/h3","style/h4"]]})}),t));return n.on("beforedestroy",(function(){e.classList.remove("ne-doc-micro-editor")})),n}function nG(e,t){e.classList.add("ne-doc-note-editor"),zW.isMobile&&e.classList.add("ne-doc-note-mobile-editor");var n,r=(t=oZ.completeEditorOption(t)).mini?(n=e,cZ(vZ(t),{scrollNode:function(){return n.querySelector(".ne-editor-wrap-content")},disabledPlugins:["toc","collaboration","premium","sidebar","vote","fullscreen"],typography:"traditional",layout:"adapt",uiSwitch:{default:ZD},toolbar:m()({},ZD,{fixed:!0,items:["note-image","notetaskList","note-bookmark","note-file"]}),cardSelect:m()({},ZD,{groups:[{items:["image","file"]}]}),slash:m()({},ZD,{colNum:1,displayCommands:[["image","file","taskList","unorderedList","orderedList","link"]]})})):zW.isMobile?function(e,t){return cZ(vZ(e),{scrollNode:function(){return t.querySelector(".ne-editor-wrap-content")},disabledPlugins:["toc","collaboration","premium","sidebar","vote","fullscreen"],typography:"traditional",layout:"adapt",uiSwitch:{default:ZD},mobile:{enable:!0},toolbar:m()({},ZD,{fixed:!0,items:["note-tag","note-image","notetaskList","note-bookmark"]}),cardSelect:m()({},ZD,{groups:[{items:["image","table"]}]}),slash:m()({},ZD,{colNum:1,displayCommands:[["image","label","taskList","unorderedList","orderedList","link","yuqueMain","style/h1","style/h2","style/h3","style/h4"]]})})}(t,e):function(e,t){return cZ(vZ(e),{scrollNode:function(){return t.querySelector(".ne-editor-wrap-content")},disabledPlugins:["collaboration","premium","vote","checkIn","toc"],typography:"traditional",layout:"adapt",uiSwitch:{default:ZD},fullscreen:{enable:!0},toc:{autoOpen:!1},toolbar:m()({},ZD,{fixed:!0,items:["note-image","notetaskList","note-bookmark","note-file"]}),cardSelect:m()({},ZD,{groups:[{items:["image",{name:"table",allowSelector:!0},"file","calendar","codeblock","math",{name:"boardMenu",config:{groups:[{items:["blank-board","mindmap","flowchart"]}]}},"text-diagram","lockedtext","label"]},{items:["yuqueMain",{name:"localDoc",config:{groups:[{items:["uploadForLocalDoc","officeForLocalDoc","macOfficeForLocalDoc","mindForLocalDoc","designForLocalDoc","pdfForLocalDoc","video","audio"]}]}}]}]}),slash:m()({},ZD,{colNum:1,displayCommands:[["unorderedList","orderedList","taskList","label","math","codeblock","table","blank-board","calendar","image","link","style/h1","style/h2","style/h3","style/h4"]]})})}(t,e),o=new ZN(e,cZ(r,t));return o.on("beforedestroy",(function(){e.classList.remove("ne-doc-note-editor"),e.classList.remove("ne-doc-note-mobile-editor")})),o}YY=lK,Object.keys(GY).forEach((function(e){YY.prototype[e]=GY[e]})),sZ(ZN),FN(".ne-doc-minor-editor .ne-editor {\n  background-color: #fafafa;\n}\n.ne-doc-minor-editor .ne-simple-ui.ne-editor {\n  background-color: #FFF;\n}\n.ne-doc-minor-editor .ne-simple-ui .ne-engine {\n  padding-top: 16px;\n  padding-left: 16px;\n  padding-right: 16px;\n  padding-bottom: 8px;\n  min-height: 188px;\n}\n"),sZ(ZN),FN(".ne-doc-micro-editor .ne-editor {\n  background-color: #fafafa;\n}\n.ne-doc-micro-editor .ne-simple-ui.ne-editor {\n  background-color: #FFF;\n}\n.ne-doc-micro-editor .ne-simple-ui.ne-allow-fullscreen .ne-engine {\n  padding-top: 16px;\n}\n.ne-doc-micro-editor .ne-simple-ui .ne-engine {\n  padding: 8px;\n  min-height: 84px;\n}\n"),sZ(ZN),sZ(ZN)},2283:function(e,t,n){"use strict";n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return ae}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(28),l=n(3),s=n.n(l),u=n(8),d=n.n(u),f=n(19),h=n.n(f),p=n(17),v=n(51),m=n.n(v),y=n(6),g=n.n(y),b=n(7),w=n.n(b),x=n(9),_=n.n(x),k=n(10),C=n.n(k),R=n(4),N=n.n(R),E=n(68),O=n.n(E);function D(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}D("/* stylelint-disable */\n");var S=c.i.Board;function B(e){var t=e.viewModel,n=t.diagram,r=t.onProperties,i=t.showProperties,a=t.onSave,c=t.engine,l=t.mini,s=t.readOnly,u=t.onMaximize,d=t.focusMode,f=t.setFocusMode;return n&&c?o.a.createElement("div",{className:"lake-board-toolbar"},o.a.createElement(S.Toolbar,{diagram:n,mini:l,onSave:a,onProperties:r,readOnly:s,showProperties:i,onMaximize:u,focusMode:d,setFocusMode:f})):o.a.createElement("div",{className:"lake-board-toolbar"})}B.propTypes={viewModel:a.a.shape({diagram:a.a.object,onProperties:a.a.func,onImageInputChange:a.a.func,showProperties:a.a.bool,mini:a.a.bool,readOnly:a.a.bool,onSave:a.a.func,onMaximize:a.a.func,engine:a.a.object,focusMode:a.a.bool,setFocusMode:a.a.func})};var P=c.i.Board;function F(e){var t=e.viewModel,n=t.diagram,r=t.onProperties,i=t.showProperties,a=t.engine,c=t.mini;return n&&a&&!i?o.a.createElement("div",{className:"lake-board-contextual-menu-wrap"},o.a.createElement(P.ContextualMenu,{diagram:n,mini:c,onProperties:r})):o.a.createElement("div",{className:"lake-board-contextual-menu-wrap"})}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){var t=e.getBoundingClientRect(),n=t.height;return{width:t.width,height:n}}function L(e){var t=e.diagram,n=e.setDiagram,o=e.model,i=e.container,a=e.engine,l=e.mini,u=o.diagramData,d=o.viewportSetting,f=o.mode;Object(r.useEffect)((function(){if(!t){var e=new c.l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({container:i.current,plugins:[c.t.Board],mode:f,paper:{size:"auto"}},M(i.current)));n(e)}return function(){return t&&t.destroy()}}),[t]),Object(r.useEffect)((function(){a&&a.setValue({diagramData:u,viewportSetting:d})}),[a]),Object(r.useEffect)((function(){var e=i.current,n=new ResizeObserver((function(n){var r=n.find((function(t){return t.target===e}));if(t&&r&&r.contentRect){var o=M(i.current),a=o.width,c=o.height,s=l?18:0;t.changeSize(a+s,c+s)}}));return n.observe(e),function(){return n.unobserve(e)}}),[t,l])}function A(e){var t=Object(r.useRef)(),n=e.viewModel,i=n.diagram,a=n.setDiagram,c=n.model,l=n.engine,s=n.mini,u=n.focusMode,d=n.setFocusMode;return L({diagram:i,setDiagram:a,model:c,container:t,engine:l,mini:s}),o.a.createElement("div",{ref:t,className:"lake-board-canvas"},o.a.createElement(B,{viewModel:n,focusMode:u,setFocusMode:d}),o.a.createElement(F,{viewModel:n}))}F.propTypes={viewModel:a.a.shape({diagram:a.a.object,onProperties:a.a.func,showProperties:a.a.bool,mini:a.a.bool,engine:a.a.object})},D(".lake-board-editor .lake-board-content .lake-board-canvas {\n  width: 100%;\n  height: 100%;\n}\n"),A.defaultProps={viewModel:{}},A.propTypes={viewModel:a.a.shape({model:a.a.object,engine:a.a.object,diagram:a.a.object,setDiagram:a.a.func,mini:a.a.bool,focusMode:a.a.bool,setFocusMode:a.a.func})};var I=c.i.Board;function j(e){var t=e.viewModel,n=t.diagram,r=t.propertiesWidth,i=t.onProperties;return o.a.createElement("div",{className:"lake-board-properties",style:{width:"".concat(r,"px"),flex:"none"}},n&&o.a.createElement(I.Properties,{diagram:n,onClose:function(){i()}}))}j.defaultProps={viewModel:{}},j.propTypes={viewModel:a.a.shape({diagram:a.a.object,propertiesWidth:a.a.number,onProperties:a.a.func})},D("/* stylelint-disable */\n.lake-board-editor {\n  width: 100%;\n  height: 100%;\n}\n.lake-board-editor .lake-board-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.lake-board-editor .lake-board-content .lake-board-canvas-wrapper {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n}\n.lake-board-editor .lake-board-content .lake-board-canvas-wrapper.lake-board-has-properties {\n  width: calc(100% - 284px);\n  margin-right: 284px;\n}\n.lake-board-editor .lake-board-content .lake-board-properties-wrapper {\n  width: 284px;\n  height: 100%;\n  position: absolute;\n  right: 0;\n}\n.lake-board-editor .lake-board-content .lake-board-properties-wrapper .lake-board-properties {\n  height: 100%;\n}\n");var V=c.i.LinkEditor,z=c.i.Note,U=c.i.Board;function H(e){var t=e.viewModel,n=t.showProperties,r=t.diagram,i=t.focusMode,a=t.setFocusMode;return o.a.createElement("div",{className:"lake-board-editor"},o.a.createElement("div",{className:"lake-board-content"},o.a.createElement("div",{className:d()("lake-board-canvas-wrapper",{"lake-board-has-properties":n})},o.a.createElement(A,{viewModel:t,focusMode:i,setFocusMode:a}),r&&o.a.createElement(U.ContextMenu,{diagram:r})),n&&o.a.createElement("div",{className:"lake-board-properties-wrapper"},o.a.createElement(j,{viewModel:t}))),r&&o.a.createElement(V,{diagram:r}),r&&o.a.createElement(z.Editor,{diagram:r}))}H.defaultProps={viewModel:{}},H.propTypes={viewModel:a.a.shape({diagramData:a.a.object,engine:a.a.object,diagram:a.a.object,showProperties:a.a.bool,focusMode:a.a.bool,setFocusMode:a.a.func})};var q=c.d.exportData,W=c.d.importData,Z=c.d.onBeforeSave,K=function(e){_()(n,O.a);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N()(e);if(t){var o=N()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C()(this,n)}}(n);function n(e){var r,o=e.diagram,i=e.model,a=e.uploader;g()(this,n),r=t.call(this);var l=new c.o.Event;return r.model=i,r.diagram=o,r.uploader=a,r.eventHelper=l,l.bind(o,"aftercommandexecute",(function(e){var t=e.isModelChange,n=e.commandName,o=e.useTime;t&&r.emit("change"),r.emit("commandEnd",n,o)})),r}return w()(n,[{key:"save",value:function(){this.emit("save")}},{key:"setValue",value:function(e){var t=this.diagram,n=this.model,r=this.uploader;n.update(e);var o=n.diagramData,i=n.viewportSetting;t.clear(),W({data:o,diagram:t,uploader:r}),i&&("IndependentDocAutoFit"===i?function(e){var t=e.getCells().filter((function(e){return e.isRoot&&e.isMindmap&&!e.isLine}));e.viewport.autoFit({zoom:1}),t.length>0&&e.viewport.scrollIntoView(t[0])}(t):"object"===m()(i)&&t.viewport.set(i))}},{key:"getValue",value:function(){var e=this.diagram;return{format:"lakeboard",type:"Board",version:"1.0",diagramData:q(e),viewportSetting:e.viewport.toObject(),text:this.getText()}}},{key:"getMeta",value:function(){return{cellCount:this.diagram.getCells().length}}},{key:"getHtml",value:function(){return this.diagram?this.diagram.exporter.html():"<div>LakeBoard</div>"}},{key:"getText",value:function(){return this.diagram?this.diagram.exporter.getText():"LakeBoard"}},{key:"download",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jpeg",t=arguments.length>1?arguments[1]:void 0,n=this.diagram;return n.exporter.download(e,t)}},{key:"canvas",value:function(){var e,t=this.diagram;return(e=t.exporter).canvas.apply(e,arguments)}},{key:"onBeforeSave",value:function(){return Z(this,this.uploader)}},{key:"destroy",value:function(){this.diagram=void 0,this.uploader=void 0,this.eventHelper.destroy(),this.destroyed=!0}}]),n}();function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g()(this,e),this.update(J({diagramData:{head:{},body:[]},viewportSetting:null},t))}return w()(e,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}}]),e}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=c.d.uploadImage;function ee(e){var t=e.file,n=e.uploader,r=e.diagram,o=e.from,i=e.x,a=e.y;return new Promise((function(e){Q({file:t,uploader:n,enable:function(){return r.command.enable("MindmapAttachImage")||r.command.enable("InsertImage")},callback:function(t){var n=r.selector.selections;"clipboard"===o&&(t.firstInsertRatio=1/window.devicePixelRatio),1===n.length&&n[0].isMindmap?r.command.execute("MindmapAttachImage",{image:t}):r.command.execute("InsertImage",{image:t,x:i,y:a}),e(t)}})}))}function te(e){var t=function(e){var t=e.data,n=e.onLoad,o=e.uploader,i=e.mini,a=void 0!==i&&i,c=e.onMaximize,l=Object(r.useMemo)((function(){return new Y(t)}),[t]),s=Object(r.useState)(null),u=h()(s,2),d=u[0],f=u[1],v=Object(r.useState)(!1),m=h()(v,2),y=m[0],g=m[1],b=Object(r.useState)(null),w=h()(b,2),x=w[0],_=w[1],k=Object(r.useState)(!1),C=h()(k,2),R=C[0],N=C[1];function E(){g(!y),setTimeout((function(){window.dispatchEvent(new Event("resize"))}))}return l.mode="edit",Object(r.useEffect)((function(){if(d){var e=new K({diagram:d,model:l,uploader:o});return _(e),n(e),function(){return e.destroy()}}}),[d]),Object(r.useEffect)((function(){function e(e){ee(X(X({},e),{},{file:e.files[0],uploader:o,diagram:d}))}if(d)return d.on("importimage",e),function(){return d.off("importimage",e)}}),[d]),Object(r.useEffect)((function(){function e(e){(function(e){return p.ua.macos?e.metaKey:e.ctrlKey})(e)&&("s"===e.key?(e.preventDefault(),x.save()):"."===e.key&&(e.preventDefault(),N((function(e){return!e}))))}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[x,E]),Object(r.useEffect)((function(){function e(e){if(!o.isCompleted())return e.preventDefault(),e.returnValue="仍有图片正在上传中，是否确认关闭？",""}return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[x]),{model:l,engine:x,uploader:o,onImageInputChange:function(e){ee({file:e.nativeEvent.target.files[0],uploader:o,diagram:d}),e.nativeEvent.target.value=null},onMaximize:c,onSave:function(){x.save()},onProperties:E,diagram:d,setDiagram:f,mini:a,showProperties:!a&&y,setShowProperties:g,focusMode:R,setFocusMode:N}}(e);return o.a.createElement(H,{viewModel:t})}function ne(e){var t=e.viewModel,n=Object(r.useRef)();return L({diagram:t.diagram,setDiagram:t.setDiagram,model:t.model,container:n,engine:t.engine,mini:t.mini}),o.a.createElement("div",{ref:n,className:"lake-board-canvas"},o.a.createElement(B,{viewModel:t}))}te.defaultProps={data:{},onLoad:function(){}},te.propTypes={data:a.a.shape({diagramData:a.a.object}),onLoad:a.a.func,uploader:a.a.object.isRequired},D(".lake-board-reader .lake-board-content .lake-board-canvas {\n  width: 100%;\n  height: 100%;\n  user-select: none;\n}\n"),ne.defaultProps={viewModel:{},contentContainer:{}},ne.propTypes={viewModel:a.a.shape({diagram:a.a.object,setDiagram:a.a.func,model:a.a.object,engine:a.a.object,mini:a.a.bool}),contentContainer:a.a.object.isRequired},D("/* stylelint-disable */\n.lake-board-reader {\n  width: 100%;\n  height: 100%;\n}\n.lake-board-reader .lake-board-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.lake-board-reader .lake-board-content .lake-board-canvas-wrapper {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n}\n");var re=c.i.Note,oe=c.i.Board;function ie(e){var t=e.viewModel,n=t.diagram;return o.a.createElement("div",{className:"lake-board-reader"},o.a.createElement("div",{className:"lake-board-content"},o.a.createElement("div",{className:"lake-board-canvas-wrapper"},o.a.createElement(ne,{viewModel:t}),n&&o.a.createElement(oe.ContextMenu,{diagram:n}))),n&&o.a.createElement(re.Reader,{diagram:n}))}function ae(e){var t,n,i,a,c,l,s,u,d,f,p,v,m,y,g=(n=(t=e).data,i=t.onLoad,a=t.mini,c=t.onMaximize,l=Object(r.useMemo)((function(){return new Y(n)}),[n]),s=Object(r.useState)(null),u=h()(s,2),d=u[0],f=u[1],p=Object(r.useState)(null),m=(v=h()(p,2))[0],y=v[1],l.mode="read",Object(r.useEffect)((function(){if(d){var e=new K({diagram:d,model:l});return y(e),i(e),function(){return e.destroy()}}}),[d]),{model:l,onMaximize:c,mini:a,engine:m,setEngine:y,diagram:d,setDiagram:f,readOnly:!0});return o.a.createElement(ie,{viewModel:g})}ie.defaultProps={viewModel:{}},ie.propTypes={viewModel:a.a.shape({diagramData:a.a.object,diagram:a.a.object})},ae.defaultProps={data:{},onLoad:function(){}},ae.propTypes={data:a.a.shape({diagramData:a.a.object}),onLoad:a.a.func}},2293:function(e,t,n){"use strict";var r=n(12),o=n(2761),i=n(2117),a={lang:Object(r.default)({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeWeekPlaceholder:["开始周","结束周"]},o.a),timePickerLocale:Object(r.default)({},i.a)};a.lang.ok="确 定",t.a=a},2307:function(e,t,n){"use strict";var r=n(2293);t.a=r.a},2723:function(e,t,n){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",c="day",l="week",s="month",u="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,s),i=n-o<0,a=t.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:s,y:d,w:l,d:c,D:f,h:a,m:i,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=m;var x=function(e){return e instanceof R},_=function(e,t,n){var r;if(!e)return b;if("string"==typeof e)w[e]&&(r=e),t&&(w[e]=t,r=e);else{var o=e.name;w[o]=e,r=o}return!n&&r&&(b=r),r||!n&&b},k=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new R(n)},C=g;C.l=_,C.i=x,C.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var R=function(){function m(e){this.$L=_(e.locale,null,!0),this.parse(e)}var y=m.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return k(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<k(e)},y.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!C.u(t)||t,u=C.p(e),h=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(c)},p=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,m=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return r?h(1,0):h(31,11);case s:return r?h(1,m):h(0,m+1);case l:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return h(r?y-w:y+(6-w),m);case c:case f:return p(g+"Hours",0);case a:return p(g+"Minutes",1);case i:return p(g+"Seconds",2);case o:return p(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,l=C.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[c]=u+"Date",n[f]=u+"Date",n[s]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[i]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===c?this.$D+(t-this.$W):t;if(l===s||l===d){var v=this.clone().set(f,1);v.$d[h](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(r,u){var f,h=this;r=Number(r);var p=C.p(u),v=function(e){var t=k(h);return C.w(t.date(t.date()+Math.round(e*r)),h)};if(p===s)return this.set(s,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===c)return v(1);if(p===l)return v(7);var m=(f={},f[i]=t,f[a]=n,f[o]=e,f)[p]||1,y=this.$d.getTime()+r*m;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),i=this.$H,a=this.$m,c=this.$M,l=n.weekdays,s=n.months,u=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].substr(0,i)},d=function(e){return C.s(i%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:C.s(c+1,2,"0"),MMM:u(n.monthsShort,c,s,3),MMMM:u(s,c),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:C.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,a,!0),A:f(i,a,!1),m:String(a),mm:C.s(a,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:o};return r.replace(v,(function(e,t){return t||p[e]||o.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,h){var p,v=C.p(f),m=k(r),y=(m.utcOffset()-this.utcOffset())*t,g=this-m,b=C.m(this,m);return b=(p={},p[d]=b/12,p[s]=b,p[u]=b/3,p[l]=(g-y)/6048e5,p[c]=(g-y)/864e5,p[a]=g/n,p[i]=g/t,p[o]=g/e,p)[v]||g,h?b:C.a(b)},y.daysInMonth=function(){return this.endOf(s).$D},y.$locale=function(){return w[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),N=R.prototype;return k.prototype=N,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",c],["$M",s],["$y",d],["$D",f]].forEach((function(e){N[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,R,k),e.$i=!0),k},k.locale=_,k.isDayjs=x,k.unix=function(e){return k(1e3*e)},k.en=w[b],k.Ls=w,k.p={},k}()},2732:function(e,t,n){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],s=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=i.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=u(e,!1)}],a:[o,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[n,c("day")],Do:[o,function(e){var t=i.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,c("month")],MM:[n,c("month")],MMM:[o,function(e){var t=s("months"),n=(s("monthsShort")||t.map((function(e){return e.substr(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=s("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,c("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,c("year")],Z:l,ZZ:l};function f(n){var r,o;r=n,o=i&&i.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),c=a.length,l=0;l<c;l+=1){var s=a[l],u=d[s],f=u&&u[0],h=u&&u[1];a[l]=h?{regex:f,parser:h}:s.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<c;n+=1){var o=a[n];if("string"==typeof o)r+=o.length;else{var i=o.regex,l=o.parser,s=e.substr(r),u=i.exec(s)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var c=a[1];if("string"==typeof c){var l=!0===a[2],s=!0===a[3],u=l||s,d=a[2];s&&(d=a[2]),i=this.$locale(),!l&&d&&(i=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=f(t)(e),o=r.year,i=r.month,a=r.day,c=r.hours,l=r.minutes,s=r.seconds,u=r.milliseconds,d=r.zone,h=new Date,p=a||(o||i?1:h.getDate()),v=o||h.getFullYear(),m=0;o&&!i||(m=i>0?i-1:h.getMonth());var y=c||0,g=l||0,b=s||0,w=u||0;return d?new Date(Date.UTC(v,m,p,y,g,b,w+60*d.offset*1e3)):n?new Date(Date.UTC(v,m,p,y,g,b,w)):new Date(v,m,p,y,g,b,w)}catch(e){return new Date("")}}(t,c,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(c)&&(this.$d=new Date("")),i={}}else if(c instanceof Array)for(var h=c.length,p=1;p<=h;p+=1){a[1]=c[p-1];var v=n.apply(this,a);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}p===h&&(this.$d=new Date(""))}else o.call(this,e)}}}()},2755:function(e,t,n){e.exports=function(){"use strict";return function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,n=this.$W,r=(n<t?n+7:n)-t;return this.$utils().u(e)?r:this.subtract(r,"day").add(e,"day")}}}()},2756:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,r,i){var a=e.name?e:e.$locale(),c=o(a[t]),l=o(a[n]),s=c||l.map((function(e){return e.substr(0,r)}));if(!i)return s;var u=a.weekStart;return s.map((function(e,t){return s[(t+(u||0))%7]}))},a=function(){return n.Ls[n.locale()]},c=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return c(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return l.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return c(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}}}()},2757:function(e,t,n){e.exports=function(){"use strict";var e="week",t="year";return function(n,r,o){var i=r.prototype;i.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=o(this).startOf(t).add(1,t).date(r),a=o(this).endOf(e);if(i.isBefore(a))return 1}var c=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(c,e,!0);return l<0?o(this).startOf("week").week():Math.ceil(l)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},2758:function(e,t,n){e.exports=function(){"use strict";return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}()},2759:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,o=r.format;n.en.ordinal=function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},r.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return o.bind(this)(e);var r=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(i)}}}()},3051:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=n(3075),a=n(3152);o(n(3152),t);var c=/\s+/g,l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function e(e,t,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=l),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:l,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?i.ElementType.Tag:void 0,r=new a.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===i.ElementType.Text)t?n.data=(n.data+e).replace(c," "):n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{t&&(e=e.replace(c," "));var r=new a.Text(e);this.addNode(r),this.lastNode=r}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.NodeWithChildren(i.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new a.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=s,t.default=s},3075:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(r=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style},t.Root=r.Root,t.Text=r.Text,t.Directive=r.Directive,t.Comment=r.Comment,t.Script=r.Script,t.Style=r.Style,t.Tag=r.Tag,t.CDATA=r.CDATA,t.Doctype=r.Doctype},3079:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,o,{once:!0})}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=u(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=f.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var s=l.length,u=m(l,s);for(n=0;n<s;++n)i(u[n],this,t)}return!0},c.prototype.addListener=function(e,t){return d(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return d(this,e,t,!0)},c.prototype.once=function(e,t){return s(t),this.on(e,h(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,h(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return p(this,e,!0)},c.prototype.rawListeners=function(e){return p(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},3080:function(e,t,n){"use strict";var r=n(17);n.d(t,"a",(function(){return r.EXTS})),r.FileUtils.isExt=(e,t)=>Array.isArray(e)?e.includes(t):e===t;r.FileUtils.isFileCanPreview=(e,t=0)=>{const n=((e,t)=>{let n;return r.FileUtils.isOffice(`a.${e}`)?n="previewOffice":r.FileUtils.isMacOffice(`a.${e}`)&&(n="previewMacOffice"),!!n&&r.FileUtils.isSizeLimit(n,t)})(e,t),o=r.EXTS.MAC_OFFICE_EXT.concat(r.EXTS.OFFICE_EXT);return!!(r.FileUtils.isImage(e)||r.FileUtils.isTextFile(e)||["mp3","wav"].indexOf(e)>=0||o.indexOf(e)>=0&&n||r.FileUtils.isMMap(e)&&n)},r.FileUtils.getFileKeyByUrl=e=>{let t=e.replace(/^https?:\/\/[^/]+/,"").replace(/^\/attachments\//,"");return"/"===t.charAt(0)&&(t=t.substr(1)),t},r.FileUtils.getPreviewUrl=e=>{const t=r.FileUtils.getFileKeyByUrl(e);if(r.FileUtils.isOffice(t)||r.FileUtils.isMacOffice(t))return`${origin}/office/${t}`;return"pdf"===r.FileUtils.getFileExtname(e)?`${origin}/office/${t}`:`${origin}/preview/${t}`},r.FileUtils.getFileKey=e=>{const t=r.FileUtils.getFileExtname(e);return r.FileUtils.isImage(e)?"image":r.FileUtils.isVideo(e)?"video":r.FileUtils.isAudio(e)?"audio":["doc","docx","dot","dotx"].includes(t)?"word":r.FileUtils.isPdf(e)?"pdf":"txt"===t?"txt":["pages","md","markdown","rtf"].includes(t)?"doc":"numbers"===t?"numbers":["xls","xlsx","xlsm","xltx","xlt"].includes(t)?"excel":r.FileUtils.isSheet(e)?"sheet":"key"===e?"keynote":r.FileUtils.isPresentation(e)?"ppt":["xmind","xmind.zip"].includes(t)?"xmind":["mindnode","mindnode.zip"].includes(t)?"mindnote":r.FileUtils.isMMap(e)?"minimap":"sketch"===t?"sketch":["rp","rplib"].includes(t)?"axure":"psd"===t?"psd":"ai"===t?"ai":"graffle"===t?"graffle":"zip"===t?"rar":"lake"===t?"lake":"lakesheet"===t?"lakesheet":"default"},r.FileUtils.EXTS=r.EXTS,t.b=r.FileUtils},3090:function(e,t,n){"use strict";var r=n(3104);e.exports=function(e,t){return r(e,(function(e){return e()}),t)}},3104:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,l,"next",e)}function l(e){o(a,r,i,c,l,"throw",e)}c(void 0)}))}}var a=n(3105);e.exports=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var o,c,l,s,u,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>2&&void 0!==d[2]?d[2]:{},c=o.concurrency,l=void 0===c?1/0:c,s=o.stopOnError,u=void 0===s||s,e.abrupt("return",new Promise((function(e,o){if("function"!=typeof n)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(l)&&l!==1/0||!(l>=1))throw new TypeError("Expected `concurrency` to be an integer from 1 and up or `Infinity`, got `".concat(l,"` (").concat(r(l),")"));for(var c=[],s=[],d=t[Symbol.iterator](),f=!1,h=!1,p=0,v=0,m=function t(){if(!f){var r=d.next(),l=v;if(v++,r.done)return h=!0,void(0===p&&(u||0===s.length?e(c):o(new a(s))));p++,i(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.value;case 3:return i=e.sent,e.next=6,n(i,l);case 6:c[l]=e.sent,p--,t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),u?(f=!0,o(e.t0)):(s.push(e.t0),p--,t());case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},y=0;y<l&&(m(),!h);y++);})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},3105:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},d(e)}function f(e,t,n){return f=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&p(o,n.prototype),o},f.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=n(3106),y=n(3107),g=function(e,t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&p(e,t)}(b,e);var n,i,a,d,f,g=(n=b,i=h(),function(){var e,t=v(n);if(i){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function b(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(c(e)));var n=(e=o(e).map((function(e){return e instanceof Error?e:null!==e&&"object"===c(e)?Object.assign(new Error(e.message),e):new Error(e)}))).map((function(e){return"string"==typeof e.stack?y(e.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(e)})).join("\n");return n="\n"+m(n,4),(t=g.call(this,n)).name="AggregateError",Object.defineProperty(u(t),"_errors",{value:e}),t}return a=b,(d=[{key:t,value:regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r(this._errors),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return o=n.value,e.next=7,o;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}])&&l(a.prototype,d),f&&l(a,f),Object.defineProperty(a,"prototype",{writable:!1}),b}(d(Error),Symbol.iterator);e.exports=g},3106:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(n=i({indent:" ",includeEmptyLines:!1},n),"string"!=typeof e)throw new TypeError("Expected `input` to be a `string`, got `".concat(r(e),"`"));if("number"!=typeof t)throw new TypeError("Expected `count` to be a `number`, got `".concat(r(t),"`"));if("string"!=typeof n.indent)throw new TypeError("Expected `options.indent` to be a `string`, got `".concat(r(n.indent),"`"));if(0===t)return e;var o=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(o,n.indent.repeat(t))}},3107:function(e,t,n){"use strict";var r=n(3108),o=/\s+at.*(?:\(|\s)(.*)\)?/,i=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,a=void 0===r.homedir?"":r.homedir();e.exports=function(e,t){return t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter((function(e){var t=e.match(o);if(null===t||!t[1])return!0;var n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!i.test(n)})).filter((function(e){return""!==e.trim()})).map((function(e){return t.pretty?e.replace(o,(function(e,t){return e.replace(t,t.replace(a,"~"))})):e})).join("\n")}},3108:function(e,t){},3112:function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},3113:function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},3126:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-copy",use:"ne-copy-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-copy"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="20"><rect x="98" y="38" width="120" height="120" rx="20" /><path d="M158 157.295V198c0 11.046-8.954 20-20 20H58c-11.046 0-20-8.954-20-20v-80c0-11.046 8.954-20 20-20h39.6" /></g></symbol>'});a.a.add(c);t.default=c},3136:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var o=r(n(3112)),i=r(n(3145)),a=r(n(3113)),c=r(n(3144)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function s(e){var t=d(e);return function(e){return String(e).replace(l,t)}}t.decodeXML=s(a.default),t.decodeHTMLStrict=s(o.default);var u=function(e,t){return e<t?1:-1};function d(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?c.default(parseInt(t.substr(3),16)):c.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(i.default).sort(u),t=Object.keys(o.default).sort(u),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),c=d(o.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),c(e)}return function(e){return String(e).replace(a,l)}}()},3137:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var o=u(r(n(3113)).default),i=d(o);t.encodeXML=m(o);var a,c,l=u(r(n(3112)).default),s=d(l);function u(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function d(e){for(var t=[],n=[],r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];1===i.length?t.push("\\"+i):n.push(i)}t.sort();for(var a=0;a<t.length-1;a++){for(var c=a;c<t.length-1&&t[c].charCodeAt(1)+1===t[c+1].charCodeAt(1);)c+=1;var l=1+c-a;l<3||t.splice(a,l,t[a]+"-"+t[c])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=(a=l,c=s,function(e){return e.replace(c,(function(e){return a[e]})).replace(f,p)}),t.encodeNonAsciiHTML=m(l);var f=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,h=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function p(e){return"&#x"+(e.length>1?h(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var v=new RegExp(i.source+"|"+f.source,"g");function m(e){return function(t){return t.replace(v,(function(t){return e[t]||p(t)}))}}t.escape=function(e){return e.replace(v,p)},t.escapeUTF8=function(e){return e.replace(i,p)}},3144:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3187)),i=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"�":(e in o.default&&(e=o.default[e]),i(e))}},3145:function(e,t){e.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},3150:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var o=r(n(3151)),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),a=new Set(["p"]),c={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:a,h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:a,article:a,aside:a,blockquote:a,details:a,div:a,dl:a,fieldset:a,figcaption:a,figure:a,footer:a,form:a,header:a,hr:a,main:a,nav:a,ol:a,pre:a,section:a,table:a,ul:a,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),s=new Set(["math","svg"]),u=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),d=/\s|\//,f=function(){function e(e,t){var n,r,i,a,c;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:o.default)(this.options,this),null===(c=(a=this.cbs).onparserinit)||void 0===c||c.call(a,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,e)},e.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(c,e))for(var r=void 0;this.stack.length>0&&c[e].has(r=this.stack[this.stack.length-1]);)this.onclosetag(r);!this.options.xmlMode&&l.has(e)||(this.stack.push(e),s.has(e)?this.foreignContext.push(!0):u.has(e)&&this.foreignContext.push(!1)),null===(n=(t=this.cbs).onopentagname)||void 0===n||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&l.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(s.has(e)||u.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&l.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,n),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,n;null===(n=(t=this.cbs).onattribute)||void 0===n||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(d),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,n,r,o;this.updatePosition(4),null===(n=(t=this.cbs).oncomment)||void 0===n||n.call(t,e),null===(o=(r=this.cbs).oncommentend)||void 0===o||o.call(r)},e.prototype.oncdata=function(e){var t,n,r,o,i,a;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(t=this.cbs).oncdatastart)||void 0===n||n.call(t),null===(o=(r=this.cbs).ontext)||void 0===o||o.call(r,e),null===(a=(i=this.cbs).oncdataend)||void 0===a||a.call(i)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,n;null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=f},3151:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3144)),i=r(n(3112)),a=r(n(3145)),c=r(n(3113));function l(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function s(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function u(e,t,n){var r=e.toLowerCase();return e===r?function(e,o){o===r?e._state=t:(e._state=n,e._index--)}:function(o,i){i===r||i===e?o._state=t:(o._state=n,o._index--)}}function d(e,t){var n=e.toLowerCase();return function(r,o){o===n||o===e?r._state=t:(r._state=3,r._index--)}}var f=u("C",24,16),h=u("D",25,16),p=u("A",26,16),v=u("T",27,16),m=u("A",28,16),y=d("R",35),g=d("I",36),b=d("P",37),w=d("T",38),x=u("R",40,1),_=u("I",41,1),k=u("P",42,1),C=u("T",43,1),R=d("Y",45),N=d("L",46),E=d("E",47),O=u("Y",49,1),D=u("L",50,1),S=u("E",51,1),B=d("I",54),P=d("T",55),F=d("L",56),T=d("E",57),M=u("I",58,1),L=u("T",59,1),A=u("L",60,1),I=u("E",61,1),j=u("#",63,64),V=u("X",66,65),z=function(){function e(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null==e?void 0:e.xmlMode),this.decodeEntities=null===(n=null==e?void 0:e.decodeEntities)||void 0===n||n}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.isTagStartChar=function(e){return s(e)||this.xmlMode&&!l(e)&&"/"!==e&&">"!==e},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||l(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||l(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){l(e)||(">"===e?this._state=1:1!==this.special?4===this.special||"s"!==e&&"S"!==e?4!==this.special||"t"!==e&&"T"!==e?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||l(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:l(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):l(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||l(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):l(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):l(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){l(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||l(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||l(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?c.default:i.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(a.default,n))return this.emitPartial(a.default[n]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!s(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(a.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,n){var r=this.sectionStart+e;if(r!==this._index){var i=this.buffer.substring(r,this._index),a=parseInt(i,t);this.emitPartial(o.default(a)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?M(this,e):39===this._state?x(this,e):40===this._state?_(this,e):41===this._state?k(this,e):34===this._state?y(this,e):35===this._state?g(this,e):36===this._state?b(this,e):37===this._state?w(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?C(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?R(this,e):29===this._state?this.stateInCdata(e):45===this._state?N(this,e):46===this._state?E(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?O(this,e):49===this._state?D(this,e):50===this._state?S(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?B(this,e):54===this._state?P(this,e):55===this._state?F(this,e):56===this._state?T(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?L(this,e):59===this._state?A(this,e):60===this._state?I(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?f(this,e):62===this._state?j(this,e):24===this._state?h(this,e):25===this._state?p(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?v(this,e):27===this._state?m(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?V(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();t.default=z},3152:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var a=n(3075),c=new Map([[a.ElementType.Tag,1],[a.ElementType.Script,1],[a.ElementType.Style,1],[a.ElementType.Directive,1],[a.ElementType.Text,3],[a.ElementType.CDATA,4],[a.ElementType.Comment,8],[a.ElementType.Root,9]]),l=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=c.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),_(this,e)},e}();t.Node=l;var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return o(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(l);t.DataNode=s;var u=function(e){function t(t){return e.call(this,a.ElementType.Text,t)||this}return o(t,e),t}(s);t.Text=u;var d=function(e){function t(t){return e.call(this,a.ElementType.Comment,t)||this}return o(t,e),t}(s);t.Comment=d;var f=function(e){function t(t,n){var r=e.call(this,a.ElementType.Directive,n)||this;return r.name=t,r}return o(t,e),t}(s);t.ProcessingInstruction=f;var h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return o(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(l);t.NodeWithChildren=h;var p=function(e){function t(t){return e.call(this,a.ElementType.Root,t)||this}return o(t,e),t}(h);t.Document=p;var v=function(e){function t(t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o="script"===t?a.ElementType.Script:"style"===t?a.ElementType.Style:a.ElementType.Tag);var i=e.call(this,o,r)||this;return i.name=t,i.attribs=n,i}return o(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(h);function m(e){return(0,a.isTag)(e)}function y(e){return e.type===a.ElementType.CDATA}function g(e){return e.type===a.ElementType.Text}function b(e){return e.type===a.ElementType.Comment}function w(e){return e.type===a.ElementType.Directive}function x(e){return e.type===a.ElementType.Root}function _(e,t){var n;if(void 0===t&&(t=!1),g(e))n=new u(e.data);else if(b(e))n=new d(e.data);else if(m(e)){var r=t?k(e.children):[],o=new v(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=o}else if(y(e)){r=t?k(e.children):[];var c=new h(a.ElementType.CDATA,r);r.forEach((function(e){return e.parent=c})),n=c}else if(x(e)){r=t?k(e.children):[];var l=new p(r);r.forEach((function(e){return e.parent=l})),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else{if(!w(e))throw new Error("Not implemented yet: ".concat(e.type));var s=new f(e.name,e.data);null!=e["x-name"]&&(s["x-name"]=e["x-name"],s["x-publicId"]=e["x-publicId"],s["x-systemId"]=e["x-systemId"]),n=s}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function k(e){for(var t=e.map((function(e){return _(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=v,t.isTag=m,t.isCDATA=y,t.isText=g,t.isComment=b,t.isDirective=w,t.isDocument=x,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=_},3153:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFeed=t.FeedHandler=void 0;var s,u,d=l(n(3051)),f=c(n(3154)),h=n(3150);!function(e){e[e.image=0]="image",e[e.audio=1]="audio",e[e.video=2]="video",e[e.document=3]="document",e[e.executable=4]="executable"}(s||(s={})),function(e){e[e.sample=0]="sample",e[e.full=1]="full",e[e.nonstop=2]="nonstop"}(u||(u={}));var p=function(e){function t(t,n){return"object"==typeof t&&(n=t=void 0),e.call(this,t,n)||this}return o(t,e),t.prototype.onend=function(){var e,t,n=y(x,this.dom);if(n){var r={};if("feed"===n.name){var o=n.children;r.type="atom",w(r,"id","id",o),w(r,"title","title",o);var i=b("href",y("link",o));i&&(r.link=i),w(r,"description","subtitle",o),(a=g("updated",o))&&(r.updated=new Date(a)),w(r,"author","email",o,!0),r.items=m("entry",o).map((function(e){var t={},n=e.children;w(t,"id","id",n),w(t,"title","title",n);var r=b("href",y("link",n));r&&(t.link=r);var o=g("summary",n)||g("content",n);o&&(t.description=o);var i=g("updated",n);return i&&(t.pubDate=new Date(i)),t.media=v(n),t}))}else{var a;o=null!==(t=null===(e=y("channel",n.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];r.type=n.name.substr(0,3),r.id="",w(r,"title","title",o),w(r,"link","link",o),w(r,"description","description",o),(a=g("lastBuildDate",o))&&(r.updated=new Date(a)),w(r,"author","managingEditor",o,!0),r.items=m("item",n.children).map((function(e){var t={},n=e.children;w(t,"id","guid",n),w(t,"title","title",n),w(t,"link","link",n),w(t,"description","description",n);var r=g("pubDate",n);return r&&(t.pubDate=new Date(r)),t.media=v(n),t}))}this.feed=r,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},t}(d.default);function v(e){return m("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function m(e,t){return f.getElementsByTagName(e,t,!0)}function y(e,t){return f.getElementsByTagName(e,t,!0,1)[0]}function g(e,t,n){return void 0===n&&(n=!1),f.getText(f.getElementsByTagName(e,t,n,1)).trim()}function b(e,t){return t?t.attribs[e]:null}function w(e,t,n,r,o){void 0===o&&(o=!1);var i=g(n,r,o);i&&(e[t]=i)}function x(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=p,t.parseFeed=function(e,t){void 0===t&&(t={xmlMode:!0});var n=new p(t);return new h.Parser(n,t).end(e),n.feed}},3154:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,o(n(3155),t),o(n(3223),t),o(n(3224),t),o(n(3156),t),o(n(3157),t),o(n(3225),t),o(n(3226),t);var i=n(3051);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return i.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return i.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return i.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return i.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return i.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return i.hasChildren}})},3155:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var o=n(3051),i=r(n(3221)),a=n(3075);function c(e,t){return(0,i.default)(e,t)}t.getOuterHTML=c,t.getInnerHTML=function(e,t){return(0,o.hasChildren)(e)?e.children.map((function(e){return c(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,o.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,o.isCDATA)(t)?e(t.children):(0,o.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,o.hasChildren)(t)&&!(0,o.isComment)(t)?e(t.children):(0,o.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,o.hasChildren)(t)&&(t.type===a.ElementType.Tag||(0,o.isCDATA)(t))?e(t.children):(0,o.isText)(t)?t.data:""}},3156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var r=n(3051);function o(e,t,n,i){for(var a=[],c=0,l=t;c<l.length;c++){var s=l[c];if(e(s)&&(a.push(s),--i<=0))break;if(n&&(0,r.hasChildren)(s)&&s.children.length>0){var u=o(e,s.children,n,i);if(a.push.apply(a,u),(i-=u.length)<=0)break}}return a}t.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),o(e,t,n,r)},t.find=o,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,o){void 0===o&&(o=!0);for(var i=null,a=0;a<n.length&&!i;a++){var c=n[a];(0,r.isTag)(c)&&(t(c)?i=c:o&&c.children.length>0&&(i=e(t,c.children)))}return i},t.existsOne=function e(t,n){return n.some((function(n){return(0,r.isTag)(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},t.findAll=function(e,t){for(var n,o,i=[],a=t.filter(r.isTag);o=a.shift();){var c=null===(n=o.children)||void 0===n?void 0:n.filter(r.isTag);c&&c.length>0&&a.unshift.apply(a,c),e(o)&&i.push(o)}return i}},3157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var r=n(3051),o=n(3156),i={tag_name:function(e){return"function"==typeof e?function(t){return(0,r.isTag)(t)&&e(t.name)}:"*"===e?r.isTag:function(t){return(0,r.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,r.isText)(t)&&e(t.data)}:function(t){return(0,r.isText)(t)&&t.data===e}}};function a(e,t){return"function"==typeof t?function(n){return(0,r.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,r.isTag)(n)&&n.attribs[e]===t}}function c(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(i,t)?i[t](n):a(t,n)}));return 0===t.length?null:t.reduce(c)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,r){void 0===r&&(r=1/0);var i=l(e);return i?(0,o.filter)(i,t,n,r):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,o.findOne)(a("id",e),t,n)},t.getElementsByTagName=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,o.filter)(i.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,o.filter)(i.tag_type(e),t,n,r)}},3158:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-delete",use:"ne-delete-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-delete"><path d="M872 272a40 40 0 1 1 0 80h-66.24l-24.64 431.744A136 136 0 0 1 655.04 911.68l-9.728.32H378.688A136 136 0 0 1 242.88 783.744L218.24 352H152a40 40 0 1 1 0-80h720zm-146.368 80H298.304l24.448 427.2a56 56 0 0 0 49.152 52.416l6.784.384h266.624a56 56 0 0 0 55.936-52.8L725.632 352zM432 448c22.08 0 40 17.92 40 40v176a40 40 0 1 1-80 0V488c0-22.08 17.92-40 40-40zm160 0c22.08 0 40 17.92 40 40v176a40 40 0 1 1-80 0V488c0-22.08 17.92-40 40-40zm104-336a40 40 0 1 1 0 80H328a40 40 0 1 1 0-80h368z" fill="currentColor" /></symbol>'});a.a.add(c);t.default=c},3159:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-embed-view",use:"ne-card-tb-embed-view-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-embed-view"><g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="20" x="38" y="84" width="180" height="135" rx="20" /><rect fill="currentColor" x="28" y="28" width="200" height="20" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3187:function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},3188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var r=n(3136),o=n(3137);t.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?o.encodeXML:o.encodeHTML)(e)};var i=n(3137);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return i.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return i.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return i.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return i.encodeHTML}});var a=n(3136);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return a.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return a.decodeXML}})},3212:function(e,t,n){"use strict";e.exports=()=>/\u{1F3F4}\u{E0067}\u{E0062}(?:\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074}|\u{E0065}\u{E006E}\u{E0067})\u{E007F}|(?:\u{1F9D1}\u{1F3FF}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FF}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FE}]|(?:\u{1F9D1}\u{1F3FE}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FE}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FD}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FD}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FC}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FC}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|(?:\u{1F9D1}\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F9D1}|\u{1F469}\u{1F3FB}\u200D\u{1F91D}\u200D[\u{1F468}\u{1F469}])[\u{1F3FC}-\u{1F3FF}]|\u{1F468}(?:\u{1F3FB}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u{1F91D}\u200D\u{1F468}[\u{1F3FC}-\u{1F3FF}]|[\u2695\u2696\u2708]\uFE0F|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]))?|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FF}]|\u{1F468}[\u{1F3FB}-\u{1F3FF}])|\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D)?\u{1F468}|[\u{1F468}\u{1F469}]\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FE}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FE}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}-\u{1F3FD}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FD}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FC}\u{1F3FE}\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FC}\u200D(?:\u{1F91D}\u200D\u{1F468}[\u{1F3FB}\u{1F3FD}-\u{1F3FF}]|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:[\u{1F468}\u{1F469}]\u200D[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC})?|(?:\u{1F469}(?:\u{1F3FB}\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F3FC}-\u{1F3FF}]\u200D\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}]))|\u{1F9D1}[\u{1F3FB}-\u{1F3FF}]\u200D\u{1F91D}\u200D\u{1F9D1})[\u{1F3FB}-\u{1F3FF}]|\u{1F469}\u200D\u{1F469}\u200D(?:\u{1F466}\u200D\u{1F466}|\u{1F467}\u200D[\u{1F466}\u{1F467}])|\u{1F469}(?:\u200D(?:\u2764\uFE0F\u200D(?:\u{1F48B}\u200D[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F9D1}(?:\u200D(?:\u{1F91D}\u200D\u{1F9D1}|[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F3FF}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FE}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FD}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FC}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}]|\u{1F3FB}\u200D[\u{1F33E}\u{1F373}\u{1F37C}\u{1F384}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9AF}-\u{1F9B3}\u{1F9BC}\u{1F9BD}])|\u{1F469}\u200D\u{1F466}\u200D\u{1F466}|\u{1F469}\u200D\u{1F469}\u200D[\u{1F466}\u{1F467}]|\u{1F469}\u200D\u{1F467}\u200D[\u{1F466}\u{1F467}]|(?:\u{1F441}\uFE0F\u200D\u{1F5E8}|\u{1F9D1}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F469}(?:\u{1F3FF}\u200D[\u2695\u2696\u2708]|\u{1F3FE}\u200D[\u2695\u2696\u2708]|\u{1F3FD}\u200D[\u2695\u2696\u2708]|\u{1F3FC}\u200D[\u2695\u2696\u2708]|\u{1F3FB}\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\u{1F636}\u200D\u{1F32B}|\u{1F3F3}\uFE0F\u200D\u26A7|\u{1F43B}\u200D\u2744|(?:[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u200D[\u2640\u2642]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]\u200D[\u2640\u2642]|\u{1F3F4}\u200D\u2620|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F202}\u{1F237}\u{1F321}\u{1F324}-\u{1F32C}\u{1F336}\u{1F37D}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}\u{1F39F}\u{1F3CD}\u{1F3CE}\u{1F3D4}-\u{1F3DF}\u{1F3F5}\u{1F3F7}\u{1F43F}\u{1F4FD}\u{1F549}\u{1F54A}\u{1F56F}\u{1F570}\u{1F573}\u{1F576}-\u{1F579}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}\u{1F6CB}\u{1F6CD}-\u{1F6CF}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6F0}\u{1F6F3}])\uFE0F|\u{1F3F3}\uFE0F\u200D\u{1F308}|\u{1F469}\u200D\u{1F467}|\u{1F469}\u200D\u{1F466}|\u{1F635}\u200D\u{1F4AB}|\u{1F62E}\u200D\u{1F4A8}|\u{1F415}\u200D\u{1F9BA}|\u{1F9D1}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F469}(?:\u{1F3FF}|\u{1F3FE}|\u{1F3FD}|\u{1F3FC}|\u{1F3FB})?|\u{1F1FD}\u{1F1F0}|\u{1F1F6}\u{1F1E6}|\u{1F1F4}\u{1F1F2}|\u{1F408}\u200D\u2B1B|\u2764\uFE0F\u200D[\u{1F525}\u{1FA79}]|\u{1F441}\uFE0F|\u{1F3F3}\uFE0F|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u26F9\u{1F3CB}\u{1F3CC}\u{1F575}][\uFE0F\u{1F3FB}-\u{1F3FF}]|\u{1F3F4}|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u261D\u270C\u270D\u{1F574}\u{1F590}][\uFE0F\u{1F3FB}-\u{1F3FF}]|[\u270A\u270B\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F408}\u{1F415}\u{1F43B}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F46B}-\u{1F46D}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F48F}\u{1F491}\u{1F4AA}\u{1F57A}\u{1F595}\u{1F596}\u{1F62E}\u{1F635}\u{1F636}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F90C}\u{1F90F}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F934}\u{1F936}\u{1F977}\u{1F9B5}\u{1F9B6}\u{1F9BB}\u{1F9D2}\u{1F9D3}\u{1F9D5}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F470}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F935}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9CD}-\u{1F9CF}\u{1F9D4}\u{1F9D6}-\u{1F9DD}]|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F384}\u{1F386}-\u{1F393}\u{1F3A0}-\u{1F3C1}\u{1F3C5}\u{1F3C6}\u{1F3C8}\u{1F3C9}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F8}-\u{1F407}\u{1F409}-\u{1F414}\u{1F416}-\u{1F43A}\u{1F43C}-\u{1F43E}\u{1F440}\u{1F444}\u{1F445}\u{1F451}-\u{1F465}\u{1F46A}\u{1F479}-\u{1F47B}\u{1F47D}-\u{1F480}\u{1F484}\u{1F488}-\u{1F48E}\u{1F490}\u{1F492}-\u{1F4A9}\u{1F4AB}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F5A4}\u{1F5FB}-\u{1F62D}\u{1F62F}-\u{1F634}\u{1F637}-\u{1F644}\u{1F648}-\u{1F64A}\u{1F680}-\u{1F6A2}\u{1F6A4}-\u{1F6B3}\u{1F6B7}-\u{1F6BF}\u{1F6C1}-\u{1F6C5}\u{1F6D0}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F90D}\u{1F90E}\u{1F910}-\u{1F917}\u{1F91D}\u{1F920}-\u{1F925}\u{1F927}-\u{1F92F}\u{1F93A}\u{1F93F}-\u{1F945}\u{1F947}-\u{1F976}\u{1F978}\u{1F97A}-\u{1F9B4}\u{1F9B7}\u{1F9BA}\u{1F9BC}-\u{1F9CB}\u{1F9D0}\u{1F9E0}-\u{1F9FF}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7A}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAA8}\u{1FAB0}-\u{1FAB6}\u{1FAC0}-\u{1FAC2}\u{1FAD0}-\u{1FAD6}]/gu},3213:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},3214:function(e,t,n){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},3215:function(e,t,n){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},3216:function(e,t,n){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,o){var i=n(e),a=n(t),c="("===(o=o||"()")[0],l=")"===o[1];return(c?this.isAfter(i,r):!this.isBefore(i,r))&&(l?this.isBefore(a,r):!this.isAfter(a,r))||(c?this.isBefore(i,r):!this.isAfter(i,r))&&(l?this.isAfter(a,r):!this.isBefore(a,r))}}}()},3217:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r}(n(2723))},3218:function(e,t,n){var r=n(424),o=n(3219);function i(t,n,a){return o()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3219:function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},3220:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RssHandler=t.DefaultHandler=t.DomUtils=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DomHandler=t.Parser=void 0;var l=n(3150);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var s=n(3051);function u(e,t){var n=new s.DomHandler(void 0,t);return new l.Parser(n,t).end(e),n.root}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return s.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return s.DomHandler}}),t.parseDocument=u,t.parseDOM=function(e,t){return u(e,t).children},t.createDomStream=function(e,t,n){var r=new s.DomHandler(e,t,n);return new l.Parser(r,t)};var d=n(3151);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return c(d).default}});var f=i(n(3075));t.ElementType=f,a(n(3153),t),t.DomUtils=i(n(3154));var h=n(3153);Object.defineProperty(t,"RssHandler",{enumerable:!0,get:function(){return h.FeedHandler}})},3221:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n(3075)),l=n(3188),s=n(3222),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),r="",o=0;o<n.length;o++)r+=h(n[o],t);return r}function h(e,t){switch(e.type){case c.Root:return f(e.children,t);case c.Directive:case c.Doctype:return"<"+e.data+">";case c.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case c.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case c.Script:case c.Style:case c.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=s.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&p.has(e.parent.name)&&(t=r(r({},t),{xmlMode:!1})));!t.xmlMode&&v.has(e.name)&&(t=r(r({},t),{xmlMode:"foreign"}));var o="<"+e.name,i=function(e,t){if(e)return Object.keys(e).map((function(n){var r,o,i=null!==(r=e[n])&&void 0!==r?r:"";return"foreign"===t.xmlMode&&(n=null!==(o=s.attributeNames.get(n))&&void 0!==o?o:n),t.emptyAttrs||t.xmlMode||""!==i?n+'="'+(!1!==t.decodeEntities?l.encodeXML(i):i.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(e.attribs,t);i&&(o+=" "+i);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&d.has(e.name))?(t.xmlMode||(o+=" "),o+="/>"):(o+=">",e.children.length>0&&(o+=f(e.children,t)),!t.xmlMode&&d.has(e.name)||(o+="</"+e.name+">"));return o}(e,t);case c.Text:return function(e,t){var n=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&u.has(e.parent.name)||(n=l.encodeXML(n));return n}(e,t)}}t.default=f;var p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),v=new Set(["svg","math"])},3222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),t.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},3223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var r=n(3051),o=[];function i(e){var t;return null!==(t=e.children)&&void 0!==t?t:o}function a(e){return e.parent||null}t.getChildren=i,t.getParent=a,t.getSiblings=function(e){var t=a(e);if(null!=t)return i(t);for(var n=[e],r=e.prev,o=e.next;null!=r;)n.unshift(r),r=r.prev;for(;null!=o;)n.push(o),o=o.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,r.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,r.isTag)(t);)t=t.prev;return t}},3224:function(e,t,n){"use strict";function r(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=r,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var o=t.parent=e.parent;if(o){var i=o.children;i[i.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(r(t),t.next=null,t.parent=e,e.children.push(t)>1){var n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null},t.append=function(e,t){r(t);var n=e.parent,o=e.next;if(t.next=o,t.prev=e,e.next=t,t.parent=n,o){if(o.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(o),0,t)}}else n&&n.children.push(t)},t.prependChild=function(e,t){if(r(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var n=e.children[1];n.prev=t,t.next=n}else t.next=null},t.prepend=function(e,t){r(t);var n=e.parent;if(n){var o=n.children;o.splice(o.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},3225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.removeSubsets=void 0;var r=n(3051);function o(e,t){var n=[],o=[];if(e===t)return 0;for(var i=(0,r.hasChildren)(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(i=(0,r.hasChildren)(t)?t:t.parent;i;)o.unshift(i),i=i.parent;for(var a=Math.min(n.length,o.length),c=0;c<a&&n[c]===o[c];)c++;if(0===c)return 1;var l=n[c-1],s=l.children,u=n[c],d=o[c];return s.indexOf(u)>s.indexOf(d)?l===t?20:4:l===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e},t.compareDocumentPosition=o,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=o(e,t);return 2&n?-1:4&n?1:0})),e}},3226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var r=n(3155),o=n(3157);t.getFeed=function(e){var t=l(d,e);return t?"feed"===t.name?function(e){var t,n=e.children,r={type:"atom",items:(0,o.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,r={media:c(n)};u(r,"id","id",n),u(r,"title","title",n);var o=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;o&&(r.link=o);var i=s("summary",n)||s("content",n);i&&(r.description=i);var a=s("updated",n);return a&&(r.pubDate=new Date(a)),r}))};u(r,"id","id",n),u(r,"title","title",n);var i=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);u(r,"description","subtitle",n);var a=s("updated",n);a&&(r.updated=new Date(a));return u(r,"author","email",n,!0),r}(t):function(e){var t,n,r=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],i={type:e.name.substr(0,3),id:"",items:(0,o.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:c(t)};u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t);var r=s("pubDate",t);return r&&(n.pubDate=new Date(r)),n}))};u(i,"title","title",r),u(i,"link","link",r),u(i,"description","description",r);var a=s("lastBuildDate",r);a&&(i.updated=new Date(a));return u(i,"author","managingEditor",r,!0),i}(t):null};var i=["url","type","lang"],a=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function c(e){return(0,o.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},r=0,o=i;r<o.length;r++){t[s=o[r]]&&(n[s]=t[s])}for(var c=0,l=a;c<l.length;c++){var s;t[s=l[c]]&&(n[s]=parseInt(t[s],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,o.getElementsByTagName)(e,t,!0,1)[0]}function s(e,t,n){return void 0===n&&(n=!1),(0,r.textContent)((0,o.getElementsByTagName)(e,t,n,1)).trim()}function u(e,t,n,r,o){void 0===o&&(o=!1);var i=s(n,r,o);i&&(e[t]=i)}function d(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},3227:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-attachment",use:"ne-attachment-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-attachment"><path d="M152.765 31.222c16.836-16.774 44.065-16.774 60.9 0 16.617 16.554 16.832 43.341.61 60.16l-.61.62-88.75 88.422c-10.261 10.223-26.858 10.223-37.119 0-10.139-10.101-10.27-26.446-.372-36.709l.372-.378 64.689-64.449c3.912-3.898 10.244-3.886 14.142.026 3.827 3.842 3.885 10.015.183 13.927l-.21.215-64.704 64.466a6.176 6.176 0 0 0 .016 8.734 6.296 6.296 0 0 0 8.7.178l.187-.178 88.81-88.483c8.927-8.959 8.9-23.457-.06-32.383-8.934-8.902-23.327-8.997-32.378-.284l-.29.284-99.113 98.747c-15.186 15.243-15.14 39.91.102 55.096 15.19 15.135 39.667 15.286 55.044.454l.463-.454 74.95-74.672c3.912-3.898 10.244-3.887 14.142.026 3.827 3.841 3.885 10.015.183 13.927l-.21.215-74.949 74.672c-23.149 23.064-60.59 23.064-83.74 0-22.836-22.752-23.132-59.567-.836-82.684l.837-.85 99.011-98.645Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3228:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-check",use:"ne-check-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-check"><path d="M13.828 3.387a.688.688 0 0 1 1.041.891l-.072.085-8.323 8.25a.688.688 0 0 1-.883.072l-.085-.072L1.204 8.35a.687.687 0 0 1 .882-1.05l.085.072 3.818 3.783 7.84-7.77-.001.002Z" fill="#595959" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3229:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-close",use:"ne-close-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="ne-close"><path d="m7.242 7.5 3.73-4.32c.063-.071.01-.18-.086-.18H9.752a.234.234 0 0 0-.175.079L6.5 6.64 3.423 3.08A.23.23 0 0 0 3.248 3H2.114c-.097 0-.15.109-.087.18L5.758 7.5l-3.73 4.32c-.063.071-.01.18.086.18h1.134c.067 0 .13-.029.175-.079L6.5 8.36l3.077 3.562a.23.23 0 0 0 .175.079h1.134c.097 0 .15-.109.087-.18L7.242 7.5Z" fill="currentColor" fill-rule="evenodd" opacity=".45" /></symbol>'});a.a.add(c);t.default=c},3230:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-cut",use:"ne-cut-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-cut"><path d="M891.257 825.643C901.373 835.76 894.26 853 880 853h-90.6a15.87 15.87 0 0 1-11.264-4.65L510.502 580.03l-80.334 80.601C441.812 683.161 448 708.151 448 734c0 88.318-71.682 160-160 160s-160-71.682-160-160 71.682-160 160-160c26.357 0 51.758 6.38 74.494 18.383l80.208-80.386-80.111-80.378C339.855 443.62 314.456 450 288.1 450c-88.318 0-160-71.682-160-160s71.682-160 160-160 160 71.682 160 160c0 25.848-6.188 50.84-17.832 73.369l80.334 80.6 267.559-268.243c2.93-3.072 7.092-4.726 11.339-4.726H880c14.245 0 21.285 17.33 11.264 27.35L578.4 512l312.857 313.643zM288 370c44.1 0 80-35.9 80-80s-35.9-80-80-80-80 35.9-80 80 35.9 80 80 80zm0 444c44.1 0 80-35.9 80-80s-35.9-80-80-80-80 35.9-80 80 35.9 80 80 80z" /></symbol>'});a.a.add(c);t.default=c},3231:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-paste",use:"ne-paste-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-paste"><path d="M548 640H408c-22.091 0-40-17.909-40-40V460H220v424h328V640zm-31.48-64L432 491.48V576h84.52zM624 864v64c0 17.673-14.327 32-32 32H176c-17.673 0-32-14.327-32-32V416c0-17.673 14.327-32 32-32h96V192c0-17.673 14.327-32 32-32h160V96c0-17.673 14.327-32 32-32h160c17.673 0 32 14.327 32 32v64h160c17.673 0 32 14.327 32 32v640c0 17.673-14.327 32-32 32H624zm0-76h180V236h-68v44a8 8 0 0 1-8 8H424a8 8 0 0 1-8-8v-44h-68v148h70.745a32 32 0 0 1 22.628 9.373l173.254 173.254A32 32 0 0 1 624 589.255V788zm0-628v-32h-96v32h96z" /></symbol>'});a.a.add(c);t.default=c},3232:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-arrow-up",use:"ne-arrow-up-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-arrow-up"><path d="M13.563 8.523 8.377 2.547a.5.5 0 0 0-.755 0L2.438 8.523a.124.124 0 0 0 .093.207h1.266c.072 0 .14-.032.189-.086l3.42-3.942V13.5c0 .069.057.125.125.125h.938a.125.125 0 0 0 .125-.125V4.702l3.42 3.942a.248.248 0 0 0 .19.086h1.265a.124.124 0 0 0 .094-.207Z" fill="#595959" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3233:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-arrow-left",use:"ne-arrow-left-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-arrow-left"><path d="M13.625 7.406H4.483l5.472-4.75a.124.124 0 0 0-.082-.219H8.491a.25.25 0 0 0-.164.061L2.422 7.622a.5.5 0 0 0 0 .755L8.36 13.53c.023.02.051.031.081.031h1.43a.124.124 0 0 0 .081-.218l-5.47-4.75h9.142a.125.125 0 0 0 .125-.125V7.53a.125.125 0 0 0-.125-.125Z" fill="#595959" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3234:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-arrow-right",use:"ne-arrow-right-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-arrow-right"><path d="M13.578 7.622 7.675 2.498a.25.25 0 0 0-.164-.06H6.128a.124.124 0 0 0-.081.218l5.472 4.75H2.375a.125.125 0 0 0-.125.125v.938c0 .069.056.125.125.125h9.142l-5.472 4.75a.124.124 0 0 0 .082.219h1.43c.029 0 .059-.011.08-.032l5.941-5.153c.23-.2.23-.556 0-.756Z" fill="#595959" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3235:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-arrow-down",use:"ne-arrow-down-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-arrow-down"><path d="M13.469 7.27h-1.266a.253.253 0 0 0-.189.086l-3.42 3.942V2.5a.125.125 0 0 0-.125-.125H7.53a.125.125 0 0 0-.125.125v8.798l-3.42-3.942a.248.248 0 0 0-.19-.086H2.532a.125.125 0 0 0-.093.207l5.185 5.976a.5.5 0 0 0 .755 0l5.184-5.976a.124.124 0 0 0-.093-.207Z" fill="#595959" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3236:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-select-arrow",use:"ne-select-arrow-usage",viewBox:"0 0 13 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 8" id="ne-select-arrow"><path d="m12.669.428-1.015.008a.667.667 0 0 0-.466.195L6.86 4.961a.48.48 0 0 1-.678 0L1.82.598a.667.667 0 0 0-.487-.195L.36.425a.293.293 0 0 0-.2.501l6.059 6.06a.427.427 0 0 0 .603 0L12.879.927a.293.293 0 0 0-.21-.5Z" fill="currentColor" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3237:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-up-outlined",use:"ne-up-outlined-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-up-outlined"><path d="M890.5 755.3 537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3c-3.8 5.3-.1 12.7 6.5 12.7h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></symbol>'});a.a.add(c);t.default=c},3238:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-left-outlined",use:"ne-left-outlined-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-left-outlined"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8c-16.4 12.8-16.4 37.5 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></symbol>'});a.a.add(c);t.default=c},3239:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-right-outlined",use:"ne-right-outlined-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-right-outlined"><path d="M765.7 486.8 314.9 134.7c-5.3-4.1-12.9-.4-12.9 6.3v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1c16.4-12.8 16.4-37.6 0-50.4z" /></symbol>'});a.a.add(c);t.default=c},3240:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-down-outlined",use:"ne-down-outlined-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-down-outlined"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></symbol>'});a.a.add(c);t.default=c},3241:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-clear",use:"ne-clear-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-clear"><path d="M416 836h192V680a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v156h149.19l-45.134-260H247.944l-45.135 260H352V680a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v156zM204 500h616V396H548V188h-72v208H204v104zm649.193 76 51.822 298.527c3.023 17.413-8.643 33.979-26.055 37.001a32 32 0 0 1-5.473.472H150.513c-17.673 0-32-14.327-32-32a32 32 0 0 1 .472-5.473L170.807 576H160c-17.673 0-32-14.327-32-32V352c0-17.673 14.327-32 32-32h240V144c0-17.673 14.327-32 32-32h160c17.673 0 32 14.327 32 32v176h240c17.673 0 32 14.327 32 32v192c0 17.673-14.327 32-32 32h-10.807z" /></symbol>'});a.a.add(c);t.default=c},3242:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-plus",use:"ne-plus-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-plus"><path d="M7.675 2.535h1.098c.083 0 .125.042.125.126V13.61c0 .084-.042.126-.125.126H7.675c-.083 0-.125-.042-.125-.126V2.66c0-.084.042-.126.125-.126Zm-4.918 4.92h10.936c.088 0 .132.042.132.126v1.108c0 .084-.044.126-.132.126H2.757c-.088 0-.132-.042-.132-.126V7.581c0-.084.044-.126.132-.126Z" fill="#595959" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3243:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-lock",use:"ne-lock-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-lock"><path d="M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z" fill="#515151" /></symbol>'});a.a.add(c);t.default=c},3244:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-unlock",use:"ne-unlock-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-unlock"><path d="M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z" /></symbol>'});a.a.add(c);t.default=c},3245:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-little-unlock-outlined",use:"ne-little-unlock-outlined-usage",viewBox:"0 0 9 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 14" id="ne-little-unlock-outlined"><path d="M2.175 6.116v-2.62c0-1.27 1.03-2.305 2.297-2.305A2.304 2.304 0 0 1 6.77 3.496h1.18A3.487 3.487 0 0 0 4.472.007a3.487 3.487 0 0 0-3.477 3.49v2.62H.001v7.868h8.943V6.116H2.175Zm5.589 6.685H1.18V7.3h6.583V12.8Z" fill="#231815" fill-rule="nonzero" opacity=".4" /></symbol>'});a.a.add(c);t.default=c},3246:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-lock-outlined",use:"ne-lock-outlined-usage",viewBox:"0 0 11 13",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 13" id="ne-lock-outlined"><g fill="#333" fill-rule="nonzero"><path d="M10.5 5.5H9.437V2a2 2 0 0 0-2-2H3.563a2 2 0 0 0-2 2v3.5H.5A.5.5 0 0 0 0 6v6a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM2.687 2c0-.483.393-.875.876-.875h3.874c.483 0 .875.392.875.875v3.5H2.689V2Zm7.188 9.375h-8.75v-4.75h8.75v4.75Z" /><path d="M5.063 9.203v.828c0 .069.056.125.125.125h.625a.125.125 0 0 0 .125-.125v-.828a.749.749 0 0 0-.438-1.36.75.75 0 0 0-.438 1.36Z" /></g></symbol>'});a.a.add(c);t.default=c},3247:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-unlock-outlined",use:"ne-unlock-outlined-usage",viewBox:"0 0 11 13",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 13" id="ne-unlock-outlined"><g fill="currentColor" fill-rule="nonzero"><path d="M10.5 5.5H2.687V2c0-.483.393-.875.876-.875h3.874c.483 0 .875.392.875.875v1.063c0 .068.057.124.126.124h.874a.125.125 0 0 0 .126-.124V2a2 2 0 0 0-2-2H3.563a2 2 0 0 0-2 2v3.5H.5A.5.5 0 0 0 0 6v6a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5Zm-.625 5.875h-8.75v-4.75h8.75v4.75Z" /><path d="M5.063 9.203v.828c0 .069.056.125.125.125h.625a.125.125 0 0 0 .125-.125v-.828a.749.749 0 0 0-.438-1.36.75.75 0 0 0-.438 1.36Z" /></g></symbol>'});a.a.add(c);t.default=c},3248:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-clock-circle",use:"ne-clock-circle-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-clock-circle"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6 544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></symbol>'});a.a.add(c);t.default=c},3249:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-question",use:"ne-question-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="ne-question"><path d="M7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0Zm0 1.188a5.813 5.813 0 0 0 0 11.624A5.813 5.813 0 0 0 7 1.188Zm0 8.624a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25Zm0-6.5c.656 0 1.275.225 1.744.636.487.427.756 1 .754 1.615 0 .903-.595 1.715-1.517 2.07a.755.755 0 0 0-.483.7v.354a.125.125 0 0 1-.125.126h-.75a.125.125 0 0 1-.125-.126v-.335a1.746 1.746 0 0 1 1.125-1.653c.533-.205.877-.65.877-1.136 0-.69-.673-1.25-1.5-1.25s-1.5.56-1.5 1.25v.118a.125.125 0 0 1-.125.125h-.75a.125.125 0 0 1-.125-.125v-.119c0-.614.269-1.187.756-1.614A2.642 2.642 0 0 1 7 3.313Z" fill-opacity=".65" fill="currentColor" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3250:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-upload-error",use:"ne-upload-error-usage",viewBox:"0 0 21 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 16" id="ne-upload-error"><g fill="none" fill-rule="evenodd"><path d="M13.5.5a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-.5.5H.5A.5.5 0 0 1 0 11V1A.5.5 0 0 1 .5.5h13Zm-3.232 2.232a2.504 2.504 0 0 0-3.538 0L4.027 5.434A.093.093 0 0 0 4 5.501c0 .025.01.049.027.066l.382.382a.093.093 0 0 0 .132 0l2.702-2.702c.336-.336.782-.52 1.256-.52.475 0 .92.184 1.255.52.336.336.52.782.52 1.256 0 .475-.184.92-.52 1.256L7 8.514l-.446.447A1.07 1.07 0 0 1 5.04 7.448l2.732-2.734a.365.365 0 0 1 .258-.106h.001a.361.361 0 0 1 .256.62L6.054 7.461a.093.093 0 0 0-.026.067c0 .024.009.048.026.066l.383.382a.093.093 0 0 0 .131 0l2.233-2.234c.206-.206.319-.48.319-.77a1.092 1.092 0 0 0-1.862-.77l-.265.265-2.467 2.467c-.34.34-.526.79-.526 1.271A1.793 1.793 0 0 0 5.797 10c.46 0 .92-.175 1.27-.525l3.2-3.202A2.492 2.492 0 0 0 11 4.503a2.484 2.484 0 0 0-.732-1.77Z" fill-rule="nonzero" opacity=".45" fill="currentColor" /><path d="M20.416 13.906a.625.625 0 0 1-.541.938h-9.75a.625.625 0 0 1-.541-.938l4.874-8.436c.114-.2.32-.314.542-.314a.62.62 0 0 1 .541.313l4.875 8.437Z" stroke="#FFF" stroke-width=".5" fill="#FFF" /><path d="m20.2 14.031-4.875-8.437A.37.37 0 0 0 15 5.406a.37.37 0 0 0-.325.188L9.8 14.03a.375.375 0 0 0 .325.563h9.75a.375.375 0 0 0 .325-.563Zm-5.575-5.156c0-.052.042-.094.094-.094h.562c.052 0 .094.042.094.094v2.156a.094.094 0 0 1-.094.094h-.562a.094.094 0 0 1-.094-.094V8.875ZM15 13a.563.563 0 1 1 0-1.125A.563.563 0 0 1 15 13Z" fill="#FAAD14" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3251:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-exclamation",use:"ne-exclamation-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="ne-exclamation"><path d="M7 0a7 7 0 1 1 0 14A7 7 0 0 1 7 0Zm0 12.813A5.813 5.813 0 0 0 7 1.187a5.813 5.813 0 0 0 0 11.626ZM6.25 4.25a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0ZM7.375 6c.069 0 .125.056.125.125v4.25a.125.125 0 0 1-.125.125h-.75a.125.125 0 0 1-.125-.125v-4.25c0-.069.056-.125.125-.125h.75Z" fill-opacity=".45" fill="currentColor" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3252:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-preferences",use:"ne-preferences-usage",viewBox:"0 0 14 4",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 4" id="ne-preferences"><path d="M13.188 2a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0ZM8.25 2a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0ZM3.313 2a1.25 1.25 0 1 0-2.5 0 1.25 1.25 0 0 0 2.5 0Z" fill="#000" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3253:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-search",use:"ne-search-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-search"><path d="M909.632 854.528 649.92 594.816C690.24 542.72 712 478.976 712 411.968a298.24 298.24 0 0 0-87.872-212.096A297.792 297.792 0 0 0 411.968 112a298.24 298.24 0 0 0-212.096 87.872A297.6 297.6 0 0 0 112 411.968c0 80.128 31.36 155.52 87.872 212.16A297.6 297.6 0 0 0 411.968 712a297.6 297.6 0 0 0 182.72-62.016L854.4 909.568c3.2 3.2 8.384 3.2 11.584 0l43.584-43.52a8.192 8.192 0 0 0 0-11.52zm-339.2-284.16a222.784 222.784 0 0 1-158.464 65.6 222.784 222.784 0 0 1-158.4-65.536 222.784 222.784 0 0 1-65.6-158.464c0-59.776 23.36-116.096 65.664-158.4a222.784 222.784 0 0 1 158.336-65.6c59.84 0 116.16 23.232 158.4 65.664a222.784 222.784 0 0 1 65.6 158.336c0 59.84-23.296 116.16-65.536 158.4z" fill="#515151" /></symbol>'});a.a.add(c);t.default=c},3254:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-loading",use:"ne-loading-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-loading"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3-22.2-52.4-53.9-99.4-94.3-139.9-40.4-40.4-87.5-72.2-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" fill="#515151" /></symbol>'});a.a.add(c);t.default=c},3255:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-preview",use:"ne-preview-usage",viewBox:"0 0 15 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" id="ne-preview"><g fill="currentColor" fill-rule="nonzero" opacity=".6"><path d="M5.953 10.356c-.376 0-.736-.146-1-.406a1.35 1.35 0 0 1-.408-.977v-3.96a1.364 1.364 0 0 1 .724-1.2 1.441 1.441 0 0 1 1.43.036l3.266 1.987c.414.25.666.69.666 1.164s-.252.915-.666 1.164L6.7 10.137c-.22.133-.473.204-.732.205l-.014.014Zm0-5.616a.302.302 0 0 0-.14.04.273.273 0 0 0-.142.234v3.959a.273.273 0 0 0 .147.244.288.288 0 0 0 .29-.012L9.374 7.22a.272.272 0 0 0 .133-.233.272.272 0 0 0-.133-.233l-3.28-1.972a.272.272 0 0 0-.141-.055v.014Z" /><path d="M7.206 14C3.779 14.005.825 11.658.144 8.39c-.68-3.268 1.102-6.549 4.26-7.842 3.633-1.396 7.747.283 9.269 3.784 1.521 3.5-.106 7.542-3.666 9.106A7.322 7.322 0 0 1 7.206 14Zm0-12.904C3.856 1.096 1.138 3.74 1.138 7s2.717 5.904 6.068 5.904c3.35 0 6.068-2.657 6.068-5.904s-2.732-5.904-6.068-5.904Z" /></g></symbol>'});a.a.add(c);t.default=c},3256:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-eye",use:"ne-eye-usage",viewBox:"0 0 16 10",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 10" id="ne-eye"><g fill="currentColor" fill-rule="nonzero" fill-opacity=".45"><path d="M8 3.338c-.4 0-.8.166-1.12.498-.32.333-.48.748-.48 1.164 0 .416.16.831.48 1.164.32.332.72.498 1.12.498.4 0 .8-.166 1.12-.498.32-.333.48-.748.48-1.164 0-.416-.16-.831-.48-1.164A1.551 1.551 0 0 0 8 3.338Z" /><path d="M8 .013C3.2.013 0 5 0 5s3.2 4.987 8 4.987S16 5 16 5 12.8.013 8 .013Zm0 8.312C6.24 8.325 4.8 6.829 4.8 5c0-1.829 1.44-3.325 3.2-3.325 1.76 0 3.2 1.496 3.2 3.325 0 1.829-1.44 3.325-3.2 3.325Z" /></g></symbol>'});a.a.add(c);t.default=c},3257:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-eye-outlined",use:"ne-eye-outlined-usage",viewBox:"0 0 14 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 11" id="ne-eye-outlined"><g fill="currentColor" fill-rule="nonzero"><path d="M13.534 4.69C12.054 1.57 9.814 0 6.812 0 3.81 0 1.572 1.57.091 4.692a.942.942 0 0 0 0 .805c1.48 3.12 3.72 4.69 6.721 4.69 3.004 0 5.241-1.57 6.722-4.692a.942.942 0 0 0 0-.804ZM6.812 9.063c-2.52 0-4.365-1.278-5.667-3.968 1.302-2.69 3.147-3.969 5.668-3.969 2.52 0 4.365 1.278 5.667 3.969-1.3 2.69-3.146 3.968-5.668 3.968Z" /><path d="M6.75 2.344a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5Zm0 4.5a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 1 1 0 3.5Z" /></g></symbol>'});a.a.add(c);t.default=c},3258:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-rmb",use:"ne-rmb-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-rmb"><path d="M512 206.48a305.52 305.52 0 1 0 0 611.04 305.52 305.52 0 0 0 0-611.04zm0 559.233a253.713 253.713 0 0 1 0-507.426 253.713 253.713 0 0 1 0 507.426zm108.853-398.966h-40.591a5.368 5.368 0 0 0-4.801 3.011L513.57 492.49h-2.313l-61.671-122.732a5.456 5.456 0 0 0-4.845-3.055h-41.42c-.873 0-1.746.262-2.575.742a5.5 5.5 0 0 0-2.182 7.42l75.943 139.666h-41.856a5.456 5.456 0 0 0-5.456 5.456v20.383a5.458 5.458 0 0 0 5.456 5.455h55.736v28.24h-55.823a5.456 5.456 0 0 0-5.456 5.455v20.383a5.458 5.458 0 0 0 5.456 5.455H488.3v46.44a5.458 5.458 0 0 0 5.456 5.455h37.012a5.456 5.456 0 0 0 5.455-5.456v-46.395h55.954a5.456 5.456 0 0 0 5.456-5.456v-20.382a5.456 5.456 0 0 0-5.456-5.456h-55.91v-28.326h55.954a5.456 5.456 0 0 0 5.456-5.456v-20.382a5.456 5.456 0 0 0-5.456-5.456h-42.336l75.812-139.667a5.892 5.892 0 0 0 .655-2.618 5.587 5.587 0 0 0-5.5-5.412z" fill="#666" /></symbol>'});a.a.add(c);t.default=c},3259:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-warning-outlined",use:"ne-warning-outlined-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-warning-outlined"><path d="M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0ZM480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z" fill="#515151" /><path d="m955.7 856-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z" fill="#515151" /></symbol>'});a.a.add(c);t.default=c},3260:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-expand",use:"ne-expand-usage",viewBox:"0 0 9 9",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" id="ne-expand"><path d="m.425 8.601.001-.805.006-3.032a.35.35 0 0 1 .35-.35l.455.001a.35.35 0 0 1 .35.35l-.005 2.683c0 .194.156.35.35.35l2.682.006a.35.35 0 0 1 .35.35l-.002.455a.35.35 0 0 1-.35.35l-3.033-.006-.805-.001a.35.35 0 0 1-.349-.35Zm7.06-7.042-2.682-.004a.35.35 0 0 1-.35-.35l.001-.456A.35.35 0 0 1 4.805.4l3.032.006.805.002a.35.35 0 0 1 .35.35l-.002.805-.005 3.032a.35.35 0 0 1-.35.35l-.456-.001a.35.35 0 0 1-.349-.35l.005-2.683a.35.35 0 0 0-.35-.35Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3261:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-insert-card",use:"ne-t-insert-card-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-insert-card"><g fill="none" fill-rule="evenodd"><path d="M200 22c18.59 0 33.696 14.92 33.996 33.438l.005.562v24.241c0 5.523-4.477 10-10 10-5.43 0-9.848-4.326-9.996-9.72l-.004-.28V56c0-7.627-6.1-13.83-13.688-13.997L200 42H56c-7.628 0-13.83 6.1-13.997 13.687L42 56v144c0 7.628 6.1 13.831 13.687 13.997l.313.004h24.425c5.523 0 10 4.477 10 10 0 5.429-4.326 9.848-9.72 9.996l-.28.004H56c-18.59 0-33.695-14.92-33.995-33.439L22 200V56c0-18.59 14.92-33.695 33.438-33.995L56 22h144Z" fill="currentColor" fill-rule="nonzero" /><path d="M165 80c45.84 0 83 37.16 83 83s-37.16 83-83 83-83-37.16-83-83 37.16-83 83-83Zm0 20c-34.794 0-63 28.206-63 63s28.206 63 63 63 63-28.206 63-63-28.206-63-63-63Z" fill="#0B6B3B" fill-rule="nonzero" /><path d="M165 100c-34.794 0-63 28.206-63 63s28.206 63 63 63 63-28.206 63-63-28.206-63-63-63Z" fill="#CEEBD2" /><path d="M128 163h75m-37.5-37v75" stroke="#0B6B3B" stroke-width="20" stroke-linecap="round" /></g></symbol>'});a.a.add(c);t.default=c},3262:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-subscript",use:"ne-t-subscript-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-subscript"><g stroke="currentColor" fill="none" fill-rule="evenodd"><path stroke-width="20" stroke-linecap="round" d="m40 50 114 168M154 50 40 218" /><path d="M231.92 225.48c2.72 0 4.08-1.48 4.08-4.44 0-2.88-1.36-4.32-4.08-4.32H198.8c6.48-5.52 12.28-11.24 17.4-17.16 2.16-2.48 4.28-5.16 6.36-8.04 2.08-2.88 3.94-5.82 5.58-8.82 1.64-3 2.96-6.04 3.96-9.12 1-3.08 1.5-6.14 1.5-9.18 0-3.36-.48-6.42-1.44-9.18s-2.38-5.12-4.26-7.08-4.2-3.48-6.96-4.56c-2.76-1.08-5.9-1.62-9.42-1.62-7.92 0-13.8 2.26-17.64 6.78-3.84 4.52-5.76 10.66-5.76 18.42 0 2.24.32 3.74.96 4.5.64.76 1.96 1.14 3.96 1.14 1.76 0 2.98-.44 3.66-1.32.68-.88 1.02-2.32 1.02-4.32 0-4.8 1.04-8.74 3.12-11.82s5.4-4.62 9.96-4.62c4 0 7.16 1.32 9.48 3.96 2.32 2.64 3.48 6.12 3.48 10.44 0 3.2-.64 6.42-1.92 9.66-1.28 3.24-2.94 6.4-4.98 9.48a84.099 84.099 0 0 1-6.84 8.94c-2.52 2.88-5.04 5.6-7.56 8.16-2.52 2.56-4.92 4.94-7.2 7.14-2.28 2.2-4.18 4.1-5.7 5.7-.64 1.04-.96 2.04-.96 3-.56 1.04-.86 2.06-.9 3.06-.04 1 .1 1.88.42 2.64.32.76.8 1.38 1.44 1.86.64.48 1.36.72 2.16.72h40.2Z" stroke-width="5" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3263:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-superscript",use:"ne-t-superscript-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-superscript"><g stroke="currentColor" fill="none" fill-rule="evenodd"><path stroke-width="20" stroke-linecap="round" d="m40 50 114 168M154 50 40 218" /><path d="M231.92 103.48c2.72 0 4.08-1.48 4.08-4.44 0-2.88-1.36-4.32-4.08-4.32H198.8c6.48-5.52 12.28-11.24 17.4-17.16 2.16-2.48 4.28-5.16 6.36-8.04 2.08-2.88 3.94-5.82 5.58-8.82 1.64-3 2.96-6.04 3.96-9.12 1-3.08 1.5-6.14 1.5-9.18 0-3.36-.48-6.42-1.44-9.18s-2.38-5.12-4.26-7.08-4.2-3.48-6.96-4.56c-2.76-1.08-5.9-1.62-9.42-1.62-7.92 0-13.8 2.26-17.64 6.78-3.84 4.52-5.76 10.66-5.76 18.42 0 2.24.32 3.74.96 4.5.64.76 1.96 1.14 3.96 1.14 1.76 0 2.98-.44 3.66-1.32.68-.88 1.02-2.32 1.02-4.32 0-4.8 1.04-8.74 3.12-11.82s5.4-4.62 9.96-4.62c4 0 7.16 1.32 9.48 3.96 2.32 2.64 3.48 6.12 3.48 10.44 0 3.2-.64 6.42-1.92 9.66-1.28 3.24-2.94 6.4-4.98 9.48a84.099 84.099 0 0 1-6.84 8.94c-2.52 2.88-5.04 5.6-7.56 8.16-2.52 2.56-4.92 4.94-7.2 7.14-2.28 2.2-4.18 4.1-5.7 5.7-.64 1.04-.96 2.04-.96 3-.56 1.04-.86 2.06-.9 3.06-.04 1 .1 1.88.42 2.64.32.76.8 1.38 1.44 1.86.64.48 1.36.72 2.16.72h40.2Z" stroke-width="5" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3264:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-code",use:"ne-t-code-usage",viewBox:"0 0 13 13",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" id="ne-t-code"><path d="m12.573 5.256-2.25-2.25a.636.636 0 0 0-.9.9l2.25 2.25-2.25 2.25a.636.636 0 0 0 .9.9l2.25-2.25a1.273 1.273 0 0 0 0-1.8Zm-12.2 0a1.273 1.273 0 0 0 0 1.8l2.25 2.25a.636.636 0 0 0 .9-.9l-2.25-2.25 2.25-2.25a.636.636 0 0 0-.9-.9l-2.25 2.25ZM7.383.467A.636.636 0 0 1 8.61.805l-3.048 11.04a.636.636 0 1 1-1.227-.339L7.383.467Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3265:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-delete-row",use:"ne-t-delete-row-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-t-delete-row"><path d="M120 432h448q8 0 8 8v144q0 8-8 8H120q-8 0-8-8V440q0-8 8-8ZM384 188H136a8 8 0 0 1-8-8v-60a8 8 0 0 1 8-8h292c17.673 0 32 14.327 32 32v208a8 8 0 0 1-8 8h-60a8 8 0 0 1-8-8V188zm0 648H136a8 8 0 0 0-8 8v60a8 8 0 0 0 8 8h292c17.673 0 32-14.327 32-32V672a8 8 0 0 0-8-8h-60a8 8 0 0 0-8 8v164zM782 466.655l73.13-87.776a8 8 0 0 1 6.147-2.879h54.734a8 8 0 0 1 6.146 13.12L819.78 512l102.377 122.88A8 8 0 0 1 916.01 648h-54.734a8 8 0 0 1-6.147-2.88L782 557.346l-73.13 87.776a8 8 0 0 1-6.147 2.879H647.99a8 8 0 0 1-6.146-13.12L744.22 512 641.843 389.12A8 8 0 0 1 647.99 376h54.734a8 8 0 0 1 6.147 2.88L782 466.654z" /></symbol>'});a.a.add(c);t.default=c},3266:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-delete-column",use:"ne-t-delete-column-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-t-delete-column"><path d="m512 730.655 73.13-87.776a8 8 0 0 1 6.147-2.879h54.734a8 8 0 0 1 6.146 13.12L549.78 776l102.377 122.88A8 8 0 0 1 646.01 912h-54.734a8 8 0 0 1-6.147-2.88L512 821.346l-73.13 87.776a8 8 0 0 1-6.147 2.879H377.99a8 8 0 0 1-6.146-13.12L474.22 776 371.843 653.12A8 8 0 0 1 377.99 640h54.734a8 8 0 0 1 6.147 2.88L512 730.654zM592 120v448q0 8-8 8H440q-8 0-8-8V120q0-8 8-8h144q8 0 8 8ZM836 384V136a8 8 0 0 1 8-8h60a8 8 0 0 1 8 8v292c0 17.673-14.327 32-32 32H672a8 8 0 0 1-8-8v-60a8 8 0 0 1 8-8h164zm-648 0V136a8 8 0 0 0-8-8h-60a8 8 0 0 0-8 8v292c0 17.673 14.327 32 32 32h208a8 8 0 0 0 8-8v-60a8 8 0 0 0-8-8H188z" /></symbol>'});a.a.add(c);t.default=c},3267:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-clear-format",use:"ne-t-clear-format-usage",viewBox:"0 0 212 195",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 195" id="ne-t-clear-format"><g fill="none" fill-rule="evenodd"><path d="m140.648 18.22 53.705 53.705c9.372 9.373 9.372 24.569 0 33.941l-.036.036-78.9 78.57h-54.59l-43.215-43.215c-9.373-9.372-9.373-24.568 0-33.941l89.095-89.095c9.373-9.373 24.569-9.373 33.941 0Z" stroke="currentColor" stroke-width="21" stroke-linejoin="round" /><path stroke="currentColor" stroke-width="21" stroke-linecap="square" d="m69.5 74.5 65.714 65.061" /><path d="M200.213 174c5.957 0 10.787 4.701 10.787 10.5 0 5.7-4.667 10.34-10.485 10.496l-.302.004H84.787C78.83 195 74 190.299 74 184.5c0-5.7 4.667-10.34 10.485-10.496l.302-.004h115.426Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3268:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-format-painter",use:"ne-t-format-painter-usage",viewBox:"0 0 198 214",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 198 214" id="ne-t-format-painter"><g stroke="currentColor" stroke-width="20" fill="none" fill-rule="evenodd"><path d="M74 142h22a8 8 0 0 1 8 8v35c0 10.493-8.507 19-19 19s-19-8.507-19-19v-35a8 8 0 0 1 8-8ZM26 10h118c8.837 0 16 7.163 16 16v26c0 8.837-7.163 16-16 16H26c-8.837 0-16-7.163-16-16V26c0-8.837 7.163-16 16-16Z" stroke-linecap="round" stroke-linejoin="round" /><path d="M169 38h10.125a8 8 0 0 1 8 8v50a8 8 0 0 1-8 8H92.5a8 8 0 0 0-8 8v28" /></g></symbol>'});a.a.add(c);t.default=c},3269:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-extensions",use:"ne-t-extensions-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-t-extensions"><path d="M908.032 512a80 80 0 1 0-160 0 80 80 0 1 0 160 0ZM592 512a80 80 0 1 0-160 0 80 80 0 1 0 160 0ZM276.03200000000004 512a80 80 0 1 0-160 0 80 80 0 1 0 160 0Z" /></symbol>'});a.a.add(c);t.default=c},3270:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-indent",use:"ne-t-indent-usage",viewBox:"0 0 200 201",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 201" id="ne-t-indent"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width="20" stroke-linecap="round" d="M83 130.5h107M83 70.5h107M10 10h180M10 190.5h180" /><path d="m11.6 62.59 30.78 30.308a6.438 6.438 0 0 1 0 9.204L11.6 132.41c-2.581 2.542-6.766 2.542-9.348 0a6.458 6.458 0 0 1-1.936-4.602V67.192c0-3.594 2.96-6.508 6.61-6.508 1.753 0 3.434.685 4.674 1.906Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3271:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-outdent",use:"ne-t-outdent-usage",viewBox:"0 0 200 201",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 201" id="ne-t-outdent"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width="20" stroke-linecap="round" d="M83 130.5h107M83 70.5h107M10 10h180M10 190.5h180" /><path d="M33.033 62.59 2.253 92.898a6.438 6.438 0 0 0 0 9.204l30.78 30.308c2.581 2.542 6.766 2.542 9.347 0a6.458 6.458 0 0 0 1.936-4.602V67.192c0-3.594-2.959-6.508-6.61-6.508a6.662 6.662 0 0 0-4.673 1.906Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3272:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-bold",use:"ne-t-bold-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-bold"><g fill="currentColor" fill-rule="nonzero"><path d="M129 28c30.376 0 55 24.624 55 55s-24.624 55-55 55H60V44c0-8.837 7.163-16 16-16h53Zm-49 90h49c19.33 0 35-15.67 35-35 0-19.137-15.358-34.686-34.421-34.995L129 48H80v70Z" /><path d="M144.5 118c30.652 0 55.5 24.848 55.5 55.5S175.152 229 144.5 229H76c-8.837 0-16-7.163-16-16v-95h84.5ZM80 209h64.5c19.606 0 35.5-15.894 35.5-35.5 0-19.41-15.578-35.182-34.913-35.495L144.5 138H80v71Z" /></g></symbol>'});a.a.add(c);t.default=c},3273:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-strikethrough",use:"ne-t-strikethrough-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-strikethrough"><g fill="currentColor" fill-rule="nonzero"><path d="M130.439 23.2c26.526 0 50.232 14.436 59.932 36.315 2.238 5.049-.04 10.956-5.089 13.195-5.049 2.238-10.956-.04-13.195-5.089-6.395-14.425-22.81-24.421-41.648-24.421C105.616 43.2 86 60.316 86 80.7c0 4.675 1.014 9.22 2.977 13.492 6.467 14.074 22.493 23.812 40.903 24.005l.559.003c5.523 0 10 4.477 10 10s-4.477 10-10 10c-26.244 0-49.743-14.13-59.635-35.657C67.649 95.677 66 88.286 66 80.7c0-32.083 29.13-57.5 64.439-57.5Z" /><path d="M125.281 118C163.348 118 195 143.176 195 175.5S163.348 233 125.281 233c-29.214 0-55.305-14.9-65.41-37.497-2.254-5.042.005-10.957 5.047-13.211 4.955-2.216 10.753-.072 13.091 4.788l.12.259C84.819 202.3 103.556 213 125.28 213 153.178 213 175 195.643 175 175.5S153.178 138 125.281 138c-5.522 0-10-4.477-10-10s4.478-10 10-10Z" /><path d="M220 118c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L220 138H36c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L36 118h184Z" /></g></symbol>'});a.a.add(c);t.default=c},3274:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-italic",use:"ne-t-italic-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-italic"><g fill="#262626" fill-rule="nonzero"><path d="M135.012 43.64c1.121-5.408 6.414-8.883 11.822-7.762 5.316 1.102 8.765 6.235 7.815 11.546l-.053.275-33.998 164.017c-1.121 5.408-6.414 8.883-11.822 7.762-5.316-1.102-8.765-6.235-7.815-11.547l.053-.275L135.012 43.64Z" /><path d="M186 29.25c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996l-.28.004h-80c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996l.28-.004h80ZM150 226.75c5.523 0 10-4.477 10-10 0-5.43-4.327-9.848-9.72-9.996l-.28-.004H70c-5.523 0-10 4.477-10 10 0 5.43 4.327 9.848 9.72 9.996l.28.004h80Z" /></g></symbol>'});a.a.add(c);t.default=c},3275:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-underline",use:"ne-t-underline-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-underline"><g fill="#262626" fill-rule="evenodd"><path d="M184 24c5.43 0 9.848 4.327 9.996 9.72L194 34v94.393C194 161.1 164.16 187 128 187c-35.8 0-65.403-25.385-65.991-57.628l-.009-.98V34c0-5.523 4.477-10 10-10 5.43 0 9.848 4.327 9.996 9.72L82 34v94.393C82 149.375 102.305 167 128 167c25.438 0 45.593-17.274 45.994-37.979l.006-.628V34c0-5.523 4.477-10 10-10Z" fill-rule="nonzero" /><rect x="40" y="210" width="176" height="22" rx="11" /></g></symbol>'});a.a.add(c);t.default=c},3276:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-alignment-left",use:"ne-t-alignment-left-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-alignment-left"><g fill="currentColor" fill-rule="nonzero"><path d="M143 148c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L143 168H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 148h105ZM218 89c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 109H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 89h180ZM143 30c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L143 50H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 30h105ZM218 207c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 227H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 207h180Z" /></g></symbol>'});a.a.add(c);t.default=c},3277:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-alignment-right",use:"ne-t-alignment-right-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-alignment-right"><g fill="currentColor" fill-rule="nonzero"><path d="M218 148c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 168H113c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L113 148h105ZM218 89c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 109H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 89h180ZM218 30c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 50H113c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L113 30h105ZM218 207c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 227H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 207h180Z" /></g></symbol>'});a.a.add(c);t.default=c},3278:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-alignment-center",use:"ne-t-alignment-center-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-alignment-center"><g fill="currentColor" fill-rule="nonzero"><path d="M181 148c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L181 168H76c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L76 148h105ZM218 89c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 109H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 89h180ZM181 30c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L181 50H76c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L76 30h105ZM218 207c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 227H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 207h180Z" /></g></symbol>'});a.a.add(c);t.default=c},3279:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-alignment-justify",use:"ne-t-alignment-justify-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-alignment-justify"><g fill="currentColor" fill-rule="nonzero"><path d="M218 89c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 109H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 89h180ZM218 30c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 50H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 30h180ZM218 148c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 168H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 148h180ZM218 207c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 227H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 207h180Z" /></g></symbol>'});a.a.add(c);t.default=c},3280:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-order-list",use:"ne-t-order-list-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-order-list"><g fill="currentColor" fill-rule="nonzero"><path d="M215 118c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L215 138H101c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L101 118h114ZM215 35c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L215 55H101c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L101 35h114ZM215 201c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L215 221H101c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L101 201h114ZM65.988 190.061l-.739.79-1.88 2.061-4.394 4.885-6.435 7.205h13.852a9 9 0 0 1 8.996 8.736l.004.265a9 9 0 0 1-8.735 8.996l-.265.004H32.5c-7.762 0-11.883-9.167-6.732-14.973l15.666-17.621 6.446-7.197 3.323-3.665 1.424-1.54.623-.653.408-.407.042-.039c1.203-1.106 1.855-2.536 1.855-4.05 0-3.128-2.87-5.855-6.637-5.855-3.681 0-6.508 2.607-6.632 5.647l-.004.208a9 9 0 1 1-18 0c0-13.281 11.13-23.855 24.636-23.855 13.507 0 24.637 10.574 24.637 23.855 0 6.497-2.703 12.572-7.355 17.003l-.212.2ZM43.206 25.413c5.694-5.302 14.934-1.363 15.13 6.337l.003.25v73a9 9 0 0 1-17.996.265L40.34 105V52.583c-3.556 2.568-8.513 2.208-11.653-.96l-.198-.207a9 9 0 0 1 .247-12.522l.206-.198 14.265-13.283Z" /></g></symbol>'});a.a.add(c);t.default=c},3281:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-unorder-list",use:"ne-t-unorder-list-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-unorder-list"><g fill="currentColor" fill-rule="evenodd"><g fill-rule="nonzero"><path d="M215 118c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L215 138H96c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L96 118h119ZM215 35c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L215 55H96c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L96 35h119ZM215 201c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L215 221H96c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L96 201h119Z" /></g><circle cx="44" cy="45" r="16" /><circle cx="44" cy="128" r="16" /><circle cx="44" cy="211" r="16" /></g></symbol>'});a.a.add(c);t.default=c},3282:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-task-list",use:"ne-t-task-list-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-task-list"><g fill="none" fill-rule="evenodd"><path d="M169.002 89.757c3.945-3.865 10.276-3.8 14.141.145 3.795 3.873 3.801 10.047.067 13.928l-.212.213-63.285 62a10 10 0 0 1-13.776.209l-.219-.208-32.715-32.041c-3.946-3.865-4.012-10.196-.147-14.142 3.794-3.873 9.966-4.007 13.924-.354l.217.207 25.717 25.187 56.288-55.144Z" fill="currentColor" fill-rule="nonzero" /><path d="M201 23c17.673 0 32 14.327 32 32v146c0 17.673-14.327 32-32 32H55c-17.673 0-32-14.327-32-32V55c0-17.673 14.327-32 32-32h146Zm0 20H55c-6.525 0-11.834 5.209-11.996 11.695L43 55v146c0 6.525 5.209 11.834 11.695 11.996L55 213h146c6.525 0 11.834-5.209 11.996-11.695L213 201V55c0-6.525-5.209-11.834-11.695-11.996L201 43Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3283:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-link",use:"ne-t-link-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-link"><path d="M155.639 173.9c3.839 3.84 3.904 10.023.195 13.942l-.195.2-30.783 30.783c-24.052 24.052-63.167 23.884-87.366-.315-23.957-23.957-24.362-62.533-1.03-86.64l.715-.726 30.783-30.783c3.905-3.905 10.237-3.905 14.142 0 3.839 3.84 3.904 10.023.195 13.942l-.195.2-30.783 30.783c-16.214 16.214-16.1 42.666.315 59.082 16.252 16.251 42.34 16.525 58.592.797l.49-.482 30.783-30.783c3.905-3.905 10.237-3.905 14.142 0Zm17.366-90.905c3.839 3.84 3.904 10.023.195 13.942l-.195.2-76.368 76.368c-3.905 3.905-10.237 3.905-14.142 0-3.839-3.84-3.904-10.023-.195-13.942l.195-.2 76.368-76.368c3.905-3.905 10.237-3.905 14.142 0ZM218.51 37.49c23.957 23.957 24.362 62.533 1.03 86.64l-.715.726-30.783 30.783c-3.905 3.905-10.237 3.905-14.142 0-3.839-3.84-3.904-10.023-.195-13.942l.195-.2 30.783-30.783c16.214-16.214 16.1-42.666-.315-59.082-16.252-16.251-42.34-16.525-58.592-.797l-.49.482L114.503 82.1c-3.905 3.905-10.237 3.905-14.142 0-3.839-3.84-3.904-10.023-.195-13.942l.195-.2 30.783-30.783c24.052-24.052 63.167-23.884 87.366.315Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3284:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-quote",use:"ne-t-quote-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-quote"><g fill="none" fill-rule="evenodd"><g fill="currentColor"><path d="M36 143h44c6.627 0 12 5.373 12 12v44c0 6.627-5.373 12-12 12H36c-6.627 0-12-5.373-12-12v-44c0-6.627 5.373-12 12-12Z" /><path d="M84.144 53.257c5.502-.485 10.355 3.582 10.84 9.084.476 5.408-3.447 10.19-8.806 10.81l-.279.029c-23.384 2.06-41.533 21.544-41.894 45.105L44 119v41.723c0 5.523-4.477 10-10 10-5.43 0-9.848-4.326-9.996-9.72l-.004-.28V119c0-34.269 26.22-62.755 60.144-65.743Z" fill-rule="nonzero" /><path d="M43.272 120.769 38.56 142.58a9.567 9.567 0 0 0 13.93 10.42l11.401-6.216a2.015 2.015 0 0 0-.964-3.784h-2.933c-8.837 0-16-7.164-16-16v-6.155a.365.365 0 0 0-.722-.077Z" /></g><g fill="currentColor"><path d="M176 143h44c6.627 0 12 5.373 12 12v44c0 6.627-5.373 12-12 12h-44c-6.627 0-12-5.373-12-12v-44c0-6.627 5.373-12 12-12Z" /><path d="M224.144 53.257c5.502-.485 10.355 3.582 10.84 9.084.476 5.408-3.447 10.19-8.806 10.81l-.279.029c-23.384 2.06-41.533 21.544-41.894 45.105L184 119v41.723c0 5.523-4.477 10-10 10-5.43 0-9.848-4.326-9.996-9.72l-.004-.28V119c0-34.269 26.22-62.755 60.144-65.743Z" fill-rule="nonzero" /><path d="m183.272 120.769-4.712 21.812a9.567 9.567 0 0 0 13.93 10.42l11.401-6.216a2.015 2.015 0 0 0-.964-3.784h-2.933c-8.837 0-16-7.164-16-16v-6.155a.365.365 0 0 0-.722-.077Z" /></g></g></symbol>'});a.a.add(c);t.default=c},3285:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-hr",use:"ne-t-hr-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-hr"><g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="17" y="116" width="223" height="24" rx="12" /></g></symbol>'});a.a.add(c);t.default=c},3286:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-searchreplace",use:"ne-t-searchreplace-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-searchreplace"><g fill="currentColor" fill-rule="evenodd"><g fill-rule="nonzero"><path d="M191.527 15c18.302 0 33.173 14.688 33.469 32.919l.004.554v65.424c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72l-.004-.28V48.473c0-7.338-5.865-13.305-13.163-13.47l-.31-.003H64.473c-7.338 0-13.305 5.865-13.47 13.163l-.003.31v159.054c0 7.338 5.865 13.305 13.163 13.47l.31.003H99c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L99 241H64.473c-18.302 0-33.173-14.688-33.469-32.919l-.004-.554V48.473C31 30.17 45.688 15.3 63.919 15.004l.554-.004h127.054Z" /><path d="M147.385 150.885c-17.964 17.964-17.964 47.09 0 65.054s47.09 17.964 65.054 0c17.964-17.965 17.964-47.09 0-65.054-17.965-17.964-47.09-17.964-65.054 0Zm14.142 14.142c10.154-10.154 26.616-10.154 36.77 0 10.153 10.154 10.153 26.616 0 36.77-10.154 10.153-26.616 10.153-36.77 0-10.154-10.154-10.154-26.616 0-36.77Z" /><path d="M234.545 241.752c-3.839 3.84-10.023 3.904-13.941.196l-.2-.196-21.921-21.92c-3.905-3.905-3.905-10.237 0-14.142 3.839-3.84 10.023-3.904 13.941-.195l.2.195 21.921 21.92c3.905 3.905 3.905 10.237 0 14.142Z" /></g><path d="M92 71h72c5.523 0 10 4.477 10 10s-4.477 10-10 10H92c-5.523 0-10-4.477-10-10s4.477-10 10-10ZM92 125h26c5.523 0 10 4.477 10 10s-4.477 10-10 10H92c-5.523 0-10-4.477-10-10s4.477-10 10-10Z" /></g></symbol>'});a.a.add(c);t.default=c},3287:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-translate",use:"ne-t-translate-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-translate"><g fill="none" fill-rule="evenodd"><g fill="currentColor" fill-rule="nonzero"><path d="M165.519 117.82c2.543-7.63 10.79-11.752 18.42-9.21a14.562 14.562 0 0 1 9.087 8.86l.122.35 34.005 102.018c1.747 5.24-1.085 10.902-6.324 12.649-5.15 1.716-10.708-.989-12.555-6.056l-.094-.269-28.847-86.541-28.846 86.541c-1.717 5.15-7.216 7.973-12.378 6.411l-.271-.086c-5.15-1.717-7.973-7.216-6.411-12.378l.086-.271L165.52 117.82Z" /><path d="M204.198 175.185c5.523 0 10 4.477 10 10 0 5.429-4.326 9.848-9.72 9.996l-.28.004h-49.73c-5.522 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996l.28-.004h49.73Z" /></g><g fill="currentColor"><path d="M124 42H37c-5.523 0-10 4.477-10 10v44c0 5.523 4.477 10 10 10h87c5.523 0 10-4.477 10-10V52c0-5.523-4.477-10-10-10Zm-10 20v24H47V62h67Z" fill-rule="nonzero" /><path d="M80 14h1c5.523 0 10 4.477 10 10v112c0 5.523-4.477 10-10 10h-1c-5.523 0-10-4.477-10-10V24c0-5.523 4.477-10 10-10Z" /></g><path d="M193 25c18.59 0 33.695 14.92 33.995 33.438L227 59v27c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72L207 86V59c0-7.628-6.1-13.83-13.687-13.997L193 45h-27c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L166 25h27ZM37 154c5.43 0 9.848 4.327 9.996 9.72L47 164v27c0 7.627 6.1 13.83 13.687 13.997L61 205h27c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L88 225H61c-18.59 0-33.695-14.92-33.995-33.438L27 191v-27c0-5.523 4.477-10 10-10Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3288:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-toc",use:"ne-t-toc-usage",viewBox:"0 0 210 204",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 210 204" id="ne-t-toc"><g fill="currentColor" fill-rule="evenodd"><path d="M41.4 24a8 8 0 0 1 .25 15.996L41.4 40H16v144h75.4a8 8 0 0 1 .25 15.996l-.25.004H16C7.269 200 .17 193.006.003 184.315L0 184V40c0-8.731 6.994-15.83 15.685-15.997L16 24h25.4Z" fill-rule="nonzero" /><path d="M85 20h113c6.627 0 12 5.373 12 12s-5.373 12-12 12H85c-6.627 0-12-5.373-12-12s5.373-12 12-12ZM121 100h77c6.627 0 12 5.373 12 12s-5.373 12-12 12h-77c-6.627 0-12-5.373-12-12s5.373-12 12-12ZM143 180h55c6.627 0 12 5.373 12 12s-5.373 12-12 12h-55c-6.627 0-12-5.373-12-12s5.373-12 12-12ZM16 104h57a8 8 0 1 1 0 16H16a8 8 0 1 1 0-16Z" /></g></symbol>'});a.a.add(c);t.default=c},3289:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-material-library",use:"ne-t-material-library-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-material-library"><g fill="currentColor" fill-rule="evenodd"><path d="M186 16H70c-16.569 0-30 13.431-30 30v164c0 16.569 13.431 30 30 30h116c16.569 0 30-13.431 30-30V46c0-16.569-13.431-30-30-30ZM70 36h116c5.523 0 10 4.477 10 10v164c0 5.523-4.477 10-10 10H70c-5.523 0-10-4.477-10-10V46c0-5.523 4.477-10 10-10Z" fill-rule="nonzero" /><path d="M91.782 157H50c-5.523 0-10 4.477-10 10v43.169c0 16.568 13.431 30 30 30h116c16.569 0 30-13.432 30-30V167c0-5.523-4.477-10-10-10h-41.782a10 10 0 0 0-9.05 5.745A30 30 0 0 1 128 180a30 30 0 0 1-27.168-17.255 10 10 0 0 0-9.05-5.745Zm78.308 20H196v33.169c0 5.522-4.477 10-10 10H70l-.28-.004c-5.393-.149-9.72-4.567-9.72-9.996V177h25.909l.16.247C95.145 191.212 110.778 200 128 200l.586-.003c16.989-.197 32.37-8.944 41.346-22.75l.158-.247Z" fill-rule="nonzero" /><rect x="83" y="66" width="90" height="20" rx="10" /><rect x="83" y="110" width="90" height="20" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3290:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-table-merge-cell",use:"ne-t-table-merge-cell-usage",viewBox:"0 0 204 204",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 204 204" id="ne-t-table-merge-cell"><g fill="currentColor" fill-rule="nonzero"><path d="M58.5.5c14.763 0 26.758 11.848 26.996 26.554l.004.446V45a9.5 9.5 0 0 1-18.996.27L66.5 45V27.5a8 8 0 0 0-7.75-7.996l-.25-.004H34c-7.903 0-14.329 6.322-14.497 14.185L19.5 34v136c0 7.903 6.322 14.329 14.185 14.497l.315.003h25a7.5 7.5 0 0 0 7.496-7.257L66.5 177v-17a9.5 9.5 0 0 1 18.996-.27l.004.27v17c0 14.49-11.628 26.262-26.062 26.496L59 203.5H34C15.683 203.5.8 188.8.504 170.554L.5 170V34C.5 15.683 15.2.8 33.446.504L34 .5h24.5Z" /><path d="M71 92.5a9.5 9.5 0 0 1 .27 18.996l-.27.004H15a9.5 9.5 0 0 1-.27-18.996L15 92.5h56Z" /><path d="M81.047 94.482c4.7 5.64 4.022 13.979-1.468 18.79l-.26.223-22.713 18.927a9.5 9.5 0 0 1-12.384-14.407l.22-.19 17.642-14.701-17.642-14.702a9.5 9.5 0 0 1-1.399-13.154l.183-.226a9.5 9.5 0 0 1 13.154-1.399l.226.183 22.712 18.927a13.5 13.5 0 0 1 1.729 1.729ZM145.5.5c-14.763 0-26.758 11.848-26.996 26.554l-.004.446V45a9.5 9.5 0 0 0 18.996.27l.004-.27V27.5a8 8 0 0 1 7.75-7.996l.25-.004H170c7.903 0 14.329 6.322 14.497 14.185l.003.315v136c0 7.903-6.322 14.329-14.185 14.497l-.315.003h-25a7.5 7.5 0 0 1-7.496-7.257L137.5 177v-17a9.5 9.5 0 0 0-18.996-.27l-.004.27v17c0 14.49 11.628 26.262 26.062 26.496l.438.004h25c18.317 0 33.2-14.7 33.496-32.946l.004-.554V34c0-18.317-14.7-33.2-32.946-33.496L170 .5h-24.5Z" /><path d="M133 92.5a9.5 9.5 0 0 0-.27 18.996l.27.004h56a9.5 9.5 0 0 0 .27-18.996L189 92.5h-56Z" /><path d="M123.553 94.482c-4.7 5.64-4.022 13.979 1.468 18.79l.26.223 22.713 18.927a9.5 9.5 0 0 0 12.384-14.407l-.22-.19-17.642-14.701 17.642-14.702a9.5 9.5 0 0 0 1.399-13.154l-.183-.226a9.5 9.5 0 0 0-13.154-1.399l-.226.183-22.712 18.927a13.5 13.5 0 0 0-1.729 1.729Z" /></g></symbol>'});a.a.add(c);t.default=c},3291:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-heading1",use:"ne-t-heading1-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-heading1"><g fill="currentColor" fill-rule="nonzero"><path d="M149.4 221.64c3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28V48.48c0-2.947-.867-5.373-2.6-7.28s-4.333-2.86-7.8-2.86c-3.813 0-6.457.91-7.93 2.73-1.473 1.82-2.21 4.29-2.21 7.41v70.2H43.84v-70.2c0-2.947-.823-5.373-2.47-7.28-1.647-1.907-4.203-2.86-7.67-2.86-3.467 0-6.067.953-7.8 2.86-1.733 1.907-2.6 4.333-2.6 7.28v162.76c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99 3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28v-74.88H139v74.88c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99ZM204.965 130.628l-.317-.003H196c-2.05 0-3.749.578-4.946 1.85-1.202 1.276-1.679 3.156-1.679 5.65 0 2.529.42 4.331 1.607 5.518 1.07 1.07 2.57 1.55 4.419 1.602l.314.005h3.16v70.375c0 4.232 2.828 6.625 7.375 6.625 4.343 0 7.108-2.268 7.245-6.308l.005-.275v-77.542c0-4.75-3.222-7.398-8.535-7.497Z" /></g></symbol>'});a.a.add(c);t.default=c},3292:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-heading2",use:"ne-t-heading2-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-heading2"><g fill="currentColor" fill-rule="nonzero"><path d="M149.4 221.64c3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28V48.48c0-2.947-.867-5.373-2.6-7.28s-4.333-2.86-7.8-2.86c-3.813 0-6.457.91-7.93 2.73-1.473 1.82-2.21 4.29-2.21 7.41v70.2H43.84v-70.2c0-2.947-.823-5.373-2.47-7.28-1.647-1.907-4.203-2.86-7.67-2.86-3.467 0-6.067.953-7.8 2.86-1.733 1.907-2.6 4.333-2.6 7.28v162.76c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99 3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28v-74.88H139v74.88c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99ZM209.52 132.46c-8.603 0-15.186 2.53-19.545 7.661-4.256 5.01-6.355 11.723-6.355 20.039 0 2.782.426 4.778 1.548 6.11 1.23 1.461 3.205 2.03 5.872 2.03 2.462 0 4.41-.703 5.638-2.291 1.025-1.327 1.492-3.144 1.538-5.459l.004-.39c0-4.33.912-7.785 2.692-10.42 1.584-2.347 4.114-3.52 7.888-3.52 3.306 0 5.775 1.032 7.602 3.11 1.894 2.156 2.858 5.047 2.858 8.79 0 2.878-.578 5.788-1.745 8.741-1.215 3.076-2.794 6.082-4.74 9.019a81.6 81.6 0 0 1-6.636 8.674 187.154 187.154 0 0 1-7.46 8.052l-1.653 1.67c-.272.274-.543.546-.813.815l-1.599 1.59c-.263.26-.525.52-.786.775l-1.545 1.51-1.66 1.608-1.277 1.25-.8.795-1.125 1.131-1.034 1.06-.82.857-.136.223-.18.303c-.58 1.012-.948 2.038-1.088 3.073l-.031.279-.072.153c-.52 1.14-.811 2.298-.858 3.462-.054 1.35.144 2.594.614 3.71a6.924 6.924 0 0 0 2.244 2.89 5.997 5.997 0 0 0 3.27 1.208l.314.01 40.276.002c4.15 0 6.58-2.644 6.58-6.94 0-4.097-2.3-6.684-6.254-6.815l-.285-.005-26.561-.001.342-.311c4.473-4.129 8.59-8.366 12.349-12.713a115.137 115.137 0 0 0 6.496-8.211 85.853 85.853 0 0 0 5.747-9.085 55.845 55.845 0 0 0 4.144-9.547c1.08-3.325 1.622-6.645 1.622-9.952 0-3.63-.523-6.967-1.579-10.001-1.076-3.094-2.683-5.765-4.817-7.99-2.137-2.227-4.763-3.948-7.853-5.157-3.064-1.2-6.512-1.792-10.331-1.792Z" /></g></symbol>'});a.a.add(c);t.default=c},3293:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-heading3",use:"ne-t-heading3-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-heading3"><g fill="currentColor" fill-rule="nonzero"><path d="M149.4 221.64c3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28V48.48c0-2.947-.867-5.373-2.6-7.28s-4.333-2.86-7.8-2.86c-3.813 0-6.457.91-7.93 2.73-1.473 1.82-2.21 4.29-2.21 7.41v70.2H43.84v-70.2c0-2.947-.823-5.373-2.47-7.28-1.647-1.907-4.203-2.86-7.67-2.86-3.467 0-6.067.953-7.8 2.86-1.733 1.907-2.6 4.333-2.6 7.28v162.76c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99 3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28v-74.88H139v74.88c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99ZM204 129c-3.444 0-6.663.525-9.646 1.58-2.997 1.061-5.663 2.591-7.984 4.587-2.372 2.04-4.22 4.576-5.535 7.581-1.311 2.997-1.96 6.378-1.96 10.127 0 2.26.546 4.185 1.697 5.7 1.258 1.656 3.011 2.55 5.053 2.55 2.36 0 4.303-.757 5.615-2.345 1.129-1.367 1.695-3.114 1.755-5.165l.005-.365c0-3.534.992-6.206 2.955-8.17 1.973-1.973 4.52-2.955 7.795-2.955 3.154 0 5.775.953 7.979 2.881 2.086 1.826 3.146 4.509 3.146 8.244 0 1.637-.359 3.242-1.087 4.837a14.69 14.69 0 0 1-2.993 4.333c-1.25 1.25-2.719 2.27-4.417 3.066a11.9 11.9 0 0 1-4.714 1.132l-.414.007c-3.663 0-6.297 1.428-7.213 4.34l-.167.568c-.436 1.574-.43 3.104.113 4.479l.039.092-.05-.167c.507 1.779 1.579 3.185 3.143 4.097 1.39.811 2.95 1.216 4.635 1.216 2.371 0 4.637.286 6.801.855 2.088.55 3.938 1.402 5.563 2.557 1.56 1.11 2.804 2.527 3.749 4.276.918 1.7 1.387 3.75 1.387 6.187 0 1.934-.336 3.72-1.005 5.376-.663 1.639-1.593 3.034-2.8 4.206-1.213 1.178-2.677 2.102-4.411 2.775-1.743.675-3.708 1.018-5.909 1.018-2.542 0-4.676-.347-6.409-1.018-1.729-.67-3.12-1.547-4.198-2.625-1.122-1.122-1.967-2.329-2.548-3.628a11.068 11.068 0 0 1-.945-3.574l-.036-.517c-.232-2.433-1.195-4.36-2.941-5.568-1.476-1.022-2.998-1.57-4.548-1.57-2.163 0-4.01.855-5.327 2.5-1.162 1.453-1.805 3.178-1.919 5.103l-.004.147c0 2.484.537 5.148 1.594 7.995 1.074 2.896 2.749 5.571 5.008 8.015 2.28 2.467 5.204 4.493 8.75 6.083 3.595 1.614 7.856 2.407 12.773 2.407 4.275 0 8.203-.628 11.773-1.894 3.607-1.278 6.737-3.142 9.367-5.588 2.63-2.446 4.685-5.378 6.155-8.776 1.474-3.41 2.205-7.246 2.205-11.492 0-3.624-.708-6.881-2.139-9.743-1.397-2.795-3.229-5.166-5.487-7.095a27.155 27.155 0 0 0-7.293-4.472l-.65-.262-.65-.247-.114-.041.282-.185a28.64 28.64 0 0 0 5.614-4.927c1.72-1.953 3.113-4.18 4.175-6.673 1.096-2.575 1.637-5.49 1.637-8.73 0-3.942-.7-7.395-2.125-10.339-1.409-2.913-3.308-5.334-5.688-7.238-2.337-1.87-5.038-3.267-8.087-4.19-2.988-.906-6.107-1.358-9.35-1.358Z" /></g></symbol>'});a.a.add(c);t.default=c},3294:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-heading4",use:"ne-t-heading4-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-heading4"><g fill="currentColor" fill-rule="nonzero"><path d="M149.4 221.64c3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28V48.48c0-2.947-.867-5.373-2.6-7.28s-4.333-2.86-7.8-2.86c-3.813 0-6.457.91-7.93 2.73-1.473 1.82-2.21 4.29-2.21 7.41v70.2H43.84v-70.2c0-2.947-.823-5.373-2.47-7.28-1.647-1.907-4.203-2.86-7.67-2.86-3.467 0-6.067.953-7.8 2.86-1.733 1.907-2.6 4.333-2.6 7.28v162.76c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99 3.467-.173 6.023-1.213 7.67-3.12 1.647-1.907 2.47-4.333 2.47-7.28v-74.88H139v74.88c0 2.947.867 5.417 2.6 7.41 1.733 1.993 4.333 2.99 7.8 2.99ZM218.5 127c2.475 0 4.478.949 5.678 2.855.989 1.57 1.413 3.963 1.445 7.342l.002.428-.001 48.875h3.3l.26.006c3.703.149 5.691 2.865 5.691 6.994 0 4.17-2.037 6.88-5.75 6.996l-.25.004h-3.251v13.03l-.003.32c-.053 2.165-.603 3.833-1.92 4.903-1.23 1-3.006 1.372-5.451 1.372-2.41 0-4.222-.453-5.46-1.614-1.191-1.116-1.735-2.715-1.786-4.695L211 213.5l-.001-13h-32.532l-.32-.005c-3.825-.102-6.476-1.969-7.286-5.35l-.06-.263-.026-.153c-.218-1.53-.064-3.23.432-5.115.465-1.767 1.437-3.8 2.91-6.15l.283-.445 27.108-41.973.322-.514c2.325-3.67 4.557-6.5 6.727-8.497 2.271-2.09 5.182-3.675 8.707-4.773l.534-.161.344-.101h.358Zm-7.501 24.034L188.654 186.5h22.345v-35.466Z" /></g></symbol>'});a.a.add(c);t.default=c},3295:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-fullscreen",use:"ne-t-fullscreen-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-fullscreen"><path d="M50 116c5.43 0 9.848 4.327 9.996 9.72L60 126v63.158c0 3.7 2.937 6.714 6.607 6.838l.235.004H130c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L130 216H66.842c-14.676 0-26.601-11.778-26.838-26.398l-.004-.444V126c0-5.523 4.477-10 10-10Zm139.658-75.5c14.676 0 26.601 11.778 26.838 26.398l.004.444V130.5c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72l-.004-.28V67.342c0-3.7-2.937-6.714-6.607-6.838l-.235-.004H126.5c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996l.28-.004h63.158Z" fill="#262626" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3296:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-exit-fullscreen",use:"ne-t-exit-fullscreen-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-exit-fullscreen"><path d="M89.158 140c14.676 0 26.601 11.778 26.838 26.398l.004.444V230c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72L96 230v-63.158c0-3.7-2.937-6.714-6.607-6.838l-.235-.004H26c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L26 140h63.158ZM149.5 16.5c5.43 0 9.848 4.327 9.996 9.72l.004.28v63.158c0 3.7 2.937 6.714 6.607 6.838l.235.004H229.5c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996l-.28.004h-63.158c-14.676 0-26.601-11.778-26.838-26.398l-.004-.444V26.5c0-5.523 4.477-10 10-10Z" fill="#262626" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3297:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-border-visible",use:"ne-t-border-visible-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-border-visible"><path d="M228 71.426V196c0 17.673-14.327 32-32 32H71.426l20-20H118v-26.574l20-20V208h58c6.525 0 11.834-5.209 11.996-11.695L208 196v-58h-46.574l20-20H208V91.426l20-20Zm-2.929-39.497c3.834 3.834 3.904 10.007.21 13.927l-.21.215-179 179c-3.905 3.905-10.237 3.905-14.142 0-3.834-3.834-3.904-10.007-.21-13.927l.21-.215 179-179c3.905-3.905 10.237-3.905 14.142 0ZM186.573 28l-20 20H138v28.573l-20 20V48H60c-6.525 0-11.834 5.209-11.996 11.695L48 60v58h48.573l-20 20H48v28.573l-20 20V60c0-17.673 14.327-32 32-32h126.573Z" fill="currentColor" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3298:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-vertical-align",use:"ne-t-vertical-align-usage",viewBox:"0 0 14 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16" id="ne-t-vertical-align"><path d="M6.37 10.267a.984.984 0 0 1 1.37.108l.016.018 1.331 1.597.06.085a.703.703 0 0 1-1.127.831l-.013-.016-.304-.363v2.805a.703.703 0 0 1-1.406-.02l-.001-2.784-.303.362-.078.08a.703.703 0 0 1-.896.024l-.016-.013-.08-.079a.703.703 0 0 1-.023-.896l.013-.016 1.33-1.597.06-.066Zm6.817-2.97a.703.703 0 0 1 .02 1.406H.812a.703.703 0 0 1-.02-1.406h12.396ZM7-.016c.382 0 .692.305.703.684v2.805l.304-.363.013-.016a.703.703 0 0 1 1.128.831l-.061.085-1.33 1.597-.017.018c-.35.401-.959.45-1.37.108l-.066-.06-.06-.066L4.913 4.01 4.9 3.994a.703.703 0 0 1 .023-.896l.08-.079.016-.013a.703.703 0 0 1 .896.023l.078.08.303.363V.688c0-.389.316-.704.704-.704Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3299:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-bottom-align",use:"ne-t-bottom-align-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-bottom-align"><path d="M216 208c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L216 228H40c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L40 208h176ZM128 28c5.43 0 9.848 4.326 9.996 9.72L138 38v115.98l4.318-5.18.192-.224c3.568-4.038 9.725-4.53 13.892-1.057 4.167 3.473 4.794 9.617 1.466 13.855l-.186.23-18.927 22.712-.228.266c-4.989 5.697-13.64 6.401-19.49 1.526a14 14 0 0 1-1.46-1.408l-.332-.384-18.927-22.713-.186-.229a10 10 0 0 1 1.242-13.663l.224-.192.23-.185a10 10 0 0 1 13.662 1.242l.192.224 4.318 5.18V38c0-5.523 4.477-10 10-10Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3300:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-top-align",use:"ne-t-top-align-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-top-align"><path d="M119.037 70.245c5.85-4.875 14.501-4.17 19.49 1.526l.228.267 18.927 22.712.186.23c3.328 4.237 2.7 10.382-1.466 13.854-4.167 3.473-10.324 2.982-13.892-1.056l-.192-.224-4.318-5.181v115.98l-.004.28c-.148 5.394-4.567 9.72-9.996 9.72-5.523 0-10-4.477-10-10v-115.98l-4.318 5.18-.192.225a10 10 0 0 1-13.663 1.242l-.229-.186-.224-.192a10 10 0 0 1-1.242-13.663l.186-.229 18.927-22.712.332-.385a14 14 0 0 1 1.46-1.408ZM216 28c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L216 48H40c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L40 28h176Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3301:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-moremark",use:"ne-t-moremark-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-moremark"><g fill="#262626" fill-rule="evenodd"><path d="M54 41h136c5.523 0 10 4.477 10 10s-4.477 10-10 10H54c-5.523 0-10-4.477-10-10s4.477-10 10-10Z" /><path d="M112 52h20v166c0 5.523-4.477 10-10 10s-10-4.477-10-10V52Z" /><path d="M229 9c-12.15 0-22 9.85-22 22s9.85 22 22 22 22-9.85 22-22-9.85-22-22-22Zm0 14a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM200.694 185.79c5.147 5.147 5.22 13.447.218 18.683l-.218.223-20.246 20.245c-3.905 3.905-10.236 3.905-14.142 0-3.839-3.839-3.904-10.023-.195-13.941l.195-.201 15.557-15.557-15.557-15.556c-3.839-3.839-3.904-10.023-.195-13.941l.195-.2c3.84-3.84 10.023-3.905 13.942-.196l.2.195 20.246 20.246ZM43.31 185.79c-5.146 5.147-5.219 13.447-.217 18.683l.218.223 20.245 20.245c3.906 3.905 10.237 3.905 14.142 0 3.84-3.839 3.905-10.023.196-13.941l-.196-.201-15.556-15.557 15.556-15.556c3.84-3.839 3.905-10.023.196-13.941l-.196-.2c-3.839-3.84-10.022-3.905-13.941-.196l-.2.195L43.31 185.79Z" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3302:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-style",use:"ne-t-image-style-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-image-style"><path d="M224 58c5.43 0 9.848 4.327 9.996 9.72L234 68v136c0 16.403-13.164 29.731-29.504 29.996L204 234H68c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L68 214h136c5.43 0 9.848-4.327 9.996-9.72L214 204V68c0-5.523 4.477-10 10-10Zm-58-36c16.569 0 30 13.431 30 30v114c0 16.569-13.431 30-30 30H52c-16.569 0-30-13.431-30-30V52c0-16.569 13.431-30 30-30Zm-35.875 83.554-37.298 49.71c-3.795 5.057-11.247 5.351-15.436.682l-.2-.23-17.608-20.835L42 155.296V166c0 5.43 4.327 9.848 9.72 9.996L52 176h114c5.523 0 10-4.477 10-10v-.529l-45.875-59.917ZM166 42H52c-5.523 0-10 4.477-10 10v72.648l10.078-11.7c3.947-4.583 11.004-4.627 15.013-.16l.202.231 17.07 20.199 37.684-50.22c3.915-5.217 11.668-5.335 15.75-.316l.189.239L176 132.57V52c0-5.43-4.327-9.848-9.72-9.996L166 42ZM81.825 61c7.732 0 14 6.268 14 14s-6.268 14-14 14-14-6.268-14-14 6.268-14 14-14Z" fill="#262626" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3303:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-rotation",use:"ne-t-image-rotation-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-image-rotation"><g fill="none" fill-rule="evenodd"><rect stroke="#262626" stroke-width="20" x="26.127" y="102" width="163.38" height="116" rx="20" /><path d="M124.295 69.037 95.058 45.322a3 3 0 0 1 0-4.66l29.237-23.715a3 3 0 0 1 4.89 2.33v47.43a3 3 0 0 1-4.89 2.33Z" fill="#262626" /><path d="M127.5 43.003c13.398 0 42.885-2.143 65.723 9.607C216.062 64.36 228 88.605 229.4 109.001" stroke="#262626" stroke-width="20" stroke-linecap="round" stroke-linejoin="round" /></g></symbol>'});a.a.add(c);t.default=c},3304:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-title",use:"ne-t-image-title-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-image-title"><g fill="none" fill-rule="evenodd"><rect stroke="#262626" stroke-width="20" x="38" y="38" width="180" height="84" rx="20" /><rect fill="#262626" x="28" y="158" width="200" height="20" rx="10" /><rect fill="#262626" x="28" y="208" width="120" height="20" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3305:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-crop",use:"ne-t-image-crop-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-t-image-crop"><g fill="#262626" fill-rule="nonzero"><path d="M72.74 20c5.832 0 10.578 4.735 10.737 10.637l.004.306V161.17c0 5.941 4.648 10.777 10.44 10.939l.301.004H225.26c5.932 0 10.741 4.9 10.741 10.944 0 5.941-4.647 10.777-10.44 10.939l-.3.004H94.221c-17.618 0-31.933-14.406-32.218-32.287L62 161.17V30.943C62 24.9 66.809 20 72.74 20Z" /><path d="M183.39 237c-5.76 0-10.448-4.676-10.605-10.505l-.005-.302V95.423c0-5.868-4.59-10.644-10.312-10.804l-.297-.004H30.61c-5.86 0-10.61-4.839-10.61-10.808 0-5.867 4.59-10.643 10.313-10.803L30.61 63h131.56c17.404 0 31.545 14.227 31.826 31.886l.004.536v130.77c0 5.97-4.75 10.808-10.61 10.808Z" /></g></symbol>'});a.a.add(c);t.default=c},3306:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-reset",use:"ne-t-image-reset-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="ne-t-image-reset"><g fill="none" fill-rule="evenodd"><path d="M2.28 9.778a5.5 5.5 0 1 0-.26-5.057" stroke="#262626" stroke-width="1.25" stroke-linecap="round" /><path d="m.976 2.43.114 2.413a.625.625 0 0 0 .73.586l2.304-.398a.375.375 0 0 0 .176-.658l-2.71-2.25a.375.375 0 0 0-.614.307Z" fill="#262626" /></g></symbol>'});a.a.add(c);t.default=c},3307:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-cancel",use:"ne-t-image-cancel-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-t-image-cancel"><g fill="#262626" fill-rule="evenodd"><rect transform="rotate(45 8.028 8.034)" x="7.403" y="-.278" width="1.25" height="16.625" rx=".625" /><rect transform="scale(-1 1) rotate(45 0 -11.348)" x="7.403" y="-.278" width="1.25" height="16.625" rx=".625" /></g></symbol>'});a.a.add(c);t.default=c},3308:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-t-image-confirm",use:"ne-t-image-confirm-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-t-image-confirm"><path d="M13.828 3.387a.688.688 0 0 1 1.041.891l-.072.085-8.323 8.25a.688.688 0 0 1-.883.072l-.085-.072L1.204 8.35a.687.687 0 0 1 .882-1.05l.085.072 3.818 3.783 7.84-7.77-.001.002Z" fill="#000" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3309:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-o-visit-link",use:"ne-o-visit-link-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-o-visit-link"><g fill="currentColor" fill-rule="evenodd"><rect transform="rotate(45 150.929 105.071)" x="140.929" y="20.071" width="20" height="170" rx="10" /><path d="M83.705 28c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996l-.28.004H58c-5.43 0-9.848 4.327-9.996 9.72L48 58v140c0 5.43 4.327 9.848 9.72 9.996L58 208h140c5.43 0 9.848-4.327 9.996-9.72L208 198v-22.997c0-5.522 4.477-10 10-10 5.43 0 9.848 4.327 9.996 9.72l.004.28V198c0 16.403-13.164 29.731-29.504 29.996L198 228H58c-16.403 0-29.731-13.164-29.996-29.504L28 198V58c0-16.403 13.164-29.731 29.504-29.996L58 28h25.705ZM198.047 28c16.403 0 29.732 13.164 29.996 29.504l.004.496v50c0 5.523-4.477 10-10 10-5.429 0-9.847-4.327-9.996-9.72l-.004-.28V58c0-5.43-4.326-9.848-9.72-9.996l-.28-.004h-50c-5.522 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996l.28-.004h50Z" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3310:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-o-edit",use:"ne-o-edit-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-o-edit"><path d="M165.426 35.669c10.228-10.225 26.795-10.225 37.012 0l16.94 16.946c9.525 9.512 10.25 24.659 1.46 35.416l-1.45 1.588-120.87 120.819a22.064 22.064 0 0 1-10.12 5.783l-43.65 11.323a14.183 14.183 0 0 1-13.594-3.697 14.175 14.175 0 0 1-3.698-13.59l11.315-43.65a22.3 22.3 0 0 1 5.785-10.119L165.426 35.67ZM153.174 76.73 58.96 170.91a1.8 1.8 0 0 0-.469.82l-8.683 33.457 33.475-8.67.437-.182.384-.287 94.192-94.18-25.144-25.138h.022Zm34.85-26.66a5.797 5.797 0 0 0-8.194 0l-12.54 12.536 25.144 25.138 12.188-12.164.757-.82a5.793 5.793 0 0 0-.405-7.744l-16.95-16.946Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3311:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-o-unlink",use:"ne-o-unlink-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-o-unlink"><g fill="none" fill-rule="evenodd"><path d="M155.639 173.9c3.839 3.84 3.904 10.023.195 13.942l-.195.2-30.783 30.783c-24.052 24.052-63.167 23.884-87.366-.315-23.957-23.957-24.362-62.533-1.03-86.64l.715-.726 30.783-30.783c3.905-3.905 10.237-3.905 14.142 0 3.839 3.84 3.904 10.023.195 13.942l-.195.2-30.783 30.783c-16.214 16.214-16.1 42.666.315 59.082 16.252 16.251 42.34 16.525 58.592.797l.49-.482 30.783-30.783c3.905-3.905 10.237-3.905 14.142 0Zm-31.882-27.516-27.12 27.12c-3.905 3.906-10.237 3.906-14.142 0-3.839-3.838-3.904-10.022-.195-13.94l.195-.201 27.12-27.121 14.142 14.142Zm49.248-63.389c3.839 3.84 3.904 10.023.195 13.942l-.195.2-35.106 35.105-14.142-14.142 35.106-35.105c3.905-3.905 10.237-3.905 14.142 0ZM218.51 37.49c23.957 23.957 24.362 62.533 1.03 86.64l-.715.726-30.783 30.783c-3.905 3.905-10.237 3.905-14.142 0-3.839-3.84-3.904-10.023-.195-13.942l.195-.2 30.783-30.783c16.214-16.214 16.1-42.666-.315-59.082-16.252-16.251-42.34-16.525-58.592-.797l-.49.482L114.503 82.1c-3.905 3.905-10.237 3.905-14.142 0-3.839-3.84-3.904-10.023-.195-13.942l.195-.2 30.783-30.783c24.052-24.052 63.167-23.884 87.366.315Z" fill="currentColor" fill-rule="nonzero" /><path d="M56.425 42.232c3.824-3.845 9.997-3.93 13.926-.246l.216.208L215.052 185.91c3.916 3.895 3.933 10.227.038 14.142-3.824 3.845-9.997 3.93-13.926.246l-.216-.208L56.463 56.374c-3.916-3.895-3.933-10.226-.038-14.142Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3312:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-o-card-drag",use:"ne-o-card-drag-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-o-card-drag"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path d="M6.25 13.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm7.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm-7.5-5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm7.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm-7.5-5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm7.5 0a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Z" fill="#595959" /></g></symbol>'});a.a.add(c);t.default=c},3313:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-c-tb-copy-link",use:"ne-c-tb-copy-link-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-c-tb-copy-link"><g fill="none" fill-rule="evenodd"><path d="M61.849 218h0H58c-11.046 0-20-8.954-20-20V46c0-11.046 8.954-20 20-20h140c11.046 0 20 8.954 20 20v7.59h0" stroke="currentColor" stroke-width="20" stroke-linecap="round" /><path d="m148.538 123.755 21.645-21.645c14.156-14.156 37.206-14.056 51.485.222 14.278 14.279 14.378 37.33.222 51.485l-21.645 21.645m-22.783 22.783-21.645 21.645c-14.156 14.156-37.206 14.056-51.485-.222-14.278-14.279-14.378-37.33-.222-51.485l21.645-21.645m63.917-12.21-53.696 53.696" stroke="currentColor" stroke-width="20" stroke-linecap="round" /></g></symbol>'});a.a.add(c);t.default=c},3314:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-c-tb-spacing",use:"ne-c-tb-spacing-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-c-tb-spacing"><g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="28" y="22" width="28" height="28" rx="8" /><rect fill="currentColor" x="28" y="206" width="28" height="28" rx="8" /><rect fill="currentColor" x="85" y="22" width="28" height="28" rx="8" /><rect fill="currentColor" x="85" y="206" width="28" height="28" rx="8" /><rect fill="currentColor" x="143" y="22" width="28" height="28" rx="8" /><rect fill="currentColor" x="143" y="206" width="28" height="28" rx="8" /><rect fill="currentColor" x="200" y="22" width="28" height="28" rx="8" /><rect fill="currentColor" x="200" y="206" width="28" height="28" rx="8" /><rect stroke="currentColor" stroke-width="20" x="38" y="78" width="180" height="100" rx="20" /></g></symbol>'});a.a.add(c);t.default=c},3315:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-c-tb-maximize",use:"ne-c-tb-maximize-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-c-tb-maximize"><g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke="currentColor" stroke-width="20"><path d="m148 108 63-62.646M46 211l60-60" /><path d="M148.058 38.354h50c11.046 0 20 8.954 20 20v50h0M108.058 218.354h-50c-11.046 0-20-8.955-20-20v-50h0" stroke-linejoin="round" /><path d="M217.574 154.21v44c0 11.045-8.955 20-20 20h-44 0M37.574 102.21v-44c0-11.046 8.954-20 20-20h44" /></g></symbol>'});a.a.add(c);t.default=c},3316:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-width-mode-unfold",use:"ne-width-mode-unfold-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-width-mode-unfold"><path d="M763.972 302.832c-11.216-19.032-4.88-43.556 14.152-54.768 18.7-11.02 42.696-5.096 54.168 13.16l.6.992L940.96 445.6a120 120 0 0 1 1.004 120.104l-1.004 1.744-108.068 183.384c-11.216 19.032-35.736 25.368-54.768 14.152-18.7-11.016-25.144-34.88-14.728-53.76l.576-1.008 108.064-183.384a40 40 0 0 0 .672-39.432l-.672-1.184-108.064-183.384zm-507.944 0c11.216-19.032 4.88-43.556-14.152-54.768-18.7-11.02-42.696-5.096-54.168 13.16l-.6.992L79.04 445.6a120 120 0 0 0-1.004 120.104l1.004 1.744 108.068 183.384c11.216 19.032 35.736 25.368 54.768 14.152 18.7-11.016 25.144-34.88 14.728-53.76l-.576-1.008-108.064-183.384a40 40 0 0 1-.672-39.432l.672-1.184 108.064-183.384z" fill="currentColor" /><path d="M464 512q0 40-40 40H160q-40 0-40-40t40-40h264q40 0 40 40ZM912 512q0 40-40 40H608q-40 0-40-40t40-40h264q40 0 40 40Z" fill="currentColor" /></symbol>'});a.a.add(c);t.default=c},3317:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-width-mode-fold",use:"ne-width-mode-fold-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-width-mode-fold"><path d="M271.972 302.832c-11.216-19.032-4.88-43.556 14.152-54.768 18.7-11.02 42.696-5.096 54.168 13.16l.6.992L448.96 445.6a120 120 0 0 1 1.004 120.104l-1.004 1.744-108.068 183.384c-11.216 19.032-35.736 25.368-54.768 14.152-18.7-11.016-25.144-34.88-14.728-53.76l.576-1.008 108.064-183.384a40 40 0 0 0 .672-39.432l-.672-1.184-108.064-183.384zm480.056 0c11.216-19.032 4.88-43.556-14.152-54.768-18.7-11.02-42.696-5.096-54.168 13.16l-.6.992L575.04 445.6a120 120 0 0 0-1.004 120.104l1.004 1.744 108.068 183.384c11.216 19.032 35.736 25.368 54.768 14.152 18.7-11.016 25.144-34.88 14.728-53.76l-.576-1.008-108.064-183.384a40 40 0 0 1-.672-39.432l.672-1.184 108.064-183.384z" fill="currentColor" /><path d="M412 512q0 40-40 40H108q-40 0-40-40t40-40h264q40 0 40 40ZM960 512q0 40-40 40H656q-40 0-40-40t40-40h264q40 0 40 40Z" fill="currentColor" /></symbol>'});a.a.add(c);t.default=c},3318:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-bookmark",use:"ne-card-tb-bookmark-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-card-tb-bookmark"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M14.875 12.375c.069 0 .125.056.125.125v.875a.125.125 0 0 1-.125.125H1.125A.125.125 0 0 1 1 13.375V12.5c0-.069.056-.125.125-.125h13.75Zm0-4.938c.069 0 .125.056.125.125v.875a.125.125 0 0 1-.125.126H8.594a.125.125 0 0 1-.125-.126v-.874c0-.07.056-.125.125-.125h6.281Zm0-4.937c.069 0 .125.056.125.125V3.5a.125.125 0 0 1-.125.125H1.125A.125.125 0 0 1 1 3.5v-.875c0-.069.056-.125.125-.125h13.75ZM6.406 5.188a.5.5 0 0 1 .5.5v4.625a.5.5 0 0 1-.5.5H1.5a.5.5 0 0 1-.5-.5V5.686a.5.5 0 0 1 .5-.5h4.906Zm-.75 1.125H2.25a.125.125 0 0 0-.125.125v3.125c0 .069.056.124.125.124h3.406a.125.125 0 0 0 .125-.124V6.437a.125.125 0 0 0-.125-.125Z" fill="currentColor" /></g></symbol>'});a.a.add(c);t.default=c},3319:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-card-view",use:"ne-card-tb-card-view-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-card-view"><g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="20" x="38" y="84" width="180" height="88" rx="20" /><rect fill="currentColor" x="28" y="28" width="200" height="20" rx="10" /><rect fill="currentColor" x="28" y="209" width="200" height="20" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3320:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-preview",use:"ne-card-tb-preview-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-preview"><g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="20"><path d="M26.875 121.27C47.122 74.064 80.664 50.461 127.5 50.461c46.752 0 80.455 23.188 101.11 69.564a20 20 0 0 1 .013 16.243c-20.653 46.585-54.36 69.878-101.123 69.878-46.775 0-80.29-22.976-100.545-68.927a20 20 0 0 1-.08-15.95Z" stroke-linejoin="round" /><circle cx="127.5" cy="127.5" r="34.5" /></g></symbol>'});a.a.add(c);t.default=c},3321:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-download",use:"ne-card-tb-download-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-download"><g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="28" y="209" width="200" height="20" rx="10" /><path d="m73 146 43.535 30.457a20 20 0 0 0 22.93 0L183 146h0" stroke="currentColor" stroke-width="20" stroke-linecap="round" /><rect fill="currentColor" x="118" y="28" width="20" height="150" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3322:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-more",use:"ne-card-tb-more-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="ne-card-tb-more"><path d="M0 512a74 74 0 1 0 148 0 74 74 0 1 0-148 0zm876 0a74 74 0 1 0 148 0 74 74 0 1 0-148 0zm-438 0a74 74 0 1 0 148 0 74 74 0 1 0-148 0z" /></symbol>'});a.a.add(c);t.default=c},3323:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-setting",use:"ne-card-tb-setting-usage",viewBox:"0 0 12 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 14" id="ne-card-tb-setting"><path d="m6.5.789 4.63 2.672a1 1 0 0 1 .5.866v5.346a1 1 0 0 1-.5.866L6.5 13.21a1 1 0 0 1-1 0L.87 10.54a1 1 0 0 1-.5-.866V4.327a1 1 0 0 1 .5-.866L5.5.79a1 1 0 0 1 1 0ZM6 1.799l-4.504 2.6V9.6L6 12.201l4.504-2.6V4.398L6 1.8ZM6 4.5a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm0 1.125a1.375 1.375 0 1 0 0 2.75 1.375 1.375 0 0 0 0-2.75Z" fill="currentColor" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3324:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-save-to-resource",use:"ne-card-tb-save-to-resource-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-save-to-resource"><g fill="none" fill-rule="evenodd"><path d="M44 39h37.148a12 12 0 0 1 8.34 3.372l21.86 21.132A16 16 0 0 0 122.47 68H212c6.627 0 12 5.373 12 12v126c0 6.627-5.373 12-12 12H44c-6.627 0-12-5.373-12-12V51c0-6.627 5.373-12 12-12Z" stroke="currentColor" stroke-width="20" stroke-linecap="round" stroke-linejoin="round" /><path d="m87.977 151.239 28.558 19.98a20 20 0 0 0 22.93 0l28.558-19.98h0" stroke="currentColor" stroke-width="20" stroke-linecap="round" /><rect fill="currentColor" x="118" y="100" width="20" height="78" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3325:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-title-view",use:"ne-card-tb-title-view-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-title-view"><g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="20" x="38" y="84" width="88" height="88" rx="20" /><rect fill="currentColor" x="28" y="28" width="200" height="20" rx="10" /><rect fill="currentColor" x="158" y="118" width="70" height="20" rx="10" /><rect fill="currentColor" x="28" y="209" width="200" height="20" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3326:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-share",use:"ne-card-tb-share-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-card-tb-share"><g fill="currentColor" fill-rule="nonzero"><path d="M14 14.583H2.02a.52.52 0 0 1-.52-.52V2.082a.52.52 0 0 1 .52-.52h5.86a.13.13 0 0 1 .13.13v.911a.13.13 0 0 1-.13.13H2.672v10.677h10.677V8.203a.13.13 0 0 1 .13-.13h.912a.13.13 0 0 1 .13.13v5.86a.52.52 0 0 1-.521.52Z" /><path d="m12.518 3.103-.85-.85a.13.13 0 0 1 .077-.221l2.92-.342a.13.13 0 0 1 .145.145l-.342 2.92a.13.13 0 0 1-.221.076l-.853-.853-4.76 4.76a.13.13 0 0 1-.183 0l-.69-.69a.13.13 0 0 1 0-.185l4.757-4.76Z" /></g></symbol>'});a.a.add(c);t.default=c},3327:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-embed-adaptive",use:"ne-card-tb-embed-adaptive-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-embed-adaptive"><g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="40" y="16" width="176" height="20" rx="10" /><rect fill="currentColor" x="40" y="220" width="176" height="20" rx="10" /><path d="m87.977 166.239 28.558 19.98a20 20 0 0 0 22.93 0l28.558-19.98h0M87.977 89.239l28.558-19.98a20 20 0 0 1 22.93 0l28.558 19.98h0" stroke="currentColor" stroke-width="20" stroke-linecap="round" /><rect fill="currentColor" x="118" y="66" width="20" height="129" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3328:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-tb-embed-default",use:"ne-card-tb-embed-default-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-tb-embed-default"><g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="28" y="118" width="200" height="20" rx="10" /><path d="m87.977 67.239 28.558 19.98a20 20 0 0 0 22.93 0l28.558-19.98h0M87.977 188.239l28.558-19.98a20 20 0 0 1 22.93 0l28.558 19.98h0" stroke="currentColor" stroke-width="20" stroke-linecap="round" /><rect fill="currentColor" x="118" y="16" width="20" height="78" rx="10" /><rect fill="currentColor" x="118" y="162" width="20" height="78" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3329:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-board",use:"ne-card-board-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-board"><g fill="currentColor" fill-rule="nonzero"><path d="M209.736 159h-29.472C169.073 159 160 168.073 160 179.264v29.472c0 11.191 9.073 20.264 20.264 20.264h29.472c11.191 0 20.264-9.073 20.264-20.264v-29.472c0-11.191-9.073-20.264-20.264-20.264Zm-29.472 20h29.472c.146 0 .264.118.264.264v29.472a.264.264 0 0 1-.264.264h-29.472a.264.264 0 0 1-.264-.264v-29.472c0-.146.118-.264.264-.264ZM76.736 31H47.264C36.073 31 27 40.073 27 51.264v29.472C27 91.927 36.073 101 47.264 101h29.472C87.927 101 97 91.927 97 80.736V51.264C97 40.073 87.927 31 76.736 31ZM47.264 51h29.472c.146 0 .264.118.264.264v29.472a.264.264 0 0 1-.264.264H47.264a.264.264 0 0 1-.264-.264V51.264c0-.146.118-.264.264-.264ZM63 157c-20.987 0-38 17.013-38 38s17.013 38 38 38 38-17.013 38-38-17.013-38-38-38Zm0 20c9.941 0 18 8.059 18 18s-8.059 18-18 18-18-8.059-18-18 8.059-18 18-18Z" /><path d="M166.874 184v16H92.2v-16h74.675ZM203 96.713v68.032h-16V96.713h16ZM70 90.727v69.61H54v-69.61h16ZM164.509 56v16H85.177V56h79.332Z" /><path d="m231.376 52.171-21.547-21.547c-7.914-7.913-20.744-7.913-28.658 0l-21.547 21.547c-7.913 7.914-7.913 20.744 0 28.658l21.547 21.547c7.914 7.913 20.744 7.913 28.658 0l21.547-21.547c7.913-7.914 7.913-20.744 0-28.658Zm-35.69-7.404 21.547 21.546a.264.264 0 0 1 0 .374l-21.546 21.546a.264.264 0 0 1-.374 0l-21.546-21.546a.264.264 0 0 1 0-.374l21.546-21.546a.264.264 0 0 1 .374 0Z" /></g></symbol>'});a.a.add(c);t.default=c},3330:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-blank-board",use:"ne-card-blank-board-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-blank-board"><g fill="currentColor" fill-rule="nonzero"><path d="M208.736 25h-49.472C148.073 25 139 34.073 139 45.264v49.472c0 11.191 9.073 20.264 20.264 20.264h49.472C219.927 115 229 105.927 229 94.736V45.264C229 34.073 219.927 25 208.736 25Zm-49.472 20h49.472c.146 0 .264.118.264.264v49.472a.264.264 0 0 1-.264.264h-49.472a.264.264 0 0 1-.264-.264V45.264c0-.146.118-.264.264-.264ZM229.775 171.426l-31.446-31.446c-7.914-7.914-20.744-7.914-28.658 0l-31.446 31.446c-7.914 7.914-7.914 20.744 0 28.658l31.446 31.446c7.914 7.914 20.744 7.914 28.658 0l31.446-31.446c7.914-7.914 7.914-20.744 0-28.658Zm-45.588-17.304 31.446 31.446a.264.264 0 0 1 0 .374l-31.446 31.446a.264.264 0 0 1-.374 0l-31.446-31.446a.264.264 0 0 1 0-.374l31.446-31.446a.264.264 0 0 1 .374 0ZM70 139c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48Zm0 20c15.464 0 28 12.536 28 28s-12.536 28-28 28-28-12.536-28-28 12.536-28 28-28ZM47.264 21.263C36.073 21.263 27 30.335 27 41.527v56.946c0 3.472.892 6.886 2.59 9.914 5.476 9.761 17.828 13.235 27.589 7.76l50.756-28.474a20.264 20.264 0 0 0 7.759-7.759c5.475-9.76 2.001-22.112-7.76-27.587L57.18 23.854a20.264 20.264 0 0 0-9.42-2.585l-.495-.006Zm0 20c.046 0 .09.011.13.034L98.15 69.769a.264.264 0 0 1 0 .462L47.394 98.703a.264.264 0 0 1-.394-.23V41.527c0-.125.087-.23.204-.257l.06-.007Z" /></g></symbol>'});a.a.add(c);t.default=c},3331:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-basic-draw",use:"ne-card-basic-draw-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-basic-draw"><g fill="none" fill-rule="evenodd"><rect stroke="#E8E8E8" fill="#FFF" x=".5" y=".5" width="23" height="23" rx="2" /><path d="M14 7a3 3 0 1 1 0 6 3 3 0 0 1 0-6Z" fill="#D6D6D6" /><path d="M7.449 9h4.102c.248 0 .449.2.449.449v4.102c0 .248-.2.449-.449.449H7.45A.449.449 0 0 1 7 13.551V9.45C7 9.2 7.2 9 7.449 9Z" fill="#ADAAAA" /><path d="m16.069 16.316-2.94-4.705a.449.449 0 0 0-.762 0l-2.94 4.705a.449.449 0 0 0 .38.686h5.881a.449.449 0 0 0 .38-.686Z" fill="#858585" /></g></symbol>'});a.a.add(c);t.default=c},3332:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-audio",use:"ne-card-audio-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-audio"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625Zm-2.266 7.327a.525.525 0 0 0-.524.525v5.175c0 .176 0 .483-.182.674a.652.652 0 0 1-.532.223h-.832c-.406 0-.834.181-1.071.418s-.406.505-.406.823c0 .367.14.665.42.895.28.231.633.346 1.057.346.56 0 1.28-.054 1.769-.37.488-.315.61-.924.61-1.355v-5.067a.525.525 0 0 1 .634-.513l1.264.267a.67.67 0 0 0 .809-.655c0-.48-.342-.89-.812-.98l-2.106-.397a.525.525 0 0 0-.098-.009Z" fill="#4E86E6" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#A9C6F3" /></g></symbol>'});a.a.add(c);t.default=c},3333:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-audio-a",use:"ne-card-audio-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-audio-a"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm-24.161 78.156a5.599 5.599 0 0 0-5.599 5.598v55.41c-.002 1.898-.06 5.015-1.936 6.979-1.946 2.036-3.677 2.384-5.67 2.384h-8.878c-4.327 0-8.897 1.928-11.427 4.455-2.53 2.528-4.329 5.388-4.329 8.782 0 3.909 1.494 7.09 4.482 9.546 2.988 2.46 6.747 3.69 11.274 3.69 5.976 0 13.66-.582 18.864-3.945 5.205-3.362 6.52-9.856 6.52-14.453v-54.048a5.599 5.599 0 0 1 6.758-5.478l13.479 2.854a7.144 7.144 0 0 0 8.623-6.99c0-5.111-3.638-9.5-8.661-10.448l-22.462-4.24a5.599 5.599 0 0 0-1.038-.096Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /></g></symbol>'});a.a.add(c);t.default=c},3334:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-image",use:"ne-card-image-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-image"><g fill="none" fill-rule="evenodd"><path d="M197 27c17.673 0 32 14.327 32 32v138c0 17.673-14.327 32-32 32H59c-17.673 0-32-14.327-32-32V59c0-17.673 14.327-32 32-32h138Zm0 20H59c-6.525 0-11.834 5.209-11.996 11.695L47 59v138c0 6.525 5.209 11.834 11.695 11.996L59 209h138c6.525 0 11.834-5.209 11.996-11.695L209 197V59c0-6.525-5.209-11.834-11.695-11.996L197 47Z" fill="currentColor" fill-rule="nonzero" /><g fill="currentColor"><path d="M64.982 134.434c5.322-7.419 15.65-9.118 23.07-3.796a16.532 16.532 0 0 1 3.504 3.401l.292.395 23.387 32.6c3.22 4.488 2.191 10.736-2.296 13.955-4.408 3.162-10.513 2.226-13.78-2.06l-.175-.236-20.569-28.672-32.29 45.01c-3.161 4.407-9.244 5.477-13.712 2.464l-.242-.168c-4.407-3.162-5.478-9.245-2.465-13.713l.169-.242 35.107-48.938Z" fill-rule="nonzero" /><path d="M143.577 105.01c5.33-7.412 15.66-9.101 23.074-3.771a16.532 16.532 0 0 1 3.48 3.38l.291.391 56.34 78.353c3.224 4.484 2.203 10.733-2.281 13.957-4.404 3.167-10.51 2.238-13.782-2.044l-.175-.237L157 120.602l-41.771 58.1c-3.167 4.403-9.25 5.467-13.715 2.45l-.242-.17c-4.404-3.166-5.468-9.25-2.45-13.714l.168-.242 44.587-62.015Z" fill-rule="nonzero" /><path d="M99.825 104c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14 6.268 14 14 14Z" /></g></g></symbol>'});a.a.add(c);t.default=c},3335:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-calendar",use:"ne-card-calendar-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-calendar"><g fill="currentColor" fill-rule="evenodd"><path d="M197 35c17.673 0 32 14.327 32 32v130c0 17.673-14.327 32-32 32H59c-17.673 0-32-14.327-32-32V67c0-17.673 14.327-32 32-32h138Zm0 20H59c-6.525 0-11.834 5.209-11.996 11.695L47 67v130c0 6.525 5.209 11.834 11.695 11.996L59 209h138c6.525 0 11.834-5.209 11.996-11.695L209 197V67c0-6.525-5.209-11.834-11.695-11.996L197 55Z" fill-rule="nonzero" /><path d="M47 90h162v20H47z" /><rect x="77" y="17" width="20" height="56" rx="10" /><rect x="160" y="17" width="20" height="56" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},3336:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-bilibili",use:"ne-card-bilibili-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-bilibili"><path d="M4 0h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4Zm7.421 6.675c-.456.116-.877.341-1.317.509.01.137.066.266.085.402.415 2.168.637 4.363.835 6.554.311.01.622.004.932-.038.758-.077 1.52-.256 2.178-.656.252-.156.496-.35.646-.611.094-.18.149-.421.016-.596-.156-.199-.386-.318-.61-.425a5.367 5.367 0 0 0-1.266-.384 3.895 3.895 0 0 0-1.287-.037c-.17-1.548-.28-3.108-.2-4.664l-.012-.054Zm-8.425-.001c-.16.016-.307.091-.457.15-.288.125-.574.246-.865.361.476 2.291.706 4.629.92 6.955.73.022 1.46-.07 2.162-.275a3.725 3.725 0 0 0 1.275-.655c.219-.191.428-.45.41-.756.004-.145-.102-.26-.206-.35a2.459 2.459 0 0 0-.635-.359c-.759-.291-1.587-.474-2.399-.354A33.212 33.212 0 0 1 2.98 7.28c-.001-.201.038-.406.016-.606Zm6.819 3.95c-.294-.09-.609-.039-.909-.018.083 1.038.185 2.073.284 3.108.225.006.45-.009.674-.014-.01-1.025.02-2.054-.049-3.075v-.001Zm8.43 0c-.294-.088-.61-.048-.91-.018.085 1.035.188 2.073.287 3.108.226.007.45-.013.678-.009-.025-1.026.016-2.056-.055-3.081Zm-11-.139c-.27-.051-.549.016-.816.065-.029.012-.095.004-.089.05.194 1.01.395 2.02.594 3.029.225-.038.456-.043.681-.078-.099-.886-.171-1.775-.294-2.657-.022-.138-.035-.275-.075-.409h-.001Zm8.434-.005c-.3-.046-.608.03-.9.095-.005.09.022.176.04.265.176.93.365 1.86.545 2.79.226-.038.456-.046.682-.076-.09-.878-.167-1.755-.286-2.629-.021-.149-.037-.3-.08-.445h-.001Zm-3.459 1.645c.296.074.579.191.865.3.13.055.271.095.391.174-.077.101-.19.17-.287.25-.26.196-.519.395-.789.576-.07-.363-.088-.734-.159-1.095a1.056 1.056 0 0 1-.021-.205Zm-8.43 0c.345.09.675.226 1.006.356.084.039.175.06.25.118a.84.84 0 0 1-.165.155c-.3.226-.6.452-.91.665-.066-.43-.132-.863-.182-1.294h.001ZM8.05 7.5l-.088.005a5.492 5.492 0 0 0-.65.08c.358 1.895.534 3.819.72 5.734.217.011.432.006.647.027-.178-1.937-.33-3.875-.458-5.816a.579.579 0 0 0-.257-.025L8.05 7.5Zm8.6.034c-.299-.064-.61.007-.906.051.36 1.894.532 3.819.72 5.734.215.011.43.006.645.027a240.29 240.29 0 0 1-.459-5.812ZM9.221 9.05c-.13-.02-.265.012-.396.012.019.388.06.776.081 1.164.105-.022.215-.005.318-.037.041-.379.005-.759 0-1.138L9.22 9.05Zm8.435-.004c-.132-.016-.267.009-.401.013l.084 1.166.311-.029c.054-.38.009-.766.006-1.15Zm-8.062-.012h-.22c.025.382.007.77.04 1.155.132.015.265.03.397.02a37.787 37.787 0 0 1 0-1.15 1.984 1.984 0 0 0-.437-.028l.22.003Zm8.21-.003c.026.388.006.778.045 1.164.131.004.262.025.392.012-.005-.382-.002-.766.003-1.15a2.037 2.037 0 0 0-.44-.024V9.03ZM6.48 8.981c-.13.003-.26.033-.39.053.06.386.143.771.21 1.157.108-.021.213-.051.319-.07 0-.382-.076-.762-.138-1.14Zm8.433 0c-.134.003-.263.033-.39.053.06.386.141.771.207 1.157.108-.021.21-.05.318-.07a7.13 7.13 0 0 0-.135-1.14ZM7.07 8.93a.86.86 0 0 0-.431-.004c.047.395.095.789.15 1.183.132-.018.266-.02.4-.028C7.16 9.7 7.11 9.315 7.07 8.93H7.07Zm8.387-.016c-.127-.01-.263-.025-.387.015.046.392.095.786.15 1.18.134-.018.266-.02.4-.028-.024-.351-.076-.701-.105-1.052-.009-.043.004-.115-.059-.114v-.001h.002Z" fill="#F9729A" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3337:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-bilibili-a",use:"ne-card-bilibili-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-bilibili-a"><path d="M195.586 33.055c2.51 2.5 3.919 5.89 3.919 9.424 0 3.535-1.41 6.925-3.919 9.424l-12.23 12.175h12.519a40.2 40.2 0 0 1 28.376 11.713A39.904 39.904 0 0 1 236 104.066v79.956c0 22.08-17.965 39.978-40.125 39.978H62.125C39.965 224 22 206.101 22 184.022v-79.956C22 81.987 39.965 64.09 62.125 64.09h12.476L62.392 51.914a13.294 13.294 0 0 1-3.65-12.958 13.35 13.35 0 0 1 9.55-9.52c4.675-1.221 9.648.167 13.007 3.63l28.377 28.272a13.17 13.17 0 0 1 2.118 2.74h34.38a13.01 13.01 0 0 1 2.129-2.75l28.365-28.273a13.4 13.4 0 0 1 9.46-3.904 13.4 13.4 0 0 1 9.458 3.904Zm.289 57.781H62.125c-7.003-.002-12.822 5.377-13.343 12.335l-.032 1.002v79.956c0 7.025 5.457 12.782 12.38 13.283l.995.043h133.75c7.003.002 12.822-5.377 13.343-12.335l.032-.991v-79.956c0-7.356-5.992-13.326-13.375-13.326v-.01Zm-107 26.652c7.383 0 13.375 5.97 13.375 13.326v13.326c0 7.36-5.988 13.326-13.375 13.326S75.5 151.5 75.5 144.14v-13.326c0-7.356 5.992-13.326 13.375-13.326Zm80.25 0c7.383 0 13.375 5.97 13.375 13.326v13.326c0 7.36-5.988 13.326-13.375 13.326S155.75 151.5 155.75 144.14v-13.326c0-7.356 5.992-13.326 13.375-13.326Z" fill="gray" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3338:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-yida",use:"ne-card-yida-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-yida"><path d="m0 9.755 4.833 2.791V20H3.331A3.33 3.33 0 0 1 0 16.67L0 9.755ZM16.67 0A3.33 3.33 0 0 1 20 3.33v13.34A3.33 3.33 0 0 1 16.67 20H8.433v-7.482l6.727-3.883a1 1 0 0 0 .366-1.366l-.8-1.386a1 1 0 0 0-1.366-.366L6.61 9.414.32 5.783.214 5.73a.994.994 0 0 0-.216-.065L.001 3.33A3.33 3.33 0 0 1 3.33 0H16.67Z" fill="#0289ff" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3339:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-yida-a",use:"ne-card-yida-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-yida-a"><path d="m28 125.555 48.33 27.904V228H48c-11.046 0-20-8.954-20-20v-82.445ZM208 28c11.046 0 20 8.954 20 20v160c0 11.046-8.954 20-20 20h-95.67v-74.813l67.27-38.838c4.782-2.762 6.421-8.877 3.66-13.66l-8-13.857c-2.762-4.783-8.878-6.421-13.66-3.66l-67.507 38.974-62.907-36.32-.253-.141A9.97 9.97 0 0 0 28 84.65V48c0-11.046 8.954-20 20-20h160Z" fill="#8C8C8C" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3340:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-canva",use:"ne-card-canva-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-card-canva"><image x=".833" y="5" width="19.167" height="9.167" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAsCAYAAADozd+ZAAAMR2lDQ1BJQ0MgUHJvZmlsZQAASImVVwdYU8kWnltSSWiBCEgJvQkiSJcSQosgIFWwEZJAQokhIYjYXRYVXLuIgA1dFVF0LYCsFXtZBLtreVhQWVkXCzZU3qSArvu99753vm/u/XPmnP+UzL13BgCdGp5UmovqApAnKZDFR4SwJqSmsUiPAQIwoAs8gDOPL5ey4+KiAZTB+9/l7Q1oDeWqi5Lrn/P/VfQEQjkfACQO4gyBnJ8H8QEA8BK+VFYAANEH6q2nF0iVeBLEBjKYIMRSJc5S4xIlzlDjSpVNYjwH4l0AkGk8niwLAO1mqGcV8rMgj/YtiN0kArEEAB0yxIF8EU8AcSTEI/LypikxtAMOGd/wZP2NM2OIk8fLGsLqWlRCDhXLpbm8Gf9nO/635OUqBmPYwUETySLjlTXDvt3KmRalxDSIeyQZMbEQ60P8XixQ2UOMUkWKyCS1PWrKl3NgzwATYjcBLzQKYlOIwyW5MdEafUamOJwLMVwhaJG4gJuo8V0klIclaDhrZNPiYwdxpozD1vg28GSquEr7U4qcJLaG/5ZIyB3kf1MsSkxR54xRC8XJMRBrQ8yU5yREqW0wm2IRJ2bQRqaIV+ZvA7GfUBIRoubHpmTKwuM19rI8+WC92CKRmBujwVUFosRIDc8uPk+VvxHEzUIJO2mQRyifED1Yi0AYGqauHWsXSpI09WKd0oKQeI3vK2lunMYepwpzI5R6K4hN5YUJGl88sAAuSDU/HiMtiEtU54lnZPPGxqnzwYtANOCAUMACCjgywDSQDcRtPU098Jd6JhzwgAxkASFw0WgGPVJUMxJ4TQDF4E+IhEA+5BeimhWCQqj/PKRVX11Apmq2UOWRA55AnAeiQC78rVB5SYaiJYPHUCP+R3Q+zDUXDuXcP3VsqInWaBSDvCydQUtiGDGUGEkMJzriJngg7o9Hw2swHO64D+47mO1Xe8ITQgfhIeE6oZNwe6p4gey7elhgHOiEEcI1NWd8WzNuB1k98RA8APJDbpyJmwAXfDSMxMaDYGxPqOVoMldW/z3332r4pusaO4obBaUMowRTHL731HbS9hxiUfb02w6pc80Y6itnaOb7+JxvOi2A96jvLbFF2H7sLHYCO48dxpoACzuGNWOXsCNKPLSKHqtW0WC0eFU+OZBH/I94PE1MZSflbvVu3W6f1HMFwiLl+xFwpklnyMRZogIWG775hSyuhO86guXu5u4GgPI7on5NvWaqvg8I88JXXf5xAHzLoDLrq45nDcChJwAw3n7VWb+Cj8dyAI608xWyQrUOV14IgAp04BNlDMyBNXCA9bgDL+APgkEYGAtiQSJIBVNgl0VwPcvAdDALzAeloBwsB2tAFdgItoAdYDfYB5rAYXACnAEXQTu4Du7A1dMFnoNe8Bb0IwhCQugIAzFGLBBbxBlxR3yQQCQMiUbikVQkHclCJIgCmYX8gJQjK5EqZDNSh/yCHEJOIOeRDuQ28gDpRl4hH1EMpaEGqBlqh45EfVA2GoUmopPRLDQfLUZL0KVoJVqL7kIb0RPoRfQ62ok+R/swgGlhTMwSc8F8MA4Wi6VhmZgMm4OVYRVYLdaAtcD/+SrWifVgH3AizsBZuAtcwZF4Es7H8/E5+BK8Ct+BN+Kn8Kv4A7wX/0KgE0wJzgQ/ApcwgZBFmE4oJVQQthEOEk7Dp6mL8JZIJDKJ9kRv+DSmErOJM4lLiOuJe4jHiR3ER8Q+EolkTHImBZBiSTxSAamUtI60i3SMdIXURXpP1iJbkN3J4eQ0soS8gFxB3kk+Sr5Cfkrup+hSbCl+lFiKgDKDsoyyldJCuUzpovRT9aj21ABqIjWbOp9aSW2gnqbepb7W0tKy0vLVGq8l1pqnVam1V+uc1gOtDzR9mhONQ5tEU9CW0rbTjtNu017T6XQ7ejA9jV5AX0qvo5+k36e/12Zou2pztQXac7WrtRu1r2i/0KHo2OqwdaboFOtU6OzXuazTo0vRtdPl6PJ05+hW6x7Svanbp8fQG6UXq5ent0Rvp955vWf6JH07/TB9gX6J/hb9k/qPGBjDmsFh8Bk/MLYyTjO6DIgG9gZcg2yDcoPdBm0GvYb6hqMNkw2LDKsNjxh2MjGmHZPLzGUuY+5j3mB+HGY2jD1MOGzxsIZhV4a9MxpuFGwkNCoz2mN03eijMcs4zDjHeIVxk/E9E9zEyWS8yXSTDSanTXqGGwz3H84fXjZ83/DfTVFTJ9N405mmW0wvmfaZmZtFmEnN1pmdNOsxZ5oHm2ebrzY/at5twbAItBBbrLY4ZvEHy5DFZuWyKlmnWL2WppaRlgrLzZZtlv1W9lZJVgus9ljds6Za+1hnWq+2brXutbGwGWczy6be5ndbiq2Prch2re1Z23d29nYpdgvtmuye2RvZc+2L7evt7zrQHYIc8h1qHa45Eh19HHMc1zu2O6FOnk4ip2qny86os5ez2Hm9c8cIwgjfEZIRtSNuutBc2C6FLvUuD1yZrtGuC1ybXF+MtBmZNnLFyLMjv7h5uuW6bXW7M0p/1NhRC0a1jHrl7uTOd692v+ZB9wj3mOvR7PFytPNo4egNo295MjzHeS70bPX87OXtJfNq8Or2tvFO967xvulj4BPns8TnnC/BN8R3ru9h3w9+Xn4Ffvv8/vJ38c/x3+n/bIz9GOGYrWMeBVgF8AI2B3QGsgLTAzcFdgZZBvGCaoMeBlsHC4K3BT9lO7Kz2bvYL0LcQmQhB0Pecfw4sznHQ7HQiNCy0LYw/bCksKqw++FW4Vnh9eG9EZ4RMyOORxIioyJXRN7kmnH53Dpu71jvsbPHnoqiRSVEVUU9jHaKlkW3jEPHjR23atzdGNsYSUxTLIjlxq6KvRdnH5cf9+t44vi48dXjn8SPip8VfzaBkTA1YWfC28SQxGWJd5IckhRJrck6yZOS65LfpYSmrEzpnDBywuwJF1NNUsWpzWmktOS0bWl9E8MmrpnYNclzUumkG5PtJxdNPj/FZErulCNTdabypu5PJ6SnpO9M/8SL5dXy+jK4GTUZvXwOfy3/uSBYsFrQLQwQrhQ+zQzIXJn5LCsga1VWtyhIVCHqEXPEVeKX2ZHZG7Pf5cTmbM8ZyE3J3ZNHzkvPOyTRl+RITk0zn1Y0rUPqLC2Vdub75a/J75VFybbJEflkeXOBAdywX1I4KH5UPCgMLKwufD89efr+Ir0iSdGlGU4zFs94Whxe/PNMfCZ/Zussy1nzZz2YzZ69eQ4yJ2NO61zruSVzu+ZFzNsxnzo/Z/5vC9wWrFzw5oeUH1pKzErmlTz6MeLH+lLtUlnpzYX+CzcuwheJF7Ut9li8bvGXMkHZhXK38oryT0v4Sy78NOqnyp8GlmYubVvmtWzDcuJyyfIbK4JW7Fipt7J45aNV41Y1rmatLlv9Zs3UNecrRldsXEtdq1jbWRld2bzOZt3ydZ+qRFXXq0Oq99SY1iyuebdesP7KhuANDRvNNpZv/LhJvOnW5ojNjbV2tRVbiFsKtzzZmrz17M8+P9dtM9lWvu3zdsn2zh3xO07VedfV7TTduawerVfUd++atKt9d+ju5gaXhs17mHvK94K9ir1//JL+y419Ufta9/vsbzhge6DmIONgWSPSOKOxt0nU1Nmc2txxaOyh1hb/loO/uv66/bDl4eojhkeWHaUeLTk6cKz4WN9x6fGeE1knHrVObb1zcsLJa6fGn2o7HXX63JnwMyfPss8eOxdw7vB5v/OHLvhcaLrodbHxkuelg795/nawzaut8bL35eZ23/aWjjEdR68EXTlxNfTqmWvcaxevx1zvuJF049bNSTc7bwluPbude/vl74W/99+Zd5dwt+ye7r2K+6b3a//l+K89nV6dRx6EPrj0MOHhnUf8R88fyx9/6ip5Qn9S8dTiad0z92eHu8O72/+Y+EfXc+nz/p7SP/X+rHnh8OLAX8F/Xeqd0Nv1UvZy4NWS18avt78Z/aa1L67v/tu8t/3vyt4bv9/xwefD2Y8pH5/2T/9E+lT52fFzy5eoL3cH8gYGpDwZT7UVwOBAMzMBeLUdAHoq3Du0A0CdqD7nqQRRn01VCPwnrD4LqsQLgO3BACTNAyAa7lE2wGELMQ3elVv1xGCAengMDY3IMz3c1Vw0eOIhvB8YeG0GAKkFgM+ygYH+9QMDn7fCZG8DcDxffb5UChGeDTa5KlF71wvwvfwbcMp/ecx1uhoAAAA4ZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAKgAgAEAAAAAQAAAFygAwAEAAAAAQAAACwAAAAAuxIL6gAAB59JREFUaAXtmj1sFUcQx9cxH+HTgCOjmA/hCBQwoFBEgiJFUsRFKKEgJSmSEgooSYGUigZKUoQSCqckikiZRAKBFJQQPgQKEbZRQBiCCQEjENnf2v974729987wniN4N9bz3u3Nzu7+Z3Zmdu861vx09rmraMYQeGPGeqo6CghUgM+wITQd8K1di2Z4Cq9Wd7Nedrj9C+a73b3L3TYP9Mq5czJxw+NP3OCtO+7I0M2srrpwruNFg+bKuXPdoXVrAtAC8tvbo254fNwt7pzlldATqi8+/Nd9euGKG3v6TGxtXb4Q4APdS9yhtX1u8azOAN4Pd/92B/8YCmALTSz++KZ3wy2gbz9/UY/aupy2Dz/Qt8odXb82A3v/1T/d55euTQEbRE/ff+BQBITb2bu6N1y3+79pAX5oXZ/7zPtrEWAP3r6j21yJZYt29Lyly7YuSwMO2Dt7ujOwGoENowXcBtRMSBtelAJ8p7dOCzbBsZ5lC8cqUAqJWtkQcPwvfls04tO9g9dv6LZuSeAUPXhWZSlg0RBwUj9lIzTYd/V66RRv6+Ia4KdGJwIoMtqZ6gJOgMTCRbgSso8yhHXLwrHub27eKtPstecpBByr3rNqaip3+Ea5XSNKInUUkaPbAKr6diwLt/ZYt3Ul2kU2Agmw2fDQ9tLDR8EFVWDXUEsCDli7367l27CXdQlkJsH1jI25ym/XgNZVEvCBZUunWDeWWtZKOUspm8VoEP93ybnQDr/H6F84P8SoYy2MN0nAdfAkIMrk3OJ91UoCuz2qGFi2xG30bpFsrBWUC5po22YmdPo6uwZ20GfHHrijI39l+GLtraKchSuVU4dsdHATzSbixMfemoKC/VIefjzu+3ni/f+dwjwf3hVvznEjj/NjwkiQh1s44rOplAukPauXORGTOPXkyOGr60Pu+9F74ZxodkdHmCo4pFJglDHQvTQYJW0ZM3y4oVSfMW4NAU91GguZ7j3pZpwFScZe/+yLy9dykwUcpZoE5vfO/BKaADQ7YWsoXV6Zu367IpEZn7InAa6V3DNnduC57A/bNi9cEK6HvVItwXt0w9rsJQtx7dLTR27Dgnnh2IOjD8bdyBvkXYq3IEvNtG6s+uSW/nBUiyFxANb387nw4yUFBA/LPCa7JwAwCCUAogU7bqd7lIJsSKDwogT6aGlXKLtnTwDPjZ03Z0mMG4smA0PZn5z/PfwAWQRfI8oBbrfjNG6mhQMOlsLOEwu0wZh+WJ5Q6mRR1shzli6TU7ADBEupMVulnPYpKzT27GkoP/SAI7938hWhlRdetqxbE/ioj482Lv7zKDzjnxSaVSQucoAneJpSxQsIgZbaeWLVAloWrI7VTvcr/SrkjAfF8SYp3gHLgsVvwaZOCrF89oAOQwA8VpXcGH3F6S4x4fjmibdaVq76TZU5H55ietk6BiaXAJjWsiV7xAfmMz5bwHfGAMaAswq1SrB2+1IE+fWCF891bAwffSLPKsUqX+MbvDWatVMdK4RgiXIYd2pe4lU5Ixa+c3ktzbJWpUFQMvlFnZ1uEYOPsqIYcPh5rSdgbRpXJJ82UCwbOQRAS6w0FGrp1N179jZcozjkhWwrin055smKhhbOZLUEi4Q0qmdAIvlP3VNiXVq6KXD7F86z7OHTC42J1WPbpICx1jtFkL8BtOf+D9KOGkUin0ApUn+6p7SZU6wgy2evc4Cz5FZMBg8Y7WRsw+lcWxlazra9dQks8ZhsIGd81uXEYKaAWeGVUkSKLfRrU8lYbqq93CTP4jQyxU9dzqXES85aZ5GQ6dTHkRwLtX3EgNlJ0U98iGaVmVIWyrSvB+1YsVDkY524lnrEOC2hENt3PG7La69zgMc+EIDK5JdWqL2Oc2oOxiwdeKf2+s7WM0HSyPjzinhi1t3YZ4ybzIOfXe4b5k+8UAEsvq3hGZYdrzzFB40ptnib1SAj5crU1pYNAYd5z+reUjmmFcyEAQzrspZHgOPTOAHCYZEljoVp9+P7m4Nvt2BxHQNh27JS+LaRPk5u2RiyF/zyB+d+zdjoF6umDzZfgJ2SiQJsPg7AgC5DsNaNkcYKyzqMLpJfXn3Ztzr7VE38gz7p31/yBC1sFia/zGI3ifZPbFoftsGSpxJAyKvJUCwBLr4aWfLh2nhYPlZA7Hb0/NjN2+7w0EgA4zuvALbhIuQXgS0elFM0bj5ykivk+0kbV9Q+VeYsHCYGaS2LOiyVswQGUUQMAMvRDlDfrqD9XRcuT7EYZAAg9Xaw9AtQWKX11ygm3nggAx4CqSXA4KgAflmelcWKQ37Ksq0cO27hwTiQzY5TdQLeti26Tlo4zCyZE34XFVsegzjlJ3T6/ljYim/zmwaUgJ+XMhhIkfXAg2yiug3QLFUs3fphxkE9fjqOLTwTSSYlW20rVzyU9Mv4i55b3jLXdnWx422kQGQWAs5DBvi1t2qbJlJfj+wyrsf3ujzD0Dhm4Bxouz/Q0ooqml9dwGmE1ZBa8YutXUKxaLa+LNtmWY9kvwolqxB8ysy/IeB2wgQwrN4SS73MUrJt2vl6WoC3M1DNmnsyS2mW8EpOHoEK8DwmLa2pAG8pvHnhFeB5TFpaUwHeUnjzwv8D9Neu+DAQLCoAAAAASUVORK5CYII=" fill="none" fill-rule="evenodd"></image></symbol>'});a.a.add(c);t.default=c},3341:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-canva-a",use:"ne-card-canva-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-canva-a"><g transform="translate(16 16)" fill="none" fill-rule="evenodd"><circle fill="gray" cx="112" cy="112" r="112" /><path d="M166.748 58.538c1.525 12.893-3.782 24.26-18.178 31.093-7.584 3.782-10.614 3.804-12.14 1.526-.752-1.526 0-3.03 1.526-4.556C151.6 75.234 151.6 66.123 150.074 53.252c-.752-8.36-6.81-13.667-12.892-13.667-26.536 0-64.438 59.135-59.13 102.37 2.277 16.674 12.14 36.4 33.368 36.4 6.811 0 14.374-2.278 21.229-5.307 11.056-5.839 17.668-10.394 24.258-17.692 0 1.374 1.254 3.741 2.145 7.607-5.396 6.082-11.565 12.23-18.84 16.896-10.615 6.833-22.733 12.141-37.15 12.141-12.87 0-24.259-6.833-30.318-12.893-9.11-8.337-14.396-21.23-15.17-33.371-4.533-37.153 18.2-84.92 53.072-106.15C119.005 35.051 127.342 32 135.678 32c16.674 0 29.566 12.141 31.07 26.538Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3342:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-codeblock",use:"ne-card-codeblock-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-codeblock"><g fill="currentColor" fill-rule="evenodd"><path d="M64 40c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L64 60H54a6 6 0 0 0-5.996 5.775L48 66v42.5a10 10 0 0 1-1.667 5.529l-.21.303L36.31 128l9.813 13.668a10 10 0 0 1 1.87 5.463l.007.369V190a6 6 0 0 0 5.775 5.996L54 196h10c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L64 216H54c-14.216 0-25.767-11.409-25.997-25.57L28 190v-39.281l-12.123-16.887a10 10 0 0 1-.179-11.407l.179-.257L28 105.28V66c0-14.216 11.409-25.767 25.57-25.997L54 40h10ZM192 40c-5.523 0-10 4.477-10 10 0 5.43 4.327 9.848 9.72 9.996L192 60h10a6 6 0 0 1 5.996 5.775L208 66v42.5a10 10 0 0 0 1.667 5.529l.21.303L219.69 128l-9.813 13.668a10 10 0 0 0-1.87 5.463l-.007.369V190a6 6 0 0 1-5.775 5.996L202 196h-10c-5.523 0-10 4.477-10 10 0 5.43 4.327 9.848 9.72 9.996l.28.004h10c14.216 0 25.767-11.409 25.997-25.57L228 190v-39.281l12.123-16.887a10 10 0 0 0 .179-11.407l-.179-.257L228 105.28V66c0-14.216-11.409-25.767-25.57-25.997L202 40h-10Z" fill-rule="nonzero" /><rect x="72" y="78" width="112" height="20" rx="10" /><path d="M82 118h36c5.523 0 10 4.477 10 10s-4.477 10-10 10H82c-5.523 0-10-4.477-10-10s4.477-10 10-10ZM82 158h92c5.523 0 10 4.477 10 10s-4.477 10-10 10H82c-5.523 0-10-4.477-10-10s4.477-10 10-10Z" /></g></symbol>'});a.a.add(c);t.default=c},3343:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-codeblock-more",use:"ne-card-codeblock-more-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="ne-card-codeblock-more"><path d="M2.75 7.984a.875.875 0 1 0 1.75 0 .875.875 0 0 0-1.75 0Zm4.375 0a.875.875 0 1 0 1.75 0 .875.875 0 0 0-1.75 0Zm4.375 0a.875.875 0 1 0 1.75 0 .875.875 0 0 0-1.75 0Z" fill="currentColor" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3344:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-codepen",use:"ne-card-codepen-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-codepen"><g fill="none" fill-rule="evenodd"><rect fill="#1F1F28" width="20" height="20" rx="3.333" /><path d="m15.772 7.743-5.484-3.656a.521.521 0 0 0-.576 0L4.228 7.743A.524.524 0 0 0 4 8.172v3.656c0 .167.087.335.228.428l5.484 3.657a.521.521 0 0 0 .576 0l5.484-3.657a.524.524 0 0 0 .228-.428V8.172a.524.524 0 0 0-.228-.429ZM10.516 5.48l4.038 2.692-1.802 1.205-2.236-1.493V5.48Zm-1.032 0v2.404L7.248 9.377 5.446 8.172 9.484 5.48ZM5.031 9.136 6.324 10l-1.293.864V9.136Zm4.453 5.384-4.038-2.692 1.802-1.205 2.236 1.493v2.404ZM10 11.218 8.179 10 10 8.78 11.821 10 10 11.218Zm.516 3.302v-2.404l2.236-1.493 1.802 1.205-4.038 2.692Zm4.453-3.656L13.676 10l1.293-.864v1.728Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3345:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-codepen-a",use:"ne-card-codepen-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-codepen-a"><path d="m234.787 86.247-101.46-67.641c-3.464-2.131-7.16-2.151-10.654 0L21.212 86.246C18.61 87.98 17 91.079 17 94.176v67.64c0 3.097 1.61 6.195 4.212 7.929l101.461 67.65c3.463 2.131 7.16 2.151 10.654 0l101.46-67.65c2.602-1.734 4.213-4.832 4.213-7.929v-67.64c0-3.097-1.61-6.195-4.213-7.928ZM137.54 44.373l74.702 49.802-33.325 22.3-41.377-27.627V44.373Zm-19.078 0v44.475l-41.378 27.626-33.324-22.3 74.702-49.801Zm-82.383 67.641 23.91 15.981-23.91 15.981v-31.962Zm82.383 99.604-74.702-49.802 33.324-22.3 41.378 27.627v44.475ZM128 150.542l-33.697-22.547L128 105.448l33.696 22.547L128 150.542Zm9.539 61.076v-44.475l41.377-27.627 33.325 22.3-74.702 49.802Zm82.382-67.642-23.91-15.98 23.91-15.982v31.962Z" fill="gray" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3346:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-figma",use:"ne-card-figma-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-figma"><g fill="none" fill-rule="evenodd"><rect fill="#2D3139" width="20" height="20" rx="3.333" /><g fill-rule="nonzero"><path d="M7.917 16.667c1.15 0 2.083-.934 2.083-2.084V12.5H7.917a2.084 2.084 0 0 0 0 4.167Z" fill="#0ACF83" /><path d="M5.833 10.417c0-1.15.934-2.084 2.084-2.084H10V12.5H7.917a2.084 2.084 0 0 1-2.084-2.083Z" fill="#A259FF" /><path d="M5.833 6.25c0-1.15.934-2.083 2.084-2.083H10v4.166H7.917A2.084 2.084 0 0 1 5.833 6.25Z" fill="#F24E1E" /><path d="M10 4.167h2.083a2.084 2.084 0 0 1 0 4.166H10V4.167Z" fill="#FF7262" /><path d="M14.167 10.417a2.084 2.084 0 1 1-4.169-.002 2.084 2.084 0 0 1 4.169.002Z" fill="#1ABCFE" /></g></g></symbol>'});a.a.add(c);t.default=c},3347:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-figma-a",use:"ne-card-figma-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-figma-a"><path d="M128.499 127.999c-.001-13.22 7.003-25.435 18.373-32.045a36.534 36.534 0 0 1 36.751 0c11.371 6.61 18.375 18.825 18.374 32.045-.001 20.433-16.454 36.996-36.75 36.996-20.294 0-36.747-16.563-36.748-36.996ZM55 201.998c0-20.435 16.453-37 36.75-37h36.749v37c0 13.219-7.004 25.435-18.374 32.045a36.534 36.534 0 0 1-36.751 0c-11.37-6.61-18.375-18.826-18.374-32.045ZM128.499 17v74h36.749c13.13 0 25.263-7.052 31.828-18.5a37.218 37.218 0 0 0 0-37.001c-6.565-11.448-18.698-18.5-31.828-18.499h-36.75ZM55 54c0 20.434 16.453 37 36.75 37h36.749V17h-36.75C71.453 17 55 33.565 55 54Zm0 73.999c0 20.434 16.453 37 36.75 37h36.749v-74h-36.75C71.453 91 55 107.564 55 128Z" fill="gray" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3348:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-file",use:"ne-card-file-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-file"><path d="M152.765 31.222c16.836-16.774 44.065-16.774 60.9 0 16.617 16.554 16.832 43.341.61 60.16l-.61.62-88.75 88.422c-10.261 10.223-26.858 10.223-37.119 0-10.139-10.101-10.27-26.446-.372-36.709l.372-.378 64.689-64.449c3.912-3.898 10.244-3.886 14.142.026 3.827 3.842 3.885 10.015.183 13.927l-.21.215-64.704 64.466a6.176 6.176 0 0 0 .016 8.734 6.296 6.296 0 0 0 8.7.178l.187-.178 88.81-88.483c8.927-8.959 8.9-23.457-.06-32.383-8.934-8.902-23.327-8.997-32.378-.284l-.29.284-99.113 98.747c-15.186 15.243-15.14 39.91.102 55.096 15.19 15.135 39.667 15.286 55.044.454l.463-.454 74.95-74.672c3.912-3.898 10.244-3.887 14.142.026 3.827 3.841 3.885 10.015.183 13.927l-.21.215-74.949 74.672c-23.149 23.064-60.59 23.064-83.74 0-22.836-22.752-23.132-59.567-.836-82.684l.837-.85 99.011-98.645Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3349:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-amap",use:"ne-card-amap-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-amap"><g fill-rule="nonzero" fill="none"><path d="M0 15.66c0 2.105 1.814 4.367 4.493 4.34H15.63C18.056 20 20 17.903 20 15.625V4.39C20 2.11 18.123 0 15.538 0H4.395C1.819 0 0 2.176 0 4.39v11.27Z" fill="#F1F1F1" /><path d="M12.111 0H4.395C1.819 0 0 2.176 0 4.39v1.787l12.111.011V0Z" fill="#AFE881" /><path d="M13.617 20h2.012C18.056 20 20 17.903 20 15.625v-.07h-6.364L13.617 20Z" fill="#A3CAFF" /><path fill="#FFF" d="M0 7.98V6.162h20V7.98z" /><path fill="#FFF" d="M12.111 20V0h1.526v20z" /><path fill="#FFDF48" d="M0 15.555v-2.424h20v2.424z" /><path fill="#FFCF68" d="M4.04 20V0h3.03v20z" /><path fill="#D6D7D4" d="m2.626 10.487 1.434 2.267.063-1.973z" /><path fill="#E5BA5E" d="m4.06 12.754 2.58 4.082.452.048v-5.471l-3.032-.667z" /><path fill="#E4C84A" d="M7.67 15.555h4.092l-2.76-1.212z" /><path fill="#D6D7D4" d="m7.086 16.883 4.947.532-.013-1.908H7.092z" /><path fill="#E7E7E8" d="m12.033 17.415 1.796.193-1.809-2.101z" /><path fill="#0066BD" d="M17.401 3.636 6.226 12.973l.415 3.863 1.18-3.079z" /><path fill="#014E9D" d="m7.639 13.728-.998 3.108 2.362-2.27L8.2 13.13z" /><path fill="#0093FD" d="m2.626 10.487 3.6 2.486 11.175-9.337L7.627 13.67l6.202 3.939L17.4 3.636z" /></g></symbol>'});a.a.add(c);t.default=c},3350:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-amap-a",use:"ne-card-amap-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-amap-a"><path d="M215.97 32.233a6.798 6.798 0 0 0-7.429-.248L27.5 136.455c-2.485 1.39-3.628 3.532-3.489 6.434.2 2.997 1.66 4.99 4.343 5.993l42.972 17.62 116.3-100.658-93.994 115.233v37.943c0 1.422.448 2.813 1.268 3.976l.432.561a6.81 6.81 0 0 0 2.882 1.998l.586.198a6.025 6.025 0 0 0 1.829.246l.82-.042c1.858-.174 3.364-.974 4.517-2.445l26.34-32.125 49.283 20.13c.925.368 1.8.562 2.604.562 1.218 0 2.36-.318 3.364-.88 1.948-1.168 3.12-2.807 3.478-4.9L218.897 39.18c.437-2.882-.512-5.217-2.922-6.947h-.005Z" fill="gray" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3351:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-jinshuju",use:"ne-card-jinshuju-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-jinshuju"><g fill="none" fill-rule="evenodd"><rect fill="#FF8523" width="20" height="20" rx="3.333" /><path d="M9.973 9.8c0 .397.05.688.15.872.149.276.602.317.96.204.24-.075.426-.198.56-.367v.695c-.458.32-.793.674-1.006 1.062-.319.583-.3 1.089-.22 1.539.081.45.53.926 1.126.926.397 0 .726-.147.989-.442l.12 1.07H7.13l.099-.628c.907 0 1.153-.357 1.739-1.105.508-.648.56-1.478.565-1.986v-.21c0-.306-.188-.687-.565-1.142Zm-2.855.694c.453.196.677.712.671 1.548-.384.392-.827.51-1.328.355-.5-.155-1.036-.692-1.607-1.61 1.055-.391 1.81-.489 2.264-.293Zm8.534-.916c-.418 1.304-.888 2.034-1.408 2.193-.781.237-1.592.115-2.067-.36-.002-.343-.002-1.015.564-1.592.378-.384 1.348-.464 2.91-.24ZM4.854 4.551c1.425.437 2.535.803 3.33 1.098 1.19.442 1.486.938 1.641 1.675.155.738-.058 1.588-.61 1.97-.553.383-1.873.504-2.994-.45-.747-.635-1.203-2.066-1.367-4.293Zm8.209 0c.435.656.977 1.606.868 2.474-.11.869-.58 1.513-1.156 1.82-.384.204-.871.34-1.46.409-.515-.767-.693-1.55-.533-2.352.24-1.202 1.776-2.004 2.28-2.351Z" fill="#FFF" /></g></symbol>'});a.a.add(c);t.default=c},3352:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-jinshuju-a",use:"ne-card-jinshuju-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-jinshuju-a"><path d="M127.5 124.338c0 7.268.911 12.584 2.733 15.948 2.733 5.045 11.03 5.793 17.582 3.728 4.369-1.376 7.776-3.613 10.224-6.71v12.708c-8.366 5.845-14.494 12.32-18.383 19.426-5.833 10.658-5.49 19.902-4.02 28.13 1.47 8.23 9.676 16.944 20.571 16.944 7.263 0 13.291-2.694 18.084-8.081l2.209 19.559H75.515l1.812-11.478c16.589 0 21.08-6.53 31.801-20.205 9.905-12.634 10.334-29.043 10.341-38.087V154.702l-.001-.56c0-5.598-3.447-12.557-10.34-20.878Zm-52.205 12.693c8.297 3.583 12.39 13.02 12.28 28.31-7.029 7.168-15.122 9.332-24.281 6.493-9.16-2.84-18.957-12.65-29.395-29.428 19.3-7.166 33.099-8.958 41.396-5.375Zm156.05-16.74c-7.643 23.83-16.224 37.194-25.743 40.09-14.278 4.344-29.102 2.107-37.787-6.589l-.003-.685v-.728c.02-6.576.699-17.888 10.317-27.682 6.9-7.025 24.638-8.494 53.216-4.406ZM33.899 28.354c26.067 8 46.36 14.693 60.878 20.08 21.778 8.081 27.196 17.152 30.03 30.638 2.833 13.486-1.063 29.035-11.171 36.029-10.108 6.993-34.24 9.208-54.739-8.224C45.232 95.256 36.9 69.081 33.9 28.354Zm150.101 0c7.96 12 17.883 29.365 15.877 45.25-2.006 15.884-10.585 27.658-21.128 33.268-7.03 3.74-15.932 6.235-26.709 7.482-9.413-14.018-12.66-28.352-9.74-43 4.378-21.974 32.477-36.647 41.7-43Z" fill="gray" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3353:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-mindmap",use:"ne-card-mindmap-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-mindmap"><g fill="currentColor" fill-rule="nonzero"><path d="M214 35h-46c-14.36 0-26 11.64-26 26v10c0 14.36 11.64 26 26 26h46c14.36 0 26-11.64 26-26V61c0-14.36-11.64-26-26-26Zm-46 20h46a6 6 0 0 1 6 6v10a6 6 0 0 1-6 6h-46a6 6 0 0 1-6-6V61a6 6 0 0 1 6-6ZM214 159h-46c-14.36 0-26 11.64-26 26v10c0 14.36 11.64 26 26 26h46c14.36 0 26-11.64 26-26v-10c0-14.36-11.64-26-26-26Zm-46 20h46a6 6 0 0 1 6 6v10a6 6 0 0 1-6 6h-46a6 6 0 0 1-6-6v-10a6 6 0 0 1 6-6Z" /><path d="M73.55 147.305c7.858 20.517 27.486 34.415 49.774 34.69L124 182h26.207v16H124c-28.957 0-54.586-17.747-65.078-44.17l-.313-.803 14.942-5.722ZM158 58v16h-34c-22.645 0-42.63 14.068-50.511 34.857l-.235.632-15.03-5.484c9.897-27.128 35.606-45.632 64.888-46L124 58h34Z" /><path d="M88 97H42c-14.36 0-26 11.64-26 26v10c0 14.36 11.64 26 26 26h46c14.36 0 26-11.64 26-26v-10c0-14.36-11.64-26-26-26Zm-46 20h46a6 6 0 0 1 6 6v10a6 6 0 0 1-6 6H42a6 6 0 0 1-6-6v-10a6 6 0 0 1 6-6Z" /></g></symbol>'});a.a.add(c);t.default=c},3354:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-flowchart",use:"ne-card-flowchart-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-flowchart"><g fill="currentColor" fill-rule="nonzero"><path d="M78 172H38c-12.15 0-22 9.85-22 22v24c0 12.15 9.85 22 22 22h40c12.15 0 22-9.85 22-22v-24c0-12.15-9.85-22-22-22Zm-40 20h40a2 2 0 0 1 2 2v24a2 2 0 0 1-2 2H38a2 2 0 0 1-2-2v-24a2 2 0 0 1 2-2ZM218 172h-40c-12.15 0-22 9.85-22 22v24c0 12.15 9.85 22 22 22h40c12.15 0 22-9.85 22-22v-24c0-12.15-9.85-22-22-22Zm-40 20h40a2 2 0 0 1 2 2v24a2 2 0 0 1-2 2h-40a2 2 0 0 1-2-2v-24a2 2 0 0 1 2-2ZM120.502 66.343l15.996.314-.5 25.5-15.996-.314z" /><path d="M86 119v16h-2.63c-9.522 0-17.192 7.39-17.367 16.482L66 151.8V189H50v-37.2c0-17.975 14.683-32.507 32.82-32.796l.55-.004H86Zm86.056 0c18.481 0 33.638 14.312 33.94 32.255l.004.545V189h-16v-37.2c0-9.091-7.775-16.627-17.605-16.797l-.34-.003H169v-16h3.056Z" /><path d="m166.02 114.511-26.102-23.062c-6.807-6.015-17.029-6.015-23.836 0L89.98 114.51a18 18 0 0 0-1.57 1.57c-6.583 7.45-5.88 18.826 1.57 25.408l26.102 23.062c6.807 6.015 17.029 6.015 23.836 0l26.102-23.062a18 18 0 0 0 1.57-1.57c6.583-7.45 5.88-18.826-1.57-25.408Zm-14.94 13.488L128 148.393l-23.08-20.394L128 107.606l23.08 20.393ZM148 8h-40c-12.15 0-22 9.85-22 22v24c0 12.15 9.85 22 22 22h40c12.15 0 22-9.85 22-22V30c0-12.15-9.85-22-22-22Zm-40 20h40a2 2 0 0 1 2 2v24a2 2 0 0 1-2 2h-40a2 2 0 0 1-2-2V30a2 2 0 0 1 2-2Z" /></g></symbol>'});a.a.add(c);t.default=c},3355:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-label",use:"ne-card-label-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-label"><g transform="rotate(-45 100.071 47.645)" fill="currentColor" fill-rule="evenodd"><path d="m44.625 4.22-47 46.951A26 26 0 0 0-10 69.566V190c0 14.36 11.64 26 26 26h94c14.36 0 26-11.64 26-26V69.566a26 26 0 0 0-7.625-18.395l-47-46.95c-10.151-10.14-26.599-10.14-36.75 0ZM67.24 18.37l47 46.95a6 6 0 0 1 1.76 4.246V190a6 6 0 0 1-6 6H16a6 6 0 0 1-6-6V69.566a6 6 0 0 1 1.76-4.245l47-46.95a6 6 0 0 1 8.48 0Z" fill-rule="nonzero" /><circle cx="63.172" cy="67.586" r="14" /></g></symbol>'});a.a.add(c);t.default=c},3356:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-locked-text",use:"ne-card-locked-text-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-locked-text"><g fill="currentColor" fill-rule="evenodd"><path d="M128 63.7c-17.397 0-31.5 14.103-31.5 31.5V124h63V95.2c0-17.397-14.103-31.5-31.5-31.5Zm.34 12.603c10.281.181 18.56 8.572 18.56 18.897l-.001 16.2h-37.8l.001-16.2c0-10.438 8.462-18.9 18.9-18.9l.34.003Z" fill-rule="nonzero" /><path d="M164.36 111.4a8.64 8.64 0 0 1 8.64 8.64v42.12a8.64 8.64 0 0 1-8.64 8.64H91.64a8.64 8.64 0 0 1-8.64-8.64v-42.12a8.64 8.64 0 0 1 8.64-8.64h72.72ZM128 130.3c-3.892 0-7.048 3.143-7.048 7.02a7.014 7.014 0 0 0 3.614 6.132v5.555a3.253 3.253 0 0 0 6.506 0v-5.367a7.018 7.018 0 0 0 3.976-6.32c0-3.877-3.156-7.02-7.048-7.02Z" /><path d="m122.082 238.265-1.796-.725C59.344 212.684 28 176.73 28 130V64.552c0-11.879 8.685-21.95 20.392-23.727l.375-.054c22.434-3.05 47.741-11.047 75.88-24.035a8 8 0 0 1 6.705 0c27.714 12.791 52.68 20.742 74.86 23.893l1.021.142C219.129 42.388 228 52.547 228 64.552V130c0 47.696-31.982 83.92-94.125 108.306a16 16 0 0 1-11.793-.04Zm4.223-15.55 1.725.698C184.617 201.207 212 170.192 212 130V64.552a8 8 0 0 0-6.922-7.927l-1.083-.15c-22.776-3.232-47.898-11.048-75.402-23.414l-.593-.267-.593.267C99.467 45.623 73.984 53.49 50.922 56.625A8 8 0 0 0 44 64.552V130c0 39.301 26.845 70.095 82.305 92.715Z" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3357:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-math",use:"ne-card-math-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-math"><path d="M186 26.5c14.49 0 26.262 11.628 26.496 26.062l.004.438v23.801c0 5.8-4.701 10.5-10.5 10.5-5.704 0-10.346-4.548-10.496-10.215l-.004-.285V53a5.5 5.5 0 0 0-5.279-5.496L186 47.5H72.799a5.5 5.5 0 0 0-3.681 9.586l.197.17 61.362 50.24c11.325 9.271 12.989 25.967 3.717 37.292a26.5 26.5 0 0 1-3.212 3.293l-.505.423-61.362 50.24a5.5 5.5 0 0 0 3.224 9.75l.26.006H182a9.5 9.5 0 0 0 9.496-9.23l.004-.27v-20c0-5.799 4.701-10.5 10.5-10.5 5.704 0 10.346 4.548 10.496 10.216l.004.284v20c0 16.676-13.384 30.227-29.996 30.496l-.504.004H72.799a26.5 26.5 0 0 1-20.504-9.712c-9.18-11.211-7.64-27.687 3.38-37.012l.336-.28 61.363-50.24a5.5 5.5 0 0 0 .186-8.352l-.186-.16-61.363-50.24A26.5 26.5 0 0 1 46.298 53c0-14.49 11.63-26.262 26.063-26.496l.438-.004H186Z" fill="currentColor" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3358:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-modao",use:"ne-card-modao-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-modao"><g fill="none" fill-rule="evenodd"><rect fill="#FF6161" width="20" height="20" rx="3.333" /><path d="M13.308 5.78H6.352c-1.006 0-1.881.589-2.325 1.453l-.676-.34C3.917 5.77 5.05 5 6.352 5h6.956c1.277 0 2.39.739 2.967 1.826l-.677.34c-.454-.827-1.31-1.386-2.29-1.386Zm-6.956 8.44h6.956c1.027 0 1.918-.614 2.353-1.506l.65.388C15.747 14.23 14.612 15 13.308 15H6.352c-1.334 0-2.49-.807-3.04-1.976l.651-.39c.42.936 1.333 1.586 2.39 1.586ZM5.07 8.801a.326.326 0 0 0-.32.332v1.734c0 .183.143.332.32.332h.823c.177 0 .32-.149.32-.332V9.133a.326.326 0 0 0-.32-.332H5.07Zm4.332-.02a.326.326 0 0 0-.32.333v1.733c0 .184.144.332.32.332h.824c.176 0 .32-.148.32-.332V9.114a.326.326 0 0 0-.32-.332H9.4Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3359:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-modao-a",use:"ne-card-modao-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-modao-a"><g fill="gray" fill-rule="evenodd"><path d="m149.01 49.915 8.502-.08 4.371-.02h3.448l2.635.012 3.143.029 2.398.036 2.297.048 1.658.044 1.604.051 1.551.06 1.5.067 1.448.075 1.399.084 1.35.092 1.728.137.832.075.813.078.794.084 1.153.132.746.095.727.098.708.104.691.108.674.112.33.059.648.12.631.125.615.13.599.135c.197.046.391.093.583.14l.568.147.553.15.538.157.524.162.51.168.25.086.247.087c12.343 4.441 27.684 15.73 35.158 25.545 5.019 6.591 3.745 16.003-2.846 21.022-6.498 4.948-15.738 3.78-20.807-2.57l-.215-.276c-1.066-1.4-2.606-2.984-4.421-4.6l-.74-.648a64.797 64.797 0 0 0-1.559-1.298l-.812-.645a73.72 73.72 0 0 0-2.103-1.587l-.863-.618c-3.76-2.652-7.753-4.947-10.949-6.096l-.16-.052-.2-.053-.37-.083-.295-.056-.509-.087-.383-.058-.64-.088-.969-.118-1.096-.117-1.218-.113-.99-.081-1.052-.078-1.495-.097-1.187-.067-1.242-.06-1.098-.048-1.705-.063-1.778-.053-1.853-.045-1.934-.036-2.018-.027-1.394-.014-2.909-.017-2.292-.003-2.392.004-3.35.017-7.307.07-17.674.213-3.973.017-9.656-.03-7.922-.031-4.101.005-2.079.012-2.674.027-1.295.019-1.892.034-2.427.057-1.748.051-1.132.039-1.105.042-1.608.07-1.038.05-1.508.082-1.449.09-.933.066-1.352.104-1.293.112-1.235.12-.792.085-.766.089-.741.092-.716.097-.69.1-.667.104-.641.108-.617.111-.299.058-.58.117-.28.06-.543.124-.263.064-.507.13c-.082.021-.164.043-.244.066l-.47.135-.227.07-.435.142-.209.072c-5.951 2.112-13.175 7.196-21.367 15.432-5.842 5.874-15.34 5.9-21.213.057-5.874-5.842-5.9-15.34-.057-21.213 11.101-11.161 21.868-18.738 32.603-22.548l.703-.244.357-.118.721-.231.734-.223.747-.215c.125-.036.252-.07.378-.105l.767-.204.782-.195.396-.095.803-.185c.27-.06.543-.12.818-.177l.834-.17.85-.163.432-.079.875-.152.893-.146.453-.07.92-.136.938-.13.957-.122.977-.117.996-.11 1.017-.105 1.564-.146 1.07-.09 1.646-.125 1.697-.113 1.75-.101 1.803-.09 1.233-.054 1.897-.073 1.298-.042 1.323-.038 1.35-.034 1.378-.03 2.12-.037 1.447-.02 2.983-.03 2.316-.012 2.384-.006 4.624.007 12.738.054 4.714-.007 9.251-.098 9.108-.117ZM149.01 208.636l8.502.08 4.371.02h3.448l2.635-.011 3.143-.03 2.398-.035 2.297-.048 1.658-.045 1.604-.051 1.551-.06 1.5-.066 1.448-.076 1.399-.083 1.35-.093 1.728-.137.832-.074.813-.08.794-.082 1.153-.133.746-.094.727-.099.708-.103.691-.108.674-.113.33-.058.648-.12.631-.126.615-.13.599-.135c.197-.046.391-.093.583-.14l.568-.146.553-.151.538-.157.524-.162.51-.168.25-.086.247-.087c12.343-4.44 27.684-15.73 35.158-25.545 5.019-6.59 3.745-16.002-2.846-21.021-6.498-4.949-15.738-3.78-20.807 2.57l-.215.276c-1.066 1.4-2.606 2.983-4.421 4.6l-.74.647c-.504.433-1.024.867-1.559 1.298l-.812.646a73.718 73.718 0 0 1-2.103 1.586l-.863.618c-3.76 2.652-7.753 4.947-10.949 6.096l-.16.052-.2.053-.37.083-.295.057-.509.086-.383.058-.64.089-.969.118-1.096.116-1.218.113-.99.081-1.052.078-1.495.098-1.187.066-1.242.061-1.098.047-1.705.063-1.778.054-1.853.044-1.934.036-2.018.028-1.394.013-2.909.017-2.292.004-2.392-.005-3.35-.017-7.307-.07-17.674-.213-3.973-.017-9.656.031-7.922.03-4.101-.004-2.079-.013-2.674-.027-1.295-.019-1.892-.034-2.427-.057-1.748-.051-1.132-.039-1.105-.042-1.608-.069-1.038-.05-1.508-.083-1.449-.09-.933-.065-1.352-.104-1.293-.113-1.235-.12-.792-.085-.766-.089-.741-.092-.716-.096-.69-.1-.667-.105-.641-.107-.617-.112-.299-.057-.58-.118-.28-.06-.543-.124-.263-.063-.507-.13a25.16 25.16 0 0 1-.244-.066l-.47-.136a20.583 20.583 0 0 1-.227-.07l-.435-.141-.209-.073c-5.951-2.112-13.175-7.196-21.367-15.432-5.842-5.873-15.34-5.899-21.213-.057-5.874 5.842-5.9 15.34-.057 21.213 11.101 11.162 21.868 18.738 32.603 22.548l.703.244c.119.04.237.08.357.118l.721.232.734.223.747.215.378.104.767.204.782.196.396.095.803.184c.27.06.543.12.818.177l.834.17.85.163.432.079.875.153.893.145.453.07.92.136.938.13.957.122.977.117.996.11 1.017.105 1.564.146 1.07.09 1.646.126 1.697.112 1.75.102 1.803.09 1.233.054 1.897.072 1.298.043 1.323.038 1.35.034 1.378.03 2.12.037 1.447.02 2.983.029 2.316.013 2.384.005 4.624-.007 12.738-.054 4.714.007 9.251.098 9.108.117Z" fill-rule="nonzero" /><rect x="57" y="114" width="23.375" height="34" rx="6" /><rect x="121" y="114" width="23.375" height="34" rx="6" /></g></symbol>'});a.a.add(c);t.default=c},3360:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-processon",use:"ne-card-processon-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-processon"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-card-processon_a"><stop stop-color="#69B3CA" offset="0%" /><stop stop-color="#275185" offset="100%" /></linearGradient></defs><g fill="none" fill-rule="evenodd"><rect fill="url(#ne-card-processon_a)" width="20" height="20" rx="3.333" /><path d="M6.449 14.077c2.384 0 4.025-1.551 4.025-4.398v-.282C10.474 6.462 8.872 5 6.526 5 4.128 5 2.5 6.564 2.5 9.397v.282c0 2.91 1.577 4.398 3.949 4.398Zm.051-1.218c-1.68 0-2.32-1.205-2.32-3.192v-.45c0-1.781.743-2.986 2.269-2.986 1.705.013 2.346 1.205 2.346 3.18v.435c0 1.795-.757 3.013-2.295 3.013Zm5.436 1.077V7.333h1.423v.59h.051a3.833 3.833 0 0 1 2.167-.705c1.27 0 1.923.513 1.923 1.82v4.898h-1.487V9.385c0-.667-.218-.936-1.116-.936-.512 0-1.09.166-1.487.359v5.128h-1.474Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3361:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-processon-a",use:"ne-card-processon-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-processon-a"><g fill="none" fill-rule="evenodd"><rect fill="gray" x="28" y="28" width="200" height="200" rx="20" /><path d="M90.433 179c14.493 0 26.035-4.717 34.49-14.15 8.051-9.165 12.077-21.025 12.077-35.715 0-14.825-4.026-26.82-12.078-35.85C116.468 83.718 104.926 79 90.432 79c-14.627 0-26.168 4.717-34.488 14.42C47.892 102.585 44 114.445 44 129.135c0 14.555 3.892 26.415 11.944 35.58C64.264 174.147 75.805 179 90.433 179ZM91 166c-10.262 0-18.228-3.498-23.899-10.225-5.4-6.593-8.101-15.473-8.101-26.64 0-11.302 2.7-20.182 8.101-26.775C72.772 95.364 80.738 92 91 92s18.228 3.23 23.764 9.956c5.4 6.593 8.236 15.608 8.236 27.179 0 11.436-2.835 20.45-8.236 26.909C109.228 162.636 101.262 166 91 166Zm74.211 11v-41.584c.536-5.616 2.547-10.028 5.765-13.237 2.95-2.942 6.57-4.279 10.591-4.279 10.725 0 16.222 5.883 16.222 17.65V177H212v-42.653C212 115.36 203.286 106 186.125 106c-4.29 0-8.178.802-11.663 2.674-3.486 1.738-6.57 4.279-9.251 7.755v-8.557H151V177h14.211Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3362:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-table",use:"ne-card-table-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-table"><g fill="currentColor" fill-rule="evenodd"><path d="M208 40c17.673 0 32 14.327 32 32v112c0 17.673-14.327 32-32 32H48c-17.673 0-32-14.327-32-32V72c0-17.673 14.327-32 32-32h160Zm0 20H48c-6.525 0-11.834 5.209-11.996 11.695L36 72v112c0 6.525 5.209 11.834 11.695 11.996L48 196h160c6.525 0 11.834-5.209 11.996-11.695L220 184V72c0-6.525-5.209-11.834-11.695-11.996L208 60Z" fill-rule="nonzero" /><path d="M28 93h204v20H28zM28 143h204v20H28z" /><path d="M90 60v137H70V60z" /></g></symbol>'});a.a.add(c);t.default=c},3363:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-taobao",use:"ne-card-taobao-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-taobao"><path d="M7.728 20h12.216c.019 0 .037-.002.056-.004H7.672c.019.002.037.004.056.004ZM16 0a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h12ZM3.677 7.393a8.715 8.715 0 0 0-.525.598 9.219 9.219 0 0 1-.25.299 8.682 8.682 0 0 0-.25.299c.433.243.837.499 1.213.767.375.27.67.55.887.845.2.296.3.608.3.937 0 .33-.175.676-.525 1.04a4.937 4.937 0 0 1-.562.546c-.211.176-.424.35-.638.52-.222.16-.443.32-.663.482-.224.164-.445.333-.663.507.2.138.396.281.588.43l.563.428a84.28 84.28 0 0 0 1.15.884c.116-.258.228-.518.338-.78l.337-.806c.122-.29.243-.58.363-.871.125-.304.28-.629.463-.976a4.84 4.84 0 0 0 .487-1.378 2.31 2.31 0 0 0-.137-1.275c-.15-.416-.425-.832-.825-1.248-.4-.416-.95-.832-1.65-1.248Zm4.176-3.434c-.199.329-.403.654-.612.976-.206.315-.41.632-.613.949-.2.328-.404.653-.613.975l-.31.486-.302.49a38.934 38.934 0 0 0 .75.572c.133.087.258.178.375.273.124.101.249.201.375.299a.718.718 0 0 1 .063-.143c.025-.043.045-.082.062-.117.015-.048.032-.096.05-.143.017-.043.033-.091.05-.143a5.922 5.922 0 0 1 .9-.937c.183-.138.37-.268.563-.39.192-.12.396-.225.613-.312L7.228 9.447l1.026.52 1.175-1.17v.156h.55v1.196H7.153v.78H9.98v2.315h-.1a1.724 1.724 0 0 1-.425-.09.682.682 0 0 1-.3-.222 1.52 1.52 0 0 1-.15-.48c-.034-.2-.05-.465-.05-.794h-1.9c-.218.832-.243 1.491-.076 1.977.167.485.525.815 1.075.988.55.156 1.288.152 2.214-.013.925-.165 2.038-.498 3.338-1.002.049.085.095.172.138.26.041.088.087.166.137.235.05.085.095.171.138.26.041.087.087.165.137.234.083-.07.167-.143.25-.221.084-.078.175-.152.276-.221a5.844 5.844 0 0 0 .5-.468c.05-.243.062-.469.037-.677a2.126 2.126 0 0 0-.162-.598c-.084-.19-.2-.368-.35-.533a2.744 2.744 0 0 0-.55-.455c-.084.035-.176.07-.276.104-.1.035-.192.07-.275.104-.1.052-.196.095-.287.13a9.564 9.564 0 0 0-.263.104c.032.068.07.133.112.195.043.062.08.127.113.195.05.052.091.113.125.182a.69.69 0 0 0 .125.182 2.61 2.61 0 0 1-.338.078 2.676 2.676 0 0 0-.337.078c-.117.018-.23.04-.338.065a6.576 6.576 0 0 0-.337.091V10.93h2.85v-.807h-2.85V8.98h2.85v-.988h-4.8l.774-.755-.95-.754a5.06 5.06 0 0 0 .35-.104.651.651 0 0 0 .188-.026.585.585 0 0 1 .162-.026c.317-.017.625-.047.926-.091.298-.043.599-.073.9-.09.316-.036.625-.057.925-.066.3-.009.6.022.9.091.4.087.705.252.913.494.208.243.363.538.463.885.083.347.125.724.125 1.13 0 .408-.009.812-.025 1.21l-.075 2.965c0 .382-.038.703-.113.963a1.47 1.47 0 0 1-.337.624 1.29 1.29 0 0 1-.563.338c-.225.07-.488.113-.788.13-.15.018-.3.026-.45.026h-.475c-.15-.017-.3-.026-.45-.026h-.45c.016.087.025.165.025.234l.003.072c.003.05.01.105.022.162 0 .07.004.143.012.221.008.078.013.152.013.221.25 0 .496.005.737.013l.366.01.372.003h.713c.246 0 .492-.008.738-.026.333 0 .646-.03.937-.09.292-.061.546-.178.763-.352a1.92 1.92 0 0 0 .575-.728c.15-.312.259-.728.325-1.248.067-.469.117-.932.15-1.392.034-.46.059-.932.075-1.417.017-.486.021-.98.013-1.483a21.81 21.81 0 0 0-.088-1.586c-.066-.85-.396-1.491-.988-1.925-.591-.433-1.304-.693-2.138-.78-.85-.104-1.759-.065-2.725.117-.967.182-1.851.464-2.651.845.035-.092.073-.183.112-.273.042-.095.08-.195.113-.3.05-.086.091-.177.125-.272.033-.095.075-.195.125-.3-.172-.053-.343-.11-.513-.168-.17-.06-.34-.116-.512-.17a16.22 16.22 0 0 1-.513-.169 18.09 18.09 0 0 0-.513-.169Zm-3.05.235c-.2 0-.388.034-.563.104-.175.069-.33.173-.463.312-.134.121-.237.269-.313.442a1.363 1.363 0 0 0-.112.546c0 .191.038.373.112.546.076.174.18.321.313.442.133.122.288.221.463.3a1.454 1.454 0 0 0 1.138 0 1.67 1.67 0 0 0 .475-.3 1.358 1.358 0 0 0 .425-.988c0-.19-.038-.373-.113-.546a1.281 1.281 0 0 0-.312-.442 1.283 1.283 0 0 0-.475-.312 1.62 1.62 0 0 0-.576-.104Z" fill="#F50" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3364:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-taobao-a",use:"ne-card-taobao-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-taobao-a"><path d="M54.492 79.02c11.025 0 19.95-8.066 19.95-17.947 0-9.9-8.925-17.986-19.95-17.986-11.024 0-19.948 8.086-19.948 17.986 0 9.88 8.924 17.948 19.948 17.948Zm-16.551 7.257-12.526 19.397 23.186 14.519s15.445 7.93 8.117 22.808C49.76 157.087 16 187.951 16 187.951l30.28 18.964c20.9-45.604 19.596-39.531 24.86-55.906 5.395-16.748 6.544-29.519-2.584-38.715-11.808-11.876-13.112-12.981-30.615-26.017Zm196.29-5.087s-6.49-51.342-118.408-19.517c4.738-8.35 7.089-13.828 7.089-13.828L94.935 40s-11.27 36.9-31.368 54.146c0 0 19.446 11.245 19.249 10.933 5.563-5.58 10.528-11.28 14.919-16.795a518.396 518.396 0 0 1 12.962-5.527c-5.15 9.371-13.524 23.343-21.875 32.173l11.772 10.35s7.991-7.749 16.778-17.096h10.026v17.247H88.379v13.78h39.019v33.038c-.508-.013-1.017-.013-1.49-.085-4.306-.192-11.042-.913-13.62-5.057-3.194-5.058-.867-14.34-.688-20.052H84.712l-.98.505s-9.81 44.307 28.454 43.328c35.783.967 56.324-10.002 66.164-17.582l3.93 14.644 22.097-9.214-14.918-36.774-17.976 5.598 3.368 12.614c-4.606 3.436-9.941 6.02-15.612 7.935v-28.898h38.02v-13.78h-38.02v-17.247h38.182v-13.78h-67.833c4.875-5.976 8.715-11.43 9.744-14.926l-11.809-3.196c50.702-18.213 78.96-15.113 78.696 14.777v78.74s3.015 27.102-27.868 25.126l-16.683-3.61-3.9 15.93s72.05 20.664 77.953-34.96c5.886-55.637-1.49-91.095-1.49-91.095Z" fill="gray" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3365:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-text-diagram",use:"ne-card-text-diagram-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-text-diagram"><g fill="currentColor" fill-rule="nonzero"><path d="M224 15.446h-24c-9.142 0-16.554 7.412-16.554 16.554v12c0 9.142 7.412 16.554 16.554 16.554h24c9.142 0 16.554-7.412 16.554-16.554V32c0-9.142-7.412-16.554-16.554-16.554Zm-.554 17.107v10.893h-22.893V32.553h22.893ZM56 15.446H32c-9.142 0-16.554 7.412-16.554 16.554v12c0 9.142 7.412 16.554 16.554 16.554h24c9.142 0 16.554-7.412 16.554-16.554V32c0-9.142-7.412-16.554-16.554-16.554Zm-.554 17.107v10.893H32.553V32.553h22.893ZM224 194.446h-24c-9.142 0-16.554 7.412-16.554 16.554v12c0 9.142 7.412 16.554 16.554 16.554h24c9.142 0 16.554-7.412 16.554-16.554v-12c0-9.142-7.412-16.554-16.554-16.554Zm-.554 17.107v10.893h-22.893v-10.893h22.893ZM56 194.446H32c-9.142 0-16.554 7.412-16.554 16.554v12c0 9.142 7.412 16.554 16.554 16.554h24c9.142 0 16.554-7.412 16.554-16.554v-12c0-9.142-7.412-16.554-16.554-16.554Zm-.554 17.107v10.893H32.553v-10.893h22.893ZM205.5 84v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0Zm0 28v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0Zm0 28v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0Zm0 28v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0ZM37.5 84v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0Zm0 28v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0Zm0 28v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0Zm0 28v4a7 7 0 0 0 14 0v-4a7 7 0 0 0-14 0ZM182.37 97.682c4.174-5.007 3.577-12.41-1.289-16.69l-.247-.21-22.712-18.928a8 8 0 0 0-10.452 12.112l.209.18L166.905 90l-19.026 15.854a8 8 0 0 0-1.197 11.053l.172.215a8 8 0 0 0 11.053 1.196l.215-.172 22.712-18.927a12 12 0 0 0 1.537-1.537Z" /><path d="M160 81.8a8 8 0 0 1 .25 15.996l-.25.004H80a8 8 0 0 1-.25-15.996L80 81.8h80ZM77.782 173.682c-4.174-5.007-3.576-12.41 1.29-16.69l.246-.21 22.713-18.928a8 8 0 0 1 10.45 12.112l-.207.18L93.247 166l19.027 15.854a8 8 0 0 1 1.196 11.053l-.172.215a8 8 0 0 1-11.053 1.196l-.214-.172-22.713-18.927a12 12 0 0 1-1.536-1.537Z" /><path d="M83.001 157.846a8 8 0 0 0-.25 15.996l.25.004H176a8 8 0 0 0 .25-15.996l-.25-.004H83.001Z" /></g></symbol>'});a.a.add(c);t.default=c},3366:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-vote",use:"ne-card-vote-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-vote"><g fill="currentColor" fill-rule="evenodd"><path d="M197 27c17.673 0 32 14.327 32 32v138c0 17.673-14.327 32-32 32H59c-17.673 0-32-14.327-32-32V59c0-17.673 14.327-32 32-32h138Zm0 20H59c-6.525 0-11.834 5.209-11.996 11.695L47 59v138c0 6.525 5.209 11.834 11.695 11.996L59 209h138c6.525 0 11.834-5.209 11.996-11.695L209 197V59c0-6.525-5.209-11.834-11.695-11.996L197 47Z" fill-rule="nonzero" /><path d="M82 73c-5.523 0-10 4.477-10 10v90c0 5.523 4.477 10 10 10s10-4.477 10-10V83c0-5.523-4.477-10-10-10ZM128 129c-5.523 0-10 4.477-10 10v34c0 5.523 4.477 10 10 10s10-4.477 10-10v-34c0-5.523-4.477-10-10-10ZM174 101c-5.523 0-10 4.477-10 10v62c0 5.523 4.477 10 10 10s10-4.477 10-10v-62c0-5.523-4.477-10-10-10Z" /></g></symbol>'});a.a.add(c);t.default=c},3367:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-xiami",use:"ne-card-xiami-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-xiami"><g fill="none" fill-rule="evenodd"><rect fill="#F5F5F5" width="24" height="24" rx="2.5" /><path d="m18.642 11.307-4.045-3.21c-.308-.212-.716-.158-.921.105-.05.106-.103.157-.103.263v6.742c0 .157 0 .368.103.474.153.157.308.263.51.263a.565.565 0 0 0 .409-.158l4.047-3.162A.902.902 0 0 0 19 11.94c0-.209-.155-.472-.358-.632Zm-3.79 2.634v-3.896l2.458 1.948-2.457 1.948Zm-3.478-6.636c.308.212.717.157.922-.105.205-.317.153-.737-.103-.949L9.581 4.197c-.205-.211-.563-.263-.869-.105-.308.157-.46.474-.46.79v3.214h-.256C6.869 8.096 6 8.991 6 10.15v3.634c0 1.106.922 2.054 1.996 2.054h.255v3.265c0 .317.206.632.461.791A.949.949 0 0 0 9.07 20a.84.84 0 0 0 .511-.157l2.61-2.054c.308-.211.358-.686.102-.949-.205-.317-.666-.368-.921-.105l-1.843 1.422v-2.265h.258c1.127 0 1.996-.894 1.996-2.054v-3.636c0-1.106-.922-2.054-1.996-2.054H9.53V5.883l1.843 1.422Zm-3.123 7.162h-.255c-.358 0-.666-.317-.666-.686v-3.63c0-.37.308-.686.666-.686h.255v5.002ZM9.84 9.465c.358 0 .666.317.666.685v3.634c0 .369-.308.686-.666.686h-.255V9.516h.255v-.051Z" fill="#FF410F" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3368:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-music163",use:"ne-card-music163-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-music163"><g fill-rule="nonzero" fill="none"><path d="M6.408 0h7.184c2.241 0 3.075.233 3.85.667a4.542 4.542 0 0 1 1.891 1.891c.434.775.667 1.609.667 3.85v7.184c0 2.225-.233 3.033-.667 3.85a4.542 4.542 0 0 1-1.891 1.891c-.834.434-1.625.667-3.85.667H6.408c-2.241 0-3.075-.233-3.85-.667a4.542 4.542 0 0 1-1.891-1.891C.233 16.667 0 15.833 0 13.592V6.408c0-2.241.233-3.075.667-3.85A4.542 4.542 0 0 1 2.558.667C3.333.233 4.167 0 6.408 0Z" fill="#E82202" /><path d="M12.958 2.575c.476.117.922.333 1.309.633a.975.975 0 0 1 .333.409.833.833 0 0 1-.075.775.833.833 0 0 1-1.142.258c-.091-.058-.158-.142-.25-.192a1.508 1.508 0 0 0-.833-.275.833.833 0 0 0-.533.275.592.592 0 0 0-.159.534l.309 1.158c.74.028 1.462.24 2.1.617.619.379 1.164.867 1.608 1.441a5 5 0 0 1 .833 1.667c.182.624.253 1.276.209 1.925a6.117 6.117 0 0 1-.334 1.6 6.267 6.267 0 0 1-2.5 3.067 6.667 6.667 0 0 1-2.758.966 6.9 6.9 0 0 1-2.025 0A6.667 6.667 0 0 1 5.4 15.5a7.167 7.167 0 0 1-1.892-6.608 7.033 7.033 0 0 1 4.217-5c.303-.12.644-.103.933.05.25.178.38.479.342.783a.833.833 0 0 1-.533.683 5.367 5.367 0 0 0-3.409 4.3 5.467 5.467 0 0 0 .3 2.65 5.383 5.383 0 0 0 2.5 2.884 4.875 4.875 0 0 0 2.275.55 5.683 5.683 0 0 0 1.909-.342 4.525 4.525 0 0 0 2.466-2.117 3.7 3.7 0 0 0 .317-.75 4.167 4.167 0 0 0 0-2.316 3.517 3.517 0 0 0-1.058-1.625 4.633 4.633 0 0 0-.7-.509 2.675 2.675 0 0 0-.7-.266c.166.666.35 1.333.525 2.008l.083.483a2.842 2.842 0 0 1-2.292 2.884 2.725 2.725 0 0 1-2-.375A3.008 3.008 0 0 1 7.5 11.333a3.642 3.642 0 0 1-.2-1.091 3.767 3.767 0 0 1 .633-2.3 4.167 4.167 0 0 1 2.317-1.6l-.2-.775a2.3 2.3 0 0 1 .125-1.667c.147-.29.35-.549.6-.758a2.45 2.45 0 0 1 .892-.55 2.5 2.5 0 0 1 1.291-.017Z" fill="#FFF" /><path d="M9.517 8.658a1.95 1.95 0 0 0-.492.934 2.5 2.5 0 0 0 0 .966c.063.359.26.68.55.9.244.167.546.224.833.159.526-.103.914-.55.942-1.084a3 3 0 0 0-.075-.383L10.7 7.975c-.447.12-.855.356-1.183.683Z" fill="#E82202" /></g></symbol>'});a.a.add(c);t.default=c},3369:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-music163-a",use:"ne-card-music163-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-music163-a"><path d="M172.802 18.99c.721.32 1.444.638 2.168.955l2.173.953c5.072 2.227 10.132 4.512 14.79 7.411 5.49 3.39 7.653 11.015 5.823 15.929-3.16 8.472-11.479 10.675-20.296 5.422-3.16-1.864-6.321-4.067-9.649-5.592-6.488-3.05-13.475 1.356-13.142 8.642.166 5.761 1.33 11.523 2.162 16.776 7.986 2.372 15.638 3.727 22.626 6.778 21.46 9.658 36.765 25.417 43.919 48.97 13.309 43.718-11.645 87.267-48.578 103.873-20.795 9.49-42.422 12.54-64.547 7.456-13.808-3.22-26.452-9.32-38.097-18.3-14.14-11.015-24.788-24.232-31.775-40.669-9.982-23.045-12.643-46.598-4.824-71.507 10.48-33.382 31.442-56.088 63.383-68.627 5.656-2.203 12.477.169 15.472 5.422 3.493 5.93 2.329 12.54-3.328 16.606-4.325 3.05-9.316 5.083-13.974 7.625-17.634 9.15-28.614 24.062-35.601 42.702-13.642 36.262 5.157 78.285 36.266 94.722 28.614 15.25 67.71 9.15 88.837-15.928 13.143-15.59 16.969-34.06 12.976-53.377-3.327-15.928-13.974-27.281-28.115-35.076-.665-.339-1.497-.508-2.329-.678-1.164-.508-2.163-.508-2.495-.508 2.162 12.539 4.824 24.4 6.155 36.6 1.996 18.132-15.804 35.077-29.612 39.821-21.793 7.626-46.914-10.505-52.57-31.687-6.488-24.74 6.987-54.901 29.446-64.73 2.495-1.185 4.99-2.202 7.486-3.388 4.02-1.85 3.39-4.626 2.522-7.447l-.114-.368-.057-.184-.114-.368c-.15-.49-.294-.979-.407-1.461-2.33-9.828-3.66-19.656 1.33-28.807 7.487-13.725 26.951-24.57 42.09-17.961ZM139.53 98.97c-20.961 4.914-30.444 26.603-21.294 44.057.452.873 1 1.691 1.624 2.447l.044.078c3.32 5.977 11.535 9.297 17.478 7.637 8.214-2.325 13.982-7.97 12.759-15.275-1.923-11.954-5.244-23.741-7.865-35.53-.652.137-1.293.288-1.923.452a389.37 389.37 0 0 1-.823-3.866Z" fill="gray" fill-rule="nonzero" /></symbol>'});a.a.add(c);t.default=c},3370:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-youku",use:"ne-card-youku-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-card-youku"><g fill-rule="nonzero" fill="none"><path d="M14.509 10.885a.103.103 0 0 1 .003-.005c.01-.017.02-.033.028-.05l.014-.024.01-.02c.11-.216.17-.454.173-.697v-.049a1.578 1.578 0 0 0-.173-.696l-.01-.02a1.35 1.35 0 0 0-.143-.223l-.001-.002a1.587 1.587 0 0 0-.16-.18c-.002 0-.003-.002-.005-.003a1.591 1.591 0 0 0-.195-.16l-.017-.01-4.936-3.313a1.58 1.58 0 0 0-1.192-.24 1.591 1.591 0 0 0-.578 2.88l2.969 1.992-2.97 1.992a1.591 1.591 0 0 0 .579 2.88 1.58 1.58 0 0 0 1.192-.24l4.936-3.312.017-.012.03-.02.043-.033.022-.017c.035-.028.068-.058.1-.088l.005-.004a1.6 1.6 0 0 0 .26-.326h-.001Z" fill="#FF4A4A" /><path d="M19.214 6.107A9.963 9.963 0 0 0 17.07 2.93 9.966 9.966 0 0 0 10 0C8.307 0 6.633.431 5.16 1.248a10.069 10.069 0 0 0-3.543 3.298A9.962 9.962 0 0 0 0 10a9.963 9.963 0 0 0 2.929 7.071A9.966 9.966 0 0 0 10 20c1.63 0 3.25-.402 4.682-1.162a10.08 10.08 0 0 0 3.5-3.087A9.938 9.938 0 0 0 20 10c0-1.35-.264-2.66-.786-3.893ZM10 16.833A6.84 6.84 0 0 1 3.167 10c0-1.33.382-2.617 1.103-3.725A6.818 6.818 0 0 1 10 3.167 6.84 6.84 0 0 1 16.833 10a6.786 6.786 0 0 1-1.24 3.928A6.848 6.848 0 0 1 10 16.833Z" fill="#38CEFF" /><path d="M17.798 13.544a1.584 1.584 0 1 0-1.823 2.59 1.584 1.584 0 0 0 1.823-2.59ZM2.08 6.737a1.583 1.583 0 1 0 1.73-2.653 1.583 1.583 0 0 0-1.73 2.653Z" fill="#0B99FF" /><path d="M14.736 10.04a1.6 1.6 0 0 0-.172-.697l-.01-.02a.806.806 0 0 0-.014-.024l-.028-.05-.003-.004a1.508 1.508 0 0 0-.099-.145v-.001a1.608 1.608 0 0 0-.16-.18c-.002 0-.003-.002-.005-.004a1.637 1.637 0 0 0-.123-.105l-.043-.033-.03-.02a1.59 1.59 0 0 0-1.786-.012l-1.967 1.32 1.967 1.32a1.582 1.582 0 0 0 1.787-.012l.03-.02a1.55 1.55 0 0 0 .165-.139l.005-.004c.057-.055.11-.115.16-.179v-.001a1.729 1.729 0 0 0 .099-.145c0-.002.002-.004.003-.005.01-.016.02-.033.028-.05.005-.008.01-.015.013-.023l.01-.02a1.6 1.6 0 0 0 .174-.722v-.025Z" fill="#F5001A" /></g></symbol>'});a.a.add(c);t.default=c},3371:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-youku-a",use:"ne-card-youku-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-youku-a"><g fill="gray" fill-rule="nonzero"><path d="M127.5 17C189.08 17 239 66.92 239 128.5S189.08 240 127.5 240 16 190.08 16 128.5 65.92 17 127.5 17Zm0 34C84.698 51 50 85.698 50 128.5S84.698 206 127.5 206s77.5-34.698 77.5-77.5S170.302 51 127.5 51Z" /><path d="M92.886 79.347c5.282-7.62 15.676-9.587 23.366-4.484l.29.197 51.75 35.87c9.985 6.922 12.47 20.629 5.547 30.615a22 22 0 0 1-5.463 5.489l-.46.314-51.664 34.253c-7.825 5.188-18.375 3.05-23.563-4.775-5.124-7.729-3.102-18.115 4.488-23.368l.287-.195 36.912-24.473-37.203-25.786c-7.62-5.282-9.586-15.676-4.484-23.366l.197-.29Z" /></g></symbol>'});a.a.add(c);t.default=c},3372:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-ali",use:"ne-card-ali-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-ali"><g fill="gray" fill-rule="evenodd"><path d="M113 25.113 46.397 63.566a30 30 0 0 0-15 25.981v76.906a30 30 0 0 0 15 25.98L113 230.888a30 30 0 0 0 30 0l66.603-38.453a30 30 0 0 0 15-25.981V89.547a30 30 0 0 0-15-25.98L143 25.112a30 30 0 0 0-30 0Zm20 17.32 66.603 38.454a10 10 0 0 1 5 8.66v76.906a10 10 0 0 1-5 8.66L133 213.566a10 10 0 0 1-10 0l-66.603-38.453a10 10 0 0 1-5-8.66V89.547a10 10 0 0 1 5-8.66L123 42.434a10 10 0 0 1 10 0Z" fill-rule="nonzero" /><path d="m138 33.774 66.603 38.452a19.987 19.987 0 0 1 7.25 7.202L127.5 128v96.9a19.986 19.986 0 0 1-9.5-2.674l-66.603-38.452a20 20 0 0 1-10-17.321V89.547a20 20 0 0 1 10-17.32L118 33.773a20 20 0 0 1 20 0Z" /></g></symbol>'});a.a.add(c);t.default=c},3373:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-ali-a",use:"ne-card-ali-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-ali-a"><g fill="gray" fill-rule="evenodd"><path d="M113 25.113 46.397 63.566a30 30 0 0 0-15 25.981v76.906a30 30 0 0 0 15 25.98L113 230.888a30 30 0 0 0 30 0l66.603-38.453a30 30 0 0 0 15-25.981V89.547a30 30 0 0 0-15-25.98L143 25.112a30 30 0 0 0-30 0Zm20 17.32 66.603 38.454a10 10 0 0 1 5 8.66v76.906a10 10 0 0 1-5 8.66L133 213.566a10 10 0 0 1-10 0l-66.603-38.453a10 10 0 0 1-5-8.66V89.547a10 10 0 0 1 5-8.66L123 42.434a10 10 0 0 1 10 0Z" fill-rule="nonzero" /><path d="m138 33.774 66.603 38.452a19.987 19.987 0 0 1 7.25 7.202L127.5 128v96.9a19.986 19.986 0 0 1-9.5-2.674l-66.603-38.452a20 20 0 0 1-10-17.321V89.547a20 20 0 0 1 10-17.32L118 33.773a20 20 0 0 1 20 0Z" /></g></symbol>'});a.a.add(c);t.default=c},3374:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-premium",use:"ne-card-premium-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" id="ne-card-premium"><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><rect stroke="#E8E8E8" fill="#FFF" width="24" height="24" rx="1" /><path d="M12 6.75a5.25 5.25 0 1 0 0 10.5 5.25 5.25 0 0 0 0-10.5Zm0 9.61a4.36 4.36 0 1 1 .001-8.72A4.36 4.36 0 0 1 12 16.36Zm1.87-6.856h-.697a.092.092 0 0 0-.083.051l-1.062 2.11h-.04l-1.061-2.11a.094.094 0 0 0-.084-.051h-.711a.094.094 0 0 0-.082.14l1.305 2.4h-.72a.094.094 0 0 0-.093.093v.35c0 .052.042.094.094.094h.957v.485h-.957a.094.094 0 0 0-.094.094v.35c0 .052.042.094.094.094h.957v.798c0 .052.043.094.094.094h.636a.094.094 0 0 0 .094-.094v-.798h.961a.094.094 0 0 0 .094-.093v-.35a.094.094 0 0 0-.094-.095h-.96v-.486h.96a.094.094 0 0 0 .094-.094v-.35a.094.094 0 0 0-.094-.094h-.726l1.302-2.4a.1.1 0 0 0 .011-.044.096.096 0 0 0-.095-.094Z" opacity=".65" fill="currentColor" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3375:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-thirdparty",use:"ne-card-thirdparty-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-thirdparty"><g fill="currentColor" fill-rule="evenodd"><path d="M197 27c17.673 0 32 14.327 32 32v138c0 17.673-14.327 32-32 32H59c-17.673 0-32-14.327-32-32V59c0-17.673 14.327-32 32-32h138Zm0 20H59c-6.525 0-11.834 5.209-11.996 11.695L47 59v138c0 6.525 5.209 11.834 11.695 11.996L59 209h138c6.525 0 11.834-5.209 11.996-11.695L209 197V59c0-6.525-5.209-11.834-11.695-11.996L197 47Z" fill-rule="nonzero" /><path d="M27 81h202v20H27z" /><path d="M174.309 119.188a8 8 0 0 0-12.94 9.406l.158.218L178.987 152l-17.46 23.188a8 8 0 0 0 1.366 11.037l.213.166a8 8 0 0 0 11.037-1.366l.166-.213 21.082-28a8 8 0 0 0 .174-9.384l-.174-.24-21.082-28ZM81.692 119.188a8 8 0 0 1 12.94 9.406l-.158.218L77.014 152l17.46 23.188a8 8 0 0 1-1.367 11.037l-.212.166a8 8 0 0 1-11.038-1.366l-.165-.213-21.083-28a8 8 0 0 1-.174-9.384l.174-.24 21.083-28ZM133.695 120.739a8 8 0 0 1 14.712 6.284l-.102.238-25 56a8 8 0 0 1-14.712-6.284l.102-.238 25-56Z" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3376:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-thirdparty-unavailable",use:"ne-card-thirdparty-unavailable-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="ne-card-thirdparty-unavailable"><path d="M9 13.156a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Zm11 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0ZM16 2C8.269 2 2 8.269 2 16s6.269 14 14 14 14-6.269 14-14S23.731 2 16 2Zm8.219 22.219a11.626 11.626 0 0 1-3.697 2.493c-1.428.607-2.95.913-4.522.913s-3.094-.306-4.525-.913a11.575 11.575 0 0 1-3.697-2.493A11.56 11.56 0 0 1 4.375 16a11.575 11.575 0 0 1 3.406-8.222A11.56 11.56 0 0 1 16 4.375a11.575 11.575 0 0 1 8.222 3.406A11.56 11.56 0 0 1 27.625 16c0 1.572-.306 3.094-.913 4.525a11.528 11.528 0 0 1-2.493 3.694ZM16 16.656a5.012 5.012 0 0 0-5 4.738.25.25 0 0 0 .25.262h1.503c.131 0 .244-.1.253-.231a3.003 3.003 0 0 1 5.987 0c.01.131.123.231.254.231h1.503a.25.25 0 0 0 .25-.262 5.012 5.012 0 0 0-5-4.738Z" fill="currentColor" fill-rule="nonzero" opacity=".2" /></symbol>'});a.a.add(c);t.default=c},3377:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc",use:"ne-card-local-doc-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc"><g fill="currentColor" fill-rule="evenodd"><path d="M198 28H58c-16.569 0-30 13.431-30 30v96c0 16.569 13.431 30 30 30h140c16.569 0 30-13.431 30-30V58c0-16.569-13.431-30-30-30ZM58 48h140c5.523 0 10 4.477 10 10v96c0 5.523-4.477 10-10 10H58c-5.523 0-10-4.477-10-10V58c0-5.523 4.477-10 10-10Z" fill-rule="nonzero" /><path d="M118 167h20v53h-20z" /><rect x="68" y="220" width="120" height="20" rx="10" /><path d="M109.411 72.856c10.808-8.464 25.961-8.502 36.804-.148l.36.282 25.075 19.93c4.324 3.437 5.043 9.728 1.606 14.051-3.375 4.247-9.503 5.016-13.817 1.787l-.233-.18-25.076-19.931a10 10 0 0 0-12.143-.231l-.245.186-25.564 20.02c-4.349 3.405-10.634 2.641-14.04-1.707-3.344-4.27-2.666-10.41 1.479-13.854l.23-.185 25.564-20.02Z" fill-rule="nonzero" /><path d="M128 76c5.43 0 9.848 4.327 9.996 9.72L138 86v53c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72L118 139V86c0-5.523 4.477-10 10-10Z" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3378:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-pdf",use:"ne-card-local-doc-pdf-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-local-doc-pdf"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625Zm-2.846 7.126c-.44-.018-.846.228-.95.61-.168.616-.069 1.427.288 2.811-.455 1.085-1.056 2.358-1.46 3.067-.539.278-.958.53-1.31.81-.465.37-.756.75-.836 1.15-.038.185.02.427.153.625.151.225.379.37.652.392.689.053 1.535-.657 2.47-2.26l.314-.106.34-.115c.214-.072.37-.124.524-.174.667-.217 1.172-.354 1.631-.432.798.427 1.72.707 2.342.707.513 0 .859-.266.984-.684.11-.368.023-.794-.213-1.03-.244-.24-.693-.354-1.302-.374a9.073 9.073 0 0 0-1.416.085c-.693-.428-1.16-1.015-1.491-1.878l.03-.124.036-.148c.122-.517.188-.895.208-1.275a3.128 3.128 0 0 0-.052-.798c-.094-.53-.47-.84-.942-.86Zm-1.81 6.86-.237.368-.133.202c-.307.454-.587.79-.831 1.02a1.828 1.828 0 0 1-.266.214.485.485 0 0 1-.076.04.122.122 0 0 1-.033.009.066.066 0 0 1-.033-.005.059.059 0 0 1-.037-.054v-.01l.004-.01.043-.099c.032-.067.073-.136.12-.207.125-.187.297-.384.51-.593.115-.112.235-.222.375-.344.03-.028.23-.201.268-.235l.327-.296Zm1.793-2.881.061.108.132.223c.32.51.71.937 1.135 1.246l.104.076-.127.026-.202.045a9.427 9.427 0 0 0-1.32.437c.062-.025-.63.254-.805.32l-.153.057.082-.14.133-.236c.31-.566.603-1.234.916-2.046l.044-.116Zm3.122 1.793c.561-.03.966.012 1.214.107.118.045.198.102.233.168.038.07.02.145-.04.19a.193.193 0 0 1-.062.04c-.228.093-.718.01-1.58-.375l-.22-.098.238-.018ZM11.643 9.31c.178 0 .26.311.266.78.006.41-.053.839-.15 1.026l-.06.115-.037-.126-.04-.153a5.576 5.576 0 0 1-.119-.941c-.019-.438.013-.7.14-.7Z" fill="#DE5F31" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#F0B7A2" /></g></symbol>'});a.a.add(c);t.default=c},3379:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-pdf-a",use:"ne-card-local-doc-pdf-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-pdf-a"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm-30.351 76.01c-4.7-.191-9.02 2.431-10.125 6.502-1.799 6.574-.745 15.232 3.067 29.99-4.857 11.577-11.272 25.146-15.577 32.714-5.745 2.963-10.223 5.66-13.98 8.648-4.96 3.945-8.055 7.998-8.909 12.262-.412 1.971.21 4.553 1.63 6.666 1.612 2.397 4.041 3.952 6.953 4.178 7.348.571 16.376-7.004 26.342-24.111l.766-.254.803-.268 1.786-.6 3.623-1.226a518.336 518.336 0 0 1 5.59-1.86c7.118-2.316 12.502-3.781 17.404-4.613 8.51 4.555 18.35 7.543 24.976 7.543 5.47 0 9.164-2.835 10.5-7.296 1.173-3.92.241-8.465-2.274-10.977-2.604-2.559-7.392-3.783-13.89-3.993-4.616-.148-9.526.204-15.104.902-7.392-4.56-12.367-10.824-15.902-20.025l.323-1.333c.144-.595.264-1.093.378-1.577 1.306-5.515 2.013-9.54 2.22-13.597.158-3.065-.011-5.892-.555-8.51-1.003-5.654-5.005-8.96-10.045-9.165Zm-19.301 73.178-2.531 3.921-.383.59c-3.69 5.648-7.029 9.744-9.907 12.447-1.093 1.027-2.058 1.789-2.834 2.275-.32.201-.597.347-.814.432-.128.05-.24.081-.353.092a.704.704 0 0 1-.348-.049.627.627 0 0 1-.395-.58v-.108l.039-.103.158-.391c.389-.918.921-1.875 1.587-2.87 1.336-1.994 3.171-4.093 5.446-6.325A95.946 95.946 0 0 1 98 170.844c.335-.293 2.466-2.14 2.864-2.5l3.484-3.156Zm19.122-30.739.648 1.159.355.624c3.577 6.21 8.148 11.394 13.158 15.042l1.115.813-1.359.276-.584.121c-4.663.99-9.1 2.442-14.95 4.74l-.668.264c.05-.018-1.932.78-4.053 1.627l-.912.363a284.886 284.886 0 0 1-3.655 1.436l-1.63.615.87-1.489.358-.62c3.696-6.437 7.134-14.138 10.83-23.734l.477-1.237Zm31.561 19.232c6.89-.49 11.796-.069 14.686 1.037 1.263.483 2.107 1.093 2.482 1.791.405.754.22 1.553-.42 2.037-.139.137-.357.284-.67.412-2.428 1.002-7.652.106-16.853-3.997l-2.336-1.042 2.533-.195ZM124.19 99.319c1.901 0 2.773 3.32 2.842 8.31.061 4.388-.572 8.954-1.607 10.952l-.637 1.23-.392-1.347-.119-.42c-.817-3.012-1.409-7.336-1.578-11.253-.202-4.669.138-7.472 1.49-7.472Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /></g></symbol>'});a.a.add(c);t.default=c},3380:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-design",use:"ne-card-local-doc-design-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-local-doc-design"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625ZM9.564 12.335l2.544 4.935.014-.03v-4.897l-2.558-.008Zm2.56.008v4.896l2.52-4.888-2.52-.008Zm3.116.01-2.284 4.43 3.792-4.425-1.508-.005Zm-7.767-.025 3.743 4.37-2.25-4.365-1.493-.005Zm7.764-2.831.094 2.301.004.004 1.594.006-1.692-2.311Zm-3.114-.25v2.545l2.523.008-2.523-2.553Zm-.015-.016-2.52 2.553 2.534.008V9.246l-.014-.015Zm-3.049.196-1.72 2.35 1.474.004.246-2.354Zm2.761-.61-2.356.264-.09 2.22 2.446-2.483Zm.572-.003 2.363 2.399-.088-2.145-2.275-.254Z" fill="#F7AD2D" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#FBDAA0" /></g></symbol>'});a.a.add(c);t.default=c},3381:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-design-a",use:"ne-card-local-doc-design-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-design-a"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm-24.83 172.46-.513.167.66.772v-.891l-.146-.048Zm.159.051v.888l.595-.694-.595-.194Zm-27.292-56.938 27.134 52.64.147-.285V131.66l-27.281-.087Zm27.292.087v52.246l26.887-52.16-26.887-.086Zm33.246.107-24.361 47.262 40.445-47.211-16.084-.05Zm-82.858-.266 39.953 46.636-24.013-46.585-15.94-.051ZM162.55 101.3l.998 24.548.044.045 17.008.054-18.05-24.647Zm-33.222-2.664v27.147l26.906.086-26.906-27.233Zm-.158-.16-26.893 27.221 27.04.086V98.625l-.147-.149Zm-32.515 2.061-18.37 25.083 15.74.05 2.63-25.133Zm29.44-6.486-25.123 2.805-.964 23.694 26.087-26.499Zm6.112-.039 25.199 25.597-.931-22.887-24.268-2.71Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /></g></symbol>'});a.a.add(c);t.default=c},3382:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-video",use:"ne-card-local-doc-video-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-video"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm-18.238 100H86.61A8.61 8.61 0 0 0 78 124.61v34.78a8.61 8.61 0 0 0 8.61 8.61h49.152a8.61 8.61 0 0 0 8.61-8.61v-34.78a8.61 8.61 0 0 0-8.61-8.61Zm42.647 1.178a2.87 2.87 0 0 0-4.023-.535l-16.539 12.661a8.61 8.61 0 0 0-3.376 6.836v11.72a8.61 8.61 0 0 0 3.376 6.836l16.539 12.66a2.87 2.87 0 0 0 4.614-2.278v-46.156a2.87 2.87 0 0 0-.591-1.744Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /></g></symbol>'});a.a.add(c);t.default=c},3383:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-audio",use:"ne-card-local-doc-audio-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-audio"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm-24.161 78.156a5.599 5.599 0 0 0-5.599 5.598v55.41c-.002 1.898-.06 5.015-1.936 6.979-1.946 2.036-3.677 2.384-5.67 2.384h-8.878c-4.327 0-8.897 1.928-11.427 4.455-2.53 2.528-4.329 5.388-4.329 8.782 0 3.909 1.494 7.09 4.482 9.546 2.988 2.46 6.747 3.69 11.274 3.69 5.976 0 13.66-.582 18.864-3.945 5.205-3.362 6.52-9.856 6.52-14.453v-54.048a5.599 5.599 0 0 1 6.758-5.478l13.479 2.854a7.144 7.144 0 0 0 8.623-6.99c0-5.111-3.638-9.5-8.661-10.448l-22.462-4.24a5.599 5.599 0 0 0-1.038-.096Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /></g></symbol>'});a.a.add(c);t.default=c},3384:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-mindmap",use:"ne-card-local-doc-mindmap-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-local-doc-mindmap"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625Zm2.25 10.283c-1.498.193-2.627.63-3.389 1.31-1.142 1.022-1.422 1.721-1.553 3.431-.006.081-.01.249-.01.502v.445c0 .34.004.767.01 1.279.154-.762.742-1.45 1.766-2.064.756-.454 1.77-1.38 2.564-2.948.351-.692.555-1.344.611-1.955ZM7.313 8.961c.446 1.262.284 3.513.369 4.201a4.538 4.538 0 0 0 2.157 3.35c.49.303.888.609 1.189.917a6.394 6.394 0 0 0-.725-1.498c-.628-.961-1.204-3.175.237-5.082l.166-.221c-1.365-1.061-2.97-1.57-3.393-1.667Zm5.125-.617c-.043.437-.54 1.289-1.492 2.556-1.428 1.901-.858 4.108-.236 5.066.303.465.539.953.708 1.462v-.696c0-.253.004-.42.01-.501.129-1.707.404-2.406 1.529-3.425.362-.329.81-.6 1.343-.814-.128-1.585-.748-2.8-1.862-3.648Z" fill="#8B6AD4" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#CBBCEB" /></g></symbol>'});a.a.add(c);t.default=c},3385:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-mindmap-a",use:"ne-card-local-doc-mindmap-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-mindmap-a"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm24 109.686c-15.972 2.053-28.02 6.711-36.143 13.974-12.184 10.895-15.172 18.358-16.563 36.596-.08 1.05-.122 3.45-.124 7.203v.72c.002 3.922.044 9.195.124 15.821 1.637-8.123 7.914-15.46 18.829-22.012 8.066-4.841 18.882-14.726 27.36-31.452 3.74-7.381 5.913-14.33 6.517-20.85ZM78 95.585c4.758 13.462 3.038 37.471 3.94 44.812.9 7.341 4.74 24.47 23.01 35.736 5.22 3.22 9.445 6.471 12.672 9.755-1.84-5.566-4.415-10.885-7.728-15.955-6.699-10.253-12.838-33.864 2.535-54.208.607-.804 1.197-1.592 1.77-2.365C99.636 102.045 82.52 96.618 78 95.585ZM132.672 89c-.458 4.66-5.763 13.75-15.917 27.268-15.231 20.279-9.149 43.813-2.512 54.032 3.22 4.959 5.739 10.156 7.553 15.59v-.002l-.004-.665a877.341 877.341 0 0 1-.013-3.639v-1.661c.004-3.52.045-5.785.12-6.795 1.37-18.207 4.311-25.657 16.305-36.534 3.87-3.509 8.644-6.409 14.324-8.699-1.361-16.894-7.98-29.859-19.856-38.895Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /><path d="M178 125.686c-.604 6.52-2.777 13.469-6.518 20.85-8.477 16.726-19.293 26.61-27.359 31.452-10.915 6.552-17.192 13.889-18.83 22.012-.08-6.626-.12-11.9-.123-15.821v-.72c.002-3.753.044-6.154.124-7.203 1.391-18.238 4.379-25.701 16.563-36.596 8.123-7.263 20.17-11.92 36.143-13.974ZM132.672 89c11.876 9.036 18.495 22.001 19.856 38.895-5.68 2.29-10.454 5.19-14.324 8.7-11.994 10.876-14.934 18.326-16.304 36.533-.076 1.01-.117 3.275-.121 6.795v1.114c0 1.436.006 3.054.017 4.853-1.814-5.434-4.332-10.631-7.553-15.59-6.637-10.219-12.719-33.753 2.512-54.032C126.909 102.75 132.215 93.66 132.672 89ZM78 95.585c4.521 1.033 21.636 6.46 36.199 17.775-.573.773-1.163 1.561-1.77 2.365-15.373 20.344-9.234 43.955-2.535 54.208 3.313 5.07 5.889 10.389 7.728 15.955-3.227-3.284-7.451-6.536-12.672-9.755-18.27-11.267-22.11-28.395-23.01-35.736-.902-7.34.818-31.35-3.94-44.812Z" fill="#FFF" /></g></symbol>'});a.a.add(c);t.default=c},3386:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-ms-office",use:"ne-card-local-doc-ms-office-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-local-doc-ms-office"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625Zm1.601 7.62a.75.75 0 0 0-.92.528l-1.21 4.481-1.16-3.887-.055-.114-.054-.08-.058-.066-.082-.072-.083-.055-.092-.044-.051-.018-.09-.023-.098-.011-.109.002-.092.014-.052.014-.095.035a.745.745 0 0 0-.244.177l-.025.029-.038.05-.033.052-.053.111-1.161 3.886-1.21-4.48-.033-.097a.75.75 0 0 0-1.415.487l1.898 7.031.038.11c.265.62 1.2.595 1.405-.09l1.18-3.958 1.18 3.957.04.108c.282.613 1.216.565 1.402-.127l1.899-7.03.02-.1a.75.75 0 0 0-.549-.82Z" fill="#4E86E6" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#A9C6F3" /></g></symbol>'});a.a.add(c);t.default=c},3387:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-ms-office-a",use:"ne-card-local-doc-ms-office-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-ms-office-a"><g fill="none" fill-rule="evenodd"><path d="M62 16h92l64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /><path d="M171.085 97.277a8.002 8.002 0 0 1 5.85 8.741l-.212 1.067-20.25 75c-1.99 7.371-11.955 7.888-14.956 1.355l-.433-1.154-12.583-42.211-12.585 42.21c-2.181 7.317-12.156 7.574-14.986.965l-.403-1.165-20.25-75a8 8 0 0 1 15.093-5.2l.353 1.03 12.906 47.794 12.384-41.446.566-1.192.349-.553.408-.536.263-.304a7.945 7.945 0 0 1 2.606-1.886l1.01-.376.562-.146.978-.155 1.168-.023 1.048.125.952.24.544.196.981.472.89.585.867.763.624.712.57.842.58 1.216 12.384 41.466 12.914-47.794a8 8 0 0 1 9.808-5.638Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3388:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-mac-office",use:"ne-card-local-doc-mac-office-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-local-doc-mac-office"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625Zm.313 6.938H9.383l-.11.007a.83.83 0 0 0-.69.599l-.997 3.563-.023.11-.008.114.007.104c.051.41.4.726.823.726h2.958v2.652h-.653a.656.656 0 0 0 0 1.312h2.754a.656.656 0 1 0 0-1.313h-.789V13.66h3.094l.113-.007.11-.023a.83.83 0 0 0 .576-1.023l-.998-3.563-.036-.104a.83.83 0 0 0-.763-.502Zm-.366 1.312.727 2.598h-6.09l.726-2.598h4.637Z" fill="#4E86E6" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#A9C6F3" /></g></symbol>'});a.a.add(c);t.default=c},3389:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-mac-office-a",use:"ne-card-local-doc-mac-office-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-local-doc-mac-office-a"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm3.344 74h-57.258l-.27.004a8.854 8.854 0 0 0-8.256 6.463l-10.642 38.007-.1.39a8.854 8.854 0 0 0-.228 1.997l.004.261a8.854 8.854 0 0 0 8.85 8.593l31.555-.001V174h-6.976a7 7 0 0 0 0 14h29.384a7 7 0 0 0 0-14h-8.408v-28.286l32.987.001.403-.01a8.854 8.854 0 0 0 8.123-11.231L165.87 96.467l-.077-.26a8.854 8.854 0 0 0-8.45-6.207Zm-3.901 13.997 7.754 27.712h-64.97l7.754-27.712h49.462Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /><path d="M157.344 90a8.854 8.854 0 0 1 8.526 6.467l10.642 38.007a8.854 8.854 0 0 1-8.526 11.241l-32.987-.001V174h8.408a7 7 0 0 1 0 14h-29.384a7 7 0 0 1 0-14H121v-28.286l-31.555.001a8.854 8.854 0 0 1-8.85-8.593l-.004-.261c0-.807.11-1.61.328-2.387L91.56 96.467A8.854 8.854 0 0 1 100.086 90Zm-3.901 13.997H103.98l-7.754 27.712h64.97l-7.754-27.712Z" fill="#FFF" /></g></symbol>'});a.a.add(c);t.default=c},3390:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-local-doc-plus",use:"ne-card-local-doc-plus-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="ne-card-local-doc-plus"><g transform="translate(-1 -1)" fill="currentColor" fill-rule="evenodd"><rect x="1.75" y="13.063" width="12.5" height="1.25" rx=".625" /><path d="M11.08 5.016a.625.625 0 0 0 .73-1.013l-.014-.01-2.721-1.904a1.875 1.875 0 0 0-2.126-.017l-.024.017-2.72 1.903a.625.625 0 0 0 .7 1.035l.016-.01 2.72-1.904a.625.625 0 0 1 .7-.011l.017.01 2.721 1.904Z" fill-rule="nonzero" /><rect x="7.375" y="2.438" width="1.25" height="9.375" rx=".625" /></g></symbol>'});a.a.add(c);t.default=c},3391:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-arrow",use:"ne-card-arrow-usage",viewBox:"0 0 7 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 12" id="ne-card-arrow"><path d="M.432 10.971a.78.78 0 0 0 1.017.076l.087-.075 4.42-4.42a.781.781 0 0 0 .075-1.017l-.075-.088-4.42-4.418a.781.781 0 0 0-1.18 1.016l.075.088L4.3 6 .434 9.867a.781.781 0 0 0-.077 1.017l.075.087Z" fill="#595959" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3392:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-audio-play",use:"ne-card-audio-play-usage",viewBox:"0 0 1024 1024",content:'<symbol viewBox="0 0 1024 1024" fill="currentColor" aria-hidden="true" id="ne-card-audio-play"><path d="M363.995 433.664v376.32a150.016 150.016 0 1 1-79.981-132.681V200.009c0-19.456 13.97-36.096 33.17-39.424L865.17 65.573a40.01 40.01 0 0 1 46.812 39.424v608.987A150.016 150.016 0 1 1 832 581.303V352.512l-468.005 81.152zm0-81.189L832 271.323V152.54l-468.005 81.116v118.82zM214.016 880.018a69.998 69.998 0 1 0 0-140.032 69.998 69.998 0 0 0 0 139.996zm547.986-96a69.998 69.998 0 1 0 0-140.032 69.998 69.998 0 0 0 0 139.996z" /></symbol>'});a.a.add(c);t.default=c},3393:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-csv",use:"ne-ext-csv-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-csv"><defs><filter x="-11.1%" y="-14.3%" width="144.4%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-csv_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.125490196 0 0 0 0 0.258823529 0 0 0 0 0.168627451 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-csv_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="6" y="14">X</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#1F9952" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-csv_a)" xlink:href="#ne-ext-csv_b" /><use xlink:href="#ne-ext-csv_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3394:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-doc",use:"ne-ext-doc-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-doc"><defs><filter x="-8.3%" y="-14.3%" width="133.3%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-doc_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.145098039 0 0 0 0 0.274509804 0 0 0 0 0.568627451 0 0 0 0.45 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-doc_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="4" y="14">W</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#3777D6" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-doc_a)" xlink:href="#ne-ext-doc_b" /><use xlink:href="#ne-ext-doc_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3395:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-docx",use:"ne-ext-docx-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-docx"><defs><filter x="-8.3%" y="-14.3%" width="133.3%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-docx_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.145098039 0 0 0 0 0.274509804 0 0 0 0 0.568627451 0 0 0 0.45 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-docx_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="4" y="14">W</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#3777D6" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-docx_a)" xlink:href="#ne-ext-docx_b" /><use xlink:href="#ne-ext-docx_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3396:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-eddx",use:"ne-ext-eddx-usage",viewBox:"0 0 28 34",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 34" id="ne-ext-eddx"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-ext-eddx_a"><stop stop-color="#FFF" offset="0%" /><stop stop-color="#F4F4F4" offset="100%" /></linearGradient><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-ext-eddx_b"><stop stop-color="#FFF" offset="0%" /><stop stop-color="#FAFAFA" offset="100%" /></linearGradient></defs><g fill="none" fill-rule="evenodd"><path d="M19 0H1.991A2.001 2.001 0 0 0 0 2v30c0 1.108.892 2 1.991 2H26.01A2.001 2.001 0 0 0 28 32V10h-9V0Z" fill="currentColor" fill-rule="nonzero" /><path d="M19 0H1.991A2.001 2.001 0 0 0 0 2v30c0 1.108.892 2 1.991 2H26.01A2.001 2.001 0 0 0 28 32V10h-9V0Z" fill="url(#ne-ext-eddx_a)" fill-rule="nonzero" /><path d="M18.5.5v10h9V32c0 .826-.673 1.5-1.491 1.5H1.99A1.493 1.493 0 0 1 .5 32V2c0-.826.673-1.5 1.491-1.5H18.5Z" stroke="#CCC" /><g fill="#D8D8D8" fill-rule="nonzero"><path d="M3 6h11v1H3zM15 6h2v1h-2zM3 4h6v1H3zM3 8h5v1H3zM10 8h5v1h-5zM16 8h5v1h-5zM3 10h11v1H3zM3 12h7v1H3zM12 12h7v1h-7zM3 14h5v1H3z" /></g><path d="m17.993.002 1.005.002L28 10.013V11H18z" fill="currentColor" fill-rule="nonzero" /><path d="m.993.002 1.005.002L11 10.013V11H1z" fill="url(#ne-ext-eddx_b)" fill-rule="nonzero" transform="translate(17)" /><path stroke="#CCC" d="M18.493.503h.282l8.725 9.702v.295h-9z" /><path d="M13.06 27.07v-1H8.91v-2.16h3.74v-1H8.91v-1.98h3.98v-1H7.74v7.14h5.32Zm3.71 0c1.16 0 2.03-.32 2.63-.96.57-.61.86-1.48.86-2.61 0-1.14-.29-2.01-.86-2.61-.6-.64-1.47-.96-2.63-.96h-2.61v7.14h2.61Zm-.22-1h-1.22v-5.14h1.22c.89 0 1.54.2 1.95.61.4.4.6 1.06.6 1.96 0 .88-.2 1.53-.6 1.95-.41.41-1.06.62-1.95.62Z" stroke="#F39014" stroke-width=".2" fill="#F39014" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3397:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-eps",use:"ne-ext-eps-usage",viewBox:"0 0 28 34",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 34" id="ne-ext-eps"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-ext-eps_a"><stop stop-color="#FFF" offset="0%" /><stop stop-color="#F4F4F4" offset="100%" /></linearGradient><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-ext-eps_b"><stop stop-color="#FFF" offset="0%" /><stop stop-color="#FAFAFA" offset="100%" /></linearGradient></defs><g fill="none" fill-rule="evenodd"><path d="M19 0H1.991A2.001 2.001 0 0 0 0 2v30c0 1.108.892 2 1.991 2H26.01A2.001 2.001 0 0 0 28 32V10h-9V0Z" fill="currentColor" fill-rule="nonzero" /><path d="M19 0H1.991A2.001 2.001 0 0 0 0 2v30c0 1.108.892 2 1.991 2H26.01A2.001 2.001 0 0 0 28 32V10h-9V0Z" fill="url(#ne-ext-eps_a)" /><path d="M18.5.5v10h9V32c0 .826-.673 1.5-1.491 1.5H1.99A1.493 1.493 0 0 1 .5 32V2c0-.826.673-1.5 1.491-1.5H18.5Z" stroke="#CCC" /><g fill="#D8D8D8" fill-rule="nonzero"><path d="M3 6h11v1H3zM15 6h2v1h-2zM3 4h6v1H3zM3 8h5v1H3zM10 8h5v1h-5zM16 8h5v1h-5zM3 10h11v1H3zM3 12h7v1H3zM12 12h7v1h-7zM3 14h5v1H3z" /></g><path d="m17.993.002 1.005.002L28 10.013V11H18z" fill="currentColor" fill-rule="nonzero" /><path d="m.993.002 1.005.002L11 10.013V11H1z" fill="url(#ne-ext-eps_b)" transform="translate(17)" /><path stroke="#CCC" d="M18.493.503h.282l8.725 9.702v.295h-9z" /><path d="M10.4 26.868v-.877H6.507v-2.142h3.512v-.877H6.508v-1.963h3.734v-.877H5.5v6.736h4.9Zm2.033 0v-2.623h1.71c1.581 0 2.376-.688 2.376-2.066 0-1.368-.786-2.047-2.357-2.047h-2.736v6.736h1.007Zm1.646-3.5h-1.646v-2.359h1.646c.49 0 .85.095 1.081.283.231.17.351.472.351.887 0 .415-.12.717-.342.906-.23.189-.591.283-1.09.283ZM19.865 27c.832 0 1.48-.17 1.942-.51.462-.348.693-.82.693-1.424 0-.623-.287-1.104-.85-1.453-.26-.16-.842-.377-1.73-.66-.618-.189-.997-.33-1.145-.415-.333-.18-.49-.415-.49-.717 0-.34.138-.585.425-.736.231-.132.564-.198.998-.198.5 0 .87.094 1.128.292.259.189.425.51.518.944h.998c-.065-.736-.323-1.274-.786-1.623-.434-.34-1.035-.5-1.802-.5-.703 0-1.285.16-1.747.481-.49.34-.73.802-.73 1.396 0 .585.249 1.038.757 1.35.204.113.703.292 1.516.556.73.226 1.165.377 1.313.453.416.217.629.51.629.887 0 .302-.148.537-.444.707-.296.17-.693.264-1.193.264-.554 0-.961-.103-1.23-.311-.295-.226-.48-.613-.554-1.141h-.998c.055.849.351 1.471.897 1.867.453.321 1.081.491 1.885.491Z" stroke="#F39014" stroke-width=".3" fill="#F39014" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3398:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-key",use:"ne-ext-key-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-key"><g fill="none" fill-rule="evenodd"><rect fill="#00A9FA" width="40" height="40" rx="4" /><path d="M28.927 12.154a.543.543 0 0 0-.54-.52h-14.86v-1.525c0-.313.25-.566.558-.566h2.73a1.09 1.09 0 0 0 1.011.683h1.435c.605 0 1.095-.497 1.095-1.113 0-.615-.49-1.113-1.095-1.113h-1.435c-.454 0-.846.28-1.01.683h-2.718c-.78 0-1.412.643-1.412 1.435v1.511h-1.074a.545.545 0 0 0-.539.52l-.391 7.801h18.64l-.395-7.796ZM10 20.652c0 .502.4.905.89.905h18.22c.494 0 .89-.408.89-.905H10ZM24.708 30.76h-2.966c-.642 0-1.167-.53-1.167-1.185v-7.068a.58.58 0 0 0-.575-.584.58.58 0 0 0-.575.584v7.072c0 .652-.52 1.186-1.167 1.186h-2.966a.58.58 0 0 0-.575.583v.068a.58.58 0 0 0 .575.584h9.416a.58.58 0 0 0 .575-.584v-.068a.582.582 0 0 0-.575-.588Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3399:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-keynote",use:"ne-ext-keynote-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-keynote"><g fill="none" fill-rule="evenodd"><rect fill="#00A9FA" width="40" height="40" rx="4" /><path d="M28.927 12.154a.543.543 0 0 0-.54-.52h-14.86v-1.525c0-.313.25-.566.558-.566h2.73a1.09 1.09 0 0 0 1.011.683h1.435c.605 0 1.095-.497 1.095-1.113 0-.615-.49-1.113-1.095-1.113h-1.435c-.454 0-.846.28-1.01.683h-2.718c-.78 0-1.412.643-1.412 1.435v1.511h-1.074a.545.545 0 0 0-.539.52l-.391 7.801h18.64l-.395-7.796ZM10 20.652c0 .502.4.905.89.905h18.22c.494 0 .89-.408.89-.905H10ZM24.708 30.76h-2.966c-.642 0-1.167-.53-1.167-1.185v-7.068a.58.58 0 0 0-.575-.584.58.58 0 0 0-.575.584v7.072c0 .652-.52 1.186-1.167 1.186h-2.966a.58.58 0 0 0-.575.583v.068a.58.58 0 0 0 .575.584h9.416a.58.58 0 0 0 .575-.584v-.068a.582.582 0 0 0-.575-.588Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3400:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-mindnode",use:"ne-ext-mindnode-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40" id="ne-ext-mindnode"><defs><linearGradient x1="66.443%" y1="23.913%" x2="45.029%" y2="80.21%" id="ne-ext-mindnode_a"><stop stop-color="#655AC9" offset="0%" /><stop stop-color="#AB85D6" offset="100%" /></linearGradient><linearGradient x1="55.798%" y1="23.913%" x2="48.247%" y2="80.21%" id="ne-ext-mindnode_c"><stop stop-color="#655AC9" offset="0%" /><stop stop-color="#AB85D6" offset="100%" /></linearGradient><linearGradient x1="42.446%" y1="59.07%" x2="54.356%" y2="11.766%" id="ne-ext-mindnode_f"><stop stop-color="#6DDCDF" offset="0%" /><stop stop-color="#00A5D5" offset="100%" /></linearGradient><linearGradient x1="68.958%" y1="8.955%" x2="25.205%" y2="83.867%" id="ne-ext-mindnode_i"><stop stop-color="#FF5D66" offset="0%" /><stop stop-color="#FFD45A" offset="100%" /></linearGradient><path d="M12.966 24.404c-.483.84-.998 1.705-1.547 2.596-.55-1.523-1.066-2.494-1.548-2.914-3.506-3.054-6.194-3.885-7.936-7.575C.623 13.73.775 7.77.775 6.41c0-.861-.233-2.304-.698-4.33a.193.193 0 0 1 .25-.227c3.989 1.312 7.05 2.971 9.18 4.978.678-1.148 1.463-2.312 2.3-3.53.39-.568.874-1.586 1.45-3.051a.194.194 0 0 1 .307-.076C15.524 1.87 17.003 4.531 18 8.158c.217.79.291 1.69.223 2.702 1.569-.751 3.405-1.313 5.51-1.685a.193.193 0 0 1 .224.223c-.42 2.51-1.503 5.14-3.247 7.89-1.434 2.26-3.484 3.302-6.968 6.216-.224.186-.482.486-.776.9Z" id="ne-ext-mindnode_b" /><path d="M13.564.175C15.524 1.87 17.003 4.531 18 8.158c1.032 3.756-1.161 10.036-6.58 18.842-.271-1.853-.594-3.148-.968-3.885-1.755-3.455-3.534-6.32-3.29-9.712.252-3.525 2.23-6.588 4.644-10.1.391-.57.875-1.587 1.451-3.052a.194.194 0 0 1 .307-.076Z" id="ne-ext-mindnode_e" /><path d="M23.957 9.398c-.42 2.51-1.503 5.14-3.247 7.89-1.434 2.26-3.484 3.302-6.968 6.216-.556.465-1.33 1.63-2.323 3.496.011-1.533.011-2.698 0-3.496-.038-2.805.192-5.605 1.549-7.964 1.903-3.312 5.492-5.433 10.765-6.365a.193.193 0 0 1 .224.223Z" id="ne-ext-mindnode_h" /><filter x="-40.5%" y="-12.5%" width="163%" height="125.5%" filterUnits="objectBoundingBox" id="ne-ext-mindnode_d"><feOffset dx="-1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0" in="shadowBlurOuter1"></feColorMatrix></filter><filter x="-35.8%" y="-19.3%" width="155.3%" height="138.9%" filterUnits="objectBoundingBox" id="ne-ext-mindnode_g"><feOffset dx="-1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g fill="none" fill-rule="evenodd"><rect fill="#F7F7F7" width="40" height="40" rx="4" /><g transform="translate(8 7)"><use fill="url(#ne-ext-mindnode_a)" xlink:href="#ne-ext-mindnode_b" /><path d="M.326 1.854c6.202 2.04 10.158 4.918 11.868 8.635 1.739 3.782 1.48 9.286-.775 16.511-.55-1.523-1.066-2.494-1.548-2.914-3.506-3.054-6.194-3.885-7.936-7.575C.623 13.73.775 7.77.775 6.41c0-.861-.233-2.304-.698-4.33a.193.193 0 0 1 .25-.227Z" fill="url(#ne-ext-mindnode_c)" /><use fill="#000" filter="url(#ne-ext-mindnode_d)" xlink:href="#ne-ext-mindnode_e" /><use fill="url(#ne-ext-mindnode_f)" xlink:href="#ne-ext-mindnode_e" /><use fill="#000" filter="url(#ne-ext-mindnode_g)" xlink:href="#ne-ext-mindnode_h" /><use fill="url(#ne-ext-mindnode_i)" xlink:href="#ne-ext-mindnode_h" /></g></g></symbol>'});a.a.add(c);t.default=c},3401:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-mmad",use:"ne-ext-mmad-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40" id="ne-ext-mmad"><defs><path d="M16.802 20.576a12.134 12.134 0 0 0-5.723-1.425c-2.068 0-4.016.515-5.723 1.425H.475A.475.475 0 0 1 0 20.1V.475C0 .213.213 0 .475 0h6.4c.247 0 .472.144.575.368L11 8.058l3.55-7.69A.633.633 0 0 1 15.124 0h6.401c.262 0 .475.213.475.475V20.1a.475.475 0 0 1-.475.475h-4.723Z" id="ne-ext-mmad_a" /><path d="M16.802 20.576a12.134 12.134 0 0 0-5.723-1.425c-2.068 0-4.016.515-5.723 1.425h-.133L14.55.368A.633.633 0 0 1 15.124 0h6.401c.262 0 .475.213.475.475V20.1a.475.475 0 0 1-.475.475h-4.723Z" id="ne-ext-mmad_b" /></defs><g fill="none" fill-rule="evenodd"><rect fill="#3A4FA6" width="40" height="40" rx="4" /><g transform="translate(9 10)"><use fill="#FFF" xlink:href="#ne-ext-mmad_a" /><use fill="#D1D2D4" xlink:href="#ne-ext-mmad_b" /><path fill="#A7A9AC" d="M11.08 8.072 4.905 21.367h12.188z" /></g></g></symbol>'});a.a.add(c);t.default=c},3402:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-numbers",use:"ne-ext-numbers-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-numbers"><g fill="none" fill-rule="evenodd"><rect fill="#1AE119" width="40" height="40" rx="4" /><path d="M8.366 25.239h4.58c.203 0 .367.164.367.366v3.17a.366.366 0 0 1-.366.367h-4.58A.366.366 0 0 1 8 28.775v-3.17c0-.202.164-.366.366-.366Zm6.23-5.204h4.58c.202 0 .366.164.366.367v8.373a.366.366 0 0 1-.366.367h-4.58a.366.366 0 0 1-.367-.367v-8.373c0-.203.164-.367.366-.367ZM20.823 10h4.58c.203 0 .367.164.367.366v18.41a.366.366 0 0 1-.366.366h-4.58a.366.366 0 0 1-.367-.367V10.366c0-.202.164-.366.366-.366Zm6.23 5.575h4.58c.202 0 .366.164.366.367v12.833a.366.366 0 0 1-.366.367h-4.58a.366.366 0 0 1-.367-.367V15.942c0-.203.164-.367.366-.367ZM8.457 30.071h23.084c.253 0 .458.205.458.458v.013a.458.458 0 0 1-.458.458H8.458A.458.458 0 0 1 8 30.542v-.013c0-.253.205-.458.458-.458Z" fill="#FFF" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3403:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-pages",use:"ne-ext-pages-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-pages"><g fill="none" fill-rule="evenodd"><rect width="40" height="40" rx="4" fill="#FFBC31" /><g fill="#FFF" fill-rule="nonzero"><path d="m9.976 28.681.903.89-1.118.651a.345.345 0 0 1-.418-.055.352.352 0 0 1-.05-.436l.683-1.05ZM27.579 9.97l1.967 1.946L13.78 27.803c-.344.35-.731.65-1.155.896l-1.414.731-1.057-1.05.774-1.418c.252-.387.541-.749.867-1.074L27.58 9.969Zm4.524-.546L29.89 11.65l-1.967-1.946 2.213-2.228a1.381 1.381 0 0 1 1.955-.006c.547.534.547 1.405.012 1.952ZM39.983 31.32c-.013.29-.031.578-.068.86H8.703v-.86h31.28Z" /></g></g></symbol>'});a.a.add(c);t.default=c},3404:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-pdf",use:"ne-ext-pdf-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-pdf"><defs><filter x="-8.3%" y="-16.7%" width="133.3%" height="133.3%" filterUnits="objectBoundingBox" id="ne-ext-pdf_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.4 0 0 0 0 0.134439834 0 0 0 0 0.0564315353 0 0 0 0.35 0" in="shadowBlurOuter1"></feColorMatrix></filter><path d="M14.02 10.335c.772.024 1.34.17 1.65.474.299.298.41.838.27 1.304-.158.53-.597.867-1.247.867-.788 0-1.957-.355-2.968-.896-.582.099-1.222.273-2.067.548-.195.063-.393.129-.665.22l-.43.146-.399.134c-1.184 2.032-2.256 2.932-3.13 2.864a1.086 1.086 0 0 1-.825-.496c-.17-.251-.243-.558-.194-.792.101-.507.47-.988 1.058-1.457.447-.355.979-.675 1.661-1.027.512-.9 1.274-2.512 1.851-3.887-.453-1.754-.578-2.782-.364-3.563.131-.484.644-.796 1.203-.773.598.024 1.074.417 1.193 1.089.065.311.085.647.066 1.011-.025.482-.109.96-.264 1.616a35.06 35.06 0 0 1-.045.187l-.038.158c.42 1.094 1.011 1.838 1.89 2.38a11.499 11.499 0 0 1 1.794-.107Zm-8.963 4.641c0 .03.018.058.046.07a.08.08 0 0 0 .04.005.148.148 0 0 0 .04-.01.594.594 0 0 0 .095-.052c.09-.058.202-.15.329-.272.345-.333.748-.844 1.193-1.554l.294-.467-.404.376-.333.298c-.173.156-.32.295-.462.438a4.932 4.932 0 0 0-.631.754 2.005 2.005 0 0 0-.203.389l-.004.012v.013Zm4.551-7.889c.133-.235.214-.772.206-1.288-.008-.588-.12-.978-.364-.978-.173 0-.217.33-.19.879.022.483.104 1.018.217 1.373l.05.159.081-.145ZM9.398 9.2c-.444 1.173-.856 2.106-1.303 2.883l-.1.177.189-.073c.217-.083 1.077-.435.999-.404.752-.303 1.302-.487 1.892-.608l.158-.033-.13-.096c-.603-.447-1.151-1.087-1.574-1.855l-.075-.137-.056.146Zm5.698 2.757a.242.242 0 0 0 .078-.047.168.168 0 0 0 .05-.228c-.045-.078-.143-.146-.291-.2-.348-.128-.945-.174-1.787-.112l-.296.022.273.117c1.077.46 1.689.56 1.973.448Z" id="ne-ext-pdf_b" /></defs><g fill="none" fill-rule="evenodd"><rect fill="#F15122" width="20" height="20" rx="2" /><use fill="#000" filter="url(#ne-ext-pdf_a)" xlink:href="#ne-ext-pdf_b" /><use fill="#FFF" xlink:href="#ne-ext-pdf_b" /></g></symbol>'});a.a.add(c);t.default=c},3405:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-ppt",use:"ne-ext-ppt-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-ppt"><defs><filter x="-12.5%" y="-14.3%" width="150%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-ppt_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.5 0 0 0 0 0.162179487 0 0 0 0 0.075 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-ppt_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="6" y="14">P</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#D95536" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-ppt_a)" xlink:href="#ne-ext-ppt_b" /><use xlink:href="#ne-ext-ppt_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3406:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-pptx",use:"ne-ext-pptx-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-pptx"><defs><filter x="-12.5%" y="-14.3%" width="150%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-pptx_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.5 0 0 0 0 0.162179487 0 0 0 0 0.075 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-pptx_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="6" y="14">P</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#D95536" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-pptx_a)" xlink:href="#ne-ext-pptx_b" /><use xlink:href="#ne-ext-pptx_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3407:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-psd",use:"ne-ext-psd-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-psd"><g fill="none" fill-rule="evenodd"><rect stroke="#0DF" stroke-width="2" fill="#002732" x="1" y="1" width="38" height="38" rx="4" /><path d="M12.423 22.53v6.167H9V11h5.532c3.997 0 6 1.864 6 5.598 0 1.811-.605 3.266-1.812 4.357-1.207 1.09-2.72 1.613-4.531 1.568h-1.766v.007Zm0-8.606v5.712h1.483c2.01 0 3.018-.962 3.018-2.894 0-1.878-.993-2.818-2.988-2.818h-1.513Zm9.904 11.379c1.146.773 2.27 1.152 3.37 1.152 1.383 0 2.078-.41 2.078-1.22 0-.576-.573-1.06-1.711-1.455-1.422-.485-2.408-1.03-2.935-1.628-.535-.599-.802-1.41-.802-2.425 0-1.242.458-2.212 1.368-2.916.909-.705 2.109-1.053 3.591-1.053 1.055 0 2.063.174 3.042.515v2.901a5.333 5.333 0 0 0-2.95-.871c-.535 0-.963.106-1.284.31-.328.213-.489.485-.489.826 0 .576.481 1.046 1.452 1.402 1.04.379 1.819.727 2.338 1.038.52.31.917.727 1.192 1.235.275.507.413 1.098.413 1.772 0 1.303-.474 2.311-1.421 3.03-.948.72-2.216 1.084-3.798 1.084-1.246 0-2.4-.22-3.454-.652v-3.045Z" fill="#01D1F8" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3408:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-rp",use:"ne-ext-rp-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-rp"><defs><radialGradient cx="95.631%" cy="47.629%" fx="95.631%" fy="47.629%" r="117.282%" gradientTransform="scale(-1 -.55965) rotate(-1.247 -61.006 87.718)" id="ne-ext-rp_a"><stop stop-color="#16A4DD" offset="0%" /><stop stop-color="#2A84C8" offset="77.608%" /><stop stop-color="#5B69B5" offset="100%" /></radialGradient><linearGradient x1="22.726%" y1="26.656%" x2="59.862%" y2="64.417%" id="ne-ext-rp_b"><stop stop-color="#73BD3A" offset="0%" /><stop stop-color="#73BD3A" offset="100%" /></linearGradient></defs><g fill="none" fill-rule="evenodd"><rect fill="#F7F7F7" width="40" height="40" rx="4" /><path d="m11.423 12.93-7.099 9.662a1 1 0 0 1-.806.408H1a1 1 0 0 1-.806-1.592l7.678-10.45-6.88-9.366A1 1 0 0 1 1.796 0h2.518a1 1 0 0 1 .806.408l7.75 10.55-1.448 1.972Z" fill="url(#ne-ext-rp_a)" transform="translate(10 9)" /><path d="m14.973 8.097-2.5-3.403 3.15-4.286A1 1 0 0 1 16.427 0h2.519a1 1 0 0 1 .805 1.592l-4.779 6.505Z" fill="url(#ne-ext-rp_b)" transform="translate(10 9)" /><path d="m25.372 23.36 5.178 7.048A1 1 0 0 1 29.744 32h-2.519a1 1 0 0 1-.805-.408l-3.548-4.829 2.5-3.403Z" fill="#EE1985" /></g></symbol>'});a.a.add(c);t.default=c},3409:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-sketch",use:"ne-ext-sketch-usage",viewBox:"0 0 37 36",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 37 36" id="ne-ext-sketch"><defs><path id="ne-ext-sketch_b" d="M6.506.962 0 9.421l14.473 15.993 14.6-15.993L22.875.962z" /><path id="ne-ext-sketch_d" d="m14.536 0-8.03 9.423h16.425z" /><radialGradient cx="50%" cy="77.791%" fx="50%" fy="77.791%" r="100%" gradientTransform="matrix(0 1 -.6016 0 .968 .278)" id="ne-ext-sketch_c"><stop stop-color="#FBB84E" offset="0%" /><stop stop-color="#F35800" offset="100%" /></radialGradient><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-ext-sketch_e"><stop stop-color="#FCFDFD" offset="0%" /><stop stop-color="#FFCE00" stop-opacity=".324" offset="92.116%" /><stop stop-color="#FFEF96" offset="100%" /></linearGradient><filter x="-17.2%" y="-16.4%" width="134.4%" height="140.9%" filterUnits="objectBoundingBox" id="ne-ext-sketch_a"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g fill="none" fill-rule="evenodd"><rect fill="#D0D0D0" width="37" height="36" rx="3" /><g transform="translate(4 6)"><use fill="#000" filter="url(#ne-ext-sketch_a)" xlink:href="#ne-ext-sketch_b" /><use fill="#FE6901" xlink:href="#ne-ext-sketch_b" /><use fill="url(#ne-ext-sketch_c)" xlink:href="#ne-ext-sketch_b" /></g><path fill="#FFCE00" d="M10.506 6.962v8.78l8.03 15.672 8.395-15.673V6.962L18.543 6z" /><g transform="translate(4 6)"><use fill="#FFEEB8" xlink:href="#ne-ext-sketch_d" /><use fill="url(#ne-ext-sketch_e)" xlink:href="#ne-ext-sketch_d" /></g><path fill="#FFA701" d="M10.506 6.962 4 15.422h6.506zM26.93 6.962v8.46l6.143-.001z" /></g></symbol>'});a.a.add(c);t.default=c},3410:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-xd",use:"ne-ext-xd-usage",viewBox:"0 0 240 234",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 234" id="ne-ext-xd"><path style="fill:#ff26be" d="M197.5 234h-155C19 234 0 215 0 191.5v-149C0 19 19 0 42.5 0h155C221 0 240 19 240 42.5v149c0 23.5-19 42.5-42.5 42.5z" /><path style="fill:#2e001f" d="M193.7 224H46.3c-20 0-36.3-16.3-36.3-36.3V46.3C10 26.3 26.3 10 46.3 10h147.3c20.1 0 36.3 16.3 36.3 36.3v141.3c.1 20.1-16.2 36.4-36.2 36.4z" /><path style="fill:#ffd9f2" d="m94.9 109.5 28 53.8c.5.8.2 1.6-.6 1.6h-17.4c-1.1 0-1.6-.3-2.1-1.3-6.4-13.2-12.9-26.4-19.6-40.6H83c-6 13.4-12.6 27.5-19 40.7-.5.8-1 1.1-1.8 1.1H45.7c-1 0-1.1-.8-.6-1.4l27.4-52.2L46 58.4c-.6-.8 0-1.4.6-1.4h17.2c1 0 1.4.2 1.8 1.1 6.3 13.2 12.7 26.8 18.7 40.1h.2c5.8-13.2 12.2-26.9 18.4-40 .5-.8.8-1.3 1.8-1.3h16.1c.8 0 1.1.6.6 1.4l-26.5 51.2zm32.9 16.3c0-23.3 15.5-41.5 40.1-41.5 2.1 0 3.2 0 5.2.2V58c0-.6.5-1 1-1h15.8c.8 0 1 .3 1 .8v91.8c0 2.7 0 6.1.5 9.8 0 .6-.2.8-.8 1.1-8.4 4-17.2 5.8-25.6 5.8-21.7.1-37.2-13.3-37.2-40.5zm45.3-25.6c-1.4-.6-3.4-1-5.8-1-12.6 0-21.4 9.7-21.4 25.8 0 18.4 9 25.8 20.3 25.8 2.4 0 5-.3 6.9-1.1v-49.5z" /></symbol>'});a.a.add(c);t.default=c},3411:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-xls",use:"ne-ext-xls-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-xls"><defs><filter x="-11.1%" y="-14.3%" width="144.4%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-xls_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.125490196 0 0 0 0 0.258823529 0 0 0 0 0.168627451 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-xls_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="6" y="14">X</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#1F9952" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-xls_a)" xlink:href="#ne-ext-xls_b" /><use xlink:href="#ne-ext-xls_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3412:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-xlsx",use:"ne-ext-xlsx-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-ext-xlsx"><defs><filter x="-11.1%" y="-14.3%" width="144.4%" height="128.6%" filterUnits="objectBoundingBox" id="ne-ext-xlsx_a"><feOffset dx="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0.125490196 0 0 0 0 0.258823529 0 0 0 0 0.168627451 0 0 0 0.4 0" in="shadowBlurOuter1"></feColorMatrix></filter><text id="ne-ext-xlsx_b" font-family="Helvetica" font-size="12" font-weight="normal" fill="#FFF">\n            <tspan x="6" y="14">X</tspan>\n        </text></defs><g fill="none" fill-rule="evenodd"><rect fill="#1F9952" width="20" height="20" rx="2" /><g fill="#FFF"><use filter="url(#ne-ext-xlsx_a)" xlink:href="#ne-ext-xlsx_b" /><use xlink:href="#ne-ext-xlsx_b" /></g></g></symbol>'});a.a.add(c);t.default=c},3413:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-ext-xmind",use:"ne-ext-xmind-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-ext-xmind"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ne-ext-xmind_a"><stop stop-color="#FF5E13" offset="0%" /><stop stop-color="#E71C33" offset="100%" /></linearGradient></defs><g fill="none" fill-rule="evenodd"><rect width="40" height="40" rx="4" fill="url(#ne-ext-xmind_a)" /><path d="m5.86 13.203 8.28-1.094c1.98 3.594 3.959 5.287 5.938 5.079 1.98-.209 2.969-1.641 2.969-4.297l7.11-1.172c.322 2.24.244 3.621-.235 4.14-1.875 2.032-3.672.782-4.922 3.047 1.016 1.016 4.007 1.822 7.11 4.063.937.677 1.64 1.77 2.109 3.281l-8.36 1.094c-1.852-3.474-4.222-5.089-7.109-4.844-3.073.26-4.818 1.823-5.234 4.688l-7.032 1.171c-.156-1.666.26-3.047 1.25-4.14 1.485-1.64 3.016-1.661 5.313-2.5.36-.132.96-.497 1.797-1.094a508.838 508.838 0 0 1-5.86-3.281c-1.458-.834-2.5-2.214-3.125-4.14Z" fill="#FFF" opacity=".85" /></g></symbol>'});a.a.add(c);t.default=c},3414:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-yuque",use:"ne-card-yuque-usage",viewBox:"0 0 42 42",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42" id="ne-card-yuque"><defs><path d="m30 3.797-2.433-.13S26.647.453 22.423.164C18.2-.125 15.437.056 15.437.056s3.133 1.987 1.877 5.531c-.933 1.912-2.409 3.474-3.982 5.269L2.927 22.683c9.686-.142 15.396-.212 17.13-.212 4.867 0 8.979-4.203 8.81-8.879-.115-3.213-1.143-3.94-1.496-5.347-.353-1.407.354-3.652 2.629-4.448Z" id="ne-card-yuque_a" /><path d="M13.488 10.937c.968-.884 3.595-2.47 7.033-.43 1.11.659 3.071 2.679 1.683 6.818-.403 1.2-1.649 3.283-3.865 5.164-2.294.015-7.43.08-15.412.194l9.875-10.993c.214-.24.426-.474.635-.705Z" id="ne-card-yuque_c" /><radialGradient cx="38.175%" cy="86.078%" fx="38.175%" fy="86.078%" r="98.042%" gradientTransform="matrix(.58508 -.71579 .59971 .69832 -.358 .533)" id="ne-card-yuque_b"><stop stop-color="#25B864" offset="0%" /><stop stop-color="#FFF" stop-opacity=".8" offset="100%" /></radialGradient><linearGradient x1="52.439%" y1="27.778%" x2="74.031%" y2="67.384%" id="ne-card-yuque_d"><stop stop-color="#FFF" offset="0%" /><stop stop-color="#FFF" offset="100%" /></linearGradient></defs><g fill="none" fill-rule="evenodd"><path d="M4 0h34a4 4 0 0 1 4 4v34a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4Z" fill="#25B864" /><g transform="translate(6 8)"><use fill="#FFF" xlink:href="#ne-card-yuque_a" /><use fill-opacity=".2" fill="url(#ne-card-yuque_b)" xlink:href="#ne-card-yuque_a" /></g><path d="M19.172 19.148C14.05 24.678 6 33.478 6 33.478c14.482 3.634 21.155-5.186 22.2-8.239 1.4-4.094-.579-6.091-1.699-6.743-3.798-2.209-6.616-.117-7.329.652Z" fill="#FFF" /><g opacity=".448" transform="translate(6 8)"><use fill="#FFF" xlink:href="#ne-card-yuque_c" /><use fill-opacity=".65" fill="url(#ne-card-yuque_d)" xlink:href="#ne-card-yuque_c" /></g></g></symbol>'});a.a.add(c);t.default=c},3415:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-yuque-main",use:"ne-card-yuque-main-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-yuque-main"><g fill="currentColor" fill-rule="nonzero"><path d="m125.415 25.414 2.387.002 2.347.006 3.449.018 3.36.028 2.193.024 2.154.029 3.16.051 3.072.062 2.988.072 2.903.082 2.817.094 1.832.068 1.794.073 2.622.118 1.701.086 1.665.09 1.628.095 1.59.1 1.555.105 2.263.167 1.463.118 1.428.123 1.39.128 1.356.133 1.32.139 1.283.144.629.074 1.23.152.602.078 1.178.16.575.082 1.125.168 1.09.174 1.054.179 1.02.185.985.19.95.196c.311.066.617.133.916.201l.882.208c2.306.56 4.247 1.181 5.833 1.866 8.913 3.85 16.177 10.99 21.88 21.104l.164.295h8.778c9.894 0 13.73 12.785 5.634 18.263l-.826.54c-3.076 2.043-6.141 4.697-9.184 7.98l-.326.362c-1.74 1.984-2.631 3.957-3.036 7.268l-.068.618-.059.648-.025.336-.043.7-.035.734-.014.38-.022.792-.014.832-.007.874v.485l.008.104.021.121.05.197.103.315.159.41.222.52.363.8.482 1.017.98 2.007 1.751 3.507C231.386 113.252 234 121.834 234 133c0 21.268-6.099 37.982-18.07 52.435C203.637 200.273 180.92 212 161.376 212l-36.69.001c10.538-5.562 20.45-12.423 29.044-20l7.646-.001c13.141 0 30.1-8.676 38.845-18.96l.305-.364C209.545 161.79 214 149.581 214 133c0-7.535-1.778-13.37-5.762-21.391l-.394-.79-1.08-2.137-1.001-2.006-.44-.908c-.139-.293-.272-.576-.399-.853l-.366-.813c-.118-.266-.23-.528-.34-.789-1.433-3.409-2.218-6.429-2.218-9.651 0-.203 0-.404.002-.604l.012-1.184.01-.581.033-1.14c.291-8.433 1.76-14.443 5.671-20.072l.177-.251-.116-.12a9.985 9.985 0 0 1-1.67-2.422l-.13-.272c-4.185-9.22-9.14-14.765-14.716-17.173l-.315-.13-.167-.065-.354-.127-.379-.126-.198-.063-.417-.123-.442-.122-.467-.12-.492-.12-.517-.116-.822-.172-.877-.169-.934-.164-.989-.16-1.044-.156-1.099-.152-1.154-.148-.8-.097-1.671-.186-1.768-.18-1.864-.17-1.46-.123-1.004-.08-2.077-.152-1.62-.11-2.243-.137-2.335-.13-1.813-.09-3.137-.141-2.613-.103-3.394-.115-2.818-.082-2.159-.055.114.223c2.62 5.277 3.97 10.957 3.97 17 0 8.466-2.508 16.43-7.15 24.403-.16.274-.32.546-.482.817l-.49.807-.498.8-.508.796-.521.793-.534.794-.55.796a87.61 87.61 0 0 1-.281.4l-.576.804-.295.406-.605.818c-.205.275-.414.552-.627.832l.117-.156c-7.946.644-15.26 3.32-19.612 8.09-4.24 4.646-35.185 39.817-92.836 105.511-3.91-3.4-4.939-9.707-.963-14.21l46.664-52.908 24.367-27.699 11.004-12.567 3.21-3.69 5.468-6.352 1.23-1.448.789-.94.763-.919.738-.9.713-.881.69-.863.664-.846.641-.829.312-.408.605-.805c.1-.132.197-.264.294-.396l.571-.782.548-.767.526-.754.254-.372.492-.734.47-.722c.153-.238.303-.475.449-.71l.427-.7c.416-.694.801-1.372 1.155-2.038l.344-.662.324-.654.155-.325.294-.643c1.566-3.522 2.25-6.761 2.25-10.187 0-6.977-3.766-13.247-12.299-19.322l-.234-.171c-7.617-5.725-3.605-17.975 6.034-17.975Z" /><path d="m111.915 97.341-.865.958-2.971 3.334L96.446 114.8 71.89 142.708 29.55 190.92l-15.652 17.835c-5.1 5.812-4.523 14.657 1.289 19.757a14 14 0 0 0 6.266 3.159c35.486 7.697 66.441 6.497 92.71-3.838C157.55 210.764 194 172.69 194 140.174c0-15.543-5.1-28.548-14.085-38.28-7.346-7.959-16.98-13.253-26.07-15.001-15.967-3.07-32.83.474-41.93 10.448Zm38.152 9.192c4.93.948 10.728 4.134 15.152 8.926 5.58 6.044 8.781 14.207 8.781 24.715 0 22.704-30.596 54.663-67.161 69.049l-.706.274c-19.558 7.519-42.713 9.142-69.568 4.71l-.736-.123 30.819-35.106 37.748-42.945 10.914-12.386 7.007-7.927 3.93-4.411.442-.487c3.73-4.088 13.617-6.166 23.378-4.29Z" /></g></symbol>'});a.a.add(c);t.default=c},3416:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-design",use:"ne-yuque-design-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="ne-yuque-design"><g fill="none" fill-rule="evenodd"><path d="M3.719 3.281h8.312c.242 0 .438.196.438.438v8.312a.437.437 0 0 1-.438.438H3.72a.437.437 0 0 1-.438-.438V3.72c0-.242.196-.438.438-.438zm.547 8.203h7.218V4.266H4.266v7.218z" fill="#FFC53D" fill-rule="nonzero" /><path d="M1.969 1.531h8.422c.06 0 .109.05.109.11v.765c0 .06-.05.11-.11.11H2.517v7.875a.11.11 0 0 1-.11.109h-.765a.11.11 0 0 1-.11-.11V1.97c0-.242.196-.438.438-.438z" fill="#FFDD80" fill-rule="nonzero" /><g transform="translate(5.852 6.508)" fill="#FFC53D"><path d="m2.457.838-.82 1.003-.434-.53a.087.087 0 0 0-.133 0L.018 2.598c-.043.053-.004.13.067.13h3.877c.07 0 .11-.077.067-.13L2.589.838a.087.087 0 0 0-.132 0" /><circle cx=".405" cy=".404" r="1" /></g></g></symbol>'});a.a.add(c);t.default=c},3417:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-doc",use:"ne-yuque-doc-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" id="ne-yuque-doc"><defs><path d="M2 0h12.172a2 2 0 0 1 1.414.586l3.828 3.828A2 2 0 0 1 20 5.828V18a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-yuque-doc_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-yuque-doc_a" /><path d="M14.395 0c.354 0 .693.14.943.39l4.271 4.272c.25.25.391.59.391.943v13.062c0 .736-.597 1.333-1.333 1.333H1.333A1.333 1.333 0 0 1 0 18.667V1.333C0 .597.597 0 1.333 0h13.062Zm0 .611H1.333a.722.722 0 0 0-.722.722v17.334c0 .399.323.722.722.722h17.334a.722.722 0 0 0 .722-.722V5.605a.722.722 0 0 0-.093-.355h-3.518c-.568 0-1.028-.46-1.028-1.028V.704a.722.722 0 0 0-.355-.093Zm.966.667v2.944c0 .23.187.417.417.417h2.943l-3.36-3.361Z" fill="#D9D9D9" fill-rule="nonzero" /><g transform="translate(6.154 6.923)" fill="#3EA2FF"><path d="M0 0h7.692v1.231H0z" /><rect y="2.462" width="7.692" height="1.231" rx=".5" /><rect y="4.923" width="5.128" height="1.231" rx=".5" /></g></g></symbol>'});a.a.add(c);t.default=c},3418:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-mind",use:"ne-yuque-mind-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-yuque-mind"><g fill-rule="nonzero" fill="none"><path d="M2.143.714H14.05c.379 0 .742.15 1.01.419l3.806 3.806c.268.268.419.631.419 1.01V17.857c0 .79-.64 1.429-1.429 1.429H2.143c-.79 0-1.429-.64-1.429-1.429V2.143c0-.79.64-1.429 1.429-1.429Z" fill="#FFF" /><path d="M14.081.714c.329 0 .644.13.876.363l3.966 3.966c.232.232.363.547.363.876v12.129c0 .683-.555 1.238-1.238 1.238H1.952a1.238 1.238 0 0 1-1.238-1.238V1.952c0-.683.555-1.238 1.238-1.238h12.13Zm0 .568H1.952c-.37 0-.67.3-.67.67v16.096c0 .37.3.67.67.67h16.096c.37 0 .67-.3.67-.67V5.918a.67.67 0 0 0-.086-.328h-3.267a.954.954 0 0 1-.954-.955V1.368a.67.67 0 0 0-.33-.086Zm.897.619v2.734c0 .214.173.387.387.387h2.733L14.978 1.9Z" fill="#D9D9D9" /><path d="M12.676 6.25a.86.86 0 0 1 .86.86v.171a.86.86 0 0 1-.86.86h-2.063a.86.86 0 0 1-.787-.516h-.374a.43.43 0 0 0-.421.343l-.009.087V9.6h.804a.86.86 0 0 1 .787-.515h2.063a.86.86 0 0 1 .86.86v.171a.86.86 0 0 1-.86.86h-2.063a.86.86 0 0 1-.787-.516l-.805-.001.001 1.548c0 .207.147.38.343.42l.087.01.374-.002a.86.86 0 0 1 .787-.514h2.063a.86.86 0 0 1 .86.86v.171a.86.86 0 0 1-.86.86h-2.063a.86.86 0 0 1-.787-.516h-.374a1.29 1.29 0 0 1-1.282-1.149l-.007-.14V10.46l-.371.001a.86.86 0 0 1-.788.516h-.645a.86.86 0 0 1-.859-.86v-.172a.86.86 0 0 1 .86-.86h.644a.86.86 0 0 1 .788.516h.37V8.055a1.29 1.29 0 0 1 1.15-1.282l.14-.007h.374a.86.86 0 0 1 .787-.516h2.063Z" fill="#6F81DB" /></g></symbol>'});a.a.add(c);t.default=c},3419:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-sheet",use:"ne-yuque-sheet-usage",viewBox:"0 0 26 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 24" id="ne-yuque-sheet"><g fill="none" fill-rule="evenodd"><path fill="#EBEAEC" d="M0 9h26v15H0z" /><path d="M5 5h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1ZM12 0h2a1 1 0 0 1 1 1v17a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1ZM19 5h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z" fill="#98D352" /></g></symbol>'});a.a.add(c);t.default=c},3420:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-thread",use:"ne-yuque-thread-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-yuque-thread"><g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke="#3EA2FF" stroke-width="1.7"><path d="M4.3 12.3h10M5.6 7.7h10M9.085 4.361 6.303 15.52M13.685 4.36l-2.738 11.17" /></g></symbol>'});a.a.add(c);t.default=c},3421:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-repo-design",use:"ne-yuque-repo-design-usage",viewBox:"0 0 25 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 26" id="ne-yuque-repo-design"><g fill="none" fill-rule="evenodd"><path d="M8.289 1.972h8.074c.221 0 .4.18.4.4v1.572H7.89V2.372c0-.22.179-.4.4-.4Z" fill="#E8E8E8" fill-rule="nonzero" /><path d="M1.946 4.904v15.83h20.76V4.904H1.946Z" stroke="#E8E8E8" stroke-width="1.92" fill="#FFF" /><path d="M8.852 19.768h13.075l-5.275-6.79a1.245 1.245 0 0 0-1.938-.048l-5.862 6.838Z" fill-opacity=".697" fill="#F69470" /><path d="M2.958 19.752h11.453L9.53 14.381a1.244 1.244 0 0 0-1.864.016l-4.707 5.355Z" fill="#F69470" /><path d="M10.845 10.075a2.465 2.465 0 1 1-4.93 0 2.465 2.465 0 0 1 4.93 0" fill="#F9D056" /><g fill="#EDEDED"><path d="M5.522 20.708H9.2L7.918 23.04 6.75 25.166a.4.4 0 0 1-.35.208H3.634a.4.4 0 0 1-.35-.593l2.238-4.073ZM18.341 20.708h-3.678l2.45 4.458a.4.4 0 0 0 .35.208h2.766a.4.4 0 0 0 .35-.593l-2.238-4.073Z" /></g><rect fill="#E8E8E8" fill-rule="nonzero" y="19.721" width="24.652" height="2.958" rx="1.2" /><path d="M11.647 0h1.358a.8.8 0 0 1 .8.8v2.277h-2.958V.8a.8.8 0 0 1 .8-.8Z" fill="#E8E8E8" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3422:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-repo-doc",use:"ne-yuque-repo-doc-usage",viewBox:"0 0 24 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 26" id="ne-yuque-repo-doc"><g fill-rule="nonzero" fill="none"><rect fill="#93C3FF" x="1" width="23" height="26" rx="1.075" /><path fill="#6CA4EA" d="M17 0h3v26h-3z" /><rect fill="#6CA4EA" y="4" width="3" height="2" rx=".307" /><rect fill="#6CA4EA" y="12" width="3" height="2" rx=".307" /><rect fill="#6CA4EA" y="20" width="3" height="2" rx=".307" /></g></symbol>'});a.a.add(c);t.default=c},3423:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-yuque-repo-thread",use:"ne-yuque-repo-thread-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" id="ne-yuque-repo-thread"><g fill="none" fill-rule="evenodd"><path d="M13 0c7.18 0 13 5.82 13 13s-5.82 13-13 13a12.943 12.943 0 0 1-6.676-1.843 84.9 84.9 0 0 0-.611-.359l-3.182.868a.975.975 0 0 1-1.197-1.197l.867-3.178a40.38 40.38 0 0 1-.664-1.155A12.946 12.946 0 0 1 0 13C0 5.82 5.82 0 13 0Z" fill="#93C3FF" fill-rule="nonzero" /><path d="M12.02 8a.47.47 0 0 1 .474.5l-.468 9a.533.533 0 0 1-.526.5h-1a.47.47 0 0 1-.474-.5l.468-9c.014-.276.25-.5.526-.5h1Zm4 0a.47.47 0 0 1 .474.5l-.468 9a.533.533 0 0 1-.526.5h-1a.47.47 0 0 1-.474-.5l.468-9c.014-.276.25-.5.526-.5h1Z" fill="#FFF" /><path d="M11.119 14h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5Z" fill="#FFF" /><path d="M8.5 10h9.619a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H8.5a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5ZM8.5 14h9.619a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H8.5a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5Z" fill="#FFF" opacity=".7" /><path d="M8.5 10h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5Z" fill="#FFF" /></g></symbol>'});a.a.add(c);t.default=c},3424:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-video",use:"ne-card-video-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-card-video"><g fill="none" fill-rule="evenodd"><path d="m14.438 1.5 6 6v12.75a2.25 2.25 0 0 1-2.25 2.25H5.813a2.25 2.25 0 0 1-2.25-2.25V3.75a2.25 2.25 0 0 1 2.25-2.25h8.625Zm-1.71 9.375H8.12a.807.807 0 0 0-.807.807v3.26c0 .447.36.808.807.808h4.608a.807.807 0 0 0 .807-.807v-3.26a.807.807 0 0 0-.807-.808Zm3.998.11a.269.269 0 0 0-.377-.05l-1.55 1.187a.807.807 0 0 0-.317.641v1.099c0 .251.117.488.316.64l1.55 1.188a.269.269 0 0 0 .433-.214V11.15c0-.06-.02-.117-.055-.164Z" fill="#8B6AD4" /><path d="M14.438 1.5V6a1.5 1.5 0 0 0 1.5 1.5h4.5l-6-6Z" fill="#CBBCEB" /></g></symbol>'});a.a.add(c);t.default=c},3425:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-video-a",use:"ne-card-video-a-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="ne-card-video-a"><g fill="none" fill-rule="evenodd"><path d="m154 16 64 64v136c0 13.255-10.745 24-24 24H62c-13.255 0-24-10.745-24-24V40c0-13.255 10.745-24 24-24h92Zm-18.238 100H86.61A8.61 8.61 0 0 0 78 124.61v34.78a8.61 8.61 0 0 0 8.61 8.61h49.152a8.61 8.61 0 0 0 8.61-8.61v-34.78a8.61 8.61 0 0 0-8.61-8.61Zm42.647 1.178a2.87 2.87 0 0 0-4.023-.535l-16.539 12.661a8.61 8.61 0 0 0-3.376 6.836v11.72a8.61 8.61 0 0 0 3.376 6.836l16.539 12.66a2.87 2.87 0 0 0 4.614-2.278v-46.156a2.87 2.87 0 0 0-.591-1.744Z" fill="gray" /><path d="M154 16v48c0 8.837 7.163 16 16 16h48l-64-64Z" fill="#BFBFBF" /></g></symbol>'});a.a.add(c);t.default=c},3426:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-video-normal",use:"ne-card-video-normal-usage",viewBox:"0 0 32 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 24" id="ne-card-video-normal"><g fill="currentColor" fill-rule="nonzero" fill-opacity=".25"><path d="m13.094 17.306 7.562-4.931c.294-.206.294-.566 0-.772l-7.562-4.906C12.669 6.4 12 6.637 12 7.084v9.838c0 .444.672.681 1.094.384Z" /><path d="M30 0H2C.897 0 0 .897 0 2v20c0 1.103.897 2 2 2h28c1.103 0 2-.897 2-2V2c0-1.103-.897-2-2-2ZM5.25 21.25c0 .275-.225.5-.5.5H2.5a.501.501 0 0 1-.5-.5V18.5c0-.275.225-.5.5-.5h2.25c.275 0 .5.225.5.5v2.75Zm0-7.875c0 .275-.225.5-.5.5H2.5a.501.501 0 0 1-.5-.5v-2.75c0-.275.225-.5.5-.5h2.25c.275 0 .5.225.5.5v2.75Zm0-7.875c0 .275-.225.5-.5.5H2.5a.501.501 0 0 1-.5-.5V2.75c0-.275.225-.5.5-.5h2.25c.275 0 .5.225.5.5V5.5Zm19.5 16.25H7.25V2.25h17.5v19.5Zm5.25-.5c0 .275-.225.5-.5.5h-2.25a.501.501 0 0 1-.5-.5V18.5c0-.275.225-.5.5-.5h2.25c.275 0 .5.225.5.5v2.75Zm0-7.875c0 .275-.225.5-.5.5h-2.25a.501.501 0 0 1-.5-.5v-2.75c0-.275.225-.5.5-.5h2.25c.275 0 .5.225.5.5v2.75ZM30 5.5c0 .275-.225.5-.5.5h-2.25a.501.501 0 0 1-.5-.5V2.75c0-.275.225-.5.5-.5h2.25c.275 0 .5.225.5.5V5.5Z" /></g></symbol>'});a.a.add(c);t.default=c},3427:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-card-video-warn",use:"ne-card-video-warn-usage",viewBox:"0 0 41 29",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 29" id="ne-card-video-warn"><g fill="none" fill-rule="evenodd"><path d="M13.094 17.306c-.422.297-1.094.06-1.094-.384V7.084c0-.446.669-.684 1.094-.387l7.562 4.906c.294.206.294.566 0 .772l-7.562 4.931ZM30 0c1.103 0 2 .897 2 2v20c0 1.103-.897 2-2 2H2c-1.103 0-2-.897-2-2V2C0 .897.897 0 2 0h28ZM5.25 21.25V18.5c0-.275-.225-.5-.5-.5H2.5c-.275 0-.5.225-.5.5v2.75c0 .275.225.5.5.5h2.25c.275 0 .5-.225.5-.5Zm0-7.875v-2.75c0-.275-.225-.5-.5-.5H2.5c-.275 0-.5.225-.5.5v2.75c0 .275.225.5.5.5h2.25c.275 0 .5-.225.5-.5Zm0-7.875V2.75c0-.275-.225-.5-.5-.5H2.5c-.275 0-.5.225-.5.5V5.5c0 .275.225.5.5.5h2.25c.275 0 .5-.225.5-.5Zm19.5 16.25V2.25H7.25v19.5h17.5Zm5.25-.5V18.5c0-.275-.225-.5-.5-.5h-2.25c-.275 0-.5.225-.5.5v2.75c0 .275.225.5.5.5h2.25c.275 0 .5-.225.5-.5Zm0-7.875v-2.75c0-.275-.225-.5-.5-.5h-2.25c-.275 0-.5.225-.5.5v2.75c0 .275.225.5.5.5h2.25c.275 0 .5-.225.5-.5ZM30 5.5V2.75c0-.275-.225-.5-.5-.5h-2.25c-.275 0-.5.225-.5.5V5.5c0 .275.225.5.5.5h2.25c.275 0 .5-.225.5-.5Z" fill="currentColor" fill-rule="nonzero" opacity=".45" /><path d="M40.027 26.51v.001c.4.695-.1 1.562-.902 1.562h-16.25a1.042 1.042 0 0 1-.902-1.563l8.124-14.06c.19-.332.534-.523.903-.523.368 0 .71.19.902.52l8.125 14.063Z" stroke="#FFF" stroke-width=".833" fill="#FFF" /><path d="m39.666 26.719-8.125-14.063a.618.618 0 0 0-.541-.312.616.616 0 0 0-.541.312L22.334 26.72c-.24.418.06.937.541.937h16.25c.48 0 .781-.52.541-.937Zm-9.291-8.594c0-.086.07-.156.156-.156h.938c.086 0 .156.07.156.156v3.594c0 .086-.07.156-.156.156h-.938a.157.157 0 0 1-.156-.156v-3.594ZM31 25a.938.938 0 1 1 0-1.875A.938.938 0 0 1 31 25Z" fill="#FAAD14" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3428:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-repo-resource",use:"ne-repo-resource-usage",viewBox:"0 0 26 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 24" id="ne-repo-resource"><g fill-rule="nonzero" fill="none"><rect fill="#EDC13D" y="2.259" width="25.928" height="21.204" rx="1.039" /><path d="M1.253 0h6.671c.692 0 1.253.587 1.253 1.312V20.68c0 .29-.224.525-.5.525H.5A.514.514 0 0 1 0 20.679V1.312C0 .587.561 0 1.253 0Z" fill="#EDC13D" /><rect fill="#FFF" x="3" y="5" width="20" height="14" rx=".919" /><path d="M1.01 7h23.98c.557 0 1.01.453 1.01 1.01v14.98A1.01 1.01 0 0 1 24.99 24H1.01A1.01 1.01 0 0 1 0 22.99V8.01C0 7.454.453 7 1.01 7Z" fill="#FFDA6A" /></g></symbol>'});a.a.add(c);t.default=c},3429:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-cloud",use:"ne-file-cloud-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" id="ne-file-cloud"><defs><path d="M1.121 22C.502 22 0 21.596 0 21.098V.902C0 .404.502 0 1.121 0H20.88C21.498 0 22 .404 22 .902v15.166a.82.82 0 0 1-.319.63l-6.1 5.03a1.27 1.27 0 0 1-.803.272H1.121Z" id="ne-file-cloud_a" /><path d="M1.764 21.304c-.629-.004-1.135-.405-1.135-.9V1.512c0-.497.512-.9 1.144-.9h18.454c.632 0 1.144.403 1.144.9v14.251c0 .228-.11.448-.308.614l-5.616 4.727a1.31 1.31 0 0 1-.846.286l-12.837-.085Z" id="ne-file-cloud_b" /><path d="M14.457 22v-6.312c0-.226.194-.41.434-.41h6.48V22h-6.914Z" id="ne-file-cloud_e" /><filter x="-28.9%" y="-14.9%" width="157.9%" height="159.5%" filterUnits="objectBoundingBox" id="ne-file-cloud_d"><feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation=".5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" in="shadowBlurOuter1"></feColorMatrix></filter></defs><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><g transform="translate(1 1)"><path stroke="#D9DCE1" stroke-width=".652" d="M20.879-.326H1.12c-.39 0-.742.13-.997.336-.284.228-.45.546-.45.892v20.196c0 .346.166.664.45.892.255.205.607.336.997.336h13.657c.381 0 .745-.128 1.01-.347l6.1-5.03c.287-.236.438-.554.438-.881V.902c0-.346-.166-.664-.45-.892a1.595 1.595 0 0 0-.997-.336Z" /><mask id="ne-file-cloud_c" fill="#fff"><use xlink:href="#ne-file-cloud_b" /></mask><use fill="#F7F7F7" xlink:href="#ne-file-cloud_b" /><path d="M13.825 8.943c.003-.052.004-.103.004-.155 0-1.478-1.117-2.677-2.495-2.677-1.378 0-2.495 1.199-2.495 2.677v.023a2.168 2.168 0 0 0-.423-.041c-1.273 0-2.305 1.107-2.305 2.473 0 1.366 1.032 2.473 2.305 2.473.032 0 .064 0 .096-.002l.083.002h5.077l.09-.003c1.184-.06 2.127-1.106 2.127-2.387 0-1.26-.91-2.29-2.064-2.383Z" fill="#AFBCC9" fill-rule="nonzero" mask="url(#ne-file-cloud_c)" /><g mask="url(#ne-file-cloud_c)"><use fill="#000" filter="url(#ne-file-cloud_d)" xlink:href="#ne-file-cloud_e" /><use fill="#FFF" xlink:href="#ne-file-cloud_e" /></g></g></g></symbol>'});a.a.add(c);t.default=c},3430:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-ai",use:"ne-file-ai-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-ai"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-ai_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-ai_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M13.836 16.39c.019.14.028.252.026.334-.002.082-.03.144-.081.185a.483.483 0 0 1-.256.076c-.12.01-.283.015-.49.015a5.85 5.85 0 0 1-.357-.009.953.953 0 0 1-.214-.032c-.05-.016-.084-.04-.103-.07a.285.285 0 0 1-.035-.13l-.202-1.524h-2.8l-.772 1.49a.569.569 0 0 1-.092.137.328.328 0 0 1-.15.085 1.26 1.26 0 0 1-.262.041 5.963 5.963 0 0 1-.824-.006c-.098-.011-.164-.04-.196-.085-.033-.045-.037-.108-.012-.19.025-.082.074-.192.147-.329l3.619-6.733a.884.884 0 0 1 .115-.161.364.364 0 0 1 .164-.094c.071-.021.167-.035.288-.041a12.854 12.854 0 0 1 1.014 0c.133.006.236.02.309.041.073.022.12.054.144.097a.483.483 0 0 1 .046.176l.974 6.727Zm-2.265-5.566h-.006L9.9 14.05h2.098l-.427-3.226Zm5.796-1.05a1.558 1.558 0 0 1-.11.367.644.644 0 0 1-.184.24.7.7 0 0 1-.282.13c-.112.025-.25.037-.415.037-.162 0-.293-.012-.395-.038a.43.43 0 0 1-.23-.129.407.407 0 0 1-.09-.24c-.007-.1.004-.222.035-.367.027-.14.063-.26.11-.358a.677.677 0 0 1 .184-.24.707.707 0 0 1 .282-.135c.111-.027.25-.041.415-.041.161 0 .293.014.395.041a.436.436 0 0 1 .23.135c.052.063.08.143.086.24.006.098-.004.217-.031.358Zm-1.487 6.991a.198.198 0 0 1-.055.103.327.327 0 0 1-.132.073c-.06.02-.137.035-.233.044-.097.01-.214.015-.352.015-.142 0-.258-.005-.349-.015a.9.9 0 0 1-.213-.044c-.052-.02-.085-.044-.1-.073a.152.152 0 0 1-.012-.103l1.02-5.22a.198.198 0 0 1 .054-.102.352.352 0 0 1 .133-.076c.06-.022.136-.039.23-.05a2.95 2.95 0 0 1 .355-.018c.142 0 .258.006.348.018.09.011.162.028.214.05.052.021.085.046.1.076.016.03.02.063.012.102l-1.02 5.22Z" fill="#FF9F00" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3431:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-audio",use:"ne-file-audio-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-audio"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-audio_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-audio_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M16.667 9.532v.362a.972.972 0 0 1-1.164.953l-1.855-.372v6.212c0 .353-.21.66-.63.922-.42.261-.918.391-1.496.391-.437 0-.8-.122-1.089-.366a1.181 1.181 0 0 1-.433-.947c0-.337.144-.627.433-.871.289-.244.652-.392 1.09-.442h.76a.698.698 0 0 0 .512-.228.705.705 0 0 0 .223-.505V9.212a1 1 0 0 1 1.19-.981l1.649.32a1 1 0 0 1 .81.98Z" fill="#2472C6" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3432:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-axure",use:"ne-file-axure-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-axure"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-axure_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-axure_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><g fill="#C134CE" fill-rule="nonzero"><path d="M15.308 9c.167 0 .315.007.447.02.13.013.26.035.388.066.195.045.37.116.525.211.156.095.287.214.396.357.109.143.192.31.25.503.057.193.086.41.086.654 0 .214-.02.437-.06.669a3.35 3.35 0 0 1-.194.683c-.09.223-.206.434-.348.634a2.4 2.4 0 0 1-1.24.897c-.272.09-.592.135-.96.135h-.647l-.398 2.365a.212.212 0 0 1-.048.103.269.269 0 0 1-.12.074.97.97 0 0 1-.207.043c-.083.01-.185.015-.307.015-.118 0-.216-.005-.295-.015a.703.703 0 0 1-.184-.043.18.18 0 0 1-.091-.071.145.145 0 0 1-.01-.106l1.118-6.657c.029-.179.09-.313.187-.403A.5.5 0 0 1 13.95 9h1.357Zm-.191 1.16h-.557l-.413 2.509h.576c.182 0 .338-.026.468-.078a1.193 1.193 0 0 0 .59-.5c.069-.114.125-.234.168-.36.043-.125.074-.252.093-.38.02-.127.03-.25.03-.368a.967.967 0 0 0-.111-.474.597.597 0 0 0-.34-.28.881.881 0 0 0-.226-.055 2.461 2.461 0 0 0-.278-.014ZM12.186 10.611c0 .244-.028.486-.084.726-.056.24-.144.467-.266.68a2.208 2.208 0 0 1-1.18.989c.154.072.282.216.386.431.104.215.19.51.257.883l.254 1.503c.013.084.023.159.031.226.008.066.012.122.012.168 0 .038-.01.07-.03.097a.226.226 0 0 1-.114.066c-.054.017-.128.03-.223.037a4.585 4.585 0 0 1-.68-.003.635.635 0 0 1-.19-.045.166.166 0 0 1-.09-.083.483.483 0 0 1-.03-.12l-.24-1.64a3.318 3.318 0 0 0-.103-.503 1.278 1.278 0 0 0-.166-.363.64.64 0 0 0-.247-.217.785.785 0 0 0-.348-.072h-.393l-.475 2.823a.212.212 0 0 1-.048.103.269.269 0 0 1-.117.074.923.923 0 0 1-.204.043c-.083.01-.186.015-.307.015-.122 0-.222-.005-.3-.015a.703.703 0 0 1-.185-.043.18.18 0 0 1-.091-.071.145.145 0 0 1-.01-.106l1.133-6.72c.025-.167.082-.288.17-.363A.458.458 0 0 1 8.612 9h1.665c.291 0 .554.032.79.097.234.065.435.164.601.297.167.134.295.301.384.503.09.202.134.44.134.714Zm-1.352.28a.937.937 0 0 0-.046-.297.592.592 0 0 0-.146-.237.667.667 0 0 0-.262-.154 1.213 1.213 0 0 0-.386-.054H9.28l-.35 2.097h.6c.24 0 .443-.041.609-.123.166-.082.3-.188.403-.317.102-.13.177-.274.223-.432.046-.158.07-.319.07-.483Z" /></g></g></symbol>'});a.a.add(c);t.default=c},3433:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-default",use:"ne-file-default-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-default"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-default_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-default_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M15.89 12.046c.002-.055.004-.11.004-.166 0-1.59-1.143-2.88-2.552-2.88-1.41 0-2.552 1.29-2.552 2.88v.025a2.112 2.112 0 0 0-.432-.045C9.056 11.86 8 13.052 8 14.521c0 1.47 1.056 2.66 2.358 2.66.032 0 .065 0 .097-.002.028.002.057.003.085.003h5.192c.032 0 .063-.001.094-.003 1.21-.065 2.174-1.19 2.174-2.569 0-1.354-.93-2.464-2.11-2.564Z" fill="#8CBAE5" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3434:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-doc",use:"ne-file-doc-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-doc"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-doc_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-doc_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><g transform="translate(9 8)" fill="#3EA2FF"><path d="M5.654 0c.11 0 .217.044.295.122L8.21 2.385a.417.417 0 0 1 .122.295v6.903c0 .23-.186.417-.416.417h-7.5A.417.417 0 0 1 0 9.583V.417C0 .187.187 0 .417 0h5.237Zm-.38 1.333h-3.94v7.334H7V3.06L5.274 1.333Z" fill-rule="nonzero" /><rect x="2.5" y="3.333" width="3.333" height="1.333" rx=".25" /><rect x="2.5" y="5.833" width="3.333" height="1.333" rx=".25" /></g></g></symbol>'});a.a.add(c);t.default=c},3435:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-excel",use:"ne-file-excel-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-excel"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-excel_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-excel_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="m13.81 12.877 1.13 3.461c.042.147.066.265.072.353.005.087-.017.155-.068.202-.052.047-.138.076-.259.089-.121.012-.29.018-.506.018-.155 0-.278-.004-.37-.012a.892.892 0 0 1-.212-.04.204.204 0 0 1-.108-.077.507.507 0 0 1-.054-.122l-.892-2.88-1.887 2.88a.72.72 0 0 1-.105.122.374.374 0 0 1-.154.077 1.41 1.41 0 0 1-.261.04 5.752 5.752 0 0 1-.418.012c-.2 0-.358-.006-.471-.018-.114-.013-.188-.041-.222-.086-.034-.045-.033-.11.003-.196.036-.086.101-.2.196-.343l2.426-3.492-1.028-3.222a1.702 1.702 0 0 1-.071-.343c-.006-.086.017-.15.068-.196.051-.045.137-.073.259-.086.12-.012.287-.018.5-.018.163 0 .29.004.383.012a.833.833 0 0 1 .219.043.22.22 0 0 1 .114.086.524.524 0 0 1 .056.14l.779 2.586 1.716-2.616a.566.566 0 0 1 .1-.122.374.374 0 0 1 .145-.077c.06-.018.14-.032.241-.04.1-.008.234-.012.4-.012.205 0 .366.006.484.018.117.013.194.041.23.086.036.045.037.11.003.196-.034.086-.099.2-.193.343l-2.245 3.234Z" fill="#66B766" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3436:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-folder",use:"ne-file-folder-usage",viewBox:"0 0 27 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27 28" id="ne-file-folder"><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><path d="M2.124-.3h8.952a2.3 2.3 0 0 1 2.27 1.925l1.785 10.806c.048.29.17.562.355.79l7.538 9.334a2.3 2.3 0 0 1-1.79 3.745H2.125a2.3 2.3 0 0 1-2.3-2.3V2a2.3 2.3 0 0 1 2.3-2.3Z" stroke="#6FB5FF" stroke-width=".6" fill="#FFF" /><path d="M2.827.765h7.564a2 2 0 0 1 1.97 1.654l1.768 10.072a2 2 0 0 0 .414.91l7.545 9.342A2 2 0 0 1 20.532 26H2.827a2 2 0 0 1-2-2V2.765a2 2 0 0 1 2-2Z" fill="#99CBFF" /><rect stroke="#6FB5FF" stroke-width=".6" fill="#FFF" x="-.3" y="3.524" width="25.897" height="22.776" rx="2" /><path d="M1.827 4.588h21.718a1 1 0 0 1 1 1v18.647a1 1 0 0 1-1 1H1.827a1 1 0 0 1-1-1V5.588a1 1 0 0 1 1-1Z" fill="#CEE6FF" /></g></symbol>'});a.a.add(c);t.default=c},3437:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-graffle",use:"ne-file-graffle-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-graffle"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-graffle_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-graffle_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><g transform="translate(8 8)" fill="#54E08D"><circle cx="4.052" cy="5.132" r="1.891" /><circle cx="1.081" cy="2.161" r="1.081" /><circle cx="1.081" cy="7.564" r="1.081" /><circle cx="7.023" cy="8.644" r="1.081" /><circle cx="8.644" cy="4.862" r="1.081" /><circle cx="7.023" cy="1.081" r="1.081" /><path d="m1.299 2.728.388-.376 1.877 1.944-.389.375zM3.092 5.005l.414.347-1.736 2.07-.414-.348zM8.104 4.862v.54H5.403v-.54zM6.396 1.26l.395.368-2.21 2.37-.395-.368zM6.87 7.976l-.355.407-2.039-1.772.355-.407z" /></g></g></symbol>'});a.a.add(c);t.default=c},3438:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-image",use:"ne-file-image-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-image"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-image_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-image_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><g transform="translate(8 9)" fill-rule="nonzero"><circle fill="#FFD163" cx="7.834" cy="1.25" r="1.25" /><path d="M.833 9.01A.833.833 0 0 1 .02 7.998l.032-.102.02-.05.046-.096 3.35-5.625a.833.833 0 0 1 1.295-.174l.07.081.033.043.056.09 1.083 2.071.089-.112.098-.094.07-.051a.833.833 0 0 1 .973.044l.079.074.036.04.065.083 2.294 3.512a.833.833 0 0 1-.476 1.26l-.088.017-.045.006-.088.006H4.065l-.066-.003-.065-.007-3.1-.001Zm2.963-6.137-.031-.043.269-.201.149-.078-.115.119-.272.203Zm.358.703-2.441 4.1 2.294.001c.04 0 .079.004.117.01h3.963l-1.4-2.142-.254.335a.667.667 0 0 1-1.123-.093L4.154 3.576Zm2.209 1.458-.036-.04.248-.226.141-.092-.102.13-.251.228ZM1.31 8.337l-.02.05-.312-.124-.145-.086.162.035.315.125Z" fill="#FFCB51" /></g></g></symbol>'});a.a.add(c);t.default=c},3439:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-keynote",use:"ne-file-keynote-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-keynote"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-keynote_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-keynote_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M13.51 13v4h2.035v1h-5.09v-1h2.036v-4H8.416c-.28 0-.462-.215-.406-.489l.82-4.022A.64.64 0 0 1 9.437 8h7.124c.282 0 .553.215.609.489l.82 4.022c.054.27-.133.489-.406.489h-4.076Z" fill="#329BF6" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3440:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-mindmap",use:"ne-file-mindmap-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-mindmap"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-mindmap_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-mindmap_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M8.216 17.333c-.12 0-.216-.086-.216-.192V9.192C8 9.086 8.097 9 8.216 9h2.91c.111 0 .213.058.26.149L13 12.264l1.613-3.115A.292.292 0 0 1 14.875 9h2.91c.118 0 .215.086.215.192v7.949c0 .106-.097.192-.216.192H8.216Z" fill="#7A91F5" fill-rule="nonzero" /><path fill="#374CA4" fill-rule="nonzero" d="m13.032 12.333-2.532 5h5z" /></g></symbol>'});a.a.add(c);t.default=c},3441:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-mindnode",use:"ne-file-mindnode-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-mindnode"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-mindnode_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-mindnode_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M8.204 8.898c2.28.739 3.736 1.775 4.37 3.108.652 1.373.556 3.371-.29 5.994-.207-.553-.4-.905-.581-1.058-1.316-1.108-2.324-1.41-2.977-2.75-.492-1.009-.436-3.173-.436-3.666 0-.3-.08-.795-.24-1.486a.12.12 0 0 1 .154-.142Z" fill="#AA7AF5" /><path d="M12.962 8.11c.71.63 1.247 1.6 1.612 2.912.387 1.39-.436 3.717-2.469 6.978-.101-.686-.222-1.166-.362-1.439-.658-1.28-1.326-2.34-1.235-3.597.095-1.305.837-2.44 1.743-3.741.14-.202.314-.558.519-1.067a.12.12 0 0 1 .192-.046Z" fill="#51C8D2" /><path d="M17.137 11.503c-.176.915-.602 1.873-1.278 2.874-.57.843-1.384 1.232-2.768 2.319-.221.173-.529.608-.923 1.304.004-.572.004-1.007 0-1.304-.015-1.047.076-2.091.615-2.971.75-1.223 2.154-2.011 4.215-2.364a.12.12 0 0 1 .139.142Z" fill="#FF814C" /></g></symbol>'});a.a.add(c);t.default=c},3442:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-numbers",use:"ne-file-numbers-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-numbers"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-numbers_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-numbers_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M17.816 15.965a.184.184 0 1 1 0 .368H8.184a.184.184 0 1 1 0-.368h9.632Zm-7.831-1.918c.126 0 .229.103.229.23v1.09a.229.229 0 0 1-.23.229H8.23a.229.229 0 0 1-.229-.23v-1.09c0-.126.103-.229.229-.229h1.756Zm2.595-2.065c.127 0 .23.103.23.23v3.155a.229.229 0 0 1-.23.229h-1.756a.229.229 0 0 1-.229-.23v-3.155c0-.126.103-.229.23-.229h1.755ZM15.176 8c.126 0 .229.103.229.229v7.138a.229.229 0 0 1-.23.229H13.42a.229.229 0 0 1-.23-.23V8.23c0-.126.103-.229.23-.229h1.756Zm2.595 2.212c.126 0 .229.103.229.23v4.925a.229.229 0 0 1-.229.229h-1.756a.229.229 0 0 1-.229-.23v-4.925c0-.126.103-.229.23-.229h1.755Z" fill="#51D251" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3443:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-pdf",use:"ne-file-pdf-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-pdf"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-pdf_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-pdf_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M12.783 9c.208 0 .394.007.558.022.164.014.326.037.486.07.244.05.463.125.658.228.194.103.359.23.495.385.136.153.24.334.312.541.072.207.108.442.108.705 0 .23-.025.47-.075.72a3.23 3.23 0 0 1-.678 1.418 2.822 2.822 0 0 1-.655.573 3.32 3.32 0 0 1-.897.393 4.43 4.43 0 0 1-1.2.145h-.811l-.498 2.548a.216.216 0 0 1-.06.11.348.348 0 0 1-.15.08c-.069.021-.155.036-.259.047-.104.01-.232.015-.384.015-.148 0-.271-.005-.37-.015a1 1 0 0 1-.23-.047c-.056-.02-.094-.046-.114-.076-.02-.031-.024-.07-.012-.114l1.398-7.17c.036-.192.115-.337.235-.433A.687.687 0 0 1 11.084 9h1.699Zm-.24 1.25h-.697l-.516 2.7h.72c.228 0 .424-.027.586-.082a1.56 1.56 0 0 0 .426-.219c.122-.09.226-.197.312-.32s.156-.252.21-.387c.054-.136.093-.272.117-.41.024-.137.036-.27.036-.397a.926.926 0 0 0-.138-.51.732.732 0 0 0-.426-.302 1.252 1.252 0 0 0-.282-.058 3.574 3.574 0 0 0-.348-.016Z" fill="#EA5330" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3444:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-ppt",use:"ne-file-ppt-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-ppt"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-ppt_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-ppt_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M12.783 9c.208 0 .394.007.558.022.164.014.326.037.486.07.244.05.463.125.658.228.194.103.359.23.495.385.136.153.24.334.312.541.072.207.108.442.108.705 0 .23-.025.47-.075.72a3.23 3.23 0 0 1-.678 1.418 2.822 2.822 0 0 1-.655.573 3.32 3.32 0 0 1-.897.393 4.43 4.43 0 0 1-1.2.145h-.811l-.498 2.548a.216.216 0 0 1-.06.11.348.348 0 0 1-.15.08c-.069.021-.155.036-.259.047-.104.01-.232.015-.384.015-.148 0-.271-.005-.37-.015a1 1 0 0 1-.23-.047c-.056-.02-.094-.046-.114-.076-.02-.031-.024-.07-.012-.114l1.398-7.17c.036-.192.115-.337.235-.433A.687.687 0 0 1 11.084 9h1.699Zm-.24 1.25h-.697l-.516 2.7h.72c.228 0 .424-.027.586-.082a1.56 1.56 0 0 0 .426-.219c.122-.09.226-.197.312-.32s.156-.252.21-.387c.054-.136.093-.272.117-.41.024-.137.036-.27.036-.397a.926.926 0 0 0-.138-.51.732.732 0 0 0-.426-.302 1.252 1.252 0 0 0-.282-.058 3.574 3.574 0 0 0-.348-.016Z" fill="#EA5330" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3445:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-psd",use:"ne-file-psd-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-psd"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-psd_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-psd_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M13.704 11.03c0 .223-.023.456-.067.698-.045.243-.117.481-.217.714-.1.233-.229.454-.388.662a2.594 2.594 0 0 1-.583.556c-.23.16-.496.288-.8.382-.303.093-.66.14-1.07.14h-.722l-.444 2.472a.216.216 0 0 1-.053.107.303.303 0 0 1-.134.078c-.06.02-.137.035-.23.045a3.29 3.29 0 0 1-.343.015c-.132 0-.241-.005-.329-.015a.829.829 0 0 1-.206-.045.199.199 0 0 1-.101-.075.143.143 0 0 1-.011-.11l1.247-6.955c.032-.188.101-.328.208-.421a.58.58 0 0 1 .396-.14h1.514c.186 0 .351.006.498.02.146.014.29.037.433.069.218.048.413.121.586.22.173.1.32.225.441.374.122.15.214.324.278.525.065.201.097.43.097.684Zm-1.482.179a.96.96 0 0 0-.123-.496.657.657 0 0 0-.38-.292 1.038 1.038 0 0 0-.252-.057 2.928 2.928 0 0 0-.31-.015h-.62l-.46 2.621h.641a1.352 1.352 0 0 0 .901-.293c.11-.087.202-.19.28-.31.076-.12.138-.245.186-.376.049-.131.083-.264.105-.397a2.43 2.43 0 0 0 .032-.385Zm6.178-1.48a3.393 3.393 0 0 1-.072.552 1.463 1.463 0 0 1-.06.203.66.66 0 0 1-.077.152c-.028.04-.058.06-.09.06a.365.365 0 0 1-.188-.075 3.299 3.299 0 0 0-.275-.161 2.62 2.62 0 0 0-.383-.161 1.54 1.54 0 0 0-.497-.075c-.193 0-.356.03-.49.09a.94.94 0 0 0-.519.564 1.14 1.14 0 0 0-.061.367c0 .143.032.27.096.379.064.11.15.21.257.304.107.094.229.184.366.272.137.088.277.18.417.275.141.095.28.2.418.313.137.113.26.245.366.394.107.15.193.32.257.514.064.193.096.414.096.665 0 .374-.067.722-.203 1.042-.136.32-.327.599-.575.836a2.675 2.675 0 0 1-.899.558 3.228 3.228 0 0 1-1.169.203c-.232 0-.446-.02-.642-.063a3.312 3.312 0 0 1-.522-.152 2.27 2.27 0 0 1-.382-.188 1 1 0 0 1-.23-.188c-.05-.06-.075-.15-.075-.269 0-.032.004-.08.01-.143a3.706 3.706 0 0 1 .076-.433c.017-.077.039-.148.064-.212a.645.645 0 0 1 .083-.155c.03-.04.063-.06.099-.06.06 0 .133.031.216.093.084.062.189.13.313.203.125.073.273.142.444.206.172.063.377.095.616.095.21 0 .395-.03.553-.09.16-.059.292-.14.399-.244.107-.103.188-.224.243-.361.056-.138.083-.288.083-.45a.764.764 0 0 0-.096-.389 1.24 1.24 0 0 0-.254-.307 2.658 2.658 0 0 0-.359-.266c-.133-.084-.27-.173-.409-.269a5.529 5.529 0 0 1-.41-.31 1.946 1.946 0 0 1-.613-.907 2.179 2.179 0 0 1-.095-.681c0-.359.064-.689.193-.991.128-.303.306-.563.535-.78.228-.216.5-.386.818-.507A2.913 2.913 0 0 1 16.822 9c.178 0 .347.015.508.045.16.03.307.067.439.113s.244.097.337.152a.962.962 0 0 1 .192.14.366.366 0 0 1 .078.12.446.446 0 0 1 .024.158Z" fill="#126ECC" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3446:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-rar",use:"ne-file-rar-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-rar"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-rar_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-rar_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M11 8h1.667v.77H11V8Zm1.667.77h1.666v.768h-1.666V8.77ZM11 9.537h1.667v.77H11v-.77Zm1.667.77h1.666v.769h-1.666v-.77ZM11 11.077h1.667v.77H11v-.77Zm1.667.77h1.666v.768h-1.666v-.769ZM11 12.614h1.667v.77H11v-.77Zm1.667.77h1.666v.769h-1.666v-.77ZM11 17.423c0 .317.281.577.625.577h2.083c.344 0 .625-.26.625-.577V15.5c0-.317-.281-.577-.625-.577h-1.041v-.77H11v3.27Zm2.5-.961v.769h-1.667v-.77H13.5Z" fill="#2E7CF2" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3447:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-sheet",use:"ne-file-sheet-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-sheet"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-sheet_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-sheet_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><g fill="#4FB374"><path d="M9.666 12.333h1.667v-1.667H9.667l-.001 1.667Zm6.667 1.333h-3.667v2h3.667v-2Zm-5 0H9.666v2h1.667v-2ZM8 9.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1.167l-5.334-.001v1.667h3.667v-1.666H18v6.166a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V9.5Z" /><path d="M8.5 9h9a.5.5 0 0 1 .5.5v1.167H8V9.5a.5.5 0 0 1 .5-.5Z" /></g></g></symbol>'});a.a.add(c);t.default=c},3448:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-sketch",use:"ne-file-sketch-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-sketch"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-sketch_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-sketch_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M18 11.03h-1.449l-.102-2.116L18 11.03Zm-10 0h1.423l.128-2.116L8 11.03Zm7.897-2.73L13.654 8l2.359 2.585-.116-2.285Zm-6.384 3.252H8.05l3.693 4.309-2.231-4.31Zm.743-.523h5.462l-2.73-3.003-2.732 3.003Zm6.206.523-2.231 4.335 3.718-4.335h-1.487Zm-6.5-.967L12.308 8l-2.218.3-.128 2.285Zm5.923.967H10.09l2.897 5.615 2.898-5.615Z" fill="#FBBE0D" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3449:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-txt",use:"ne-file-txt-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-txt"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-txt_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-txt_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M16.4 9.258a2.448 2.448 0 0 1-.041.35 3.036 3.036 0 0 1-.058.244c-.023.084-.05.161-.082.231a.592.592 0 0 1-.115.172.2.2 0 0 1-.143.068h-2.068l-1.323 6.419a.26.26 0 0 1-.07.11.374.374 0 0 1-.156.08c-.07.02-.159.037-.267.05a3.745 3.745 0 0 1-.41.018c-.161 0-.295-.006-.401-.018a1.16 1.16 0 0 1-.245-.05c-.057-.02-.095-.047-.114-.08a.152.152 0 0 1-.016-.11l1.323-6.419h-2.049c-.063 0-.107-.022-.13-.068a.406.406 0 0 1-.035-.184 2.628 2.628 0 0 1 .099-.606c.023-.084.052-.161.085-.231a.635.635 0 0 1 .115-.17.193.193 0 0 1 .14-.064h5.802c.05 0 .09.023.118.068a.367.367 0 0 1 .041.19Z" fill="#8CBAE5" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3450:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-video",use:"ne-file-video-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-video"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-video_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-video_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M15.54 13.063v-1.127c0-.112.042-.242.1-.296l1.385-1.27c.454-.415.975-.531.975-.086v4.433c0 .444-.521.328-.975-.087l-1.384-1.27c-.059-.053-.1-.183-.1-.297Zm-.655 1.25c0 .378-.343.684-.766.684H8.767c-.424 0-.767-.306-.767-.683v-3.629c0-.377.343-.683.767-.683h5.352c.423 0 .766.306.766.683v3.629Z" fill="#D64D4A" fill-rule="nonzero" opacity=".903" /></g></symbol>'});a.a.add(c);t.default=c},3451:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-word",use:"ne-file-word-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-word"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-word_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-word_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="M14.632 16.565a.855.855 0 0 1-.124.236.415.415 0 0 1-.19.132c-.08.028-.18.047-.301.055a7.03 7.03 0 0 1-.458.012 7.35 7.35 0 0 1-.475-.012.97.97 0 0 1-.282-.052.244.244 0 0 1-.138-.12.541.541 0 0 1-.043-.208l-.255-5.078h-.01l-1.947 5.035a1.041 1.041 0 0 1-.117.236.372.372 0 0 1-.165.132.917.917 0 0 1-.282.055c-.12.008-.273.012-.46.012-.218 0-.391-.004-.521-.012a1 1 0 0 1-.301-.055.236.236 0 0 1-.141-.135.798.798 0 0 1-.04-.251l-.38-6.971c-.004-.13-.001-.235.008-.313a.244.244 0 0 1 .09-.174.443.443 0 0 1 .224-.074c.1-.01.24-.015.42-.015.149 0 .273.005.374.015.102.01.177.029.225.055.05.027.08.063.093.108a.676.676 0 0 1 .019.177l.14 6.046h.011l2.37-6.04a.78.78 0 0 1 .094-.186.34.34 0 0 1 .144-.11.779.779 0 0 1 .241-.053c.1-.008.233-.012.399-.012s.298.004.396.012a.602.602 0 0 1 .222.052c.05.027.083.065.098.114a.849.849 0 0 1 .027.196l.27 6.027h.012l2.304-6.113a.446.446 0 0 1 .073-.144.285.285 0 0 1 .136-.089c.06-.02.14-.035.24-.043.102-.008.232-.012.391-.012.156 0 .278.007.366.021.089.015.15.044.182.09.032.044.038.11.016.198-.022.088-.06.204-.114.346l-2.84 6.91Z" fill="#3A86F7" fill-rule="nonzero" /></g></symbol>'});a.a.add(c);t.default=c},3452:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-file-xmind",use:"ne-file-xmind-usage",viewBox:"0 0 26 26",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" id="ne-file-xmind"><defs><path d="M2 0h16.672a2 2 0 0 1 1.414.586l5.328 5.328A2 2 0 0 1 26 7.328V24a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Z" id="ne-file-xmind_a" /></defs><g fill="none" fill-rule="evenodd"><use fill="#FFF" xlink:href="#ne-file-xmind_a" /><path d="M18.714 0c.46 0 .9.183 1.226.508l5.552 5.552c.325.326.508.766.508 1.226v16.98c0 .958-.776 1.734-1.733 1.734H1.733A1.733 1.733 0 0 1 0 24.267V1.733C0 .776.776 0 1.733 0h16.98Zm0 .794H1.734a.939.939 0 0 0-.94.94v22.533c0 .518.42.939.94.939h22.533c.518 0 .939-.42.939-.94V7.287a.939.939 0 0 0-.121-.46l-4.574-.001a1.336 1.336 0 0 1-1.336-1.336V.915a.939.939 0 0 0-.461-.12Zm1.255.867v3.828c0 .299.243.542.542.542l3.827-.001-4.369-4.37Z" fill="#D9D9D9" fill-rule="nonzero" /><path d="m8 10.52 2.92-.383c.698 1.26 1.396 1.853 2.094 1.78.698-.073 1.047-.575 1.047-1.506L16.567 10c.114.786.087 1.27-.082 1.451-.661.713-1.295.274-1.736 1.069.358.356 1.413.638 2.507 1.424.33.237.579.62.744 1.15l-2.948.383c-.653-1.217-1.489-1.783-2.507-1.698-1.083.092-1.698.64-1.845 1.644l-2.48.41c-.055-.584.092-1.068.441-1.451.524-.575 1.064-.582 1.873-.877.128-.046.339-.174.634-.383-.863-.475-1.552-.858-2.066-1.15-.514-.292-.882-.776-1.102-1.452Z" fill="#FF4B00" opacity=".85" /></g></symbol>'});a.a.add(c);t.default=c},3453:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-doc-type-default",use:"ne-doc-type-default-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-doc-type-default"><path d="M18.375 2.625a3 3 0 0 1 3 3v12.75a3 3 0 0 1-3 3H5.625a3 3 0 0 1-3-3V5.625a3 3 0 0 1 3-3h12.75Zm-7.406 12.469H7.03a1.031 1.031 0 0 0 0 2.062h3.938a1.031 1.031 0 0 0 0-2.062Zm6-4.125H7.03a1.031 1.031 0 0 0 0 2.062h9.938a1.031 1.031 0 0 0 0-2.062Zm0-4.125H7.03a1.031 1.031 0 1 0 0 2.062h9.938a1.031 1.031 0 0 0 0-2.062Z" fill="#4E86E6" fill-rule="evenodd" /></symbol>'});a.a.add(c);t.default=c},3454:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-doc-type-sheet",use:"ne-doc-type-sheet-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="ne-doc-type-sheet"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.375 2.625a3 3 0 0 1 3 3v12.75a3 3 0 0 1-3 3H5.625a3 3 0 0 1-3-3V5.625a3 3 0 0 1 3-3h12.75Zm-2.156 2.719H7.687l-.16.005A2.438 2.438 0 0 0 5.25 7.78v8.438l.005.16a2.438 2.438 0 0 0 2.433 2.277h8.53l.161-.005a2.438 2.438 0 0 0 2.277-2.432V7.78l-.005-.16a2.438 2.438 0 0 0-2.432-2.277ZM9.375 14.53v2.25H7.687l-.09-.007a.563.563 0 0 1-.472-.555V14.53h2.25Zm7.406 0v1.688l-.007.091a.563.563 0 0 1-.555.471h-5.907v-2.25h6.469Zm-7.406-3.656v2.344h-2.25v-2.344h2.25Zm7.406 0v2.344h-6.469v-2.344h6.469ZM9.375 7.219v2.343h-2.25v-1.78l.007-.092a.563.563 0 0 1 .556-.471h1.687Zm6.844 0 .091.007a.563.563 0 0 1 .471.555v1.78h-6.469V7.22h5.907Z" fill="#009D5C" /></g></symbol>'});a.a.add(c);t.default=c},3455:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-note-image",use:"ne-note-image-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-note-image"><g fill="none" fill-rule="evenodd" stroke="#595959"><g><circle stroke-width="1.25" cx="6.094" cy="7.578" r="1.25" /><rect stroke-width="1.563" x="2.031" y="3.906" width="15.938" height="12.188" rx="2.5" /></g><path d="m3.932 15.993 7.829-7.578a.86.86 0 0 1 1.22.024l4.832 5.068h0" stroke-width="1.563" stroke-linecap="round" /></g></symbol>'});a.a.add(c);t.default=c},3456:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-note-checkbox",use:"ne-note-checkbox-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-note-checkbox"><g fill="none" fill-rule="evenodd" stroke="#595959" stroke-width="1.563"><rect fill-opacity=".1" fill="#E6F7FF" x="2.969" y="2.969" width="14.063" height="14.063" rx="2.5" /><path stroke-linecap="round" stroke-linejoin="round" d="m6.64 9.927 2.29 2.26 4.43-4.374" /></g></symbol>'});a.a.add(c);t.default=c},3457:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-note-bookmark",use:"ne-note-bookmark-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-note-bookmark"><g fill="none" fill-rule="evenodd" stroke="#595959" stroke-width="1.563"><path d="M14.375 2.11c.475 0 .904.192 1.215.503.311.31.504.74.504 1.215v13.274a.779.779 0 0 1-.782.782l-5.229-3.439-4.959 3.343a.779.779 0 0 1-1.084-.21l-.134-13.75c0-.474.193-.904.504-1.215.31-.311.74-.504 1.215-.504Z" /><g stroke-linecap="round"><path d="M7.5 8.956h5M10.05 6.406v5" /></g></g></symbol>'});a.a.add(c);t.default=c},3458:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-note-file",use:"ne-note-file-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="ne-note-file"><g fill="none" fill-rule="evenodd"><path d="m15.96 10.286-5.768 5.769a3.79 3.79 0 0 1-5.358-5.359l7.62-7.62a2.546 2.546 0 0 1 3.6 3.6l-6.83 6.831a1.252 1.252 0 0 1-1.77-1.77l4.978-4.979h0" stroke="#595959" stroke-width="1.563" stroke-linecap="round" /></g></symbol>'});a.a.add(c);t.default=c},3459:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"ne-note-tag",use:"ne-note-tag-usage",viewBox:"0 0 40 40",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="ne-note-tag"><g stroke="#595959" stroke-width="3.15" fill="none" fill-rule="evenodd"><path d="m15.978 34.142-10.12-10.12a2.375 2.375 0 0 1 0-3.359L19.862 6.658a2.375 2.375 0 0 1 1.796-.692l9.648.472a2.375 2.375 0 0 1 2.256 2.256l.472 9.648a2.375 2.375 0 0 1-.692 1.796L19.337 34.142a2.375 2.375 0 0 1-3.359 0Z" /><ellipse transform="rotate(-135 23.77 16.23)" cx="23.77" cy="16.23" rx="2.383" ry="2.38" /></g></symbol>'});a.a.add(c);t.default=c},3460:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n.n(r),i=n(14),a=n.n(i),c=new o.a({id:"o-desktop-open",use:"o-desktop-open-usage",viewBox:"0 0 256 256",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" id="o-desktop-open"><defs><path id="o-desktop-open_a" d="M0 0h256v256H0z" /></defs><g fill="none" fill-rule="evenodd"><mask id="o-desktop-open_b" fill="#fff"><use xlink:href="#o-desktop-open_a" /></mask><path d="M198 28H58c-16.569 0-30 13.431-30 30v86c0 16.569 13.431 30 30 30h140c16.569 0 30-13.431 30-30V58c0-16.569-13.431-30-30-30ZM58 48h140c5.523 0 10 4.477 10 10v86c0 5.523-4.477 10-10 10H58c-5.523 0-10-4.477-10-10V58c0-5.523 4.477-10 10-10Z" fill="#262626" fill-rule="nonzero" mask="url(#o-desktop-open_b)" /><path fill="#262626" mask="url(#o-desktop-open_b)" d="M118 167h20v53h-20z" /><rect fill="#262626" mask="url(#o-desktop-open_b)" x="68" y="209" width="120" height="20" rx="10" /></g></symbol>'});a.a.add(c);t.default=c},516:function(e,t,n){"use strict";var r=n(11),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},a=n(22),c=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="LeftOutlined";t.a=o.forwardRef(c)},842:function(e,t,n){"use strict";var r=n(11),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},a=n(22),c=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="EllipsisOutlined";t.a=o.forwardRef(c)},850:function(e,t,n){"use strict";var r=n(11),o=n(0),i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},a=n(22),c=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="CaretDownOutlined";t.a=o.forwardRef(c)}}]);